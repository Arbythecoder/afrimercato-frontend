import{j as e}from"./date-C9mDCBzx.js";import{r as i}from"./vendor-BfFvvk5l.js";import{a as M,S as o,C as S,b as T}from"./index-BUSzQJPd.js";import{c as l,C as $}from"./clock-CaThTz7e.js";import{m as d}from"./ui-qKdnnCNY.js";/**
 * @license lucide-react v0.562.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const V=[["line",{x1:"12",x2:"12",y1:"2",y2:"22",key:"7eqyqh"}],["path",{d:"M17 5H9.5a3.5 3.5 0 0 0 0 7h5a3.5 3.5 0 0 1 0 7H6",key:"1b0p4s"}]],w=l("dollar-sign",V);/**
 * @license lucide-react v0.562.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const C=[["path",{d:"M11 21.73a2 2 0 0 0 2 0l7-4A2 2 0 0 0 21 16V8a2 2 0 0 0-1-1.73l-7-4a2 2 0 0 0-2 0l-7 4A2 2 0 0 0 3 8v8a2 2 0 0 0 1 1.73z",key:"1a0edw"}],["path",{d:"M12 22V12",key:"d0xqtd"}],["polyline",{points:"3.29 7 12 12 20.71 7",key:"ousv84"}],["path",{d:"m7.5 4.27 9 5.15",key:"1c824w"}]],P=l("package",C);/**
 * @license lucide-react v0.562.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const R=[["path",{d:"M16 10a4 4 0 0 1-8 0",key:"1ltviw"}],["path",{d:"M3.103 6.034h17.794",key:"awc11p"}],["path",{d:"M3.4 5.467a2 2 0 0 0-.4 1.2V20a2 2 0 0 0 2 2h14a2 2 0 0 0 2-2V6.667a2 2 0 0 0-.4-1.2l-2-2.667A2 2 0 0 0 17 2H7a2 2 0 0 0-1.6.8z",key:"o988cm"}]],c=l("shopping-bag",R);/**
 * @license lucide-react v0.562.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const L=[["path",{d:"M16 7h6v6",key:"box55l"}],["path",{d:"m22 7-8.5 8.5-5-5L2 17",key:"1t1m79"}]],O=l("trending-up",L);/**
 * @license lucide-react v0.562.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const D=[["path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2",key:"1yyitq"}],["path",{d:"M16 3.128a4 4 0 0 1 0 7.744",key:"16gr8j"}],["path",{d:"M22 21v-2a4 4 0 0 0-3-3.87",key:"kshegd"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}]],v=l("users",D),E="https://afrimercato-backend.fly.dev";function z(){var g,j,f,y,u,N;const[s,k]=i.useState(null),[A,x]=i.useState(!0),[m,h]=i.useState(null);i.useEffect(()=>{p()},[]);const p=async()=>{var t,a;try{x(!0);const r=localStorage.getItem("afrimercato_token"),{data:n}=await M.get(`${E}/admin/stats`,{headers:{Authorization:`Bearer ${r}`}});k(n.data),h(null)}catch(r){console.error("Failed to fetch admin stats:",r),h(((a=(t=r.response)==null?void 0:t.data)==null?void 0:a.message)||"Failed to load statistics")}finally{x(!1)}};if(A)return e.jsx("div",{className:"min-h-screen flex items-center justify-center",children:e.jsxs("div",{className:"text-center",children:[e.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-afri-green mx-auto"}),e.jsx("p",{className:"mt-4 text-gray-600",children:"Loading dashboard..."})]})});if(m)return e.jsx("div",{className:"min-h-screen flex items-center justify-center",children:e.jsxs("div",{className:"bg-red-50 border border-red-200 rounded-lg p-6 max-w-md",children:[e.jsx("h3",{className:"text-red-800 font-semibold mb-2",children:"Error Loading Dashboard"}),e.jsx("p",{className:"text-red-600",children:m}),e.jsx("button",{onClick:p,className:"mt-4 bg-red-600 text-white px-4 py-2 rounded-lg hover:bg-red-700",children:"Retry"})]})});const _=[{title:"Total Users",value:(s==null?void 0:s.users)||0,icon:v,color:"bg-blue-500",change:"+12%",changeType:"increase"},{title:"Active Vendors",value:((g=s==null?void 0:s.vendors)==null?void 0:g.approved)||0,icon:o,color:"bg-green-500",change:`${((j=s==null?void 0:s.vendors)==null?void 0:j.pending)||0} pending`,changeType:"neutral"},{title:"Total Orders",value:(s==null?void 0:s.orders)||0,icon:c,color:"bg-purple-500",change:"+8%",changeType:"increase"},{title:"Revenue",value:`£${((s==null?void 0:s.revenue)||0).toFixed(2)}`,icon:w,color:"bg-yellow-500",change:"+15%",changeType:"increase"}];return e.jsx("div",{className:"min-h-screen bg-gray-50 p-4 md:p-8",children:e.jsxs("div",{className:"max-w-7xl mx-auto",children:[e.jsxs("div",{className:"mb-8",children:[e.jsx("h1",{className:"text-3xl font-bold text-gray-900 mb-2",children:"Admin Dashboard"}),e.jsx("p",{className:"text-gray-600",children:"Platform overview and management"})]}),e.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-6 mb-8",children:_.map((t,a)=>e.jsx(d.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:a*.1},className:"bg-white rounded-xl shadow-lg overflow-hidden",children:e.jsxs("div",{className:"p-6",children:[e.jsxs("div",{className:"flex items-center justify-between mb-4",children:[e.jsx("div",{className:`${t.color} p-3 rounded-lg`,children:e.jsx(t.icon,{className:"w-6 h-6 text-white"})}),e.jsx("div",{className:`text-sm font-semibold ${t.changeType==="increase"?"text-green-600":t.changeType==="decrease"?"text-red-600":"text-gray-600"}`,children:t.change})]}),e.jsx("h3",{className:"text-gray-600 text-sm mb-1",children:t.title}),e.jsx("p",{className:"text-2xl font-bold text-gray-900",children:t.value})]})},t.title))}),e.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-6 mb-8",children:[e.jsxs(d.div,{initial:{opacity:0,x:-20},animate:{opacity:1,x:0},className:"bg-white rounded-xl shadow-lg p-6",children:[e.jsxs("h2",{className:"text-xl font-bold text-gray-900 mb-4 flex items-center",children:[e.jsx(o,{className:"w-5 h-5 mr-2 text-afri-green"}),"Vendor Status"]}),e.jsxs("div",{className:"space-y-4",children:[e.jsxs("div",{className:"flex items-center justify-between p-4 bg-green-50 rounded-lg",children:[e.jsxs("div",{className:"flex items-center",children:[e.jsx(S,{className:"w-5 h-5 text-green-600 mr-3"}),e.jsx("span",{className:"font-semibold text-gray-900",children:"Approved"})]}),e.jsx("span",{className:"text-2xl font-bold text-green-600",children:((f=s==null?void 0:s.vendors)==null?void 0:f.approved)||0})]}),e.jsxs("div",{className:"flex items-center justify-between p-4 bg-yellow-50 rounded-lg",children:[e.jsxs("div",{className:"flex items-center",children:[e.jsx($,{className:"w-5 h-5 text-yellow-600 mr-3"}),e.jsx("span",{className:"font-semibold text-gray-900",children:"Pending"})]}),e.jsx("span",{className:"text-2xl font-bold text-yellow-600",children:((y=s==null?void 0:s.vendors)==null?void 0:y.pending)||0})]}),e.jsxs("div",{className:"flex items-center justify-between p-4 bg-red-50 rounded-lg",children:[e.jsxs("div",{className:"flex items-center",children:[e.jsx(T,{className:"w-5 h-5 text-red-600 mr-3"}),e.jsx("span",{className:"font-semibold text-gray-900",children:"Rejected"})]}),e.jsx("span",{className:"text-2xl font-bold text-red-600",children:((u=s==null?void 0:s.vendors)==null?void 0:u.rejected)||0})]})]})]}),e.jsxs(d.div,{initial:{opacity:0,x:20},animate:{opacity:1,x:0},className:"bg-white rounded-xl shadow-lg p-6",children:[e.jsxs("h2",{className:"text-xl font-bold text-gray-900 mb-4 flex items-center",children:[e.jsx(O,{className:"w-5 h-5 mr-2 text-afri-green"}),"Platform Health"]}),e.jsxs("div",{className:"space-y-4",children:[e.jsxs("div",{className:"flex items-center justify-between p-4 bg-blue-50 rounded-lg",children:[e.jsxs("div",{className:"flex items-center",children:[e.jsx(P,{className:"w-5 h-5 text-blue-600 mr-3"}),e.jsx("span",{className:"font-semibold text-gray-900",children:"Total Products"})]}),e.jsx("span",{className:"text-2xl font-bold text-blue-600",children:(s==null?void 0:s.products)||0})]}),e.jsxs("div",{className:"flex items-center justify-between p-4 bg-purple-50 rounded-lg",children:[e.jsxs("div",{className:"flex items-center",children:[e.jsx(c,{className:"w-5 h-5 text-purple-600 mr-3"}),e.jsx("span",{className:"font-semibold text-gray-900",children:"Active Orders"})]}),e.jsx("span",{className:"text-2xl font-bold text-purple-600",children:(s==null?void 0:s.orders)||0})]}),e.jsxs("div",{className:"flex items-center justify-between p-4 bg-green-50 rounded-lg",children:[e.jsxs("div",{className:"flex items-center",children:[e.jsx(w,{className:"w-5 h-5 text-green-600 mr-3"}),e.jsx("span",{className:"font-semibold text-gray-900",children:"Platform Revenue"})]}),e.jsxs("span",{className:"text-2xl font-bold text-green-600",children:["£",((s==null?void 0:s.revenue)||0).toFixed(2)]})]})]})]})]}),e.jsxs(d.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},className:"bg-white rounded-xl shadow-lg overflow-hidden",children:[e.jsx("div",{className:"p-6 border-b border-gray-200",children:e.jsxs("h2",{className:"text-xl font-bold text-gray-900 flex items-center",children:[e.jsx(c,{className:"w-5 h-5 mr-2 text-afri-green"}),"Recent Orders"]})}),e.jsx("div",{className:"overflow-x-auto",children:e.jsxs("table",{className:"w-full",children:[e.jsx("thead",{className:"bg-gray-50",children:e.jsxs("tr",{children:[e.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Order ID"}),e.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Customer"}),e.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Vendor"}),e.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Total"}),e.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Status"})]})}),e.jsx("tbody",{className:"bg-white divide-y divide-gray-200",children:(N=s==null?void 0:s.recentOrders)==null?void 0:N.map(t=>{var a,r,n,b;return e.jsxs("tr",{className:"hover:bg-gray-50",children:[e.jsxs("td",{className:"px-6 py-4 whitespace-nowrap text-sm font-medium text-gray-900",children:["#",t.orderNumber||t._id.slice(-8)]}),e.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-700",children:((a=t.customer)==null?void 0:a.name)||"N/A"}),e.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-700",children:((r=t.vendor)==null?void 0:r.storeName)||"N/A"}),e.jsxs("td",{className:"px-6 py-4 whitespace-nowrap text-sm font-semibold text-gray-900",children:["£",((b=(n=t.pricing)==null?void 0:n.total)==null?void 0:b.toFixed(2))||"0.00"]}),e.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:e.jsx("span",{className:`px-2 py-1 text-xs font-semibold rounded-full ${t.status==="delivered"?"bg-green-100 text-green-800":t.status==="pending"?"bg-yellow-100 text-yellow-800":t.status==="confirmed"?"bg-blue-100 text-blue-800":"bg-gray-100 text-gray-800"}`,children:t.status})})]},t._id)})})]})})]}),e.jsxs("div",{className:"mt-8 grid grid-cols-1 md:grid-cols-3 gap-4",children:[e.jsxs("a",{href:"/admin/vendors",className:"bg-gradient-to-r from-afri-green to-afri-green-dark text-white p-6 rounded-xl shadow-lg hover:shadow-xl transition flex items-center justify-between",children:[e.jsxs("div",{children:[e.jsx("h3",{className:"font-bold text-lg mb-1",children:"Manage Vendors"}),e.jsx("p",{className:"text-sm text-white/80",children:"Approve, reject, or suspend vendors"})]}),e.jsx(o,{className:"w-8 h-8 text-white/80"})]}),e.jsxs("a",{href:"/admin/users",className:"bg-gradient-to-r from-blue-600 to-blue-800 text-white p-6 rounded-xl shadow-lg hover:shadow-xl transition flex items-center justify-between",children:[e.jsxs("div",{children:[e.jsx("h3",{className:"font-bold text-lg mb-1",children:"Manage Users"}),e.jsx("p",{className:"text-sm text-white/80",children:"View and manage platform users"})]}),e.jsx(v,{className:"w-8 h-8 text-white/80"})]}),e.jsxs("a",{href:"/admin/orders",className:"bg-gradient-to-r from-purple-600 to-purple-800 text-white p-6 rounded-xl shadow-lg hover:shadow-xl transition flex items-center justify-between",children:[e.jsxs("div",{children:[e.jsx("h3",{className:"font-bold text-lg mb-1",children:"View Orders"}),e.jsx("p",{className:"text-sm text-white/80",children:"Monitor all platform orders"})]}),e.jsx(c,{className:"w-8 h-8 text-white/80"})]})]})]})})}export{z as default};
