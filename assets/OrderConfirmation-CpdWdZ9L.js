import{j as e}from"./date-C9mDCBzx.js";import{i as C,b as E,r as l,L as t}from"./vendor-BfFvvk5l.js";const F="https://afrimercato-backend.fly.dev";function $(){var n,i,c,x,o,m,h,p,j,b,y,g,u,f,N,v,w;const{orderId:d}=C();E();const[s,O]=l.useState(null),[S,k]=l.useState(!0);return l.useEffect(()=>{(async()=>{try{const A=await(await fetch(`${F}/api/orders/${d}`,{headers:{Authorization:`Bearer ${localStorage.getItem("afrimercato_token")}`}})).json();A.success&&O(A.data)}catch(a){console.error("Error fetching order:",a)}finally{k(!1)}})()},[d]),S?e.jsx("div",{className:"min-h-screen flex items-center justify-center",children:e.jsxs("div",{className:"text-center",children:[e.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-t-4 border-b-4 border-green-600 mx-auto"}),e.jsx("p",{className:"text-gray-600 mt-4",children:"Loading order..."})]})}):s?e.jsxs("div",{className:"min-h-screen bg-gray-50",children:[e.jsx("header",{className:"bg-white border-b shadow-sm",children:e.jsx("div",{className:"container mx-auto px-6 py-4",children:e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx("span",{className:"text-2xl",children:"üõí"}),e.jsx("span",{className:"text-xl font-bold text-gray-900",children:"Afrimercato"})]}),e.jsx(t,{to:"/stores",className:"text-gray-600 hover:text-gray-900",children:"Continue Shopping"})]})})}),e.jsxs("div",{className:"container mx-auto px-6 py-12",children:[e.jsxs("div",{className:"max-w-2xl mx-auto text-center mb-8",children:[e.jsx("div",{className:"w-20 h-20 bg-green-100 rounded-full flex items-center justify-center mx-auto mb-4",children:e.jsx("span",{className:"text-4xl",children:"‚úì"})}),e.jsx("h1",{className:"text-3xl font-bold text-gray-900 mb-2",children:"Order Placed Successfully!"}),e.jsx("p",{className:"text-gray-600 mb-4",children:"Thank you for your order. We've received your order and will start preparing it shortly."}),e.jsxs("p",{className:"text-sm text-gray-500",children:["Order Number: ",e.jsx("span",{className:"font-bold text-gray-900",children:s.orderNumber})]})]}),e.jsxs("div",{className:"max-w-2xl mx-auto",children:[e.jsxs("div",{className:"bg-white rounded-xl shadow-md p-6 mb-6",children:[e.jsx("h2",{className:"text-xl font-bold text-gray-900 mb-4",children:"Order Details"}),e.jsxs("div",{className:"mb-6 pb-6 border-b",children:[e.jsx("h3",{className:"font-semibold text-gray-700 mb-2",children:"Delivery Address"}),e.jsxs("p",{className:"text-gray-600",children:[(n=s.deliveryAddress)==null?void 0:n.fullName,e.jsx("br",{}),(i=s.deliveryAddress)==null?void 0:i.phone,e.jsx("br",{}),(c=s.deliveryAddress)==null?void 0:c.street,e.jsx("br",{}),(x=s.deliveryAddress)==null?void 0:x.city,", ",(o=s.deliveryAddress)==null?void 0:o.postalCode]})]}),e.jsxs("div",{className:"mb-6 pb-6 border-b",children:[e.jsx("h3",{className:"font-semibold text-gray-700 mb-3",children:"Order Items"}),e.jsx("div",{className:"space-y-3",children:(m=s.items)==null?void 0:m.map((r,a)=>e.jsxs("div",{className:"flex justify-between",children:[e.jsxs("div",{children:[e.jsx("p",{className:"text-gray-900",children:r.name}),e.jsxs("p",{className:"text-sm text-gray-500",children:["Qty: ",r.quantity]})]}),e.jsxs("p",{className:"font-semibold text-gray-900",children:["¬£",(r.price*r.quantity).toFixed(2)]})]},a))})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsxs("div",{className:"flex justify-between text-gray-700",children:[e.jsx("span",{children:"Subtotal"}),e.jsxs("span",{children:["¬£",(p=(h=s.pricing)==null?void 0:h.subtotal)==null?void 0:p.toFixed(2)]})]}),e.jsxs("div",{className:"flex justify-between text-gray-700",children:[e.jsx("span",{children:"Delivery Fee"}),e.jsxs("span",{children:["¬£",(b=(j=s.pricing)==null?void 0:j.deliveryFee)==null?void 0:b.toFixed(2)]})]}),e.jsxs("div",{className:"flex justify-between text-xl font-bold text-gray-900 border-t pt-2",children:[e.jsx("span",{children:"Total"}),e.jsxs("span",{children:["¬£",(g=(y=s.pricing)==null?void 0:y.total)==null?void 0:g.toFixed(2)]})]})]})]}),e.jsxs("div",{className:"bg-white rounded-xl shadow-md p-6 mb-6",children:[e.jsx("h2",{className:"text-xl font-bold text-gray-900 mb-4",children:"Order Status"}),e.jsxs("div",{className:"flex items-center gap-4",children:[e.jsx("div",{className:"w-12 h-12 bg-yellow-100 rounded-full flex items-center justify-center",children:e.jsx("span",{className:"text-2xl",children:"üì¶"})}),e.jsxs("div",{children:[e.jsx("p",{className:"font-semibold text-gray-900 capitalize",children:(u=s.status)==null?void 0:u.replace("-"," ")}),e.jsx("p",{className:"text-sm text-gray-600",children:"Your order is being prepared"})]})]}),e.jsx(t,{to:`/track-order/${s._id}`,className:"mt-4 block w-full text-center bg-green-600 text-white py-3 rounded-lg font-semibold hover:bg-green-700 transition",children:"Track Your Order"})]}),e.jsxs("div",{className:"bg-white rounded-xl shadow-md p-6 mb-6",children:[e.jsx("h2",{className:"text-xl font-bold text-gray-900 mb-4",children:"Payment"}),e.jsxs("div",{className:"flex justify-between items-center",children:[e.jsx("span",{className:"text-gray-700",children:((f=s.payment)==null?void 0:f.method)==="card"?"üí≥ Card Payment":"üíµ Cash on Delivery"}),e.jsx("span",{className:`px-3 py-1 rounded-full text-sm font-semibold ${((N=s.payment)==null?void 0:N.status)==="paid"?"bg-green-100 text-green-700":"bg-yellow-100 text-yellow-700"}`,children:(w=(v=s.payment)==null?void 0:v.status)==null?void 0:w.toUpperCase()})]})]}),e.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[e.jsx(t,{to:"/stores",className:"bg-gray-200 text-gray-700 py-3 rounded-lg font-semibold text-center hover:bg-gray-300 transition",children:"Continue Shopping"}),e.jsx(t,{to:"/my-dashboard",className:"bg-green-600 text-white py-3 rounded-lg font-semibold text-center hover:bg-green-700 transition",children:"View All Orders"})]})]}),e.jsxs("div",{className:"max-w-2xl mx-auto mt-8 bg-blue-50 rounded-xl p-6",children:[e.jsx("h3",{className:"font-bold text-gray-900 mb-3",children:"What happens next?"}),e.jsxs("ul",{className:"space-y-2 text-sm text-gray-700",children:[e.jsxs("li",{className:"flex items-start gap-2",children:[e.jsx("span",{children:"1Ô∏è‚É£"}),e.jsx("span",{children:"Your order will be picked and packed by our team"})]}),e.jsxs("li",{className:"flex items-start gap-2",children:[e.jsx("span",{children:"2Ô∏è‚É£"}),e.jsx("span",{children:"A rider will be assigned to deliver your order"})]}),e.jsxs("li",{className:"flex items-start gap-2",children:[e.jsx("span",{children:"3Ô∏è‚É£"}),e.jsx("span",{children:"You'll receive real-time updates on delivery status"})]}),e.jsxs("li",{className:"flex items-start gap-2",children:[e.jsx("span",{children:"4Ô∏è‚É£"}),e.jsx("span",{children:"Estimated delivery time: 20-40 minutes"})]})]})]})]})]}):e.jsx("div",{className:"min-h-screen flex items-center justify-center",children:e.jsxs("div",{className:"text-center",children:[e.jsx("p",{className:"text-2xl mb-4",children:"üòî"}),e.jsx("p",{className:"text-gray-600 mb-4",children:"Order not found"}),e.jsx(t,{to:"/stores",className:"text-green-600 hover:underline",children:"Continue Shopping"})]})})}export{$ as default};
