import{j as e}from"./date-iP6_brdS.js";import{u,r}from"./vendor-CPDP2aPO.js";function N(){const l=u(),[d,i]=r.useState([]),[t,c]=r.useState("active"),[o,n]=r.useState(!0);r.useEffect(()=>{m()},[t]);const m=async()=>{try{n(!0),setTimeout(()=>{i(t==="active"?[{id:"DEL001",orderNumber:"AFM-2024-001",customer:{name:"Sarah Johnson",phone:"+44 7700 900001"},address:"42 High Street, London SW1A 1AA",distance:2.3,status:"picking-up",estimatedTime:"15 min",vendor:{name:"Fresh Valley Farms",address:"123 Market Lane"},items:5,earnings:4.5,createdAt:new Date().toISOString()},{id:"DEL002",orderNumber:"AFM-2024-002",customer:{name:"James Wilson",phone:"+44 7700 900002"},address:"78 Oak Lane, London E1 6AN",distance:3.1,status:"pending-pickup",estimatedTime:"25 min",vendor:{name:"Daily Dairy",address:"456 Farm Road"},items:3,earnings:5.2,createdAt:new Date().toISOString()}]:t==="completed"?[{id:"DEL100",orderNumber:"AFM-2024-100",customer:{name:"Emma Brown"},address:"15 Park Avenue, London N1 2AB",earnings:4.8,status:"delivered",rating:5,completedAt:new Date(Date.now()-36e5).toISOString()},{id:"DEL099",orderNumber:"AFM-2024-099",customer:{name:"Michael Davis"},address:"89 Church Road, London W2 4GH",earnings:6.2,status:"delivered",rating:5,completedAt:new Date(Date.now()-72e5).toISOString()}]:[]),n(!1)},500)}catch(s){console.error("Error fetching deliveries:",s),n(!1)}},x={"pending-pickup":"bg-yellow-100 text-yellow-800","picking-up":"bg-blue-100 text-blue-800","in-transit":"bg-purple-100 text-purple-800",arriving:"bg-green-100 text-green-800",delivered:"bg-gray-100 text-gray-800"},p={"pending-pickup":"Waiting for Pickup","picking-up":"Picking Up","in-transit":"In Transit",arriving:"Arriving Soon",delivered:"Delivered"},g=[{id:"active",label:"Active",icon:"üöö"},{id:"completed",label:"Completed",icon:"‚úì"},{id:"cancelled",label:"Cancelled",icon:"‚úï"}];return e.jsxs("div",{className:"min-h-screen bg-gray-50",children:[e.jsx("div",{className:"bg-gradient-to-r from-purple-600 to-purple-800 text-white py-6",children:e.jsxs("div",{className:"max-w-7xl mx-auto px-4",children:[e.jsx("button",{onClick:()=>l("/rider/dashboard"),className:"text-purple-200 hover:text-white mb-2",children:"‚Üê Back to Dashboard"}),e.jsx("h1",{className:"text-2xl font-bold",children:"My Deliveries"})]})}),e.jsxs("div",{className:"max-w-7xl mx-auto px-4 py-6",children:[e.jsx("div",{className:"flex gap-2 mb-6 overflow-x-auto",children:g.map(s=>e.jsxs("button",{onClick:()=>c(s.id),className:`flex items-center gap-2 px-5 py-3 rounded-xl font-semibold transition-all whitespace-nowrap ${t===s.id?"bg-purple-600 text-white":"bg-white text-gray-700 hover:bg-gray-100"}`,children:[e.jsx("span",{children:s.icon}),s.label]},s.id))}),o?e.jsx("div",{className:"space-y-4",children:[1,2,3].map(s=>e.jsxs("div",{className:"bg-white rounded-xl p-6 animate-pulse",children:[e.jsx("div",{className:"h-5 bg-gray-200 rounded w-1/4 mb-4"}),e.jsx("div",{className:"h-4 bg-gray-200 rounded w-1/2"})]},s))}):d.length===0?e.jsxs("div",{className:"bg-white rounded-xl shadow-lg p-12 text-center",children:[e.jsx("span",{className:"text-6xl",children:"üì¶"}),e.jsxs("h2",{className:"text-xl font-bold text-gray-900 mt-4",children:["No ",t," deliveries"]}),e.jsx("p",{className:"text-gray-500 mt-2",children:t==="active"?"New orders will appear here when assigned to you":"No deliveries in this category"})]}):e.jsx("div",{className:"space-y-4",children:d.map(s=>e.jsxs("div",{className:"bg-white rounded-xl shadow-lg p-6 hover:shadow-xl transition-shadow cursor-pointer",onClick:()=>l(`/rider/delivery/${s.id}`),children:[e.jsxs("div",{className:"flex items-start justify-between mb-4",children:[e.jsxs("div",{children:[e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsx("h3",{className:"text-lg font-bold text-gray-900",children:s.orderNumber}),e.jsx("span",{className:`px-3 py-1 rounded-full text-xs font-semibold ${x[s.status]}`,children:p[s.status]})]}),s.vendor&&e.jsxs("p",{className:"text-sm text-gray-500 mt-1",children:["from ",s.vendor.name]})]}),e.jsxs("div",{className:"text-right",children:[e.jsxs("p",{className:"text-xl font-bold text-green-600",children:["¬£",s.earnings.toFixed(2)]}),s.rating&&e.jsx("div",{className:"flex items-center justify-end gap-1 mt-1",children:[...Array(s.rating)].map((a,h)=>e.jsx("span",{className:"text-yellow-400",children:"‚òÖ"},h))})]})]}),e.jsxs("div",{className:"flex items-start gap-3 mb-4",children:[e.jsx("span",{className:"text-xl mt-1",children:"üìç"}),e.jsxs("div",{children:[e.jsx("p",{className:"font-medium text-gray-900",children:s.customer.name}),e.jsx("p",{className:"text-sm text-gray-500",children:s.address}),s.customer.phone&&e.jsx("p",{className:"text-sm text-purple-600",children:s.customer.phone})]})]}),t==="active"&&e.jsxs("div",{className:"flex items-center justify-between pt-4 border-t",children:[e.jsxs("div",{className:"flex items-center gap-4 text-sm text-gray-500",children:[e.jsxs("span",{children:["üì¶ ",s.items," items"]}),e.jsxs("span",{children:["üìè ",s.distance," km"]}),e.jsxs("span",{children:["‚è±Ô∏è ",s.estimatedTime]})]}),e.jsxs("div",{className:"flex gap-2",children:[e.jsx("button",{onClick:a=>{a.stopPropagation()},className:"px-4 py-2 bg-gray-100 rounded-lg hover:bg-gray-200",children:"üìû Call"}),e.jsx("button",{onClick:a=>{a.stopPropagation()},className:"px-4 py-2 bg-purple-600 text-white rounded-lg hover:bg-purple-700",children:"üó∫Ô∏è Navigate"})]})]}),t==="completed"&&e.jsx("div",{className:"flex items-center justify-between pt-4 border-t text-sm text-gray-500",children:e.jsxs("span",{children:["Completed ",new Date(s.completedAt).toLocaleString("en-GB")]})})]},s.id))})]})]})}export{N as default};
