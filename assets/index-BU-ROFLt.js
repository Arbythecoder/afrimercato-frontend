const __vite__mapDeps=(i,m=__vite__mapDeps,d=(m.f||(m.f=["assets/Login-EXn45L1D.js","assets/date-iP6_brdS.js","assets/vendor-CPDP2aPO.js","assets/ui-Tzc8TJql.js","assets/Register-hU63CvrH.js","assets/defaultImages-jUbsX-qu.js","assets/OAuthCallback-DGaQ8Bfp.js","assets/VendorPendingApproval-Dy3lEzUd.js","assets/clock-CRlKMyow.js","assets/mail-BdZ2oGEy.js","assets/Dashboard-uFPKU1ZJ.js","assets/VendorOnboarding-DdXmW3i9.js","assets/charts-uAxN0B01.js","assets/Products-BGG_Ac3O.js","assets/Orders-DPHRYPwp.js","assets/Reports-Bnmdb5nc.js","assets/Settings-Cf1oa3YX.js","assets/Subscription-CwSjB8wu.js","assets/Home-D_qtX7PM.js","assets/ClientLandingPage-CGe4sWlw.js","assets/PartnerWithUs-CpelE2pb.js","assets/ClientStoresPage-RlP-g9JX.js","assets/AboutUs-DTd4d310.js","assets/Delivery-Dgc_3MSY.js","assets/ContactUs-D-RpBkAv.js","assets/PrivacyPolicy-GvCQAj1O.js","assets/TermsOfService-CnZ6cH2i.js","assets/ClientVendorStorefront-CRSA0RvT.js","assets/CustomerDashboard-C4wQyJvK.js","assets/ProductBrowsing-CmqIKFQm.js","assets/ShoppingCart-CUaEObh2.js","assets/OrderHistory-vlAqekbm.js","assets/CustomerProfile-BvHx5j40.js","assets/Wishlist-DWoKkkVX.js","assets/Checkout-D0Nm_5O0.js","assets/OrderConfirmation-CYeHAI3c.js","assets/OrderTracking-_sri-pDK.js","assets/ProductReviews-DvvkvX1I.js","assets/NotificationsCenter-fjwjjBmi.js","assets/VendorDiscovery-BuNKzZbH.js","assets/RecipeRecommendations-DtsSZb7Z.js","assets/ProductDetail-DuGL7vlh.js","assets/OrderDetail-C-_7rvnF.js","assets/RiderDashboard-YjEn-CT2.js","assets/RiderDeliveries-CHSFWCVb.js","assets/RiderDeliveryDetail-B9rfIbYJ.js","assets/RiderEarnings-eN_MwuKM.js","assets/RiderProfile-Bii5ZOX3.js","assets/PickerDashboard-i6SEKO6w.js","assets/PickerOrderFulfillment-Dtwdp-bh.js","assets/PickerPerformance-BEPsCoyr.js","assets/AdminDashboard-pQOF05_F.js","assets/index-672Kbn38.js","assets/VendorManagement-BajFGCuZ.js"])))=>i.map(i=>d[i]);
import{j as e}from"./date-iP6_brdS.js";import{a as G,r as s,L as O,u as H,b as Y,d as Z,e as i,N as y,R as K,H as ee}from"./vendor-CPDP2aPO.js";import{A as te,m as B}from"./ui-Tzc8TJql.js";(function(){const r=document.createElement("link").relList;if(r&&r.supports&&r.supports("modulepreload"))return;for(const d of document.querySelectorAll('link[rel="modulepreload"]'))h(d);new MutationObserver(d=>{for(const u of d)if(u.type==="childList")for(const m of u.addedNodes)m.tagName==="LINK"&&m.rel==="modulepreload"&&h(m)}).observe(document,{childList:!0,subtree:!0});function a(d){const u={};return d.integrity&&(u.integrity=d.integrity),d.referrerPolicy&&(u.referrerPolicy=d.referrerPolicy),d.crossOrigin==="use-credentials"?u.credentials="include":d.crossOrigin==="anonymous"?u.credentials="omit":u.credentials="same-origin",u}function h(d){if(d.ep)return;d.ep=!0;const u=a(d);fetch(d.href,u)}})();var I={},W=G;I.createRoot=W.createRoot,I.hydrateRoot=W.hydrateRoot;const re="modulepreload",se=function(t){return"/afrimercato-frontend/"+t},F={},l=function(r,a,h){let d=Promise.resolve();if(a&&a.length>0){document.getElementsByTagName("link");const m=document.querySelector("meta[property=csp-nonce]"),j=(m==null?void 0:m.nonce)||(m==null?void 0:m.getAttribute("nonce"));d=Promise.allSettled(a.map(v=>{if(v=se(v),v in F)return;F[v]=!0;const c=v.endsWith(".css"),N=c?'[rel="stylesheet"]':"";if(document.querySelector(`link[href="${v}"]${N}`))return;const x=document.createElement("link");if(x.rel=c?"stylesheet":re,c||(x.as="script"),x.crossOrigin="",x.href=v,j&&x.setAttribute("nonce",j),document.head.appendChild(x),c)return new Promise((f,p)=>{x.addEventListener("load",f),x.addEventListener("error",()=>p(new Error(`Unable to preload CSS for ${v}`)))})}))}function u(m){const j=new Event("vite:preloadError",{cancelable:!0});if(j.payload=m,window.dispatchEvent(j),!j.defaultPrevented)throw m}return d.then(m=>{for(const j of m||[])j.status==="rejected"&&u(j.reason);return r().catch(u)})},C="https://afrimercato-backend.fly.dev/api";console.log("ðŸ”— API Base URL:",C);let A=!1,T=[];const M=(t,r=null)=>{T.forEach(a=>{t?a.reject(t):a.resolve(r)}),T=[]},oe=async()=>{var h;const t=localStorage.getItem("afrimercato_refresh_token");if(!t)throw new Error("No refresh token available");const r=new AbortController,a=setTimeout(()=>r.abort(),1e4);try{const d=await fetch(`${C}/auth/refresh-token`,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({refreshToken:t}),signal:r.signal});if(clearTimeout(a),!d.ok)throw new Error("Failed to refresh token");const u=await d.json();if(u.success&&((h=u.data)!=null&&h.token))return localStorage.setItem("afrimercato_token",u.data.token),u.data.token;throw new Error("Invalid refresh response")}catch(d){throw localStorage.removeItem("afrimercato_token"),localStorage.removeItem("afrimercato_refresh_token"),d}},o=async(t,r={},a=!1)=>{const h=new AbortController,d=typeof r.timeout=="number"?r.timeout:1e4,u=setTimeout(()=>h.abort(),d);try{const m=`${C}${t}`,j={headers:{...r.headers},credentials:"include",signal:h.signal,...r};r.body instanceof FormData||(j.headers["Content-Type"]="application/json");const v=localStorage.getItem("afrimercato_token");v&&(j.headers.Authorization=`Bearer ${v}`),console.log("ðŸŒ Fetching:",m);const c=await fetch(m,j);if(clearTimeout(u),!c.ok){const x=await c.json().catch(()=>({}));if(c.status===401&&!a&&(x.errorCode==="TOKEN_EXPIRED"||x.errorCode==="INVALID_TOKEN")){if(A)return new Promise((g,n)=>{T.push({resolve:g,reject:n})}).then(g=>o(t,r,!0)).catch(g=>{throw g});A=!0;try{const g=await oe();return M(null,g),A=!1,o(t,r,!0)}catch(g){M(g,null),A=!1;const n=new Error("Session expired. Please log in again.");throw n.code="AUTH_EXPIRED",n}}if(c.status===401){localStorage.removeItem("afrimercato_token"),localStorage.removeItem("afrimercato_refresh_token");const g=new Error("Session expired. Please log in again.");throw g.code="AUTH_EXPIRED",g}const f={400:"Bad Request",401:"Unauthorized",403:"Access Denied",404:"Not Found",500:"Server Error",501:"Feature Not Implemented"},p=x.message||f[c.status]||`HTTP error! status: ${c.status}`,b=new Error(p);throw b.status=c.status,b.data=x,b}return await c.json()}catch(m){throw m.name==="AbortError"?new Error("Request timed out"):(console.error(`âŒ API Error (${t}):`,m),m)}finally{clearTimeout(u)}},ne=async t=>{var a;const r=await o("/auth/login",{method:"POST",body:JSON.stringify(t)});return r.success&&((a=r.data)!=null&&a.token)&&(localStorage.setItem("afrimercato_token",r.data.token),r.data.refreshToken&&localStorage.setItem("afrimercato_refresh_token",r.data.refreshToken)),r},ae=async t=>{var a;const r=await o("/auth/register",{method:"POST",body:JSON.stringify(t)});return r.success&&((a=r.data)!=null&&a.token)&&(localStorage.setItem("afrimercato_token",r.data.token),r.data.refreshToken&&localStorage.setItem("afrimercato_refresh_token",r.data.refreshToken)),r},ie=async()=>{try{await o("/auth/logout",{method:"POST"})}finally{localStorage.removeItem("afrimercato_token"),localStorage.removeItem("afrimercato_refresh_token")}},ce=async()=>o("/auth/refresh",{method:"POST"}),le=async()=>o("/vendor/profile"),de=async t=>o("/vendor/profile",{method:"PUT",body:JSON.stringify(t)}),me=async t=>o("/vendor/profile",{method:"POST",body:JSON.stringify(t)}),ue=async(t={})=>{const r=new URLSearchParams(t).toString();return o(`/vendor/products?${r}`)},he=async t=>{const r=t instanceof FormData;return o("/vendor/products",{method:"POST",body:r?t:JSON.stringify(t)})},xe=async(t,r)=>{const a=r instanceof FormData;return o(`/vendor/products/${t}`,{method:"PUT",body:a?r:JSON.stringify(r)})},ge=async t=>o(`/vendor/products/${t}`,{method:"DELETE"}),fe=async(t={})=>{const r=new URLSearchParams(t).toString();return o(`/vendor/orders?${r}`)},pe=async t=>o(`/vendor/orders/${t}`),ye=async(t,r)=>o(`/vendor/orders/${t}/status`,{method:"PUT",body:JSON.stringify(r)}),je=async(t,r)=>o(`/vendor/orders/${t}/rate-rider`,{method:"POST",body:JSON.stringify(r)}),be=async()=>o("/vendor/dashboard/stats"),ve=async(t="7d")=>o(`/vendor/dashboard/chart-data?timeRange=${t}`),_e=async(t={})=>{const r=new URLSearchParams(t).toString();return o(`/vendor/reports/sales?${r}`)},Ne=async()=>o("/vendor/reports/inventory"),we=async(t={})=>{const r=new URLSearchParams(t).toString();return o(`/vendor/reports/orders?${r}`)},ke=async(t={})=>{const r=new URLSearchParams(t).toString();return o(`/vendor/reports/revenue?${r}`)},Pe=async()=>o("/subscription/plans"),Ee=async t=>o("/subscription/subscribe",{method:"POST",body:JSON.stringify(t)}),Se=async()=>o("/subscription/my-subscription"),Ae=async()=>o("/subscription/cancel",{method:"POST"}),hr=async t=>o("/contact",{method:"POST",body:JSON.stringify(t)}),xr=async(t,r=50)=>{const a=new URLSearchParams({location:t,radius:r});return o(`/location/search-vendors?${a}`)},gr=async t=>o(`/location/vendor/${t}`),fr=async t=>o(`/products/vendor/${t}`),Re=async()=>o("/products/featured"),Oe=async(t=10)=>o(`/products/featured-vendors?limit=${t}`),Le=async(t={})=>{const r=new URLSearchParams(t).toString();return o(`/products?${r}`)},Ie=async t=>o(`/products/${t}`),Te=async t=>o("/orders",{method:"POST",body:JSON.stringify(t)}),Ce=async()=>o("/orders/user"),De=async t=>o(`/orders/${t}`),Ve=async t=>o(`/orders/${t}/cancel`,{method:"PATCH"}),X=async()=>{try{const t=await o("/auth/me",{timeout:3e3});if(t!=null&&t.success)return t}catch{console.warn("Auth /me endpoint failed, trying /auth/profile...")}try{const t=await o("/auth/profile",{timeout:3e3});if(t!=null&&t.success)return t}catch(t){console.warn("Auth /profile endpoint failed:",t.message)}return null},ze=async t=>o("/auth/profile",{method:"PUT",body:JSON.stringify(t)}),Ue=async t=>o("/auth/change-password",{method:"PATCH",body:JSON.stringify(t)}),$e=async t=>{const r=new FormData;t.forEach(h=>{r.append("productImages",h)});const a=localStorage.getItem("afrimercato_token");return o("/vendor/upload/images",{method:"POST",headers:{...a&&{Authorization:`Bearer ${a}`}},body:r})},Be=async t=>o("/vendor/products/bulk-delete",{method:"POST",body:JSON.stringify(t)}),We=async t=>o("/vendor/products/bulk-status",{method:"POST",body:JSON.stringify(t)}),Fe=async t=>o("/vendor/products/bulk-price",{method:"POST",body:JSON.stringify(t)}),Me=async t=>o("/vendor/products/bulk-stock",{method:"POST",body:JSON.stringify(t)}),Je=()=>!!localStorage.getItem("afrimercato_token"),qe=()=>localStorage.getItem("afrimercato_token"),He=t=>{localStorage.setItem("afrimercato_token",t)},Ye=()=>{localStorage.removeItem("afrimercato_token"),localStorage.removeItem("afrimercato_refresh_token")},J={login:ne,register:ae,logout:ie,refreshToken:ce,isAuthenticated:Je,getAuthToken:qe,setAuthToken:He,clearAuthToken:Ye},Ke=async()=>o("/vendor/delivery-settings"),Xe=async t=>o("/vendor/delivery-settings",{method:"PUT",body:JSON.stringify(t)}),Qe={getProfile:le,updateProfile:de,createProfile:me,getProducts:ue,createProduct:he,updateProduct:xe,deleteProduct:ge,getOrders:fe,getOrder:pe,updateOrderStatus:ye,rateRider:je,getDashboardStats:be,getChartData:ve,getSalesReport:_e,getInventoryReport:Ne,getOrdersReport:we,getRevenueReport:ke,uploadProductImages:$e,bulkDeleteProducts:Be,bulkUpdateStatus:We,bulkUpdatePrices:Fe,bulkUpdateStock:Me,getDeliverySettings:Ke,updateDeliverySettings:Xe},Ge=async()=>o("/customers/dashboard/stats"),Ze=async(t={})=>{const r=new URLSearchParams(t).toString();return o(`/customers/orders/recent?${r}`)},et=async(t={})=>{const r=new URLSearchParams(t).toString();return o(`/customers/products/recommended?${r}`)},tt=async()=>o("/customers/wishlist"),rt=async t=>o("/customers/wishlist",{method:"POST",body:JSON.stringify({productId:t})}),st=async t=>o(`/customers/wishlist/${t}`,{method:"DELETE"}),pr={getDashboardStats:Ge,getRecentOrders:Ze,getRecommendedProducts:et,getWishlist:tt,addToWishlist:rt,removeFromWishlist:st},yr={getFeatured:Re,getFeaturedVendors:Oe,getAll:Le,getById:Ie},jr={create:Te,getUserOrders:Ce,getById:De,cancel:Ve},br={getProfile:X,updateProfile:ze,changePassword:Ue},vr={getPlans:Pe,subscribe:Ee,getMySubscription:Se,cancel:Ae},ot=async(t={})=>{const r=new URLSearchParams(t).toString();return o(`/notifications?${r}`)},nt=async()=>o("/notifications/unread-count"),at=async t=>o(`/notifications/${t}/read`,{method:"PUT"}),it=async()=>o("/notifications/mark-all-read",{method:"PUT"}),ct=async t=>o(`/notifications/${t}`,{method:"DELETE"}),lt=async()=>o("/notifications",{method:"DELETE"}),R={getNotifications:ot,getUnreadCount:nt,markAsRead:at,markAllAsRead:it,deleteNotification:ct,deleteAllRead:lt},Q=s.createContext(),L=()=>{const t=s.useContext(Q);if(!t)throw new Error("useAuth must be used within AuthProvider");return t},dt=t=>{try{const a=t.split(".")[1].replace(/-/g,"+").replace(/_/g,"/"),h=decodeURIComponent(atob(a).split("").map(d=>"%"+("00"+d.charCodeAt(0).toString(16)).slice(-2)).join(""));return JSON.parse(h)}catch(r){return console.error("Error decoding token:",r),null}},mt=({children:t})=>{const[r,a]=s.useState(null),[h,d]=s.useState(!0),[u,m]=s.useState(!1);s.useEffect(()=>{j()},[]);const j=async()=>{const f=localStorage.getItem("afrimercato_token");if(f){const p=dt(f);if(p&&p.id)try{const b=X(),g=new Promise((_,P)=>setTimeout(()=>P(new Error("Profile fetch timeout")),12e3)),n=await Promise.race([b,g]);n&&n.success?(a(n.data),m(!0)):(localStorage.removeItem("afrimercato_token"),localStorage.removeItem("afrimercato_refresh_token"))}catch{const g=p.roles||[];a({_id:p.id,email:p.email,roles:g,role:g[0]||"customer"}),m(!0)}}d(!1)},x={user:r,isAuthenticated:u,loading:h,login:async(f,p)=>{try{const b=await J.login({email:f,password:p});if(b&&b.success){const{token:g,user:n}=b.data;return localStorage.setItem("afrimercato_token",g),a(n),m(!0),{success:!0,user:n}}else return{success:!1,message:(b==null?void 0:b.message)||"Login failed"}}catch(b){return{success:!1,message:b.message||"Login failed"}}},register:async f=>{try{const p=await J.register(f);if(p&&p.success){const{token:b,user:g}=p.data;return localStorage.setItem("afrimercato_token",b),a(g),m(!0),{success:!0,user:g}}else return{success:!1,message:(p==null?void 0:p.message)||"Registration failed"}}catch(p){return{success:!1,message:p.message||"Registration failed"}}},logout:()=>{localStorage.removeItem("afrimercato_token"),localStorage.removeItem("afrimercato_refresh_token"),a(null),m(!1)},checkAuth:j};return e.jsx(Q.Provider,{value:x,children:t})};function ut(){const[t,r]=s.useState(!1),[a,h]=s.useState(!1),[d,u]=s.useState({necessary:!0,analytics:!1,marketing:!1,functional:!1});s.useEffect(()=>{const x=localStorage.getItem("cookie_consent");if(x)try{const f=JSON.parse(x);u(f),m(f)}catch(f){console.error("Failed to parse cookie consent:",f)}else{const f=setTimeout(()=>{r(!0)},1e3);return()=>clearTimeout(f)}},[]);const m=x=>{x.analytics?window.gtag&&window.gtag("consent","update",{analytics_storage:"granted"}):window.gtag&&window.gtag("consent","update",{analytics_storage:"denied"}),x.marketing?window.gtag&&window.gtag("consent","update",{ad_storage:"granted"}):window.gtag&&window.gtag("consent","update",{ad_storage:"denied"})},j=()=>{const x={necessary:!0,analytics:!0,marketing:!0,functional:!0};u(x),localStorage.setItem("cookie_consent",JSON.stringify(x)),m(x),r(!1)},v=()=>{const x={necessary:!0,analytics:!1,marketing:!1,functional:!1};u(x),localStorage.setItem("cookie_consent",JSON.stringify(x)),m(x),r(!1)},c=()=>{localStorage.setItem("cookie_consent",JSON.stringify(d)),m(d),r(!1),h(!1)},N=x=>{x!=="necessary"&&u(f=>({...f,[x]:!f[x]}))};return e.jsx(te,{children:t&&e.jsxs(e.Fragment,{children:[e.jsx(B.div,{initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},className:"fixed inset-0 bg-black/20 backdrop-blur-sm z-40",onClick:()=>r(!1)}),e.jsx(B.div,{initial:{y:100,opacity:0},animate:{y:0,opacity:1},exit:{y:100,opacity:0},transition:{type:"spring",damping:25,stiffness:300},className:"fixed bottom-0 left-0 right-0 z-50 p-4 sm:p-6",children:e.jsx("div",{className:"max-w-6xl mx-auto",children:e.jsx("div",{className:"bg-white rounded-2xl shadow-2xl border border-gray-200 overflow-hidden",children:a?e.jsxs("div",{className:"p-6 sm:p-8",children:[e.jsxs("div",{className:"flex items-start justify-between mb-6",children:[e.jsxs("div",{children:[e.jsx("h3",{className:"text-2xl font-bold text-gray-900 mb-2",children:"Cookie Preferences"}),e.jsx("p",{className:"text-sm text-gray-600",children:"Manage your cookie settings. You can enable or disable different types of cookies below."})]}),e.jsx("button",{onClick:()=>h(!1),className:"text-gray-400 hover:text-gray-600",children:e.jsx("svg",{className:"w-6 h-6",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M6 18L18 6M6 6l12 12"})})})]}),e.jsxs("div",{className:"space-y-4",children:[e.jsxs("div",{className:"flex items-start justify-between p-4 bg-gray-50 rounded-lg",children:[e.jsxs("div",{className:"flex-1",children:[e.jsxs("div",{className:"flex items-center gap-2 mb-1",children:[e.jsx("h4",{className:"font-semibold text-gray-900",children:"Necessary Cookies"}),e.jsx("span",{className:"text-xs bg-gray-200 text-gray-700 px-2 py-1 rounded",children:"Always Active"})]}),e.jsx("p",{className:"text-sm text-gray-600",children:"Essential for the website to function. Cannot be disabled."})]}),e.jsx("div",{className:"ml-4",children:e.jsx("div",{className:"w-12 h-6 bg-afri-green rounded-full relative",children:e.jsx("div",{className:"absolute right-1 top-1 w-4 h-4 bg-white rounded-full"})})})]}),e.jsxs("div",{className:"flex items-start justify-between p-4 bg-gray-50 rounded-lg",children:[e.jsxs("div",{className:"flex-1",children:[e.jsx("h4",{className:"font-semibold text-gray-900 mb-1",children:"Analytics Cookies"}),e.jsx("p",{className:"text-sm text-gray-600",children:"Help us understand how visitors interact with our website."})]}),e.jsx("button",{onClick:()=>N("analytics"),className:"ml-4",children:e.jsx("div",{className:`w-12 h-6 rounded-full relative transition-colors ${d.analytics?"bg-afri-green":"bg-gray-300"}`,children:e.jsx("div",{className:`absolute top-1 w-4 h-4 bg-white rounded-full transition-all ${d.analytics?"right-1":"left-1"}`})})})]}),e.jsxs("div",{className:"flex items-start justify-between p-4 bg-gray-50 rounded-lg",children:[e.jsxs("div",{className:"flex-1",children:[e.jsx("h4",{className:"font-semibold text-gray-900 mb-1",children:"Marketing Cookies"}),e.jsx("p",{className:"text-sm text-gray-600",children:"Used to deliver personalized advertisements."})]}),e.jsx("button",{onClick:()=>N("marketing"),className:"ml-4",children:e.jsx("div",{className:`w-12 h-6 rounded-full relative transition-colors ${d.marketing?"bg-afri-green":"bg-gray-300"}`,children:e.jsx("div",{className:`absolute top-1 w-4 h-4 bg-white rounded-full transition-all ${d.marketing?"right-1":"left-1"}`})})})]}),e.jsxs("div",{className:"flex items-start justify-between p-4 bg-gray-50 rounded-lg",children:[e.jsxs("div",{className:"flex-1",children:[e.jsx("h4",{className:"font-semibold text-gray-900 mb-1",children:"Functional Cookies"}),e.jsx("p",{className:"text-sm text-gray-600",children:"Enable enhanced functionality and personalization."})]}),e.jsx("button",{onClick:()=>N("functional"),className:"ml-4",children:e.jsx("div",{className:`w-12 h-6 rounded-full relative transition-colors ${d.functional?"bg-afri-green":"bg-gray-300"}`,children:e.jsx("div",{className:`absolute top-1 w-4 h-4 bg-white rounded-full transition-all ${d.functional?"right-1":"left-1"}`})})})]})]}),e.jsxs("div",{className:"mt-6 flex gap-3",children:[e.jsx("button",{onClick:c,className:"flex-1 bg-afri-green text-white px-6 py-3 rounded-lg font-semibold hover:bg-afri-green-dark transition",children:"Save Preferences"}),e.jsx("button",{onClick:()=>h(!1),className:"px-6 py-3 text-gray-700 hover:bg-gray-100 rounded-lg font-semibold transition",children:"Cancel"})]})]}):e.jsx("div",{className:"p-6 sm:p-8",children:e.jsxs("div",{className:"flex items-start gap-4",children:[e.jsx("div",{className:"hidden sm:block",children:e.jsx("div",{className:"w-12 h-12 bg-afri-green/10 rounded-full flex items-center justify-center",children:e.jsx("svg",{className:"w-6 h-6 text-afri-green",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M12 6v6m0 0v6m0-6h6m-6 0H6"})})})}),e.jsxs("div",{className:"flex-1",children:[e.jsx("h3",{className:"text-xl sm:text-2xl font-bold text-gray-900 mb-2",children:"We Value Your Privacy"}),e.jsxs("p",{className:"text-sm sm:text-base text-gray-600 mb-4",children:['We use cookies to enhance your browsing experience, serve personalized content, and analyze our traffic. By clicking "Accept All", you consent to our use of cookies.',e.jsx(O,{to:"/privacy-policy",className:"text-afri-green hover:text-afri-green-dark ml-1 underline",children:"Learn more"})]}),e.jsxs("div",{className:"flex flex-col sm:flex-row gap-3",children:[e.jsx("button",{onClick:j,className:"bg-afri-green text-white px-6 py-3 rounded-lg font-semibold hover:bg-afri-green-dark transition",children:"Accept All"}),e.jsx("button",{onClick:v,className:"bg-gray-200 text-gray-700 px-6 py-3 rounded-lg font-semibold hover:bg-gray-300 transition",children:"Reject All"}),e.jsx("button",{onClick:()=>h(!0),className:"border-2 border-gray-300 text-gray-700 px-6 py-3 rounded-lg font-semibold hover:border-gray-400 transition",children:"Customize"})]})]})]})})})})})]})})}function ht(){const t=H(),[r,a]=s.useState(!1),[h,d]=s.useState([]),[u,m]=s.useState(0),[j,v]=s.useState(!1),c=s.useRef(null);s.useEffect(()=>{N();const n=setInterval(()=>{N()},3e4);return()=>clearInterval(n)},[]),s.useEffect(()=>{r&&x()},[r]),s.useEffect(()=>{const n=_=>{c.current&&!c.current.contains(_.target)&&a(!1)};return document.addEventListener("mousedown",n),()=>document.removeEventListener("mousedown",n)},[]);const N=async()=>{try{const n=await R.getUnreadCount();n.success&&m(n.data.count)}catch(n){console.error("Error fetching unread count:",n)}},x=async()=>{try{v(!0);const n=await R.getNotifications({limit:10});n.success&&d(n.data.notifications)}catch(n){console.error("Error fetching notifications:",n)}finally{v(!1)}},f=async n=>{try{n.isRead||(await R.markAsRead(n._id),m(_=>Math.max(0,_-1)),d(_=>_.map(P=>P._id===n._id?{...P,isRead:!0}:P))),n.actionUrl&&t(n.actionUrl)}catch(_){console.error("Error marking notification as read:",_)}},p=async()=>{try{await R.markAllAsRead(),m(0),d(n=>n.map(_=>({..._,isRead:!0})))}catch(n){console.error("Error marking all as read:",n)}},b=n=>({order_placed:"ðŸ›’",order_confirmed:"âœ…",order_shipped:"ðŸ“¦",order_delivered:"ðŸŽ‰",order_cancelled:"âŒ",payment_received:"ðŸ’°",low_stock:"âš ï¸",product_review:"â­",rider_assigned:"ðŸš´",system_alert:"ðŸ””",promotion:"ðŸŽ"})[n]||"ðŸ””",g=n=>{const _={urgent:"text-red-600 bg-red-50",high:"text-orange-600 bg-orange-50",normal:"text-blue-600 bg-blue-50",low:"text-gray-600 bg-gray-50"};return _[n]||_.normal};return e.jsxs("div",{className:"relative",ref:c,children:[e.jsxs("button",{onClick:()=>a(!r),className:"relative p-2 text-gray-400 hover:text-gray-600 rounded-full hover:bg-gray-100 transition-colors",children:[e.jsx("svg",{className:"w-6 h-6",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M15 17h5l-1.405-1.405A2.032 2.032 0 0118 14.158V11a6.002 6.002 0 00-4-5.659V5a2 2 0 10-4 0v.341C7.67 6.165 6 8.388 6 11v3.159c0 .538-.214 1.055-.595 1.436L4 17h5m6 0v1a3 3 0 11-6 0v-1m6 0H9"})}),u>0&&e.jsx("span",{className:"absolute top-0 right-0 flex items-center justify-center h-5 w-5 text-xs font-bold text-white bg-red-500 rounded-full animate-pulse",children:u>9?"9+":u})]}),r&&e.jsxs("div",{className:"absolute right-0 mt-2 w-96 bg-white rounded-xl shadow-2xl border border-gray-200 z-50 transform transition-all duration-200 ease-out animate-slideDown",children:[e.jsxs("div",{className:"flex items-center justify-between px-4 py-3 border-b border-gray-200",children:[e.jsx("h3",{className:"text-lg font-bold text-gray-900",children:"Notifications"}),u>0&&e.jsx("button",{onClick:p,className:"text-sm text-afri-green hover:text-afri-green-dark font-medium transition-colors",children:"Mark all read"})]}),e.jsx("div",{className:"max-h-96 overflow-y-auto",children:j?e.jsx("div",{className:"flex items-center justify-center py-12",children:e.jsx("div",{className:"animate-spin rounded-full h-8 w-8 border-t-2 border-b-2 border-afri-green"})}):h.length===0?e.jsxs("div",{className:"text-center py-12",children:[e.jsx("div",{className:"text-5xl mb-2",children:"ðŸ””"}),e.jsx("p",{className:"text-gray-500",children:"No notifications yet"})]}):e.jsx("div",{children:h.map(n=>e.jsxs("div",{onClick:()=>f(n),className:`px-4 py-3 border-b border-gray-100 cursor-pointer transition-colors ${n.isRead?"bg-white hover:bg-gray-50":"bg-blue-50 hover:bg-blue-100"}`,children:[e.jsxs("div",{className:"flex items-start space-x-3",children:[e.jsx("div",{className:`flex-shrink-0 w-10 h-10 rounded-full flex items-center justify-center text-xl ${g(n.priority)}`,children:n.icon||b(n.type)}),e.jsxs("div",{className:"flex-1 min-w-0",children:[e.jsx("p",{className:"text-sm font-semibold text-gray-900 truncate",children:n.title}),e.jsx("p",{className:"text-sm text-gray-600 line-clamp-2 mt-1",children:n.message}),e.jsx("p",{className:"text-xs text-gray-400 mt-1",children:n.timeAgo})]}),!n.isRead&&e.jsx("div",{className:"flex-shrink-0 w-2 h-2 bg-afri-green rounded-full"})]}),n.priority==="urgent"&&e.jsx("div",{className:"mt-2 inline-flex items-center px-2 py-1 rounded-full text-xs font-medium bg-red-100 text-red-800",children:"ðŸš¨ Urgent"})]},n._id))})}),h.length>0&&e.jsx("div",{className:"px-4 py-3 border-t border-gray-200 bg-gray-50 rounded-b-xl",children:e.jsx("button",{onClick:()=>{a(!1),t("/notifications")},className:"w-full text-center text-sm text-afri-green hover:text-afri-green-dark font-medium transition-colors",children:"View all notifications"})})]})]})}function S({children:t}){var U;const r=Y(),a=H(),{user:h,logout:d}=L(),[u,m]=s.useState(!1),[j,v]=s.useState(window.innerWidth<1024),[c,N]=s.useState(null),[x,f]=s.useState(!0),p=[{name:"Dashboard",path:"/dashboard",icon:"ðŸ“Š"},{name:"Products",path:"/products",icon:"ðŸ“¦"},{name:"Orders",path:"/orders",icon:"ðŸ›’"},{name:"Reports",path:"/reports",icon:"ðŸ“ˆ"},{name:"Subscription",path:"/subscription",icon:"ðŸ’³"},{name:"Settings",path:"/settings",icon:"âš™ï¸"}];s.useEffect(()=>{b();const w=()=>{v(window.innerWidth<1024)};return window.addEventListener("resize",w),()=>window.removeEventListener("resize",w)},[]);const b=async()=>{var w,$;try{const E=await Qe.getProfile();E.data.success&&N(E.data.data)}catch(E){console.error("Failed to load vendor status:",E),(((w=E.response)==null?void 0:w.status)===404||(($=E.response)==null?void 0:$.status)===403)&&N({approvalStatus:"no_profile"})}finally{f(!1)}},g=()=>{d(),a("/login")},n=w=>r.pathname===w,_=()=>m(!u),P=()=>{j&&m(!1)},D=(c==null?void 0:c.approvalStatus)==="pending",V=(c==null?void 0:c.approvalStatus)==="rejected",z=(c==null?void 0:c.approvalStatus)==="suspended";return c==null||c.approvalStatus,x?e.jsx("div",{className:"min-h-screen bg-gray-50 flex items-center justify-center",children:e.jsxs("div",{className:"text-center",children:[e.jsx("div",{className:"animate-spin rounded-full h-16 w-16 border-t-4 border-b-4 border-afri-green mx-auto mb-4"}),e.jsx("p",{className:"text-gray-600",children:"Loading..."})]})}):D||V||z?e.jsx("div",{className:"min-h-screen bg-gradient-to-br from-yellow-50 via-white to-orange-50 flex items-center justify-center p-4",children:e.jsxs("div",{className:"max-w-2xl w-full",children:[e.jsxs("div",{className:"text-center mb-8",children:[e.jsx("h1",{className:"text-4xl font-bold text-afri-green mb-2",children:"Afrimercato"}),e.jsx("p",{className:"text-gray-600",children:"Vendor Dashboard"})]}),D&&e.jsxs("div",{className:"bg-white rounded-2xl shadow-xl p-8 border-t-4 border-yellow-400",children:[e.jsxs("div",{className:"text-center mb-6",children:[e.jsx("div",{className:"inline-flex items-center justify-center w-20 h-20 bg-yellow-100 rounded-full mb-4",children:e.jsx("svg",{className:"w-10 h-10 text-yellow-600",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M12 8v4l3 3m6-3a9 9 0 11-18 0 9 9 0 0118 0z"})})}),e.jsx("h2",{className:"text-2xl font-bold text-gray-900 mb-2",children:"Account Verification Pending"}),e.jsx("p",{className:"text-gray-600",children:"Your application is being reviewed"})]}),e.jsxs("div",{className:"bg-yellow-50 border-l-4 border-yellow-400 p-6 rounded-lg mb-6",children:[e.jsx("h3",{className:"font-semibold text-yellow-900 mb-3",children:"What's happening?"}),e.jsxs("p",{className:"text-yellow-800 mb-4",children:["Our automated verification system is reviewing your vendor application. This process typically takes ",e.jsx("strong",{children:"24-48 hours"}),"."]}),e.jsxs("div",{className:"space-y-2 text-sm text-yellow-700",children:[e.jsx("p",{children:"âœ“ Your account has been created"}),e.jsx("p",{children:"â³ Verification in progress"}),e.jsxs("p",{className:"text-xs text-yellow-600 mt-3",children:["Submitted: ",c!=null&&c.submittedForReviewAt?new Date(c.submittedForReviewAt).toLocaleString():new Date(c==null?void 0:c.createdAt).toLocaleString()]})]})]}),e.jsxs("div",{className:"bg-gray-50 rounded-lg p-6 mb-6",children:[e.jsx("h3",{className:"font-semibold text-gray-900 mb-3",children:"Once approved, you'll be able to:"}),e.jsxs("ul",{className:"space-y-2 text-gray-700",children:[e.jsxs("li",{className:"flex items-start",children:[e.jsx("span",{className:"text-green-500 mr-2",children:"âœ“"}),e.jsx("span",{children:"Add and manage your products"})]}),e.jsxs("li",{className:"flex items-start",children:[e.jsx("span",{className:"text-green-500 mr-2",children:"âœ“"}),e.jsx("span",{children:"Receive and fulfill customer orders"})]}),e.jsxs("li",{className:"flex items-start",children:[e.jsx("span",{className:"text-green-500 mr-2",children:"âœ“"}),e.jsx("span",{children:"Access analytics and sales reports"})]}),e.jsxs("li",{className:"flex items-start",children:[e.jsx("span",{className:"text-green-500 mr-2",children:"âœ“"}),e.jsx("span",{children:"Manage your store settings and profile"})]})]})]}),e.jsxs("div",{className:"text-center text-sm text-gray-600",children:[e.jsx("p",{className:"mb-4",children:"You'll receive an email notification once your account is approved."}),e.jsxs("p",{children:["Need help? Contact us at ",e.jsx("a",{href:"mailto:vendors@afrimercato.com",className:"text-afri-green hover:underline",children:"vendors@afrimercato.com"})]})]}),e.jsx("div",{className:"mt-6 flex justify-center",children:e.jsx("button",{onClick:g,className:"px-6 py-2 bg-gray-100 text-gray-700 rounded-lg hover:bg-gray-200 transition",children:"Logout"})})]}),V&&e.jsxs("div",{className:"bg-white rounded-2xl shadow-xl p-8 border-t-4 border-red-500",children:[e.jsxs("div",{className:"text-center mb-6",children:[e.jsx("div",{className:"inline-flex items-center justify-center w-20 h-20 bg-red-100 rounded-full mb-4",children:e.jsx("svg",{className:"w-10 h-10 text-red-600",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M6 18L18 6M6 6l12 12"})})}),e.jsx("h2",{className:"text-2xl font-bold text-gray-900 mb-2",children:"Application Not Approved"})]}),e.jsxs("div",{className:"bg-red-50 border-l-4 border-red-500 p-6 rounded-lg mb-6",children:[e.jsx("h3",{className:"font-semibold text-red-900 mb-2",children:"Rejection Reason:"}),e.jsx("p",{className:"text-red-800",children:(c==null?void 0:c.rejectionReason)||"Your vendor application was not approved at this time."})]}),e.jsxs("div",{className:"text-center text-sm text-gray-600",children:[e.jsx("p",{className:"mb-4",children:"Please contact our support team for more information."}),e.jsxs("p",{className:"mb-6",children:["Email: ",e.jsx("a",{href:"mailto:vendors@afrimercato.com",className:"text-afri-green hover:underline",children:"vendors@afrimercato.com"})]})]}),e.jsxs("div",{className:"flex justify-center gap-4",children:[e.jsx("button",{onClick:g,className:"px-6 py-2 bg-gray-100 text-gray-700 rounded-lg hover:bg-gray-200 transition",children:"Logout"}),e.jsx("a",{href:"mailto:vendors@afrimercato.com",className:"px-6 py-2 bg-afri-green text-white rounded-lg hover:bg-afri-green-dark transition",children:"Contact Support"})]})]}),z&&e.jsxs("div",{className:"bg-white rounded-2xl shadow-xl p-8 border-t-4 border-orange-500",children:[e.jsxs("div",{className:"text-center mb-6",children:[e.jsx("div",{className:"inline-flex items-center justify-center w-20 h-20 bg-orange-100 rounded-full mb-4",children:e.jsx("svg",{className:"w-10 h-10 text-orange-600",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M12 9v2m0 4h.01m-6.938 4h13.856c1.54 0 2.502-1.667 1.732-3L13.732 4c-.77-1.333-2.694-1.333-3.464 0L3.34 16c-.77 1.333.192 3 1.732 3z"})})}),e.jsx("h2",{className:"text-2xl font-bold text-gray-900 mb-2",children:"Account Suspended"})]}),e.jsxs("div",{className:"bg-orange-50 border-l-4 border-orange-500 p-6 rounded-lg mb-6",children:[e.jsx("h3",{className:"font-semibold text-orange-900 mb-2",children:"Suspension Reason:"}),e.jsx("p",{className:"text-orange-800",children:(c==null?void 0:c.approvalNote)||"Your vendor account has been temporarily suspended."})]}),e.jsxs("div",{className:"text-center text-sm text-gray-600",children:[e.jsx("p",{className:"mb-4",children:"Please contact support to resolve this issue."}),e.jsxs("p",{className:"mb-6",children:["Email: ",e.jsx("a",{href:"mailto:vendors@afrimercato.com",className:"text-afri-green hover:underline",children:"vendors@afrimercato.com"})]})]}),e.jsxs("div",{className:"flex justify-center gap-4",children:[e.jsx("button",{onClick:g,className:"px-6 py-2 bg-gray-100 text-gray-700 rounded-lg hover:bg-gray-200 transition",children:"Logout"}),e.jsx("a",{href:"mailto:vendors@afrimercato.com",className:"px-6 py-2 bg-afri-green text-white rounded-lg hover:bg-afri-green-dark transition",children:"Contact Support"})]})]})]})}):e.jsxs("div",{className:"min-h-screen bg-gray-50",children:[u&&e.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 z-40 lg:hidden",onClick:()=>m(!1)}),e.jsx("div",{className:`fixed inset-y-0 left-0 z-50 w-64 bg-white shadow-xl transform transition-transform duration-300 ease-in-out lg:translate-x-0 ${u?"translate-x-0":"-translate-x-full"}`,children:e.jsxs("div",{className:"flex flex-col h-full",children:[e.jsxs("div",{className:"flex items-center justify-between h-16 px-6 bg-gradient-to-r from-afri-green to-afri-green-dark",children:[e.jsx(O,{to:"/dashboard",className:"flex items-center",children:e.jsx("span",{className:"text-2xl font-bold text-white",children:"Afrimercato"})}),e.jsx("button",{onClick:()=>m(!1),className:"lg:hidden text-white hover:text-afri-yellow",children:e.jsx("svg",{className:"w-6 h-6",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M6 18L18 6M6 6l12 12"})})})]}),e.jsx("div",{className:"px-6 py-4 border-b border-gray-200",children:e.jsxs("div",{className:"flex items-center space-x-3",children:[e.jsx("div",{className:"flex-shrink-0",children:e.jsx("div",{className:"w-10 h-10 rounded-full bg-afri-green text-white flex items-center justify-center font-bold",children:((U=h==null?void 0:h.name)==null?void 0:U.charAt(0).toUpperCase())||"V"})}),e.jsxs("div",{className:"flex-1 min-w-0",children:[e.jsx("p",{className:"text-sm font-semibold text-gray-900 truncate",children:(h==null?void 0:h.name)||"Vendor"}),e.jsx("p",{className:"text-xs text-gray-500 truncate",children:(h==null?void 0:h.email)||""})]})]})}),e.jsx("nav",{className:"flex-1 px-4 py-4 space-y-1 overflow-y-auto",children:p.map(w=>e.jsxs(O,{to:w.path,onClick:P,className:`flex items-center space-x-3 px-4 py-3 rounded-lg transition-colors ${n(w.path)?"bg-afri-green text-white":"text-gray-700 hover:bg-gray-100"}`,children:[e.jsx("span",{className:"text-xl",children:w.icon}),e.jsx("span",{className:"font-medium",children:w.name})]},w.name))}),e.jsx("div",{className:"p-4 border-t border-gray-200",children:e.jsxs("button",{onClick:g,className:"w-full flex items-center space-x-3 px-4 py-3 text-red-600 hover:bg-red-50 rounded-lg transition-colors",children:[e.jsx("span",{className:"text-xl",children:"ðŸšª"}),e.jsx("span",{className:"font-medium",children:"Logout"})]})})]})}),e.jsxs("div",{className:"lg:ml-64",children:[e.jsx("div",{className:"sticky top-0 z-30 bg-white shadow-sm",children:e.jsxs("div",{className:"flex items-center justify-between h-16 px-4 sm:px-6 lg:px-8",children:[e.jsx("button",{onClick:_,className:`${j?"block":"hidden"} text-gray-700 hover:text-afri-green transition-colors`,children:e.jsx("svg",{className:"w-6 h-6",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M4 6h16M4 12h16M4 18h16"})})}),e.jsx("div",{className:"flex-1 lg:flex-none"}),e.jsxs("div",{className:"flex items-center space-x-4",children:[e.jsx(ht,{}),e.jsx("div",{className:"hidden lg:flex items-center space-x-2 text-sm",children:e.jsx("span",{className:"font-medium text-gray-700",children:h==null?void 0:h.name})})]})]})}),e.jsx("main",{className:"p-4 sm:p-6 lg:p-8",children:t})]})]})}const xt=s.lazy(()=>l(()=>import("./Login-EXn45L1D.js"),__vite__mapDeps([0,1,2,3]))),gt=s.lazy(()=>l(()=>import("./Register-hU63CvrH.js"),__vite__mapDeps([4,1,2,5,3]))),ft=s.lazy(()=>l(()=>import("./OAuthCallback-DGaQ8Bfp.js"),__vite__mapDeps([6,1,2,3]))),pt=s.lazy(()=>l(()=>import("./VendorPendingApproval-Dy3lEzUd.js"),__vite__mapDeps([7,1,2,3,8,9]))),q=s.lazy(()=>l(()=>import("./Dashboard-uFPKU1ZJ.js"),__vite__mapDeps([10,1,2,11,3,12]))),yt=s.lazy(()=>l(()=>import("./Products-BGG_Ac3O.js"),__vite__mapDeps([13,1,2,3]))),jt=s.lazy(()=>l(()=>import("./Orders-DPHRYPwp.js"),__vite__mapDeps([14,1,2,3]))),bt=s.lazy(()=>l(()=>import("./Reports-Bnmdb5nc.js"),__vite__mapDeps([15,1,2,3]))),vt=s.lazy(()=>l(()=>import("./Settings-Cf1oa3YX.js"),__vite__mapDeps([16,1,2,3]))),_t=s.lazy(()=>l(()=>import("./Subscription-CwSjB8wu.js"),__vite__mapDeps([17,1,2,3]))),Nt=s.lazy(()=>l(()=>import("./Home-D_qtX7PM.js"),__vite__mapDeps([18,1,2,3]))),wt=s.lazy(()=>l(()=>import("./ClientLandingPage-CGe4sWlw.js"),__vite__mapDeps([19,1,2,3]))),kt=s.lazy(()=>l(()=>import("./PartnerWithUs-CpelE2pb.js"),__vite__mapDeps([20,1,2,3]))),Pt=s.lazy(()=>l(()=>import("./ClientStoresPage-RlP-g9JX.js"),__vite__mapDeps([21,1,2,3]))),Et=s.lazy(()=>l(()=>import("./AboutUs-DTd4d310.js"),__vite__mapDeps([22,1,2,3]))),St=s.lazy(()=>l(()=>import("./Delivery-Dgc_3MSY.js"),__vite__mapDeps([23,1,2,3]))),At=s.lazy(()=>l(()=>import("./ContactUs-D-RpBkAv.js"),__vite__mapDeps([24,1,2,3]))),Rt=s.lazy(()=>l(()=>import("./PrivacyPolicy-GvCQAj1O.js"),__vite__mapDeps([25,1,2,3]))),Ot=s.lazy(()=>l(()=>import("./TermsOfService-CnZ6cH2i.js"),__vite__mapDeps([26,1,2,3]))),Lt=s.lazy(()=>l(()=>import("./ClientVendorStorefront-CRSA0RvT.js"),__vite__mapDeps([27,1,2,3]))),It=s.lazy(()=>l(()=>import("./CustomerDashboard-C4wQyJvK.js"),__vite__mapDeps([28,1,2,5,3]))),Tt=s.lazy(()=>l(()=>import("./ProductBrowsing-CmqIKFQm.js"),__vite__mapDeps([29,1,2,5,3]))),Ct=s.lazy(()=>l(()=>import("./ShoppingCart-CUaEObh2.js"),__vite__mapDeps([30,1,2,5]))),Dt=s.lazy(()=>l(()=>import("./OrderHistory-vlAqekbm.js"),__vite__mapDeps([31,1,2,3]))),Vt=s.lazy(()=>l(()=>import("./CustomerProfile-BvHx5j40.js"),__vite__mapDeps([32,1,2,3]))),zt=s.lazy(()=>l(()=>import("./Wishlist-DWoKkkVX.js"),__vite__mapDeps([33,1,2,5,3]))),Ut=s.lazy(()=>l(()=>import("./Checkout-D0Nm_5O0.js"),__vite__mapDeps([34,1,2,3]))),$t=s.lazy(()=>l(()=>import("./OrderConfirmation-CYeHAI3c.js"),__vite__mapDeps([35,1,2]))),Bt=s.lazy(()=>l(()=>import("./OrderTracking-_sri-pDK.js"),__vite__mapDeps([36,1,2]))),Wt=s.lazy(()=>l(()=>import("./ProductReviews-DvvkvX1I.js"),__vite__mapDeps([37,1,2,5,3]))),Ft=s.lazy(()=>l(()=>import("./NotificationsCenter-fjwjjBmi.js"),__vite__mapDeps([38,1,2]))),Mt=s.lazy(()=>l(()=>import("./VendorDiscovery-BuNKzZbH.js"),__vite__mapDeps([39,1,2,3]))),Jt=s.lazy(()=>l(()=>import("./RecipeRecommendations-DtsSZb7Z.js"),__vite__mapDeps([40,1,2]))),qt=s.lazy(()=>l(()=>import("./ProductDetail-DuGL7vlh.js"),__vite__mapDeps([41,1,2,5,3]))),Ht=s.lazy(()=>l(()=>import("./OrderDetail-C-_7rvnF.js"),__vite__mapDeps([42,1,2,5,3]))),Yt=s.lazy(()=>l(()=>import("./RiderDashboard-YjEn-CT2.js"),__vite__mapDeps([43,1,2,3]))),Kt=s.lazy(()=>l(()=>import("./RiderDeliveries-CHSFWCVb.js"),__vite__mapDeps([44,1,2]))),Xt=s.lazy(()=>l(()=>import("./RiderDeliveryDetail-B9rfIbYJ.js"),__vite__mapDeps([45,1,2]))),Qt=s.lazy(()=>l(()=>import("./RiderEarnings-eN_MwuKM.js"),__vite__mapDeps([46,1,2]))),Gt=s.lazy(()=>l(()=>import("./RiderProfile-Bii5ZOX3.js"),__vite__mapDeps([47,1,2,3]))),Zt=s.lazy(()=>l(()=>import("./PickerDashboard-i6SEKO6w.js"),__vite__mapDeps([48,1,2,3]))),er=s.lazy(()=>l(()=>import("./PickerOrderFulfillment-Dtwdp-bh.js"),__vite__mapDeps([49,1,2]))),tr=s.lazy(()=>l(()=>import("./PickerPerformance-BEPsCoyr.js"),__vite__mapDeps([50,1,2]))),rr=s.lazy(()=>l(()=>import("./AdminDashboard-pQOF05_F.js"),__vite__mapDeps([51,1,2,52,8,3]))),sr=s.lazy(()=>l(()=>import("./VendorManagement-BajFGCuZ.js"),__vite__mapDeps([53,1,2,52,8,3,9]))),or=s.lazy(()=>l(()=>import("./VendorOnboarding-DdXmW3i9.js"),__vite__mapDeps([11,1,2,3])));function nr(){return e.jsx("div",{className:"min-h-screen flex items-center justify-center bg-gradient-to-br from-afri-green to-afri-green-dark",children:e.jsxs("div",{className:"text-center",children:[e.jsx("div",{className:"animate-spin rounded-full h-16 w-16 border-t-4 border-b-4 border-white mx-auto"}),e.jsx("p",{className:"text-white mt-4 text-lg font-semibold",children:"Loading page..."})]})})}function k(){const{user:t}=L();switch((t==null?void 0:t.role)||(t==null?void 0:t.primaryRole)||"customer"){case"vendor":return e.jsx(y,{to:"/dashboard",replace:!0});case"rider":return e.jsx(y,{to:"/rider/dashboard",replace:!0});case"picker":return e.jsx(y,{to:"/picker/dashboard",replace:!0});case"customer":default:return e.jsx(y,{to:"/",replace:!0})}}function ar(){const{isAuthenticated:t,user:r,loading:a}=L();return a?e.jsx("div",{className:"min-h-screen flex items-center justify-center bg-gradient-to-br from-afri-green to-afri-green-dark",children:e.jsxs("div",{className:"text-center",children:[e.jsx("div",{className:"animate-spin rounded-full h-16 w-16 border-t-4 border-b-4 border-white mx-auto"}),e.jsx("p",{className:"text-white mt-4 text-lg font-semibold",children:"Loading Afrimercato..."})]})}):e.jsxs(e.Fragment,{children:[e.jsx(ir,{}),e.jsx(s.Suspense,{fallback:e.jsx(nr,{}),children:e.jsxs(Z,{children:[e.jsx(i,{path:"/",element:e.jsx(wt,{})}),e.jsx(i,{path:"/old-home",element:e.jsx(Nt,{})})," ",e.jsx(i,{path:"/partner",element:e.jsx(kt,{})}),e.jsx(i,{path:"/stores",element:e.jsx(Pt,{})}),e.jsx(i,{path:"/store/:vendorId",element:e.jsx(Lt,{})}),e.jsx(i,{path:"/about",element:e.jsx(Et,{})}),e.jsx(i,{path:"/delivery",element:e.jsx(St,{})}),e.jsx(i,{path:"/contact",element:e.jsx(At,{})}),e.jsx(i,{path:"/privacy-policy",element:e.jsx(Rt,{})}),e.jsx(i,{path:"/terms-of-service",element:e.jsx(Ot,{})}),e.jsx(i,{path:"/products",element:e.jsx(Tt,{})}),e.jsx(i,{path:"/cart",element:e.jsx(Ct,{})}),e.jsx(i,{path:"/orders",element:e.jsx(Dt,{})}),e.jsx(i,{path:"/profile",element:e.jsx(Vt,{})}),e.jsx(i,{path:"/wishlist",element:e.jsx(zt,{})}),e.jsx(i,{path:"/product/:productId/reviews",element:e.jsx(Wt,{})}),e.jsx(i,{path:"/notifications",element:e.jsx(Ft,{})}),e.jsx(i,{path:"/discover",element:e.jsx(Mt,{})}),e.jsx(i,{path:"/recipes",element:e.jsx(Jt,{})}),e.jsx(i,{path:"/product/:productId",element:e.jsx(qt,{})}),e.jsx(i,{path:"/order/:orderId",element:e.jsx(Ht,{})}),e.jsx(i,{path:"/my-dashboard",element:t?e.jsx(It,{}):e.jsx(y,{to:"/login"})}),e.jsx(i,{path:"/checkout",element:e.jsx(Ut,{})}),e.jsx(i,{path:"/order-confirmation/:orderId",element:e.jsx($t,{})}),e.jsx(i,{path:"/track-order/:orderId",element:e.jsx(Bt,{})}),e.jsx(i,{path:"/rider/dashboard",element:t?e.jsx(Yt,{}):e.jsx(y,{to:"/login"})}),e.jsx(i,{path:"/rider/deliveries",element:t?e.jsx(Kt,{}):e.jsx(y,{to:"/login"})}),e.jsx(i,{path:"/rider/delivery/:deliveryId",element:t?e.jsx(Xt,{}):e.jsx(y,{to:"/login"})}),e.jsx(i,{path:"/rider/earnings",element:t?e.jsx(Qt,{}):e.jsx(y,{to:"/login"})}),e.jsx(i,{path:"/rider/profile",element:t?e.jsx(Gt,{}):e.jsx(y,{to:"/login"})}),e.jsx(i,{path:"/picker/dashboard",element:t?e.jsx(Zt,{}):e.jsx(y,{to:"/login"})}),e.jsx(i,{path:"/picker/order/:orderId",element:t?e.jsx(er,{}):e.jsx(y,{to:"/login"})}),e.jsx(i,{path:"/picker/performance",element:t?e.jsx(tr,{}):e.jsx(y,{to:"/login"})}),e.jsx(i,{path:"/login",element:t?e.jsx(k,{}):e.jsx(xt,{})}),e.jsx(i,{path:"/register",element:t?e.jsx(k,{}):e.jsx(gt,{})}),e.jsx(i,{path:"/oauth/callback",element:e.jsx(ft,{})}),e.jsx(i,{path:"/vendor/pending-approval",element:e.jsx(pt,{})}),e.jsx(i,{path:"/vendor/onboarding",element:e.jsx(or,{})}),e.jsx(i,{path:"/vendor-dashboard",element:t?(r==null?void 0:r.role)==="vendor"?e.jsx(q,{}):e.jsx(k,{}):e.jsx(y,{to:"/login"})}),e.jsx(i,{path:"/dashboard",element:t?(r==null?void 0:r.role)==="vendor"?e.jsx(S,{children:e.jsx(q,{})}):e.jsx(k,{}):e.jsx(y,{to:"/login"})}),e.jsx(i,{path:"/vendor/products",element:t?(r==null?void 0:r.role)==="vendor"?e.jsx(S,{children:e.jsx(yt,{})}):e.jsx(k,{}):e.jsx(y,{to:"/login"})}),e.jsx(i,{path:"/orders",element:t?(r==null?void 0:r.role)==="vendor"?e.jsx(S,{children:e.jsx(jt,{})}):e.jsx(k,{}):e.jsx(y,{to:"/login"})}),e.jsx(i,{path:"/reports",element:t?(r==null?void 0:r.role)==="vendor"?e.jsx(S,{children:e.jsx(bt,{})}):e.jsx(k,{}):e.jsx(y,{to:"/login"})}),e.jsx(i,{path:"/subscription",element:t?(r==null?void 0:r.role)==="vendor"?e.jsx(S,{children:e.jsx(_t,{})}):e.jsx(k,{}):e.jsx(y,{to:"/login"})}),e.jsx(i,{path:"/settings",element:t?(r==null?void 0:r.role)==="vendor"?e.jsx(S,{children:e.jsx(vt,{})}):e.jsx(k,{}):e.jsx(y,{to:"/login"})}),e.jsx(i,{path:"/admin/dashboard",element:t?(r==null?void 0:r.role)==="admin"?e.jsx(rr,{}):e.jsx(y,{to:"/"}):e.jsx(y,{to:"/login"})}),e.jsx(i,{path:"/admin/vendors",element:t?(r==null?void 0:r.role)==="admin"?e.jsx(sr,{}):e.jsx(y,{to:"/"}):e.jsx(y,{to:"/login"})})]})})]})}function ir(){const{isAuthenticated:t}=L(),r=Y();if(t)return null;const a=r.pathname||"";return a.startsWith("/vendor")||a.startsWith("/rider")||a.startsWith("/picker")||a.startsWith("/admin")||a.startsWith("/login")||a.startsWith("/register")?null:e.jsx("div",{className:"fixed bottom-4 right-4 z-50",children:e.jsx(O,{to:"/vendor/onboarding",className:"bg-afri-green text-white px-4 py-2 rounded-lg shadow-lg hover:opacity-95",children:"Become a vendor"})})}function cr(){return e.jsxs(mt,{children:[e.jsx(ar,{}),e.jsx(ut,{})]})}class lr extends K.Component{constructor(r){super(r),this.state={hasError:!1,error:null,errorInfo:null}}static getDerivedStateFromError(r){return{hasError:!0}}componentDidCatch(r,a){this.setState({error:r,errorInfo:a}),console.error("ErrorBoundary caught an error:",r,a)}render(){return this.state.hasError?e.jsx("div",{className:"min-h-screen bg-gray-100 flex items-center justify-center px-4",children:e.jsxs("div",{className:"max-w-lg w-full bg-white rounded-lg shadow-xl p-8",children:[e.jsx("div",{className:"flex items-center justify-center w-16 h-16 bg-red-100 rounded-full mx-auto mb-4",children:e.jsx("svg",{className:"w-8 h-8 text-red-600",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M12 9v2m0 4h.01m-6.938 4h13.856c1.54 0 2.502-1.667 1.732-3L13.732 4c-.77-1.333-2.694-1.333-3.464 0L3.34 16c-.77 1.333.192 3 1.732 3z"})})}),e.jsx("h1",{className:"text-2xl font-bold text-center text-gray-900 mb-4",children:"Oops! Something went wrong"}),e.jsx("p",{className:"text-gray-600 text-center mb-6",children:"We're sorry for the inconvenience. Please try refreshing the page."}),e.jsxs("div",{className:"flex justify-center space-x-4",children:[e.jsx("button",{onClick:()=>window.location.reload(),className:"bg-green-600 text-white px-6 py-2 rounded-lg font-medium hover:bg-green-700",children:"Refresh Page"}),e.jsx("a",{href:"/",className:"bg-gray-200 text-gray-800 px-6 py-2 rounded-lg font-medium hover:bg-gray-300",children:"Go Home"})]}),!1]})}):this.props.children}}I.createRoot(document.getElementById("root")).render(e.jsx(K.StrictMode,{children:e.jsx(ee,{children:e.jsx(lr,{children:e.jsx(cr,{})})})}));export{l as _,br as a,xr as b,hr as c,gr as d,fr as e,pr as f,Oe as g,me as h,jr as o,yr as p,vr as s,L as u,Qe as v};
