import{j as e}from"./date-C9mDCBzx.js";import{b as w,r as l}from"./vendor-BfFvvk5l.js";import{e as n}from"./index-CfgvYoI6.js";import{g as v}from"./defaultImages-jUbsX-qu.js";import"./ui-qKdnnCNY.js";function R(){const r=w(),[h,d]=l.useState(!0),[i,f]=l.useState({activeOrders:0,totalOrders:0,wishlistItems:0,rewardPoints:0}),[o,u]=l.useState([]),[c,p]=l.useState([]);l.useEffect(()=>{b()},[]);const b=async()=>{try{d(!0);const[s,t,a]=await Promise.all([n.getDashboardStats(),n.getRecentOrders({limit:5}),n.getRecommendedProducts({limit:4})]);s.success&&f(s.data),t.success&&u(t.data.orders||t.data||[]),a.success&&p(a.data.products||a.data||[])}catch(s){console.error("Dashboard error:",s)}finally{d(!1)}},j=s=>({pending:"bg-yellow-100 text-yellow-800",confirmed:"bg-blue-100 text-blue-800",preparing:"bg-orange-100 text-orange-800","out-for-delivery":"bg-purple-100 text-purple-800",delivered:"bg-green-100 text-green-800",cancelled:"bg-red-100 text-red-800"})[s]||"bg-gray-100 text-gray-800",y=[{icon:"ðŸ›ï¸",title:"Browse Products",description:"Explore our fresh products",action:()=>r("/products"),color:"from-blue-500 to-blue-600"},{icon:"ðŸ“",title:"Find Vendors",description:"Discover local stores",action:()=>r("/vendors"),color:"from-green-500 to-green-600"},{icon:"ðŸ“¦",title:"Track Orders",description:"Check delivery status",action:()=>r("/orders"),color:"from-purple-500 to-purple-600"},{icon:"â¤ï¸",title:"Wishlist",description:"View saved items",action:()=>r("/wishlist"),color:"from-red-500 to-red-600"}];return h?e.jsx("div",{className:"min-h-screen bg-gray-50 flex items-center justify-center",children:e.jsxs("div",{className:"text-center",children:[e.jsx("div",{className:"animate-spin rounded-full h-16 w-16 border-b-2 border-afri-green mx-auto mb-4"}),e.jsx("p",{className:"text-afri-gray-600",children:"Loading your dashboard..."})]})}):e.jsxs("div",{className:"min-h-screen bg-gray-50 pb-12",children:[e.jsx("div",{className:"bg-gradient-to-r from-afri-green to-afri-green-dark text-white py-8 animate-slideDown",children:e.jsxs("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8",children:[e.jsx("h1",{className:"text-3xl font-bold mb-2",children:"Welcome Back! ðŸ‘‹"}),e.jsx("p",{className:"text-afri-green-light",children:"Here's what's happening with your orders"})]})}),e.jsxs("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 -mt-4",children:[e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-6 mb-8",children:[e.jsxs("div",{className:"bg-white rounded-xl shadow-lg p-6 transform hover:scale-105 transition-all duration-300 animate-fadeIn",children:[e.jsxs("div",{className:"flex items-center justify-between mb-4",children:[e.jsx("div",{className:"w-12 h-12 bg-gradient-to-br from-yellow-400 to-yellow-500 rounded-lg flex items-center justify-center text-2xl shadow-lg",children:"ðŸ“¦"}),e.jsxs("div",{className:"text-right",children:[e.jsx("p",{className:"text-2xl font-bold text-gray-900",children:i.activeOrders}),e.jsx("p",{className:"text-sm text-gray-500",children:"Active Orders"})]})]}),e.jsx("div",{className:"w-full bg-gray-200 rounded-full h-2",children:e.jsx("div",{className:"bg-gradient-to-r from-yellow-400 to-yellow-500 h-2 rounded-full",style:{width:"70%"}})})]}),e.jsxs("div",{className:"bg-white rounded-xl shadow-lg p-6 transform hover:scale-105 transition-all duration-300 animate-fadeIn",style:{animationDelay:"100ms"},children:[e.jsxs("div",{className:"flex items-center justify-between mb-4",children:[e.jsx("div",{className:"w-12 h-12 bg-gradient-to-br from-blue-400 to-blue-500 rounded-lg flex items-center justify-center text-2xl shadow-lg",children:"ðŸ“Š"}),e.jsxs("div",{className:"text-right",children:[e.jsx("p",{className:"text-2xl font-bold text-gray-900",children:i.totalOrders}),e.jsx("p",{className:"text-sm text-gray-500",children:"Total Orders"})]})]}),e.jsx("div",{className:"w-full bg-gray-200 rounded-full h-2",children:e.jsx("div",{className:"bg-gradient-to-r from-blue-400 to-blue-500 h-2 rounded-full",style:{width:"100%"}})})]}),e.jsxs("div",{className:"bg-white rounded-xl shadow-lg p-6 transform hover:scale-105 transition-all duration-300 animate-fadeIn",style:{animationDelay:"200ms"},children:[e.jsxs("div",{className:"flex items-center justify-between mb-4",children:[e.jsx("div",{className:"w-12 h-12 bg-gradient-to-br from-red-400 to-red-500 rounded-lg flex items-center justify-center text-2xl shadow-lg",children:"â¤ï¸"}),e.jsxs("div",{className:"text-right",children:[e.jsx("p",{className:"text-2xl font-bold text-gray-900",children:i.wishlistItems}),e.jsx("p",{className:"text-sm text-gray-500",children:"Wishlist Items"})]})]}),e.jsx("div",{className:"w-full bg-gray-200 rounded-full h-2",children:e.jsx("div",{className:"bg-gradient-to-r from-red-400 to-red-500 h-2 rounded-full",style:{width:"85%"}})})]}),e.jsxs("div",{className:"bg-white rounded-xl shadow-lg p-6 transform hover:scale-105 transition-all duration-300 animate-fadeIn",style:{animationDelay:"300ms"},children:[e.jsxs("div",{className:"flex items-center justify-between mb-4",children:[e.jsx("div",{className:"w-12 h-12 bg-gradient-to-br from-purple-400 to-purple-500 rounded-lg flex items-center justify-center text-2xl shadow-lg",children:"â­"}),e.jsxs("div",{className:"text-right",children:[e.jsx("p",{className:"text-2xl font-bold text-gray-900",children:i.rewardPoints}),e.jsx("p",{className:"text-sm text-gray-500",children:"Reward Points"})]})]}),e.jsx("div",{className:"w-full bg-gray-200 rounded-full h-2",children:e.jsx("div",{className:"bg-gradient-to-r from-purple-400 to-purple-500 h-2 rounded-full",style:{width:"60%"}})})]})]}),e.jsxs("div",{className:"bg-white rounded-xl shadow-lg p-6 mb-8 animate-slideUp",children:[e.jsx("h2",{className:"text-xl font-bold text-gray-900 mb-6",children:"Quick Actions"}),e.jsx("div",{className:"grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-4 gap-4",children:y.map((s,t)=>e.jsxs("button",{onClick:s.action,className:"flex flex-col items-center p-6 bg-gradient-to-br from-gray-50 to-gray-100 rounded-xl hover:shadow-xl transition-all duration-300 transform hover:scale-105 group",children:[e.jsx("div",{className:`w-16 h-16 bg-gradient-to-r ${s.color} rounded-full flex items-center justify-center text-3xl mb-3 shadow-lg group-hover:scale-110 transition-transform`,children:s.icon}),e.jsx("h3",{className:"font-semibold text-gray-900 mb-1",children:s.title}),e.jsx("p",{className:"text-sm text-gray-500 text-center",children:s.description})]},t))})]}),e.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-3 gap-8",children:[e.jsxs("div",{className:"lg:col-span-2 bg-white rounded-xl shadow-lg p-6 animate-fadeIn",children:[e.jsxs("div",{className:"flex items-center justify-between mb-6",children:[e.jsx("h2",{className:"text-xl font-bold text-gray-900",children:"Recent Orders"}),e.jsx("button",{onClick:()=>r("/orders"),className:"text-afri-green hover:text-afri-green-dark font-semibold text-sm",children:"View All â†’"})]}),o.length===0?e.jsxs("div",{className:"text-center py-12",children:[e.jsx("div",{className:"text-6xl mb-4",children:"ðŸ“¦"}),e.jsx("p",{className:"text-gray-500 mb-4",children:"No orders yet"}),e.jsx("button",{onClick:()=>r("/products"),className:"px-6 py-2 bg-gradient-to-r from-afri-green to-afri-green-dark text-white rounded-lg font-semibold hover:shadow-lg transition-all",children:"Start Shopping"})]}):e.jsx("div",{className:"space-y-4",children:o.map((s,t)=>{var a,m,x,g;return e.jsxs("div",{className:"flex items-center justify-between p-4 bg-gray-50 rounded-lg hover:bg-gray-100 transition-colors cursor-pointer",onClick:()=>r(`/orders/${s._id}`),children:[e.jsxs("div",{className:"flex items-center space-x-4",children:[e.jsxs("div",{className:"w-12 h-12 bg-gradient-to-br from-afri-green to-afri-green-dark rounded-lg flex items-center justify-center text-white font-bold",children:["#",((a=s.orderNumber)==null?void 0:a.slice(-4))||"N/A"]}),e.jsxs("div",{children:[e.jsxs("p",{className:"font-semibold text-gray-900",children:[((m=s.items)==null?void 0:m.length)||0," items"]}),e.jsx("p",{className:"text-sm text-gray-500",children:new Date(s.createdAt).toLocaleDateString("en-GB",{day:"numeric",month:"short",year:"numeric"})})]})]}),e.jsxs("div",{className:"text-right",children:[e.jsxs("p",{className:"font-bold text-gray-900",children:["Â£",((x=s.totalAmount)==null?void 0:x.toFixed(2))||"0.00"]}),e.jsx("span",{className:`text-xs px-3 py-1 rounded-full font-semibold ${j(s.status)}`,children:((g=s.status)==null?void 0:g.replace(/-/g," ").replace(/\b\w/g,N=>N.toUpperCase()))||"Pending"})]})]},s._id||t)})})]}),e.jsxs("div",{className:"bg-white rounded-xl shadow-lg p-6 animate-fadeIn",style:{animationDelay:"200ms"},children:[e.jsx("h2",{className:"text-xl font-bold text-gray-900 mb-6",children:"Recommended for You"}),c.length===0?e.jsxs("div",{className:"text-center py-8",children:[e.jsx("div",{className:"text-5xl mb-3",children:"ðŸ›ï¸"}),e.jsx("p",{className:"text-gray-500 text-sm",children:"No recommendations yet"})]}):e.jsx("div",{className:"space-y-4",children:c.map((s,t)=>{var a;return e.jsxs("div",{className:"flex items-center space-x-3 p-3 bg-gray-50 rounded-lg hover:bg-gray-100 transition-colors cursor-pointer",onClick:()=>r(`/products/${s._id}`),children:[e.jsx("img",{src:v(s),alt:s.name,className:"w-16 h-16 rounded-lg object-cover"}),e.jsxs("div",{className:"flex-1",children:[e.jsx("p",{className:"font-semibold text-gray-900 text-sm line-clamp-1",children:s.name}),e.jsx("p",{className:"text-xs text-gray-500",children:s.unit||"per item"}),e.jsxs("p",{className:"text-afri-green font-bold mt-1",children:["Â£",((a=s.price)==null?void 0:a.toFixed(2))||"0.00"]})]})]},s._id||t)})}),e.jsx("button",{onClick:()=>r("/products"),className:"w-full mt-4 py-2 bg-gradient-to-r from-afri-green to-afri-green-dark text-white rounded-lg font-semibold hover:shadow-lg transition-all",children:"Browse All Products"})]})]})]}),e.jsx("style",{jsx:!0,children:`
        @keyframes slideDown {
          from {
            opacity: 0;
            transform: translateY(-20px);
          }
          to {
            opacity: 1;
            transform: translateY(0);
          }
        }

        @keyframes slideUp {
          from {
            opacity: 0;
            transform: translateY(20px);
          }
          to {
            opacity: 1;
            transform: translateY(0);
          }
        }

        @keyframes fadeIn {
          from {
            opacity: 0;
          }
          to {
            opacity: 1;
          }
        }

        .animate-slideDown {
          animation: slideDown 0.5s ease-out;
        }

        .animate-slideUp {
          animation: slideUp 0.6s ease-out;
        }

        .animate-fadeIn {
          animation: fadeIn 0.6s ease-out;
        }

        .line-clamp-1 {
          overflow: hidden;
          display: -webkit-box;
          -webkit-line-clamp: 1;
          -webkit-box-orient: vertical;
        }
      `})]})}export{R as default};
