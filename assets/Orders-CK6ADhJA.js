import{j as e}from"./date-iP6_brdS.js";import{r as g}from"./vendor-CPDP2aPO.js";import{v as B}from"./index-B_A1dkTv.js";import"./ui-Tzc8TJql.js";function Q({order:t,onPackingComplete:j,onStatusUpdate:h}){var i;const[b,n]=g.useState([]),[o,N]=g.useState({});g.useEffect(()=>{const s=t.items.map(a=>({itemId:a._id||a.productId||a.name,name:a.name,quantity:a.quantity,unit:a.unit,packed:!1,pickedQuantity:0}));n(s)},[t.items]);const v=s=>{n(a=>a.map(l=>l.itemId===s?{...l,packed:!l.packed,pickedQuantity:l.packed?0:l.quantity}:l))},d=(s,a)=>{n(l=>l.map(u=>u.itemId===s?{...u,pickedQuantity:Math.max(0,Math.min(a,u.quantity))}:u))},y=(s,a)=>{N(l=>({...l,[s]:a}))},c=()=>{n(s=>s.map(a=>({...a,packed:!0,pickedQuantity:a.quantity})))},w=async()=>{!b.every(a=>a.packed)&&!window.confirm("Not all items are marked as packed. Are you sure you want to mark this order as ready?")||(j&&j(b),h&&await h("ready_for_pickup","All items packed and ready for pickup"))},m=b.filter(s=>s.packed).length,p=b.length,f=p>0?m/p*100:0;return e.jsxs("div",{className:"space-y-6",children:[e.jsxs("div",{className:"bg-gradient-to-br from-[#FFB300] to-[#FFA726] rounded-xl p-6 text-white shadow-lg",children:[e.jsxs("div",{className:"flex items-center justify-between mb-4",children:[e.jsxs("div",{children:[e.jsx("h3",{className:"text-2xl font-bold",children:"Packing Checklist"}),e.jsxs("p",{className:"text-gray-900 mt-1",children:[m," of ",p," items packed"]})]}),e.jsxs("div",{className:"text-right",children:[e.jsxs("div",{className:"text-4xl font-bold",children:[Math.round(f),"%"]}),e.jsx("div",{className:"text-sm text-gray-900",children:"Complete"})]})]}),e.jsx("div",{className:"w-full bg-gray-900/20 rounded-full h-4 overflow-hidden shadow-inner",children:e.jsx("div",{className:"bg-gradient-to-r from-[#00897B] to-[#26A69A] h-full rounded-full transition-all duration-500 ease-out shadow-lg",style:{width:`${f}%`}})}),e.jsxs("div",{className:"mt-4 flex gap-3",children:[e.jsx("button",{onClick:c,className:"flex-1 bg-white text-gray-900 px-4 py-2 rounded-lg font-semibold shadow-md hover:shadow-lg transition-all transform hover:-translate-y-0.5",children:"âœ“ Mark All Packed"}),e.jsx("button",{onClick:w,disabled:m===0,className:"flex-1 bg-[#00897B] text-white px-4 py-2 rounded-lg font-semibold shadow-md hover:shadow-lg hover:bg-[#00695C] transition-all transform hover:-translate-y-0.5 disabled:opacity-50 disabled:cursor-not-allowed disabled:transform-none",children:"ðŸ“¦ Ready for Pickup"})]})]}),((i=t.deliveryAddress)==null?void 0:i.instructions)&&e.jsx("div",{className:"bg-yellow-50 border-l-4 border-[#FFB300] rounded-lg p-4 shadow-sm",children:e.jsxs("div",{className:"flex items-start gap-3",children:[e.jsx("svg",{className:"w-5 h-5 text-[#FFB300] mt-0.5",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M13 16h-1v-4h-1m1-4h.01M21 12a9 9 0 11-18 0 9 9 0 0118 0z"})}),e.jsxs("div",{children:[e.jsx("h4",{className:"font-semibold text-gray-900 mb-1",children:"Special Instructions"}),e.jsx("p",{className:"text-gray-700 text-sm",children:t.deliveryAddress.instructions})]})]})}),e.jsx("div",{className:"space-y-3",children:b.map((s,a)=>{const l=t.items[a];return e.jsx("div",{className:`
                bg-white rounded-xl p-5 shadow-md border-2 transition-all duration-300
                ${s.packed?"border-[#00897B] bg-green-50/50":"border-gray-200 hover:border-[#FFB300]"}
              `,children:e.jsxs("div",{className:"flex items-start gap-4",children:[e.jsx("div",{className:"flex-shrink-0 pt-1",children:e.jsx("button",{onClick:()=>v(s.itemId),className:`
                      w-8 h-8 rounded-lg border-2 flex items-center justify-center
                      transition-all duration-200 transform hover:scale-110
                      ${s.packed?"bg-[#00897B] border-[#00897B] shadow-lg":"bg-white border-gray-300 hover:border-[#FFB300]"}
                    `,children:s.packed&&e.jsx("svg",{className:"w-5 h-5 text-white",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:3,d:"M5 13l4 4L19 7"})})})}),e.jsxs("div",{className:"flex-1 min-w-0",children:[e.jsxs("div",{className:"flex items-start justify-between gap-4 mb-3",children:[e.jsxs("div",{className:"flex-1",children:[e.jsx("h4",{className:`text-lg font-semibold ${s.packed?"text-[#00897B] line-through":"text-gray-900"}`,children:s.name}),e.jsxs("div",{className:"flex flex-wrap items-center gap-3 mt-1",children:[e.jsxs("span",{className:"text-sm text-gray-600",children:["Ordered: ",e.jsxs("span",{className:"font-semibold",children:[s.quantity," ",s.unit]})]}),l.price&&e.jsxs("span",{className:"text-sm text-gray-600",children:["Price: ",e.jsxs("span",{className:"font-semibold",children:["Â£",l.price.toFixed(2)]})]})]})]}),l.image&&e.jsx("img",{src:l.image,alt:s.name,className:"w-20 h-20 object-cover rounded-lg shadow-md"})]}),e.jsxs("div",{className:"flex items-center gap-4 mb-3",children:[e.jsx("label",{className:"text-sm font-medium text-gray-700",children:"Picked Quantity:"}),e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx("button",{onClick:()=>d(s.itemId,s.pickedQuantity-1),disabled:s.pickedQuantity<=0,className:"w-8 h-8 rounded-lg bg-gray-200 hover:bg-gray-300 disabled:opacity-50 disabled:cursor-not-allowed font-semibold transition-colors",children:"-"}),e.jsx("input",{type:"number",value:s.pickedQuantity,onChange:u=>d(s.itemId,parseInt(u.target.value)||0),className:"w-20 text-center px-2 py-1 border-2 border-gray-300 rounded-lg font-semibold focus:border-[#FFB300] focus:ring-2 focus:ring-[#FFB300]/20",min:"0",max:s.quantity}),e.jsx("button",{onClick:()=>d(s.itemId,s.pickedQuantity+1),disabled:s.pickedQuantity>=s.quantity,className:"w-8 h-8 rounded-lg bg-gray-200 hover:bg-gray-300 disabled:opacity-50 disabled:cursor-not-allowed font-semibold transition-colors",children:"+"}),e.jsxs("span",{className:"text-sm text-gray-600",children:["/ ",s.quantity," ",s.unit]})]})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Notes (optional)"}),e.jsx("input",{type:"text",value:o[s.itemId]||"",onChange:u=>y(s.itemId,u.target.value),placeholder:"E.g., substitution, quality issue...",className:"w-full px-3 py-2 border border-gray-300 rounded-lg text-sm focus:ring-2 focus:ring-[#FFB300] focus:border-transparent"})]}),s.pickedQuantity>0&&s.pickedQuantity<s.quantity&&e.jsx("div",{className:"mt-2 p-2 bg-orange-50 border-l-4 border-orange-400 rounded",children:e.jsxs("p",{className:"text-xs text-orange-700",children:["âš ï¸ Short by ",s.quantity-s.pickedQuantity," ",s.unit]})})]})]})},s.itemId)})}),e.jsxs("div",{className:"bg-gradient-to-br from-gray-50 to-gray-100 rounded-xl p-6 shadow-lg border border-gray-200",children:[e.jsx("h4",{className:"font-semibold text-gray-900 mb-3",children:"Packing Summary"}),e.jsxs("div",{className:"grid grid-cols-3 gap-4",children:[e.jsxs("div",{className:"text-center p-3 bg-white rounded-lg shadow-sm",children:[e.jsx("div",{className:"text-2xl font-bold text-gray-900",children:p}),e.jsx("div",{className:"text-xs text-gray-600 mt-1",children:"Total Items"})]}),e.jsxs("div",{className:"text-center p-3 bg-white rounded-lg shadow-sm",children:[e.jsx("div",{className:"text-2xl font-bold text-[#00897B]",children:m}),e.jsx("div",{className:"text-xs text-gray-600 mt-1",children:"Packed"})]}),e.jsxs("div",{className:"text-center p-3 bg-white rounded-lg shadow-sm",children:[e.jsx("div",{className:"text-2xl font-bold text-orange-600",children:p-m}),e.jsx("div",{className:"text-xs text-gray-600 mt-1",children:"Remaining"})]})]})]}),e.jsx("div",{className:"sticky bottom-0 bg-white border-t-2 border-gray-200 p-4 -mx-6 -mb-6 rounded-b-xl shadow-lg",children:e.jsx("button",{onClick:w,disabled:m===0,className:`
            w-full py-4 rounded-xl font-bold text-lg text-white shadow-lg
            transition-all duration-200 transform hover:-translate-y-1 hover:shadow-xl
            ${m===p?"bg-gradient-to-r from-[#00897B] to-[#26A69A]":"bg-gradient-to-r from-gray-500 to-gray-600"}
            disabled:opacity-50 disabled:cursor-not-allowed disabled:transform-none
          `,children:m===p?e.jsx(e.Fragment,{children:"âœ“ Mark Order as Ready for Pickup"}):e.jsxs(e.Fragment,{children:["Pack ",p-m," More Items"]})})})]})}function V({order:t,onPickerAssigned:j}){var s,a,l,u;const[h,b]=g.useState([]),[n,o]=g.useState(null),[N,v]=g.useState(!0),[d,y]=g.useState(!1);g.useEffect(()=>{c()},[]);const c=async()=>{try{v(!0);const r=[{id:"picker-1",name:"John Smith",status:"available",activeOrders:0,rating:4.8,completedOrders:156,avatar:null},{id:"picker-2",name:"Sarah Johnson",status:"available",activeOrders:1,rating:4.9,completedOrders:203,avatar:null},{id:"picker-3",name:"Michael Brown",status:"busy",activeOrders:3,rating:4.7,completedOrders:189,avatar:null},{id:"picker-4",name:"Emily Davis",status:"available",activeOrders:0,rating:5,completedOrders:98,avatar:null}];setTimeout(()=>{b(r),v(!1)},500)}catch(r){console.error("Error fetching pickers:",r),v(!1)}},w=async()=>{if(!n){alert("Please select a picker");return}y(!0);try{await new Promise(r=>setTimeout(r,1e3)),j&&await j(n.id),alert(`Order assigned to ${n.name}`)}catch(r){console.error("Error assigning picker:",r),alert("Failed to assign picker. Please try again.")}finally{y(!1)}},m=r=>{switch(r){case"available":return"bg-green-100 text-green-700 border-green-200";case"busy":return"bg-orange-100 text-orange-700 border-orange-200";case"offline":return"bg-gray-100 text-gray-700 border-gray-200";default:return"bg-gray-100 text-gray-700 border-gray-200"}},p=r=>{switch(r){case"available":return"bg-green-500";case"busy":return"bg-orange-500";case"offline":return"bg-gray-400";default:return"bg-gray-400"}};if(N)return e.jsxs("div",{className:"flex flex-col items-center justify-center py-12",children:[e.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-[#FFB300] mb-4"}),e.jsx("p",{className:"text-gray-600",children:"Loading available pickers..."})]});const f=h.filter(r=>r.status==="available"),i=h.filter(r=>r.status==="busy");return e.jsxs("div",{className:"space-y-6",children:[e.jsxs("div",{className:"bg-gradient-to-br from-[#FFB300] to-[#FFA726] rounded-xl p-6 text-white shadow-lg",children:[e.jsx("h3",{className:"text-2xl font-bold mb-2",children:"Assign Order Picker"}),e.jsxs("p",{className:"text-gray-900",children:["Select a picker to handle this order â€¢ ",f.length," available"]})]}),e.jsxs("div",{className:"bg-white rounded-xl p-5 shadow-md border border-gray-200",children:[e.jsx("h4",{className:"font-semibold text-gray-900 mb-3",children:"Order Details"}),e.jsxs("div",{className:"grid grid-cols-2 md:grid-cols-4 gap-4",children:[e.jsxs("div",{children:[e.jsx("p",{className:"text-sm text-gray-500",children:"Order Number"}),e.jsx("p",{className:"font-semibold text-gray-900",children:t.orderNumber})]}),e.jsxs("div",{children:[e.jsx("p",{className:"text-sm text-gray-500",children:"Total Items"}),e.jsx("p",{className:"font-semibold text-gray-900",children:((s=t.items)==null?void 0:s.length)||0})]}),e.jsxs("div",{children:[e.jsx("p",{className:"text-sm text-gray-500",children:"Order Value"}),e.jsxs("p",{className:"font-semibold text-[#00897B]",children:["Â£",(l=(a=t.pricing)==null?void 0:a.total)==null?void 0:l.toFixed(2)]})]}),e.jsxs("div",{children:[e.jsx("p",{className:"text-sm text-gray-500",children:"Customer"}),e.jsx("p",{className:"font-semibold text-gray-900",children:((u=t.deliveryAddress)==null?void 0:u.fullName)||"N/A"})]})]})]}),f.length>0&&e.jsxs("div",{children:[e.jsxs("h4",{className:"text-lg font-semibold text-gray-900 mb-3 flex items-center gap-2",children:[e.jsx("span",{className:"w-3 h-3 bg-green-500 rounded-full animate-pulse"}),"Available Pickers (",f.length,")"]}),e.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:f.map(r=>e.jsx("div",{onClick:()=>o(r),className:`
                  bg-white rounded-xl p-5 shadow-md cursor-pointer transition-all duration-200
                  border-2 ${(n==null?void 0:n.id)===r.id?"border-[#FFB300] shadow-lg scale-105":"border-gray-200 hover:border-[#FFB300] hover:shadow-lg"}
                `,children:e.jsxs("div",{className:"flex items-start gap-4",children:[e.jsxs("div",{className:"flex-shrink-0",children:[r.avatar?e.jsx("img",{src:r.avatar,alt:r.name,className:"w-16 h-16 rounded-full object-cover shadow-md"}):e.jsx("div",{className:"w-16 h-16 rounded-full bg-gradient-to-br from-[#FFB300] to-[#FFA726] flex items-center justify-center text-white text-2xl font-bold shadow-md",children:r.name.charAt(0)}),e.jsx("div",{className:`w-4 h-4 rounded-full ${p(r.status)} border-2 border-white shadow-sm -mt-3 ml-12`})]}),e.jsxs("div",{className:"flex-1 min-w-0",children:[e.jsxs("div",{className:"flex items-start justify-between gap-2 mb-2",children:[e.jsx("h5",{className:"font-bold text-gray-900 text-lg",children:r.name}),(n==null?void 0:n.id)===r.id&&e.jsx("svg",{className:"w-6 h-6 text-[#FFB300] flex-shrink-0",fill:"currentColor",viewBox:"0 0 20 20",children:e.jsx("path",{fillRule:"evenodd",d:"M10 18a8 8 0 100-16 8 8 0 000 16zm3.707-9.293a1 1 0 00-1.414-1.414L9 10.586 7.707 9.293a1 1 0 00-1.414 1.414l2 2a1 1 0 001.414 0l4-4z",clipRule:"evenodd"})})]}),e.jsxs("div",{className:"grid grid-cols-3 gap-2 mb-3",children:[e.jsxs("div",{className:"text-center p-2 bg-gray-50 rounded-lg",children:[e.jsx("div",{className:"text-sm font-bold text-gray-900",children:r.rating}),e.jsx("div",{className:"text-xs text-gray-500",children:"Rating"})]}),e.jsxs("div",{className:"text-center p-2 bg-gray-50 rounded-lg",children:[e.jsx("div",{className:"text-sm font-bold text-gray-900",children:r.completedOrders}),e.jsx("div",{className:"text-xs text-gray-500",children:"Orders"})]}),e.jsxs("div",{className:"text-center p-2 bg-gray-50 rounded-lg",children:[e.jsx("div",{className:"text-sm font-bold text-gray-900",children:r.activeOrders}),e.jsx("div",{className:"text-xs text-gray-500",children:"Active"})]})]}),e.jsxs("span",{className:`inline-flex items-center px-3 py-1 rounded-full text-xs font-semibold border ${m(r.status)}`,children:[e.jsx("span",{className:`w-2 h-2 rounded-full ${p(r.status)} mr-2`}),r.status.charAt(0).toUpperCase()+r.status.slice(1)]})]})]})},r.id))})]}),i.length>0&&e.jsxs("div",{children:[e.jsxs("h4",{className:"text-lg font-semibold text-gray-900 mb-3 flex items-center gap-2",children:[e.jsx("span",{className:"w-3 h-3 bg-orange-500 rounded-full"}),"Busy Pickers (",i.length,")"]}),e.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:i.map(r=>e.jsx("div",{className:"bg-white rounded-xl p-5 shadow-md border-2 border-gray-200 opacity-60",children:e.jsxs("div",{className:"flex items-start gap-4",children:[e.jsx("div",{className:"flex-shrink-0",children:r.avatar?e.jsx("img",{src:r.avatar,alt:r.name,className:"w-16 h-16 rounded-full object-cover shadow-md grayscale"}):e.jsx("div",{className:"w-16 h-16 rounded-full bg-gray-400 flex items-center justify-center text-white text-2xl font-bold shadow-md",children:r.name.charAt(0)})}),e.jsxs("div",{className:"flex-1",children:[e.jsx("h5",{className:"font-bold text-gray-700 text-lg mb-1",children:r.name}),e.jsxs("p",{className:"text-sm text-gray-500 mb-2",children:["Currently handling ",r.activeOrders," orders"]}),e.jsxs("span",{className:`inline-flex items-center px-3 py-1 rounded-full text-xs font-semibold border ${m(r.status)}`,children:[e.jsx("span",{className:`w-2 h-2 rounded-full ${p(r.status)} mr-2`}),"Busy"]})]})]})},r.id))})]}),h.length===0&&e.jsxs("div",{className:"bg-gray-50 rounded-xl p-12 text-center",children:[e.jsx("svg",{className:"w-16 h-16 text-gray-300 mx-auto mb-4",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M17 20h5v-2a3 3 0 00-5.356-1.857M17 20H7m10 0v-2c0-.656-.126-1.283-.356-1.857M7 20H2v-2a3 3 0 015.356-1.857M7 20v-2c0-.656.126-1.283.356-1.857m0 0a5.002 5.002 0 019.288 0M15 7a3 3 0 11-6 0 3 3 0 016 0zm6 3a2 2 0 11-4 0 2 2 0 014 0zM7 10a2 2 0 11-4 0 2 2 0 014 0z"})}),e.jsx("h3",{className:"text-lg font-semibold text-gray-900 mb-2",children:"No Pickers Available"}),e.jsx("p",{className:"text-gray-600",children:"All pickers are currently busy. Please check back in a few minutes."})]}),n&&e.jsx("div",{className:"sticky bottom-0 bg-white border-t-2 border-gray-200 p-4 -mx-6 -mb-6 rounded-b-xl shadow-lg",children:e.jsx("button",{onClick:w,disabled:d,className:"w-full py-4 bg-gradient-to-r from-[#00897B] to-[#26A69A] text-white rounded-xl font-bold text-lg shadow-lg hover:shadow-xl transition-all duration-200 transform hover:-translate-y-1 disabled:opacity-50 disabled:cursor-not-allowed disabled:transform-none flex items-center justify-center gap-2",children:d?e.jsxs(e.Fragment,{children:[e.jsxs("svg",{className:"animate-spin h-5 w-5",fill:"none",viewBox:"0 0 24 24",children:[e.jsx("circle",{className:"opacity-25",cx:"12",cy:"12",r:"10",stroke:"currentColor",strokeWidth:"4"}),e.jsx("path",{className:"opacity-75",fill:"currentColor",d:"M4 12a8 8 0 018-8V0C5.373 0 0 5.373 0 12h4zm2 5.291A7.962 7.962 0 014 12H0c0 3.042 1.135 5.824 3 7.938l3-2.647z"})]}),"Assigning..."]}):e.jsxs(e.Fragment,{children:["âœ“ Assign to ",n.name]})})})]})}function G({order:t,onStatusUpdate:j,isUpdating:h}){const[b,n]=g.useState(!1),[o,N]=g.useState(null),[v,d]=g.useState(""),y=()=>({pending:[{status:"confirmed",label:"Accept Order",icon:"âœ“",color:"green",description:"Confirm and start preparing this order"},{status:"cancelled",label:"Reject Order",icon:"âœ•",color:"red",description:"Cancel this order (requires reason)",requiresNote:!0}],confirmed:[{status:"preparing",label:"Start Preparing",icon:"ðŸ‘¨â€ðŸ³",color:"orange",description:"Begin preparing the order"},{status:"cancelled",label:"Cancel Order",icon:"âœ•",color:"red",description:"Cancel this order",requiresNote:!0}],preparing:[{status:"ready",label:"Mark as Ready",icon:"âœ“",color:"green",description:"Order is ready for pickup"}],ready:[{status:"out-for-delivery",label:"Out for Delivery",icon:"ðŸšš",color:"blue",description:"Rider has picked up the order"}],"out-for-delivery":[{status:"delivered",label:"Mark as Delivered",icon:"âœ“",color:"green",description:"Order has been delivered to customer"}],delivered:[{status:"completed",label:"Complete Order",icon:"âœ“",color:"gray",description:"Finalize and archive this order"}],assigned_picker:[{status:"picking",label:"Start Picking",icon:"ðŸ“¦",color:"purple",description:"Picker starts collecting items"}],picking:[{status:"picked",label:"Items Picked",icon:"âœ“",color:"purple",description:"All items have been picked"}],picked:[{status:"packing",label:"Start Packing",icon:"ðŸ“¦",color:"indigo",description:"Begin packing the items"}],packing:[{status:"ready_for_pickup",label:"Ready for Pickup",icon:"âœ“",color:"teal",description:"Order is packed and ready"}]})[t.status]||[],c=i=>{N(i),n(!0)},w=async()=>{if(!o)return;const i=o.requiresNote?v:"";if(o.requiresNote&&!i.trim()){alert("Please provide a reason for cancellation");return}try{await j(o.status,i),n(!1),N(null),d("")}catch(s){console.error("Error updating status:",s),alert("Failed to update order status. Please try again.")}},m=()=>{n(!1),N(null),d("")},p=y();if(p.length===0)return null;const f={green:{bg:"bg-gradient-to-r from-green-600 to-green-700",hover:"hover:from-green-700 hover:to-green-800",border:"border-green-600",text:"text-green-700"},red:{bg:"bg-gradient-to-r from-red-600 to-red-700",hover:"hover:from-red-700 hover:to-red-800",border:"border-red-600",text:"text-red-700"},orange:{bg:"bg-gradient-to-r from-orange-600 to-orange-700",hover:"hover:from-orange-700 hover:to-orange-800",border:"border-orange-600",text:"text-orange-700"},blue:{bg:"bg-gradient-to-r from-blue-600 to-blue-700",hover:"hover:from-blue-700 hover:to-blue-800",border:"border-blue-600",text:"text-blue-700"},purple:{bg:"bg-gradient-to-r from-purple-600 to-purple-700",hover:"hover:from-purple-700 hover:to-purple-800",border:"border-purple-600",text:"text-purple-700"},indigo:{bg:"bg-gradient-to-r from-indigo-600 to-indigo-700",hover:"hover:from-indigo-700 hover:to-indigo-800",border:"border-indigo-600",text:"text-indigo-700"},teal:{bg:"bg-gradient-to-r from-[#00897B] to-[#00695C]",hover:"hover:from-[#00695C] hover:to-[#004D40]",border:"border-[#00897B]",text:"text-[#00897B]"},gray:{bg:"bg-gradient-to-r from-gray-600 to-gray-700",hover:"hover:from-gray-700 hover:to-gray-800",border:"border-gray-600",text:"text-gray-700"}};return e.jsxs(e.Fragment,{children:[e.jsxs("div",{className:"bg-white rounded-xl p-6 shadow-lg border-2 border-[#FFB300]",children:[e.jsxs("h3",{className:"text-lg font-semibold text-gray-900 mb-4 flex items-center gap-2",children:[e.jsx("svg",{className:"w-5 h-5 text-[#FFB300]",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M13 10V3L4 14h7v7l9-11h-7z"})}),"Quick Actions"]}),e.jsx("div",{className:"flex flex-wrap gap-3",children:p.map(i=>{const s=f[i.color]||f.gray;return e.jsxs("button",{onClick:()=>c(i),disabled:h,className:`
                  flex items-center gap-2 px-6 py-3 rounded-lg font-semibold text-white
                  ${s.bg} ${s.hover}
                  shadow-md hover:shadow-lg
                  transition-all duration-200 transform hover:-translate-y-0.5
                  disabled:opacity-50 disabled:cursor-not-allowed disabled:transform-none
                `,children:[e.jsx("span",{className:"text-xl",children:i.icon}),e.jsx("span",{children:i.label}),h&&e.jsxs("svg",{className:"animate-spin h-4 w-4",fill:"none",viewBox:"0 0 24 24",children:[e.jsx("circle",{className:"opacity-25",cx:"12",cy:"12",r:"10",stroke:"currentColor",strokeWidth:"4"}),e.jsx("path",{className:"opacity-75",fill:"currentColor",d:"M4 12a8 8 0 018-8V0C5.373 0 0 5.373 0 12h4zm2 5.291A7.962 7.962 0 014 12H0c0 3.042 1.135 5.824 3 7.938l3-2.647z"})]})]},i.status)})})]}),b&&o&&e.jsx("div",{className:"fixed inset-0 bg-black/50 backdrop-blur-sm flex items-center justify-center z-[60] p-4 animate-fadeIn",children:e.jsxs("div",{className:"bg-white rounded-2xl shadow-2xl max-w-md w-full p-6 animate-slideUp",children:[e.jsx("div",{className:`w-16 h-16 rounded-full mx-auto mb-4 flex items-center justify-center ${o.color==="red"?"bg-red-100":"bg-green-100"}`,children:e.jsx("span",{className:"text-3xl",children:o.icon})}),e.jsx("h3",{className:"text-xl font-bold text-gray-900 text-center mb-2",children:o.label}),e.jsx("p",{className:"text-gray-600 text-center mb-4",children:o.description}),o.requiresNote&&e.jsxs("div",{className:"mb-4",children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Reason for cancellation *"}),e.jsx("textarea",{value:v,onChange:i=>d(i.target.value),placeholder:"Please provide a reason...",rows:"3",className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-[#FFB300] focus:border-transparent resize-none",required:!0})]}),e.jsxs("div",{className:"bg-gray-50 rounded-lg p-3 mb-4",children:[e.jsx("div",{className:"text-sm text-gray-600",children:"Order Number"}),e.jsx("div",{className:"font-semibold text-gray-900",children:t.orderNumber})]}),e.jsxs("div",{className:"flex gap-3",children:[e.jsx("button",{onClick:m,className:"flex-1 px-4 py-2 bg-gray-200 hover:bg-gray-300 text-gray-800 font-medium rounded-lg transition-colors",children:"Cancel"}),e.jsx("button",{onClick:w,disabled:o.requiresNote&&!v.trim(),className:`
                  flex-1 px-4 py-2 text-white font-medium rounded-lg transition-all
                  ${f[o.color].bg} ${f[o.color].hover}
                  shadow-md hover:shadow-lg
                  disabled:opacity-50 disabled:cursor-not-allowed
                `,children:"Confirm"})]})]})})]})}function U({order:t}){var f;const[j,h]=g.useState(!1),[b,n]=g.useState(0),o=[{status:"pending",label:"Order Placed",icon:"ðŸ“‹",description:"Customer placed the order"},{status:"confirmed",label:"Order Confirmed",icon:"âœ“",description:"Vendor accepted the order"},{status:"assigned_picker",label:"Picker Assigned",icon:"ðŸ‘¤",description:"Order assigned to picker"},{status:"picking",label:"Picking Items",icon:"ðŸ›’",description:"Picker is collecting items"},{status:"picked",label:"Items Picked",icon:"âœ“",description:"All items collected"},{status:"packing",label:"Packing Order",icon:"ðŸ“¦",description:"Items being packed"},{status:"ready_for_pickup",label:"Ready for Pickup",icon:"âœ“",description:"Order ready for rider"},{status:"out-for-delivery",label:"Out for Delivery",icon:"ðŸšš",description:"Rider on the way"},{status:"delivered",label:"Delivered",icon:"âœ“",description:"Order delivered to customer"},{status:"completed",label:"Completed",icon:"âœ“",description:"Order completed"}],N={label:"Order Cancelled",icon:"âœ•",description:"Order was cancelled"},d=t.status==="cancelled"?-1:o.findIndex(i=>i.status===t.status),y=t.status==="cancelled",c=i=>y?"cancelled":i<d?"completed":i===d?"current":"upcoming",w=i=>{switch(i){case"completed":return{bg:"bg-[#00897B]",text:"text-[#00897B]",border:"border-[#00897B]",line:"bg-[#00897B]"};case"current":return{bg:"bg-[#FFB300]",text:"text-[#FFB300]",border:"border-[#FFB300]",line:"bg-gray-300"};case"cancelled":return{bg:"bg-red-500",text:"text-red-500",border:"border-red-500",line:"bg-gray-300"};default:return{bg:"bg-gray-300",text:"text-gray-400",border:"border-gray-300",line:"bg-gray-300"}}},m=t.statusHistory||[{status:"pending",timestamp:t.createdAt,note:"Order placed by customer",user:"System"},...t.status!=="pending"?[{status:t.status,timestamp:t.updatedAt,note:"Current status",user:"Vendor"}]:[]],p=j?m:m.slice(0,3);return g.useEffect(()=>{const i=(d+1)/o.length*100;let s=0;const a=i/50,l=setInterval(()=>{s+=a,s>=i?(n(i),clearInterval(l)):n(s)},20);return()=>clearInterval(l)},[d,o.length]),e.jsxs("div",{className:"space-y-6",children:[e.jsxs("div",{className:"bg-gradient-to-br from-[#FFB300] to-[#FFA726] rounded-xl p-6 text-white shadow-lg animate-slideDown",children:[e.jsx("h3",{className:"text-2xl font-bold mb-2",children:"Order Timeline"}),e.jsxs("p",{className:"text-gray-900",children:["Track the progress of order ",t.orderNumber]})]}),!y&&e.jsxs("div",{className:"bg-white rounded-xl p-6 shadow-lg border border-gray-200 animate-fadeIn",children:[e.jsxs("div",{className:"flex items-center justify-between mb-3",children:[e.jsx("h4",{className:"text-lg font-semibold text-gray-900",children:"Overall Progress"}),e.jsxs("span",{className:"text-2xl font-bold bg-gradient-to-r from-[#00897B] to-[#00695C] bg-clip-text text-transparent",children:[Math.round(b),"%"]})]}),e.jsxs("div",{className:"relative w-full h-6 bg-gray-200 rounded-full overflow-hidden shadow-inner",children:[e.jsx("div",{className:"absolute top-0 left-0 h-full bg-gradient-to-r from-[#00897B] via-[#00695C] to-[#00897B] rounded-full transition-all duration-1000 ease-out shadow-lg animate-shimmer",style:{width:`${b}%`},children:e.jsx("div",{className:"absolute inset-0 bg-gradient-to-r from-transparent via-white to-transparent opacity-30 animate-pulse"})}),o.map((i,s)=>{const a=(s+1)/o.length*100;return e.jsx("div",{className:"absolute top-1/2 transform -translate-y-1/2 w-2 h-2 bg-white rounded-full shadow-md",style:{left:`${a}%`,marginLeft:"-4px"}},s)})]}),e.jsxs("div",{className:"flex justify-between mt-2 text-xs text-gray-500",children:[e.jsx("span",{children:"Started"}),e.jsx("span",{className:"font-semibold text-[#FFB300]",children:((f=o[d])==null?void 0:f.label)||"Unknown"}),e.jsx("span",{children:"Completed"})]})]}),e.jsxs("div",{className:"bg-white rounded-xl p-6 shadow-lg border border-gray-200",children:[e.jsx("h4",{className:"text-lg font-semibold text-gray-900 mb-6",children:"Progress Stages"}),e.jsx("div",{className:"relative",children:y?e.jsxs("div",{className:"relative flex items-start gap-4",children:[e.jsx("div",{className:"relative z-10 flex-shrink-0",children:e.jsx("div",{className:"w-10 h-10 rounded-full flex items-center justify-center border-4 border-white shadow-lg bg-red-500",children:e.jsx("span",{className:"text-white text-xl",children:N.icon})})}),e.jsxs("div",{className:"flex-1 pt-1",children:[e.jsx("h5",{className:"font-bold text-lg text-red-500 mb-1",children:N.label}),e.jsx("p",{className:"text-sm text-gray-600",children:N.description}),t.cancellationReason&&e.jsx("div",{className:"mt-2 p-3 bg-red-50 border-l-4 border-red-500 rounded",children:e.jsxs("p",{className:"text-sm text-gray-700",children:[e.jsx("span",{className:"font-semibold",children:"Reason:"})," ",t.cancellationReason]})})]})]}):o.map((i,s)=>{const a=c(s),l=w(a),u=s===o.length-1;return e.jsxs("div",{className:"relative flex items-start gap-4 pb-8 animate-slideIn",style:{animationDelay:`${s*100}ms`},children:[!u&&e.jsx("div",{className:"absolute left-5 top-12 w-0.5 h-full",children:e.jsx("div",{className:`w-full transition-all duration-500 ${l.line}`,style:{height:a==="completed"?"100%":a==="current"?"50%":"0%"}})}),e.jsxs("div",{className:"relative z-10 flex-shrink-0",children:[e.jsx("div",{className:`
                        w-10 h-10 rounded-full flex items-center justify-center
                        border-4 border-white shadow-lg transform transition-all duration-500
                        ${l.bg}
                        ${a==="current"?"animate-pulseGlow scale-110 ring-4 ring-[#FFB300] ring-opacity-50":""}
                        ${a==="completed"?"animate-bounceIn":""}
                        ${a==="upcoming"?"scale-90 opacity-50":""}
                      `,children:e.jsx("span",{className:"text-white text-xl",children:i.icon})}),a==="completed"&&e.jsx("div",{className:"absolute -top-1 -right-1 w-5 h-5 bg-[#00897B] rounded-full flex items-center justify-center animate-checkmark",children:e.jsx("svg",{className:"w-3 h-3 text-white",fill:"currentColor",viewBox:"0 0 20 20",children:e.jsx("path",{fillRule:"evenodd",d:"M16.707 5.293a1 1 0 010 1.414l-8 8a1 1 0 01-1.414 0l-4-4a1 1 0 011.414-1.414L8 12.586l7.293-7.293a1 1 0 011.414 0z",clipRule:"evenodd"})})}),a==="current"&&e.jsx("div",{className:"absolute inset-0 rounded-full bg-[#FFB300] animate-ping opacity-20"})]}),e.jsxs("div",{className:"flex-1 pt-1",children:[e.jsxs("div",{className:"flex items-center justify-between mb-1",children:[e.jsx("h5",{className:`font-bold text-lg ${l.text}`,children:i.label}),a==="completed"&&m.find(r=>r.status===i.status)&&e.jsx("span",{className:"text-sm text-gray-500",children:new Date(m.find(r=>r.status===i.status).timestamp).toLocaleString("en-GB",{dateStyle:"short",timeStyle:"short"})}),a==="current"&&e.jsx("span",{className:"px-3 py-1 bg-[#FFB300] text-gray-900 text-xs font-semibold rounded-full",children:"Current"})]}),e.jsx("p",{className:"text-sm text-gray-600",children:i.description}),a==="current"&&e.jsx("div",{className:"mt-2 p-3 bg-yellow-50 border-l-4 border-[#FFB300] rounded",children:e.jsxs("p",{className:"text-sm text-gray-700",children:[e.jsx("span",{className:"font-semibold",children:"In Progress:"})," This stage is currently active"]})})]})]},i.status)})})]}),e.jsxs("div",{className:"bg-white rounded-xl p-6 shadow-lg border border-gray-200",children:[e.jsxs("h4",{className:"text-lg font-semibold text-gray-900 mb-4 flex items-center gap-2",children:[e.jsx("svg",{className:"w-5 h-5 text-[#00897B]",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M12 8v4l3 3m6-3a9 9 0 11-18 0 9 9 0 0118 0z"})}),"Status History"]}),e.jsx("div",{className:"space-y-3",children:p.map((i,s)=>e.jsxs("div",{className:"flex items-start gap-4 p-4 bg-gray-50 rounded-lg hover:bg-gray-100 transition-colors",children:[e.jsx("div",{className:"flex-shrink-0 w-2 h-2 mt-2 rounded-full bg-[#00897B]"}),e.jsxs("div",{className:"flex-1 min-w-0",children:[e.jsxs("div",{className:"flex items-start justify-between gap-2 mb-1",children:[e.jsx("h5",{className:"font-semibold text-gray-900 capitalize",children:i.status.replace(/_/g," ").replace(/-/g," ")}),e.jsx("span",{className:"text-sm text-gray-500 whitespace-nowrap",children:new Date(i.timestamp).toLocaleString("en-GB",{dateStyle:"short",timeStyle:"short"})})]}),i.note&&e.jsx("p",{className:"text-sm text-gray-600",children:i.note}),i.user&&e.jsxs("p",{className:"text-xs text-gray-500 mt-1",children:["By ",i.user]})]})]},s))}),m.length>3&&e.jsx("button",{onClick:()=>h(!j),className:"mt-4 w-full py-2 text-[#00897B] font-medium hover:bg-gray-50 rounded-lg transition-colors",children:j?"â–² Show Less":`â–¼ Show ${m.length-3} More`})]}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4",children:[e.jsxs("div",{className:"bg-gradient-to-br from-blue-50 to-blue-100 rounded-xl p-5 shadow-md border border-blue-200",children:[e.jsxs("div",{className:"flex items-center gap-3 mb-2",children:[e.jsx("div",{className:"w-10 h-10 rounded-full bg-blue-500 flex items-center justify-center",children:e.jsx("svg",{className:"w-5 h-5 text-white",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M12 8v4l3 3m6-3a9 9 0 11-18 0 9 9 0 0118 0z"})})}),e.jsx("h5",{className:"font-semibold text-gray-900",children:"Total Time"})]}),e.jsxs("p",{className:"text-2xl font-bold text-blue-700",children:[Math.round((new Date-new Date(t.createdAt))/1e3/60)," mins"]}),e.jsx("p",{className:"text-sm text-gray-600 mt-1",children:"Since order placed"})]}),e.jsxs("div",{className:"bg-gradient-to-br from-green-50 to-green-100 rounded-xl p-5 shadow-md border border-green-200",children:[e.jsxs("div",{className:"flex items-center gap-3 mb-2",children:[e.jsx("div",{className:"w-10 h-10 rounded-full bg-green-500 flex items-center justify-center",children:e.jsx("svg",{className:"w-5 h-5 text-white",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M9 12l2 2 4-4m6 2a9 9 0 11-18 0 9 9 0 0118 0z"})})}),e.jsx("h5",{className:"font-semibold text-gray-900",children:"Progress"})]}),e.jsxs("p",{className:"text-2xl font-bold text-green-700",children:[Math.round((d+1)/o.length*100),"%"]}),e.jsx("p",{className:"text-sm text-gray-600 mt-1",children:"Order completion"})]}),e.jsxs("div",{className:"bg-gradient-to-br from-purple-50 to-purple-100 rounded-xl p-5 shadow-md border border-purple-200",children:[e.jsxs("div",{className:"flex items-center gap-3 mb-2",children:[e.jsx("div",{className:"w-10 h-10 rounded-full bg-purple-500 flex items-center justify-center",children:e.jsx("svg",{className:"w-5 h-5 text-white",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M13 10V3L4 14h7v7l9-11h-7z"})})}),e.jsx("h5",{className:"font-semibold text-gray-900",children:"Updates"})]}),e.jsx("p",{className:"text-2xl font-bold text-purple-700",children:m.length}),e.jsx("p",{className:"text-sm text-gray-600 mt-1",children:"Status changes"})]})]}),e.jsx("style",{jsx:!0,children:`
        @keyframes slideDown {
          from {
            opacity: 0;
            transform: translateY(-20px);
          }
          to {
            opacity: 1;
            transform: translateY(0);
          }
        }

        @keyframes fadeIn {
          from {
            opacity: 0;
          }
          to {
            opacity: 1;
          }
        }

        @keyframes slideIn {
          from {
            opacity: 0;
            transform: translateX(-20px);
          }
          to {
            opacity: 1;
            transform: translateX(0);
          }
        }

        @keyframes pulseGlow {
          0%, 100% {
            box-shadow: 0 0 20px rgba(255, 179, 0, 0.5);
          }
          50% {
            box-shadow: 0 0 40px rgba(255, 179, 0, 0.8);
          }
        }

        @keyframes bounceIn {
          0% {
            transform: scale(0.5);
            opacity: 0;
          }
          50% {
            transform: scale(1.1);
          }
          100% {
            transform: scale(1);
            opacity: 1;
          }
        }

        @keyframes checkmark {
          0% {
            transform: scale(0) rotate(-45deg);
            opacity: 0;
          }
          50% {
            transform: scale(1.2) rotate(0deg);
          }
          100% {
            transform: scale(1) rotate(0deg);
            opacity: 1;
          }
        }

        @keyframes shimmer {
          0% {
            background-position: -200% center;
          }
          100% {
            background-position: 200% center;
          }
        }

        .animate-slideDown {
          animation: slideDown 0.5s ease-out;
        }

        .animate-fadeIn {
          animation: fadeIn 0.6s ease-out;
        }

        .animate-slideIn {
          animation: slideIn 0.5s ease-out forwards;
          opacity: 0;
        }

        .animate-pulseGlow {
          animation: pulseGlow 2s ease-in-out infinite;
        }

        .animate-bounceIn {
          animation: bounceIn 0.6s cubic-bezier(0.68, -0.55, 0.265, 1.55);
        }

        .animate-checkmark {
          animation: checkmark 0.4s ease-out;
        }

        .animate-shimmer {
          background-size: 200% 100%;
          animation: shimmer 3s linear infinite;
        }
      `})]})}function Y({order:t,onRatingSubmitted:j}){var p,f,i;const[h,b]=g.useState(((p=t==null?void 0:t.riderRating)==null?void 0:p.rating)||0),[n,o]=g.useState(0),[N,v]=g.useState(((f=t==null?void 0:t.riderRating)==null?void 0:f.feedback)||""),[d,y]=g.useState(!1),c=!!(t!=null&&t.riderRating),w=async s=>{var a,l;if(s.preventDefault(),h===0){alert("Please select a rating");return}try{y(!0);const u=await B.rateRider(t._id,{rating:h,feedback:N.trim()});u.success&&(alert("Thank you for rating the delivery agent!"),j&&j(u.data))}catch(u){console.error("Rating submission error:",u),alert(((l=(a=u.response)==null?void 0:a.data)==null?void 0:l.message)||"Failed to submit rating")}finally{y(!1)}},m=()=>e.jsx("div",{className:"flex items-center space-x-2",children:[1,2,3,4,5].map(s=>e.jsx("button",{type:"button",disabled:c||d,onMouseEnter:()=>!c&&o(s),onMouseLeave:()=>!c&&o(0),onClick:()=>!c&&b(s),className:`text-4xl transition-all transform ${c?"cursor-default":"cursor-pointer hover:scale-110"} ${s<=(n||h)?"animate-starPulse":""}`,children:s<=(n||h)?e.jsx("span",{className:"text-afri-yellow drop-shadow-lg",children:"â­"}):e.jsx("span",{className:"text-gray-300",children:"â˜†"})},s))});return t!=null&&t.rider?e.jsxs("div",{className:"bg-white rounded-xl shadow-lg p-6 space-y-6 animate-fadeIn",children:[e.jsxs("div",{className:"flex items-center space-x-4 pb-4 border-b",children:[e.jsx("div",{className:"w-16 h-16 rounded-full bg-gradient-to-br from-afri-green to-afri-green-dark flex items-center justify-center text-white text-2xl font-bold shadow-lg",children:((i=t.rider.name)==null?void 0:i.charAt(0).toUpperCase())||"R"}),e.jsxs("div",{children:[e.jsx("h3",{className:"text-xl font-bold text-afri-gray-900",children:c?"Your Rating":"Rate Delivery Agent"}),e.jsx("p",{className:"text-afri-gray-600",children:t.rider.name}),t.rider.phone&&e.jsx("p",{className:"text-sm text-afri-gray-500",children:t.rider.phone})]}),c&&e.jsx("div",{className:"ml-auto",children:e.jsxs("div",{className:"bg-green-100 text-green-800 px-4 py-2 rounded-lg font-semibold flex items-center",children:[e.jsx("svg",{className:"w-5 h-5 mr-2",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M5 13l4 4L19 7"})}),"Rated"]})})]}),e.jsxs("form",{onSubmit:w,className:"space-y-6",children:[e.jsxs("div",{className:"text-center",children:[e.jsx("label",{className:"block text-sm font-semibold text-afri-gray-900 mb-3",children:"How was your delivery experience?"}),m(),e.jsx("div",{className:"mt-2",children:h>0&&e.jsxs("p",{className:"text-sm text-afri-gray-600 animate-slideDown",children:[h===5&&"ðŸŽ‰ Excellent!",h===4&&"ðŸ˜Š Great!",h===3&&"ðŸ‘ Good",h===2&&"ðŸ˜ Could be better",h===1&&"ðŸ˜ž Poor"]})})]}),e.jsxs("div",{children:[e.jsxs("label",{className:"block text-sm font-semibold text-afri-gray-900 mb-2",children:["Additional Feedback ",!c&&e.jsx("span",{className:"text-afri-gray-500 font-normal",children:"(Optional)"})]}),e.jsx("textarea",{value:N,onChange:s=>v(s.target.value),disabled:c||d,rows:4,placeholder:c?"No feedback provided":"Share your thoughts about the delivery service...",className:`w-full px-4 py-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-afri-green focus:border-transparent resize-none ${c?"bg-gray-50 cursor-default":""}`})]}),!c&&e.jsx("div",{className:"flex justify-end",children:e.jsx("button",{type:"submit",disabled:d||h===0,className:"px-8 py-3 bg-gradient-to-r from-afri-green to-afri-green-dark text-white rounded-lg font-semibold shadow-lg hover:shadow-xl transition-all transform hover:scale-105 disabled:opacity-50 disabled:cursor-not-allowed disabled:transform-none flex items-center",children:d?e.jsxs(e.Fragment,{children:[e.jsxs("svg",{className:"animate-spin h-5 w-5 mr-2",fill:"none",viewBox:"0 0 24 24",children:[e.jsx("circle",{className:"opacity-25",cx:"12",cy:"12",r:"10",stroke:"currentColor",strokeWidth:"4"}),e.jsx("path",{className:"opacity-75",fill:"currentColor",d:"M4 12a8 8 0 018-8V0C5.373 0 0 5.373 0 12h4zm2 5.291A7.962 7.962 0 014 12H0c0 3.042 1.135 5.824 3 7.938l3-2.647z"})]}),"Submitting..."]}):e.jsxs(e.Fragment,{children:[e.jsx("svg",{className:"w-5 h-5 mr-2",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M11.049 2.927c.3-.921 1.603-.921 1.902 0l1.519 4.674a1 1 0 00.95.69h4.915c.969 0 1.371 1.24.588 1.81l-3.976 2.888a1 1 0 00-.363 1.118l1.518 4.674c.3.922-.755 1.688-1.538 1.118l-3.976-2.888a1 1 0 00-1.176 0l-3.976 2.888c-.783.57-1.838-.197-1.538-1.118l1.518-4.674a1 1 0 00-.363-1.118l-3.976-2.888c-.784-.57-.38-1.81.588-1.81h4.914a1 1 0 00.951-.69l1.519-4.674z"})}),"Submit Rating"]})})}),c&&e.jsx("div",{className:"bg-gradient-to-r from-green-50 to-blue-50 rounded-lg p-4 text-center",children:e.jsx("p",{className:"text-sm text-afri-gray-700",children:"Thank you for your feedback! Your rating helps us improve our delivery service."})})]}),e.jsx("style",{jsx:!0,children:`
        @keyframes fadeIn {
          from {
            opacity: 0;
            transform: translateY(10px);
          }
          to {
            opacity: 1;
            transform: translateY(0);
          }
        }

        @keyframes slideDown {
          from {
            opacity: 0;
            transform: translateY(-10px);
          }
          to {
            opacity: 1;
            transform: translateY(0);
          }
        }

        @keyframes starPulse {
          0%,
          100% {
            transform: scale(1);
          }
          50% {
            transform: scale(1.1);
          }
        }

        .animate-fadeIn {
          animation: fadeIn 0.5s ease-out;
        }

        .animate-slideDown {
          animation: slideDown 0.3s ease-out;
        }

        .animate-starPulse {
          animation: starPulse 0.3s ease-out;
        }
      `})]}):e.jsx("div",{className:"bg-gray-50 rounded-xl p-6 text-center",children:e.jsx("p",{className:"text-afri-gray-600",children:"No delivery agent assigned to this order"})})}const J={pending:"bg-gradient-to-r from-yellow-400 to-yellow-500 text-gray-900",confirmed:"bg-gradient-to-r from-blue-500 to-blue-600 text-white",assigned_picker:"bg-gradient-to-r from-purple-500 to-purple-600 text-white",picking:"bg-gradient-to-r from-purple-600 to-purple-700 text-white",picked:"bg-gradient-to-r from-purple-700 to-purple-800 text-white",packing:"bg-gradient-to-r from-indigo-500 to-indigo-600 text-white",ready_for_pickup:"bg-gradient-to-r from-teal-500 to-teal-600 text-white",preparing:"bg-gradient-to-r from-orange-500 to-orange-600 text-white",ready:"bg-gradient-to-r from-green-600 to-green-700 text-white","out-for-delivery":"bg-gradient-to-r from-blue-600 to-blue-700 text-white",delivered:"bg-gradient-to-r from-green-700 to-green-800 text-white",completed:"bg-gradient-to-r from-gray-700 to-gray-800 text-white",cancelled:"bg-gradient-to-r from-red-500 to-red-600 text-white"},X={pending:"Pending",confirmed:"Confirmed",assigned_picker:"Picker Assigned",picking:"Picking Items",picked:"Items Picked",packing:"Packing",ready_for_pickup:"Ready for Pickup",preparing:"Preparing",ready:"Ready","out-for-delivery":"Out for Delivery",delivered:"Delivered",completed:"Completed",cancelled:"Cancelled"};function K({order:t,onClose:j,onStatusUpdate:h,onRefresh:b}){var i,s,a,l,u,r,F,C,P,A,O,I,M,L,D,R,$,z,_,q,E,T;const[n,o]=g.useState("details"),[N,v]=g.useState([]),[d,y]=g.useState(!1);g.useEffect(()=>{if(t.status==="packing"||t.status==="picking"){const x=t.items.map(k=>({itemId:k._id||k.productId,packed:!1}));v(x)}},[t]);const c=async(x,k="")=>{y(!0);try{await h(t._id,x,k),b&&await b()}catch(S){console.error("Error updating status:",S)}finally{y(!1)}},w=x=>{v(x),x.every(S=>S.packed)&&c("ready_for_pickup","All items packed and ready")},m=async x=>{try{await c("assigned_picker",`Picker ${x} assigned`)}catch(k){console.error("Error assigning picker:",k)}},p=t.items.reduce((x,k)=>x+k.quantity,0),f=Math.ceil(p*2);return e.jsx("div",{className:"fixed inset-0 bg-black/60 backdrop-blur-sm flex items-center justify-center z-50 p-4 animate-fadeIn",children:e.jsxs("div",{className:"bg-white rounded-2xl shadow-2xl max-w-6xl w-full max-h-[95vh] overflow-hidden flex flex-col animate-slideUp",children:[e.jsx("div",{className:"bg-gradient-to-r from-[#FFB300] to-[#FFA726] text-gray-900 p-6",children:e.jsxs("div",{className:"flex justify-between items-start",children:[e.jsxs("div",{children:[e.jsx("h2",{className:"text-3xl font-bold",children:t.orderNumber}),e.jsxs("p",{className:"text-gray-800 mt-1 text-sm",children:["Placed on ",new Date(t.createdAt).toLocaleString("en-GB",{dateStyle:"medium",timeStyle:"short"})]}),e.jsxs("div",{className:"mt-2 flex items-center gap-3",children:[e.jsx("span",{className:`px-4 py-1.5 inline-flex text-sm font-semibold rounded-full shadow-lg ${J[t.status]}`,children:X[t.status]}),e.jsxs("span",{className:"text-sm text-gray-800",children:[p," items â€¢ Est. ",f," mins"]})]})]}),e.jsx("button",{onClick:j,className:"text-gray-900 hover:text-gray-700 transition-all hover:rotate-90 duration-300",children:e.jsx("svg",{className:"w-8 h-8",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2.5,d:"M6 18L18 6M6 6l12 12"})})})]})}),e.jsx("div",{className:"border-b border-gray-200 bg-gray-50",children:e.jsx("div",{className:"flex overflow-x-auto",children:[{id:"details",label:"Order Details",icon:"ðŸ“‹"},{id:"timeline",label:"Timeline",icon:"ðŸ“"},{id:"packing",label:"Packing",icon:"ðŸ“¦",show:["packing","picking","assigned_picker"].includes(t.status)},{id:"picker",label:"Picker",icon:"ðŸ‘¤",show:["pending","confirmed"].includes(t.status)},{id:"rating",label:"Rate Rider",icon:"â­",show:["delivered","completed"].includes(t.status)}].map(x=>x.show===!1||x.show&&!x.show?null:e.jsxs("button",{onClick:()=>o(x.id),className:`px-6 py-4 text-sm font-medium transition-all duration-200 border-b-2 whitespace-nowrap ${n===x.id?"border-[#FFB300] text-[#FFB300] bg-white":"border-transparent text-gray-600 hover:text-[#FFB300] hover:bg-gray-100"}`,children:[e.jsx("span",{className:"mr-2",children:x.icon}),x.label]},x.id))})}),e.jsxs("div",{className:"flex-1 overflow-y-auto p-6",children:[n==="details"&&e.jsxs("div",{className:"space-y-6",children:[e.jsx(G,{order:t,onStatusUpdate:c,isUpdating:d}),e.jsxs("div",{className:"bg-gradient-to-br from-gray-50 to-gray-100 rounded-xl p-6 shadow-sm border border-gray-200",children:[e.jsxs("h3",{className:"text-lg font-semibold text-gray-900 mb-4 flex items-center gap-2",children:[e.jsx("svg",{className:"w-5 h-5 text-[#00897B]",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M16 7a4 4 0 11-8 0 4 4 0 018 0zM12 14a7 7 0 00-7 7h14a7 7 0 00-7-7z"})}),"Customer Information"]}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[e.jsxs("div",{className:"bg-white rounded-lg p-4 shadow-sm",children:[e.jsx("p",{className:"text-sm text-gray-500 mb-1",children:"Name"}),e.jsx("p",{className:"font-semibold text-gray-900",children:((i=t.deliveryAddress)==null?void 0:i.fullName)||((s=t.customer)==null?void 0:s.name)||"N/A"})]}),e.jsxs("div",{className:"bg-white rounded-lg p-4 shadow-sm",children:[e.jsx("p",{className:"text-sm text-gray-500 mb-1",children:"Phone"}),e.jsx("p",{className:"font-semibold text-gray-900",children:((a=t.deliveryAddress)==null?void 0:a.phone)||((l=t.customer)==null?void 0:l.phone)||"N/A"})]}),e.jsxs("div",{className:"col-span-1 md:col-span-2 bg-white rounded-lg p-4 shadow-sm",children:[e.jsx("p",{className:"text-sm text-gray-500 mb-1",children:"Delivery Address"}),e.jsxs("p",{className:"font-semibold text-gray-900",children:[(u=t.deliveryAddress)==null?void 0:u.street,", ",(r=t.deliveryAddress)==null?void 0:r.city,", ",(F=t.deliveryAddress)==null?void 0:F.state," ",(C=t.deliveryAddress)==null?void 0:C.postalCode]}),((P=t.deliveryAddress)==null?void 0:P.instructions)&&e.jsx("div",{className:"mt-2 p-3 bg-yellow-50 border-l-4 border-[#FFB300] rounded",children:e.jsxs("p",{className:"text-sm text-gray-700",children:[e.jsx("span",{className:"font-semibold",children:"Delivery Note:"})," ",t.deliveryAddress.instructions]})})]})]})]}),e.jsxs("div",{className:"bg-white rounded-xl shadow-lg border border-gray-200 overflow-hidden",children:[e.jsx("div",{className:"bg-gradient-to-r from-[#00897B] to-[#26A69A] text-white px-6 py-4",children:e.jsxs("h3",{className:"text-lg font-semibold flex items-center gap-2",children:[e.jsx("svg",{className:"w-5 h-5",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M3 3h2l.4 2M7 13h10l4-8H5.4M7 13L5.4 5M7 13l-2.293 2.293c-.63.63-.184 1.707.707 1.707H17m0 0a2 2 0 100 4 2 2 0 000-4zm-8 2a2 2 0 11-4 0 2 2 0 014 0z"})}),"Order Items (",((A=t.items)==null?void 0:A.length)||0,")"]})}),e.jsx("div",{className:"overflow-x-auto",children:e.jsxs("table",{className:"min-w-full divide-y divide-gray-200",children:[e.jsx("thead",{className:"bg-gray-50",children:e.jsxs("tr",{children:[e.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-700 uppercase tracking-wider",children:"Product"}),e.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-700 uppercase tracking-wider",children:"Price"}),e.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-700 uppercase tracking-wider",children:"Quantity"}),e.jsx("th",{className:"px-6 py-3 text-right text-xs font-medium text-gray-700 uppercase tracking-wider",children:"Subtotal"})]})}),e.jsx("tbody",{className:"bg-white divide-y divide-gray-200",children:(O=t.items)==null?void 0:O.map((x,k)=>{var S,W;return e.jsxs("tr",{className:"hover:bg-gray-50 transition-colors",children:[e.jsx("td",{className:"px-6 py-4",children:e.jsxs("div",{className:"flex items-center gap-3",children:[x.image&&e.jsx("img",{src:x.image,alt:x.name,className:"w-12 h-12 object-cover rounded-lg shadow-sm"}),e.jsxs("div",{children:[e.jsx("div",{className:"text-sm font-medium text-gray-900",children:x.name}),x.notes&&e.jsxs("div",{className:"text-xs text-gray-500 mt-1",children:["Note: ",x.notes]})]})]})}),e.jsxs("td",{className:"px-6 py-4 text-sm text-gray-900",children:["Â£",(S=x.price)==null?void 0:S.toFixed(2)]}),e.jsx("td",{className:"px-6 py-4 text-sm text-gray-900",children:e.jsxs("span",{className:"inline-flex items-center px-3 py-1 rounded-full bg-gray-100 font-medium",children:[x.quantity," ",x.unit]})}),e.jsxs("td",{className:"px-6 py-4 text-sm text-gray-900 text-right font-semibold",children:["Â£",(W=x.subtotal)==null?void 0:W.toFixed(2)]})]},k)})})]})})]}),e.jsxs("div",{className:"bg-gradient-to-br from-gray-50 to-gray-100 rounded-xl p-6 shadow-lg border border-gray-200",children:[e.jsxs("div",{className:"space-y-3",children:[e.jsxs("div",{className:"flex justify-between text-sm",children:[e.jsx("span",{className:"text-gray-600",children:"Subtotal"}),e.jsxs("span",{className:"text-gray-900 font-medium",children:["Â£",(M=(I=t.pricing)==null?void 0:I.subtotal)==null?void 0:M.toFixed(2)]})]}),((L=t.pricing)==null?void 0:L.deliveryFee)>0&&e.jsxs("div",{className:"flex justify-between text-sm",children:[e.jsx("span",{className:"text-gray-600",children:"Delivery Fee"}),e.jsxs("span",{className:"text-gray-900 font-medium",children:["Â£",t.pricing.deliveryFee.toFixed(2)]})]}),((D=t.pricing)==null?void 0:D.tax)>0&&e.jsxs("div",{className:"flex justify-between text-sm",children:[e.jsx("span",{className:"text-gray-600",children:"Tax (VAT)"}),e.jsxs("span",{className:"text-gray-900 font-medium",children:["Â£",t.pricing.tax.toFixed(2)]})]}),((R=t.pricing)==null?void 0:R.discount)>0&&e.jsxs("div",{className:"flex justify-between text-sm text-[#00897B]",children:[e.jsx("span",{children:"Discount"}),e.jsxs("span",{className:"font-medium",children:["-Â£",t.pricing.discount.toFixed(2)]})]}),e.jsxs("div",{className:"border-t-2 border-gray-300 pt-3 flex justify-between items-center",children:[e.jsx("span",{className:"font-bold text-lg text-gray-900",children:"Total"}),e.jsxs("span",{className:"font-bold text-2xl text-[#00897B]",children:["Â£",(z=($=t.pricing)==null?void 0:$.total)==null?void 0:z.toFixed(2)]})]})]}),e.jsxs("div",{className:"mt-4 pt-4 border-t border-gray-300 flex flex-wrap items-center justify-between gap-2",children:[e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx("span",{className:"text-sm text-gray-500",children:"Payment Method:"}),e.jsx("span",{className:"font-semibold text-gray-900 capitalize px-3 py-1 bg-white rounded-lg shadow-sm",children:((_=t.payment)==null?void 0:_.method)||"N/A"})]}),e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx("span",{className:"text-sm text-gray-500",children:"Status:"}),e.jsx("span",{className:`font-semibold px-3 py-1 rounded-lg shadow-sm ${((q=t.payment)==null?void 0:q.status)==="paid"?"bg-green-100 text-green-700":"bg-yellow-100 text-yellow-700"}`,children:((T=(E=t.payment)==null?void 0:E.status)==null?void 0:T.toUpperCase())||"PENDING"})]})]})]})]}),n==="timeline"&&e.jsx(U,{order:t}),n==="packing"&&e.jsx(Q,{order:t,onPackingComplete:w,onStatusUpdate:c}),n==="picker"&&e.jsx(V,{order:t,onPickerAssigned:m}),n==="rating"&&e.jsx(Y,{order:t,onRatingSubmitted:b})]}),e.jsxs("div",{className:"bg-gray-50 px-6 py-4 border-t border-gray-200 flex justify-between items-center",children:[e.jsxs("div",{className:"text-sm text-gray-600",children:["Last updated: ",new Date(t.updatedAt||t.createdAt).toLocaleString("en-GB",{dateStyle:"short",timeStyle:"short"})]}),e.jsx("button",{onClick:j,className:"px-6 py-2 bg-gray-200 hover:bg-gray-300 text-gray-800 font-medium rounded-lg transition-all duration-200 shadow-sm hover:shadow-md",children:"Close"})]})]})})}const Z={pending:"bg-gradient-to-r from-yellow-400 to-yellow-500 text-gray-900",confirmed:"bg-gradient-to-r from-blue-500 to-blue-600 text-white",assigned_picker:"bg-gradient-to-r from-purple-500 to-purple-600 text-white",picking:"bg-gradient-to-r from-purple-600 to-purple-700 text-white",picked:"bg-gradient-to-r from-purple-700 to-purple-800 text-white",packing:"bg-gradient-to-r from-indigo-500 to-indigo-600 text-white",ready_for_pickup:"bg-gradient-to-r from-teal-500 to-teal-600 text-white",preparing:"bg-gradient-to-r from-orange-500 to-orange-600 text-white",ready:"bg-gradient-to-r from-green-600 to-green-700 text-white","out-for-delivery":"bg-gradient-to-r from-blue-600 to-blue-700 text-white",delivered:"bg-gradient-to-r from-green-700 to-green-800 text-white",completed:"bg-gradient-to-r from-gray-700 to-gray-800 text-white",cancelled:"bg-gradient-to-r from-red-500 to-red-600 text-white"},H={pending:"Pending",confirmed:"Confirmed",assigned_picker:"Picker Assigned",picking:"Picking Items",picked:"Items Picked",packing:"Packing",ready_for_pickup:"Ready for Pickup",preparing:"Preparing",ready:"Ready","out-for-delivery":"Out for Delivery",delivered:"Delivered",completed:"Completed",cancelled:"Cancelled"};function re(){const[t,j]=g.useState([]),[h,b]=g.useState(!0),[n,o]=g.useState(null),[N,v]=g.useState(!1),[d,y]=g.useState({status:"",search:"",page:1,limit:20}),[c,w]=g.useState({total:0,pages:0,currentPage:1});g.useEffect(()=>{m()},[d]);const m=async()=>{try{b(!0);const a=await B.getOrders(d);a.success&&(j(a.data.orders),w(a.data.pagination))}catch(a){console.error("Error fetching orders:",a)}finally{b(!1)}},p=a=>{y({...d,status:a===d.status?"":a,page:1})},f=a=>{y({...d,search:a.target.value,page:1})},i=async a=>{try{const l=await B.getOrder(a);l.success&&(o(l.data.order),v(!0))}catch(l){console.error("Error fetching order details:",l)}},s=async(a,l,u="")=>{var r,F;try{if((await B.updateOrderStatus(a,{status:l,note:u})).success&&(m(),n&&n._id===a)){const P=await B.getOrder(a);P.success&&o(P.data.order)}}catch(C){console.error("Error updating order status:",C),alert(((F=(r=C.response)==null?void 0:r.data)==null?void 0:F.message)||"Failed to update order status")}};return e.jsxs("div",{className:"p-6",children:[e.jsxs("div",{className:"mb-6",children:[e.jsx("h1",{className:"text-3xl font-bold text-afri-gray-900",children:"Orders"}),e.jsx("p",{className:"text-afri-gray-600 mt-1",children:"Manage and track all your orders"})]}),e.jsx("div",{className:"bg-white rounded-lg shadow p-4 mb-6",children:e.jsxs("div",{className:"flex flex-wrap gap-4",children:[e.jsx("div",{className:"flex-1 min-w-[250px]",children:e.jsx("input",{type:"text",placeholder:"Search by order number...",value:d.search,onChange:f,className:"w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-afri-green focus:border-transparent"})}),e.jsxs("div",{className:"flex flex-wrap gap-2",children:[["pending","confirmed","preparing","ready","out-for-delivery","delivered"].map(a=>e.jsx("button",{onClick:()=>p(a),className:`px-4 py-2 rounded-lg font-medium transition ${d.status===a?"bg-afri-green text-white":"bg-afri-gray-50 text-afri-gray-700 hover:bg-afri-gray-100"}`,children:H[a]},a)),d.status&&e.jsx("button",{onClick:()=>y({...d,status:""}),className:"px-4 py-2 rounded-lg font-medium bg-red-100 text-red-700 hover:bg-red-200",children:"Clear Filter"})]})]})}),h?e.jsx("div",{className:"flex justify-center items-center h-64",children:e.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-afri-green"})}):t.length===0?e.jsxs("div",{className:"bg-white rounded-lg shadow p-12 text-center",children:[e.jsx("svg",{className:"w-16 h-16 text-afri-gray-300 mx-auto mb-4",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M9 12h6m-6 4h6m2 5H7a2 2 0 01-2-2V5a2 2 0 012-2h5.586a1 1 0 01.707.293l5.414 5.414a1 1 0 01.293.707V19a2 2 0 01-2 2z"})}),e.jsx("h3",{className:"text-lg font-medium text-afri-gray-900 mb-1",children:"No orders found"}),e.jsx("p",{className:"text-afri-gray-500",children:d.status||d.search?"Try adjusting your filters":"Orders will appear here"})]}):e.jsx("div",{className:"bg-white rounded-lg shadow overflow-hidden",children:e.jsxs("table",{className:"min-w-full divide-y divide-gray-200",children:[e.jsx("thead",{className:"bg-afri-gray-50",children:e.jsxs("tr",{children:[e.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-afri-gray-700 uppercase tracking-wider",children:"Order Number"}),e.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-afri-gray-700 uppercase tracking-wider",children:"Customer"}),e.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-afri-gray-700 uppercase tracking-wider",children:"Items"}),e.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-afri-gray-700 uppercase tracking-wider",children:"Total"}),e.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-afri-gray-700 uppercase tracking-wider",children:"Status"}),e.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-afri-gray-700 uppercase tracking-wider",children:"Date"}),e.jsx("th",{className:"px-6 py-3 text-right text-xs font-medium text-afri-gray-700 uppercase tracking-wider",children:"Actions"})]})}),e.jsx("tbody",{className:"bg-white divide-y divide-gray-200",children:t.map(a=>{var l,u,r,F,C;return e.jsxs("tr",{className:"hover:bg-afri-gray-50 transition",children:[e.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:e.jsx("div",{className:"text-sm font-medium text-afri-gray-900",children:a.orderNumber})}),e.jsxs("td",{className:"px-6 py-4 whitespace-nowrap",children:[e.jsx("div",{className:"text-sm text-afri-gray-900",children:((l=a.customer)==null?void 0:l.name)||"N/A"}),e.jsx("div",{className:"text-sm text-afri-gray-500",children:((u=a.customer)==null?void 0:u.phone)||""})]}),e.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:e.jsxs("div",{className:"text-sm text-afri-gray-900",children:[((r=a.items)==null?void 0:r.length)||0," items"]})}),e.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:e.jsxs("div",{className:"text-sm font-medium text-afri-gray-900",children:["Â£",((C=(F=a.pricing)==null?void 0:F.total)==null?void 0:C.toFixed(2))||"0.00"]})}),e.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:e.jsx("span",{className:`px-3 py-1 inline-flex text-xs leading-5 font-semibold rounded-full ${Z[a.status]}`,children:H[a.status]})}),e.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-afri-gray-500",children:new Date(a.createdAt).toLocaleDateString()}),e.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-right text-sm font-medium",children:e.jsx("button",{onClick:()=>i(a._id),className:"text-afri-green hover:text-afri-green-dark font-medium",children:"View Details"})})]},a._id)})})]})}),c.pages>1&&e.jsx("div",{className:"mt-6 flex justify-center",children:e.jsx("nav",{className:"relative z-0 inline-flex rounded-md shadow-sm -space-x-px",children:[...Array(c.pages)].map((a,l)=>e.jsx("button",{onClick:()=>y({...d,page:l+1}),className:`relative inline-flex items-center px-4 py-2 border text-sm font-medium ${c.currentPage===l+1?"z-10 bg-afri-green text-white border-afri-green":"bg-white border-gray-300 text-afri-gray-700 hover:bg-afri-gray-50"}`,children:l+1},l))})}),N&&n&&e.jsx(K,{order:n,onClose:()=>{v(!1),o(null)},onStatusUpdate:s,onRefresh:m})]})}export{re as default};
