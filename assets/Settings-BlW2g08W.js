import{j as e}from"./date-C9mDCBzx.js";import{r as d}from"./vendor-BfFvvk5l.js";import{v as oe,a as z}from"./index-CqZc79AA.js";import"./ui-qKdnnCNY.js";function me({message:k,type:u="success",duration:l=3e3,onClose:c}){const[i,n]=d.useState(!0);d.useEffect(()=>{const C=setTimeout(()=>{n(!1),setTimeout(c,300)},l);return()=>clearTimeout(C)},[l,c]);const p=()=>{switch(u){case"success":return e.jsx("svg",{className:"w-6 h-6 text-green-400",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M9 12l2 2 4-4m6 2a9 9 0 11-18 0 9 9 0 0118 0z"})});case"error":return e.jsx("svg",{className:"w-6 h-6 text-red-400",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M10 14l2-2m0 0l2-2m-2 2l-2-2m2 2l2 2m7-2a9 9 0 11-18 0 9 9 0 0118 0z"})});case"warning":return e.jsx("svg",{className:"w-6 h-6 text-yellow-400",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M12 9v2m0 4h.01m-6.938 4h13.856c1.54 0 2.502-1.667 1.732-3L13.732 4c-.77-1.333-2.694-1.333-3.464 0L3.34 16c-.77 1.333.192 3 1.732 3z"})});case"info":return e.jsx("svg",{className:"w-6 h-6 text-blue-400",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M13 16h-1v-4h-1m1-4h.01M21 12a9 9 0 11-18 0 9 9 0 0118 0z"})});default:return null}},N=()=>{switch(u){case"success":return"bg-green-50 border-green-500";case"error":return"bg-red-50 border-red-500";case"warning":return"bg-yellow-50 border-yellow-500";case"info":return"bg-blue-50 border-blue-500";default:return"bg-gray-50 border-gray-500"}};return e.jsx("div",{className:`fixed top-4 right-4 z-50 max-w-md w-full transform transition-all duration-300 ${i?"translate-x-0 opacity-100":"translate-x-full opacity-0"}`,children:e.jsxs("div",{className:`${N()} border-l-4 rounded-lg shadow-lg p-4 flex items-start`,children:[e.jsx("div",{className:"flex-shrink-0",children:p()}),e.jsx("div",{className:"ml-3 flex-1",children:e.jsx("p",{className:"text-sm font-medium text-gray-900",children:k})}),e.jsx("button",{onClick:()=>{n(!1),setTimeout(c,300)},className:"ml-4 flex-shrink-0 text-gray-400 hover:text-gray-500 transition-colors",children:e.jsx("svg",{className:"w-5 h-5",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M6 18L18 6M6 6l12 12"})})})]})})}const xe=()=>{const[k,u]=d.useState([]),l=d.useCallback((i,n="success",p=3e3)=>{const N=Date.now(),C={id:N,message:i,type:n,duration:p};u(m=>[...m,C]),setTimeout(()=>{c(N)},p+300)},[]),c=d.useCallback(i=>{u(n=>n.filter(p=>p.id!==i))},[]);return{toasts:k,showToast:l,removeToast:c,success:(i,n)=>l(i,"success",n),error:(i,n)=>l(i,"error",n),warning:(i,n)=>l(i,"warning",n),info:(i,n)=>l(i,"info",n)}},ge=["fresh-produce","groceries","meat-fish","bakery","beverages","household","beauty-health","other"],fe=["monday","tuesday","wednesday","thursday","friday","saturday","sunday"],pe=[{code:"GB",name:"United Kingdom",region:"Europe",phoneCodes:["+44"],postcodeFormat:"UK Postcode (e.g., SW1A 1AA)"},{code:"IE",name:"Ireland",region:"Europe",phoneCodes:["+353"],postcodeFormat:"Eircode (e.g., D02 AF30)"}];function ve(){var T,V,Z,D,q,R,Y,_,G,J,Q,X,ee,se,re;const{toasts:k,success:u,error:l,warning:c,removeToast:i}=xe(),[n,p]=d.useState("profile"),[N,C]=d.useState(!0),[m,P]=d.useState(!1),[B,E]=d.useState(!1),[h,S]=d.useState({}),[a,A]=d.useState({storeName:"",description:"",category:"fresh-produce",phone:"",alternativePhone:"",address:{street:"",city:"",state:"",country:"United Kingdom",postalCode:""},businessHours:{monday:{open:"09:00",close:"18:00",isOpen:!0},tuesday:{open:"09:00",close:"18:00",isOpen:!0},wednesday:{open:"09:00",close:"18:00",isOpen:!0},thursday:{open:"09:00",close:"18:00",isOpen:!0},friday:{open:"09:00",close:"18:00",isOpen:!0},saturday:{open:"09:00",close:"18:00",isOpen:!0},sunday:{open:"09:00",close:"18:00",isOpen:!1}}}),[U,H]=d.useState({name:"",email:"",phone:""}),[b,M]=d.useState({currentPassword:"",newPassword:"",confirmPassword:""});d.useEffect(()=>{ie()},[]);const ie=async()=>{try{C(!0);const[s,r]=await Promise.all([oe.getProfile(),z.getProfile()]);s.success&&A(s.data.vendor),r.success&&H(r.data.user)}catch(s){console.error("Error fetching settings:",s)}finally{C(!1)}},x=(s,r)=>{if(s.startsWith("address.")){const t=s.split(".")[1];A(o=>({...o,address:{...o.address,[t]:r}}))}else A(t=>({...t,[s]:r}))},K=(s,r,t)=>{A(o=>({...o,businessHours:{...o.businessHours,[s]:{...o.businessHours[s],[r]:t}}}))},L=(s,r)=>{H(t=>({...t,[s]:r}))},F=(s,r)=>{M(t=>({...t,[s]:r}))},$=(s,r)=>{if(!s)return!0;const t=s.replace(/\s/g,"");return r==="United Kingdom"?/^(\+44|0)[1-9]\d{9}$/.test(t):r==="Ireland"?/^(\+353|0)[1-9]\d{8}$/.test(t):!0},O=(s,r)=>{if(!s)return!1;const t=s.replace(/\s/g,"").toUpperCase();return r==="United Kingdom"?/^[A-Z]{1,2}\d{1,2}[A-Z]?\d[A-Z]{2}$/.test(t):r==="Ireland"?/^[A-Z]\d{2}[A-Z0-9]{4}$/.test(t):!1},le=async()=>{var t,o,y;const s=(o=(t=a.address)==null?void 0:t.postalCode)==null?void 0:o.trim(),r=((y=a.address)==null?void 0:y.country)||"United Kingdom";if(!s){c("Please enter a postcode first");return}if(!O(s,r)){c(`Invalid ${r==="United Kingdom"?"UK postcode":"Eircode"} format`);return}try{if(E(!0),r==="United Kingdom"){const f=await(await fetch(`https://api.postcodes.io/postcodes/${encodeURIComponent(s)}`)).json();if(f.status===200&&f.result){const g=f.result;A(v=>({...v,address:{...v.address,city:g.admin_district||g.postcode_area||"",state:g.admin_county||g.region||""}})),u("Address details filled! Please enter your street address.")}else c("Postcode not found. Please check and try again.")}else c("Eircode verified! Please enter your address details manually.")}catch(j){console.error("Postcode lookup error:",j),l("Failed to lookup postcode. You can still enter address manually.")}finally{E(!1)}},W=async()=>{var t,o,y,j,f,g,v,w,ae,te,ne;const s={},r=((t=a.address)==null?void 0:t.country)||"United Kingdom";if(a.phone&&!$(a.phone,r)&&(s.phone=`Invalid ${r==="United Kingdom"?"UK":"Irish"} phone number. Format: ${r==="United Kingdom"?"+44 7xxx xxxxxx or 07xxx xxxxxx":"+353 8x xxx xxxx or 08x xxx xxxx"}`),a.alternativePhone&&!$(a.alternativePhone,r)&&(s.alternativePhone=`Invalid ${r==="United Kingdom"?"UK":"Irish"} phone number`),(o=a.address)!=null&&o.postalCode&&!O(a.address.postalCode,r)&&(s.postalCode=`Invalid ${r==="United Kingdom"?"UK postcode":"Eircode"} format`),(y=a.storeName)!=null&&y.trim()||(s.storeName="Store name is required"),(f=(j=a.address)==null?void 0:j.street)!=null&&f.trim()||(s.street="Street address is required"),(v=(g=a.address)==null?void 0:g.city)!=null&&v.trim()||(s.city="City is required"),(ae=(w=a.address)==null?void 0:w.postalCode)!=null&&ae.trim()||(s.postalCode="Postcode is required"),S(s),Object.keys(s).length>0){const I=Object.values(s).join(`
`);l(`Please fix the following errors:

${I}`);return}try{P(!0),(await oe.updateProfile(a)).success&&(u("Vendor profile updated successfully!"),S({}))}catch(I){l(((ne=(te=I.response)==null?void 0:te.data)==null?void 0:ne.message)||"Failed to update vendor profile")}finally{P(!1)}},de=async()=>{var s,r;try{P(!0),(await z.updateProfile(U)).success&&u("Account updated successfully!")}catch(t){l(((r=(s=t.response)==null?void 0:s.data)==null?void 0:r.message)||"Failed to update account")}finally{P(!1)}},ce=async()=>{var s,r;if(b.newPassword!==b.confirmPassword){c("Passwords do not match!");return}if(b.newPassword.length<6){c("Password must be at least 6 characters!");return}try{P(!0),(await z.changePassword({currentPassword:b.currentPassword,newPassword:b.newPassword})).success&&(u("Password changed successfully!"),M({currentPassword:"",newPassword:"",confirmPassword:""}))}catch(t){l(((r=(s=t.response)==null?void 0:s.data)==null?void 0:r.message)||"Failed to change password")}finally{P(!1)}},ue=[{id:"profile",name:"Store Profile",icon:"ðŸª"},{id:"account",name:"Account",icon:"ðŸ‘¤"},{id:"hours",name:"Business Hours",icon:"ðŸ•"},{id:"security",name:"Security",icon:"ðŸ”’"}];return N?e.jsx("div",{className:"flex justify-center items-center h-screen",children:e.jsx("div",{className:"relative",children:e.jsx("div",{className:"w-20 h-20 border-4 border-afri-green border-t-transparent rounded-full animate-spin"})})}):e.jsxs("div",{className:"space-y-6",children:[k.map(s=>e.jsx(me,{message:s.message,type:s.type,duration:s.duration,onClose:()=>i(s.id)},s.id)),e.jsxs("div",{children:[e.jsx("h1",{className:"text-4xl font-bold bg-gradient-to-r from-afri-green to-afri-green-dark bg-clip-text text-transparent",children:"Settings"}),e.jsx("p",{className:"text-afri-gray-600 mt-2",children:"Manage your store and account settings"})]}),e.jsx("div",{className:"border-b border-gray-200",children:e.jsx("nav",{className:"-mb-px flex space-x-8",children:ue.map(s=>e.jsxs("button",{onClick:()=>p(s.id),className:`py-4 px-1 border-b-2 font-medium text-sm transition-all duration-200 flex items-center space-x-2 ${n===s.id?"border-afri-green text-afri-green":"border-transparent text-gray-500 hover:text-gray-700 hover:border-gray-300"}`,children:[e.jsx("span",{className:"text-xl",children:s.icon}),e.jsx("span",{children:s.name})]},s.id))})}),n==="profile"&&e.jsxs("div",{className:"bg-white rounded-xl shadow-lg p-6 space-y-6 animate-fadeIn",children:[e.jsxs("div",{children:[e.jsx("h2",{className:"text-2xl font-bold text-afri-gray-900 mb-4",children:"Store Information"}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-semibold text-afri-gray-900 mb-2",children:"Store Name"}),e.jsx("input",{type:"text",value:a.storeName,onChange:s=>x("storeName",s.target.value),className:"w-full px-4 py-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-afri-green focus:border-transparent transition-all"})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-semibold text-afri-gray-900 mb-2",children:"Category"}),e.jsx("select",{value:a.category,onChange:s=>x("category",s.target.value),className:"w-full px-4 py-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-afri-green focus:border-transparent transition-all",children:ge.map(s=>e.jsx("option",{value:s,children:s.split("-").map(r=>r.charAt(0).toUpperCase()+r.slice(1)).join(" ")},s))})]}),e.jsxs("div",{className:"md:col-span-2",children:[e.jsx("label",{className:"block text-sm font-semibold text-afri-gray-900 mb-2",children:"Description"}),e.jsx("textarea",{value:a.description,onChange:s=>x("description",s.target.value),rows:4,className:"w-full px-4 py-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-afri-green focus:border-transparent transition-all"})]}),e.jsxs("div",{children:[e.jsxs("label",{className:"block text-sm font-semibold text-afri-gray-900 mb-2",children:["Primary Phone *",e.jsx("span",{className:"text-xs font-normal text-gray-500 ml-2",children:((T=a.address)==null?void 0:T.country)==="Ireland"?"(e.g., +353 85 123 4567 or 085 123 4567)":"(e.g., +44 7700 900000 or 07700 900000)"})]}),e.jsx("input",{type:"tel",value:a.phone,onChange:s=>{x("phone",s.target.value),h.phone&&S(r=>({...r,phone:void 0}))},className:`w-full px-4 py-3 border rounded-lg focus:ring-2 focus:ring-afri-green focus:border-transparent transition-all ${h.phone?"border-red-500 bg-red-50":"border-gray-300"}`,placeholder:((V=a.address)==null?void 0:V.country)==="Ireland"?"+353 85 123 4567":"+44 7700 900000"}),h.phone&&e.jsx("p",{className:"text-red-500 text-sm mt-1 font-semibold",children:h.phone})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-semibold text-afri-gray-900 mb-2",children:"Alternative Phone (Optional)"}),e.jsx("input",{type:"tel",value:a.alternativePhone||"",onChange:s=>{x("alternativePhone",s.target.value),h.alternativePhone&&S(r=>({...r,alternativePhone:void 0}))},className:`w-full px-4 py-3 border rounded-lg focus:ring-2 focus:ring-afri-green focus:border-transparent transition-all ${h.alternativePhone?"border-red-500 bg-red-50":"border-gray-300"}`,placeholder:((Z=a.address)==null?void 0:Z.country)==="Ireland"?"+353 85 123 4567":"+44 7700 900000"}),h.alternativePhone&&e.jsx("p",{className:"text-red-500 text-sm mt-1 font-semibold",children:h.alternativePhone})]})]})]}),e.jsxs("div",{children:[e.jsx("h3",{className:"text-xl font-bold text-afri-gray-900 mb-4",children:"Address"}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[e.jsxs("div",{className:"md:col-span-2",children:[e.jsx("label",{className:"block text-sm font-semibold text-afri-gray-900 mb-2",children:"Street Address"}),e.jsx("input",{type:"text",value:((D=a.address)==null?void 0:D.street)||"",onChange:s=>x("address.street",s.target.value),className:"w-full px-4 py-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-afri-green focus:border-transparent transition-all"})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-semibold text-afri-gray-900 mb-2",children:"City"}),e.jsx("input",{type:"text",value:((q=a.address)==null?void 0:q.city)||"",onChange:s=>x("address.city",s.target.value),className:"w-full px-4 py-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-afri-green focus:border-transparent transition-all"})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-semibold text-afri-gray-900 mb-2",children:((R=a.address)==null?void 0:R.country)==="United Kingdom"?"County":"State/County"}),e.jsx("input",{type:"text",value:((Y=a.address)==null?void 0:Y.state)||"",onChange:s=>x("address.state",s.target.value),className:"w-full px-4 py-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-afri-green focus:border-transparent transition-all",placeholder:((_=a.address)==null?void 0:_.country)==="United Kingdom"?"e.g., Greater London":"State or County"})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-semibold text-afri-gray-900 mb-2",children:((G=a.address)==null?void 0:G.country)==="United Kingdom"?"Postcode":"Postal/Zip Code"}),e.jsxs("div",{className:"flex gap-2",children:[e.jsx("input",{type:"text",value:((J=a.address)==null?void 0:J.postalCode)||"",onChange:s=>x("address.postalCode",s.target.value.toUpperCase()),className:"flex-1 px-4 py-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-afri-green focus:border-transparent transition-all",placeholder:((Q=a.address)==null?void 0:Q.country)==="United Kingdom"?"e.g., SW1A 1AA":"Postal Code"}),((X=a.address)==null?void 0:X.country)==="United Kingdom"&&e.jsx("button",{type:"button",onClick:le,disabled:B||!((ee=a.address)!=null&&ee.postalCode),className:"px-4 py-3 bg-blue-600 text-white rounded-lg font-medium hover:bg-blue-700 transition-all disabled:opacity-50 disabled:cursor-not-allowed flex items-center whitespace-nowrap",children:B?e.jsxs(e.Fragment,{children:[e.jsxs("svg",{className:"animate-spin h-4 w-4 mr-2",fill:"none",viewBox:"0 0 24 24",children:[e.jsx("circle",{className:"opacity-25",cx:"12",cy:"12",r:"10",stroke:"currentColor",strokeWidth:"4"}),e.jsx("path",{className:"opacity-75",fill:"currentColor",d:"M4 12a8 8 0 018-8V0C5.373 0 0 5.373 0 12h4zm2 5.291A7.962 7.962 0 014 12H0c0 3.042 1.135 5.824 3 7.938l3-2.647z"})]}),"Looking up..."]}):e.jsxs(e.Fragment,{children:[e.jsx("svg",{className:"w-4 h-4 mr-2",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M21 21l-6-6m2-5a7 7 0 11-14 0 7 7 0 0114 0z"})}),"Find Address"]})})]}),((se=a.address)==null?void 0:se.country)==="United Kingdom"&&e.jsx("p",{className:"mt-1 text-xs text-gray-500",children:'Enter your postcode and click "Find Address" to auto-fill city and county'})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-semibold text-afri-gray-900 mb-2",children:"Country"}),e.jsx("select",{value:((re=a.address)==null?void 0:re.country)||"United Kingdom",onChange:s=>x("address.country",s.target.value),className:"w-full px-4 py-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-afri-green focus:border-transparent transition-all",children:pe.map(s=>e.jsx("option",{value:s.name,children:s.name},s.code))})]})]})]}),e.jsx("div",{className:"flex justify-end pt-6 border-t",children:e.jsx("button",{onClick:W,disabled:m,className:"px-8 py-3 bg-gradient-to-r from-afri-green to-afri-green-dark text-white rounded-lg font-semibold shadow-lg hover:shadow-xl transition-all transform hover:scale-105 disabled:opacity-50 disabled:cursor-not-allowed disabled:transform-none flex items-center",children:m?e.jsxs(e.Fragment,{children:[e.jsxs("svg",{className:"animate-spin h-5 w-5 mr-2",fill:"none",viewBox:"0 0 24 24",children:[e.jsx("circle",{className:"opacity-25",cx:"12",cy:"12",r:"10",stroke:"currentColor",strokeWidth:"4"}),e.jsx("path",{className:"opacity-75",fill:"currentColor",d:"M4 12a8 8 0 018-8V0C5.373 0 0 5.373 0 12h4zm2 5.291A7.962 7.962 0 014 12H0c0 3.042 1.135 5.824 3 7.938l3-2.647z"})]}),"Saving..."]}):"Save Changes"})})]}),n==="account"&&e.jsxs("div",{className:"bg-white rounded-xl shadow-lg p-6 space-y-6 animate-fadeIn",children:[e.jsxs("div",{children:[e.jsx("h2",{className:"text-2xl font-bold text-afri-gray-900 mb-4",children:"Account Information"}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-semibold text-afri-gray-900 mb-2",children:"Full Name"}),e.jsx("input",{type:"text",value:U.name,onChange:s=>L("name",s.target.value),className:"w-full px-4 py-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-afri-green focus:border-transparent transition-all"})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-semibold text-afri-gray-900 mb-2",children:"Email Address"}),e.jsx("input",{type:"email",value:U.email,onChange:s=>L("email",s.target.value),className:"w-full px-4 py-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-afri-green focus:border-transparent transition-all"})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-semibold text-afri-gray-900 mb-2",children:"Phone Number"}),e.jsx("input",{type:"tel",value:U.phone||"",onChange:s=>L("phone",s.target.value),className:"w-full px-4 py-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-afri-green focus:border-transparent transition-all"})]})]})]}),e.jsx("div",{className:"flex justify-end pt-6 border-t",children:e.jsx("button",{onClick:de,disabled:m,className:"px-8 py-3 bg-gradient-to-r from-afri-green to-afri-green-dark text-white rounded-lg font-semibold shadow-lg hover:shadow-xl transition-all transform hover:scale-105 disabled:opacity-50 disabled:cursor-not-allowed disabled:transform-none flex items-center",children:m?e.jsxs(e.Fragment,{children:[e.jsxs("svg",{className:"animate-spin h-5 w-5 mr-2",fill:"none",viewBox:"0 0 24 24",children:[e.jsx("circle",{className:"opacity-25",cx:"12",cy:"12",r:"10",stroke:"currentColor",strokeWidth:"4"}),e.jsx("path",{className:"opacity-75",fill:"currentColor",d:"M4 12a8 8 0 018-8V0C5.373 0 0 5.373 0 12h4zm2 5.291A7.962 7.962 0 014 12H0c0 3.042 1.135 5.824 3 7.938l3-2.647z"})]}),"Saving..."]}):"Save Changes"})})]}),n==="hours"&&e.jsxs("div",{className:"bg-white rounded-xl shadow-lg p-6 space-y-6 animate-fadeIn",children:[e.jsxs("div",{children:[e.jsx("h2",{className:"text-2xl font-bold text-afri-gray-900 mb-4",children:"Business Hours"}),e.jsx("div",{className:"space-y-4",children:fe.map(s=>{var r,t,o,y,j,f,g,v;return e.jsxs("div",{className:"flex items-center gap-4 p-4 bg-gray-50 rounded-lg hover:bg-gray-100 transition-colors",children:[e.jsx("div",{className:"w-32",children:e.jsx("span",{className:"font-semibold text-afri-gray-900 capitalize",children:s})}),e.jsxs("label",{className:"flex items-center cursor-pointer",children:[e.jsx("input",{type:"checkbox",checked:(t=(r=a.businessHours)==null?void 0:r[s])==null?void 0:t.isOpen,onChange:w=>K(s,"isOpen",w.target.checked),className:"h-5 w-5 text-afri-green focus:ring-afri-green border-gray-300 rounded cursor-pointer"}),e.jsx("span",{className:"ml-2 text-sm text-afri-gray-700",children:"Open"})]}),(y=(o=a.businessHours)==null?void 0:o[s])!=null&&y.isOpen?e.jsxs(e.Fragment,{children:[e.jsx("input",{type:"time",value:((f=(j=a.businessHours)==null?void 0:j[s])==null?void 0:f.open)||"09:00",onChange:w=>K(s,"open",w.target.value),className:"px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-afri-green focus:border-transparent"}),e.jsx("span",{className:"text-gray-500",children:"to"}),e.jsx("input",{type:"time",value:((v=(g=a.businessHours)==null?void 0:g[s])==null?void 0:v.close)||"18:00",onChange:w=>K(s,"close",w.target.value),className:"px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-afri-green focus:border-transparent"})]}):e.jsx("span",{className:"text-gray-400 italic ml-4",children:"Closed"})]},s)})})]}),e.jsx("div",{className:"flex justify-end pt-6 border-t",children:e.jsx("button",{onClick:W,disabled:m,className:"px-8 py-3 bg-gradient-to-r from-afri-green to-afri-green-dark text-white rounded-lg font-semibold shadow-lg hover:shadow-xl transition-all transform hover:scale-105 disabled:opacity-50 disabled:cursor-not-allowed disabled:transform-none flex items-center",children:m?e.jsxs(e.Fragment,{children:[e.jsxs("svg",{className:"animate-spin h-5 w-5 mr-2",fill:"none",viewBox:"0 0 24 24",children:[e.jsx("circle",{className:"opacity-25",cx:"12",cy:"12",r:"10",stroke:"currentColor",strokeWidth:"4"}),e.jsx("path",{className:"opacity-75",fill:"currentColor",d:"M4 12a8 8 0 018-8V0C5.373 0 0 5.373 0 12h4zm2 5.291A7.962 7.962 0 014 12H0c0 3.042 1.135 5.824 3 7.938l3-2.647z"})]}),"Saving..."]}):"Save Changes"})})]}),n==="security"&&e.jsxs("div",{className:"bg-white rounded-xl shadow-lg p-6 space-y-6 animate-fadeIn",children:[e.jsxs("div",{children:[e.jsx("h2",{className:"text-2xl font-bold text-afri-gray-900 mb-4",children:"Change Password"}),e.jsxs("div",{className:"max-w-md space-y-4",children:[e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-semibold text-afri-gray-900 mb-2",children:"Current Password"}),e.jsx("input",{type:"password",value:b.currentPassword,onChange:s=>F("currentPassword",s.target.value),className:"w-full px-4 py-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-afri-green focus:border-transparent transition-all"})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-semibold text-afri-gray-900 mb-2",children:"New Password"}),e.jsx("input",{type:"password",value:b.newPassword,onChange:s=>F("newPassword",s.target.value),className:"w-full px-4 py-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-afri-green focus:border-transparent transition-all"}),e.jsx("p",{className:"mt-1 text-sm text-gray-500",children:"Must be at least 6 characters"})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-semibold text-afri-gray-900 mb-2",children:"Confirm New Password"}),e.jsx("input",{type:"password",value:b.confirmPassword,onChange:s=>F("confirmPassword",s.target.value),className:"w-full px-4 py-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-afri-green focus:border-transparent transition-all"})]})]})]}),e.jsx("div",{className:"flex justify-end pt-6 border-t",children:e.jsx("button",{onClick:ce,disabled:m,className:"px-8 py-3 bg-gradient-to-r from-afri-green to-afri-green-dark text-white rounded-lg font-semibold shadow-lg hover:shadow-xl transition-all transform hover:scale-105 disabled:opacity-50 disabled:cursor-not-allowed disabled:transform-none flex items-center",children:m?e.jsxs(e.Fragment,{children:[e.jsxs("svg",{className:"animate-spin h-5 w-5 mr-2",fill:"none",viewBox:"0 0 24 24",children:[e.jsx("circle",{className:"opacity-25",cx:"12",cy:"12",r:"10",stroke:"currentColor",strokeWidth:"4"}),e.jsx("path",{className:"opacity-75",fill:"currentColor",d:"M4 12a8 8 0 018-8V0C5.373 0 0 5.373 0 12h4zm2 5.291A7.962 7.962 0 014 12H0c0 3.042 1.135 5.824 3 7.938l3-2.647z"})]}),"Changing..."]}):"Change Password"})})]}),e.jsx("style",{jsx:!0,children:`
        @keyframes fadeIn {
          from {
            opacity: 0;
            transform: translateY(10px);
          }
          to {
            opacity: 1;
            transform: translateY(0);
          }
        }

        .animate-fadeIn {
          animation: fadeIn 0.3s ease-out;
        }
      `})]})}export{ve as default};
