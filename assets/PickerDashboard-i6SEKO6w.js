import{j as e}from"./date-iP6_brdS.js";import{u as v,r as i}from"./vendor-CPDP2aPO.js";import{u as w}from"./index-BU-ROFLt.js";import"./ui-Tzc8TJql.js";function A(){var g;const l=v(),{user:d}=w(),[r,p]=i.useState({todayOrders:0,pendingOrders:0,completedOrders:0,accuracy:0,avgPickTime:0}),[a,u]=i.useState([]),[t,c]=i.useState(null),[j,h]=i.useState(!0);i.useEffect(()=>{N()},[]);const N=async()=>{try{setTimeout(()=>{p({todayOrders:24,pendingOrders:5,completedOrders:19,accuracy:99.2,avgPickTime:8.5}),c({id:"ORD001",orderNumber:"AFM-2024-001",customer:"Sarah Johnson",items:[{id:1,name:"Organic Tomatoes",quantity:2,unit:"kg",location:"A-3-2",picked:!0},{id:2,name:"Fresh Spinach",quantity:1,unit:"bunch",location:"A-5-1",picked:!0},{id:3,name:"Free Range Eggs",quantity:1,unit:"dozen",location:"B-2-4",picked:!1},{id:4,name:"Whole Milk",quantity:2,unit:"litres",location:"C-1-1",picked:!1}],priority:"high",timeRemaining:12}),u([{id:"ORD002",orderNumber:"AFM-2024-002",items:6,priority:"normal",eta:"15 min"},{id:"ORD003",orderNumber:"AFM-2024-003",items:3,priority:"high",eta:"10 min"},{id:"ORD004",orderNumber:"AFM-2024-004",items:8,priority:"normal",eta:"20 min"},{id:"ORD005",orderNumber:"AFM-2024-005",items:4,priority:"low",eta:"30 min"}]),h(!1)},500)}catch(s){console.error("Error fetching dashboard:",s),h(!1)}},b=s=>{t&&c(m=>({...m,items:m.items.map(n=>n.id===s?{...n,picked:!n.picked}:n)}))},f=()=>{if(alert("Order completed! Starting next order..."),a.length>0){const s=a[0];l(`/picker/order/${s.id}`)}else c(null)},y={high:"bg-red-100 text-red-700",normal:"bg-blue-100 text-blue-700",low:"bg-gray-100 text-gray-700"};if(j)return e.jsx("div",{className:"min-h-screen bg-gray-50 flex items-center justify-center",children:e.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-orange-500"})});const o=(t==null?void 0:t.items.filter(s=>s.picked).length)||0,x=(t==null?void 0:t.items.length)||0;return e.jsxs("div",{className:"min-h-screen bg-gray-50",children:[e.jsx("div",{className:"bg-gradient-to-r from-orange-500 to-orange-600 text-white",children:e.jsx("div",{className:"max-w-7xl mx-auto px-4 py-6",children:e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{children:[e.jsxs("h1",{className:"text-2xl font-bold",children:["Hello, ",((g=d==null?void 0:d.name)==null?void 0:g.split(" ")[0])||"Picker","!"]}),e.jsxs("p",{className:"text-orange-100",children:[r.pendingOrders," orders waiting to be picked"]})]}),e.jsxs("div",{className:"text-right",children:[e.jsxs("p",{className:"text-3xl font-bold",children:[r.accuracy,"%"]}),e.jsx("p",{className:"text-orange-100 text-sm",children:"Accuracy Rate"})]})]})})}),e.jsxs("div",{className:"max-w-7xl mx-auto px-4 py-6",children:[e.jsxs("div",{className:"grid grid-cols-2 md:grid-cols-4 gap-4 mb-8",children:[e.jsxs("div",{className:"bg-white rounded-xl shadow-lg p-4",children:[e.jsxs("div",{className:"flex items-center justify-between mb-2",children:[e.jsx("span",{className:"text-gray-500 text-sm",children:"Today's Orders"}),e.jsx("span",{className:"text-2xl",children:"ðŸ“¦"})]}),e.jsx("p",{className:"text-3xl font-bold text-gray-900",children:r.todayOrders})]}),e.jsxs("div",{className:"bg-white rounded-xl shadow-lg p-4",children:[e.jsxs("div",{className:"flex items-center justify-between mb-2",children:[e.jsx("span",{className:"text-gray-500 text-sm",children:"Pending"}),e.jsx("span",{className:"text-2xl",children:"â³"})]}),e.jsx("p",{className:"text-3xl font-bold text-orange-500",children:r.pendingOrders})]}),e.jsxs("div",{className:"bg-white rounded-xl shadow-lg p-4",children:[e.jsxs("div",{className:"flex items-center justify-between mb-2",children:[e.jsx("span",{className:"text-gray-500 text-sm",children:"Completed"}),e.jsx("span",{className:"text-2xl",children:"âœ“"})]}),e.jsx("p",{className:"text-3xl font-bold text-green-600",children:r.completedOrders})]}),e.jsxs("div",{className:"bg-white rounded-xl shadow-lg p-4",children:[e.jsxs("div",{className:"flex items-center justify-between mb-2",children:[e.jsx("span",{className:"text-gray-500 text-sm",children:"Avg Pick Time"}),e.jsx("span",{className:"text-2xl",children:"â±ï¸"})]}),e.jsxs("p",{className:"text-3xl font-bold text-blue-600",children:[r.avgPickTime,"m"]})]})]}),e.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-3 gap-6",children:[e.jsx("div",{className:"lg:col-span-2",children:t?e.jsxs("div",{className:"bg-white rounded-xl shadow-lg overflow-hidden",children:[e.jsxs("div",{className:"p-6 bg-gradient-to-r from-orange-500 to-orange-600 text-white",children:[e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{children:[e.jsx("h2",{className:"text-xl font-bold",children:"Current Order"}),e.jsx("p",{className:"text-orange-100",children:t.orderNumber})]}),e.jsxs("div",{className:"text-right",children:[e.jsx("span",{className:`px-3 py-1 rounded-full text-xs font-semibold ${t.priority==="high"?"bg-red-500":"bg-orange-400"}`,children:t.priority.toUpperCase()}),e.jsxs("p",{className:"text-orange-100 mt-1",children:[t.timeRemaining," min left"]})]})]}),e.jsxs("div",{className:"mt-4",children:[e.jsxs("div",{className:"flex justify-between text-sm mb-1",children:[e.jsx("span",{children:"Progress"}),e.jsxs("span",{children:[o,"/",x," items"]})]}),e.jsx("div",{className:"h-3 bg-orange-400 rounded-full overflow-hidden",children:e.jsx("div",{className:"h-full bg-white transition-all",style:{width:`${o/x*100}%`}})})]})]}),e.jsxs("div",{className:"p-6",children:[e.jsx("h3",{className:"font-bold text-gray-900 mb-4",children:"Items to Pick"}),e.jsx("div",{className:"space-y-3",children:t.items.map(s=>e.jsxs("div",{className:`flex items-center gap-4 p-4 rounded-lg border-2 cursor-pointer transition-all ${s.picked?"bg-green-50 border-green-300":"bg-white border-gray-200 hover:border-orange-300"}`,onClick:()=>b(s.id),children:[e.jsx("div",{className:`w-8 h-8 rounded-full flex items-center justify-center ${s.picked?"bg-green-500 text-white":"bg-gray-200 text-gray-500"}`,children:s.picked?"âœ“":"â—‹"}),e.jsxs("div",{className:"flex-1",children:[e.jsx("p",{className:`font-semibold ${s.picked?"line-through text-gray-400":"text-gray-900"}`,children:s.name}),e.jsxs("p",{className:"text-sm text-gray-500",children:[s.quantity," ",s.unit]})]}),e.jsx("div",{className:"text-right",children:e.jsx("span",{className:"px-3 py-1 bg-blue-100 text-blue-700 rounded-full text-sm font-mono",children:s.location})})]},s.id))}),o===x&&e.jsx("button",{onClick:f,className:"w-full mt-6 py-4 bg-green-600 text-white rounded-xl font-bold text-lg hover:bg-green-700",children:"âœ“ Complete & Ready for Delivery"})]})]}):e.jsxs("div",{className:"bg-white rounded-xl shadow-lg p-12 text-center",children:[e.jsx("span",{className:"text-8xl",children:"ðŸ“¦"}),e.jsx("h2",{className:"text-2xl font-bold text-gray-900 mt-6",children:"No active order"}),e.jsx("p",{className:"text-gray-500 mt-2",children:"Pick an order from the queue to start"})]})}),e.jsxs("div",{className:"lg:col-span-1",children:[e.jsxs("div",{className:"bg-white rounded-xl shadow-lg overflow-hidden",children:[e.jsx("div",{className:"p-4 border-b",children:e.jsxs("h2",{className:"text-lg font-bold text-gray-900",children:["Order Queue (",a.length,")"]})}),e.jsx("div",{className:"divide-y max-h-96 overflow-y-auto",children:a.map((s,m)=>e.jsxs("div",{className:"p-4 hover:bg-gray-50 cursor-pointer",onClick:()=>l(`/picker/order/${s.id}`),children:[e.jsxs("div",{className:"flex items-center justify-between mb-2",children:[e.jsx("span",{className:"font-semibold text-gray-900",children:s.orderNumber}),e.jsx("span",{className:`px-2 py-1 rounded-full text-xs font-semibold ${y[s.priority]}`,children:s.priority})]}),e.jsxs("div",{className:"flex items-center justify-between text-sm text-gray-500",children:[e.jsxs("span",{children:["ðŸ“¦ ",s.items," items"]}),e.jsxs("span",{children:["â±ï¸ ",s.eta]})]})]},s.id))}),a.length===0&&e.jsxs("div",{className:"p-8 text-center text-gray-500",children:[e.jsx("span",{className:"text-4xl",children:"âœ“"}),e.jsx("p",{className:"mt-2",children:"All caught up!"})]})]}),e.jsxs("div",{className:"mt-6 space-y-3",children:[e.jsxs("button",{onClick:()=>l("/picker/performance"),className:"w-full bg-white rounded-xl shadow-lg p-4 text-left hover:shadow-xl transition-shadow flex items-center gap-3",children:[e.jsx("span",{className:"text-2xl",children:"ðŸ“Š"}),e.jsxs("div",{children:[e.jsx("p",{className:"font-semibold text-gray-900",children:"View Performance"}),e.jsx("p",{className:"text-sm text-gray-500",children:"See your stats and metrics"})]})]}),e.jsxs("button",{onClick:()=>l("/picker/history"),className:"w-full bg-white rounded-xl shadow-lg p-4 text-left hover:shadow-xl transition-shadow flex items-center gap-3",children:[e.jsx("span",{className:"text-2xl",children:"ðŸ“‹"}),e.jsxs("div",{children:[e.jsx("p",{className:"font-semibold text-gray-900",children:"Order History"}),e.jsx("p",{className:"text-sm text-gray-500",children:"View completed orders"})]})]})]})]})]})]})]})}export{A as default};
