import{j as e}from"./date-C9mDCBzx.js";import{R as P,r as f}from"./vendor-BfFvvk5l.js";import{v as C}from"./index-CfgvYoI6.js";import{m as T}from"./ui-qKdnnCNY.js";var H={color:void 0,size:void 0,className:void 0,style:void 0,attr:void 0},_=P.createContext&&P.createContext(H),Q=["attr","size","title"];function J(t,l){if(t==null)return{};var c=K(t,l),i,p;if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(t);for(p=0;p<o.length;p++)i=o[p],!(l.indexOf(i)>=0)&&Object.prototype.propertyIsEnumerable.call(t,i)&&(c[i]=t[i])}return c}function K(t,l){if(t==null)return{};var c={};for(var i in t)if(Object.prototype.hasOwnProperty.call(t,i)){if(l.indexOf(i)>=0)continue;c[i]=t[i]}return c}function E(){return E=Object.assign?Object.assign.bind():function(t){for(var l=1;l<arguments.length;l++){var c=arguments[l];for(var i in c)Object.prototype.hasOwnProperty.call(c,i)&&(t[i]=c[i])}return t},E.apply(this,arguments)}function q(t,l){var c=Object.keys(t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(t);l&&(i=i.filter(function(p){return Object.getOwnPropertyDescriptor(t,p).enumerable})),c.push.apply(c,i)}return c}function I(t){for(var l=1;l<arguments.length;l++){var c=arguments[l]!=null?arguments[l]:{};l%2?q(Object(c),!0).forEach(function(i){X(t,i,c[i])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(c)):q(Object(c)).forEach(function(i){Object.defineProperty(t,i,Object.getOwnPropertyDescriptor(c,i))})}return t}function X(t,l,c){return l=Z(l),l in t?Object.defineProperty(t,l,{value:c,enumerable:!0,configurable:!0,writable:!0}):t[l]=c,t}function Z(t){var l=ee(t,"string");return typeof l=="symbol"?l:l+""}function ee(t,l){if(typeof t!="object"||!t)return t;var c=t[Symbol.toPrimitive];if(c!==void 0){var i=c.call(t,l);if(typeof i!="object")return i;throw new TypeError("@@toPrimitive must return a primitive value.")}return(l==="string"?String:Number)(t)}function G(t){return t&&t.map((l,c)=>P.createElement(l.tag,I({key:c},l.attr),G(l.child)))}function F(t){return l=>P.createElement(te,E({attr:I({},t.attr)},l),G(t.child))}function te(t){var l=c=>{var{attr:i,size:p,title:o}=t,v=J(t,Q),d=p||c.size||"1em",b;return c.className&&(b=c.className),t.className&&(b=(b?b+" ":"")+t.className),P.createElement("svg",E({stroke:"currentColor",fill:"currentColor",strokeWidth:"0"},c.attr,i,v,{className:b,style:I(I({color:t.color||c.color},c.style),t.style),height:d,width:d,xmlns:"http://www.w3.org/2000/svg"}),o&&P.createElement("title",null,o),t.children)};return _!==void 0?P.createElement(_.Consumer,null,c=>l(c)):l(H)}function Y(t){return F({attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"polyline",attr:{points:"20 6 9 17 4 12"},child:[]}]})(t)}function re(t){return F({attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"line",attr:{x1:"12",y1:"5",x2:"12",y2:"19"},child:[]},{tag:"line",attr:{x1:"5",y1:"12",x2:"19",y2:"12"},child:[]}]})(t)}function se(t){return F({attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"polyline",attr:{points:"3 6 5 6 21 6"},child:[]},{tag:"path",attr:{d:"M19 6v14a2 2 0 0 1-2 2H7a2 2 0 0 1-2-2V6m3 0V4a2 2 0 0 1 2-2h4a2 2 0 0 1 2 2v2"},child:[]},{tag:"line",attr:{x1:"10",y1:"11",x2:"10",y2:"17"},child:[]},{tag:"line",attr:{x1:"14",y1:"11",x2:"14",y2:"17"},child:[]}]})(t)}function ae(t){return F({attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"path",attr:{d:"M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4"},child:[]},{tag:"polyline",attr:{points:"17 8 12 3 7 8"},child:[]},{tag:"line",attr:{x1:"12",y1:"3",x2:"12",y2:"15"},child:[]}]})(t)}function R(t){return F({attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"line",attr:{x1:"18",y1:"6",x2:"6",y2:"18"},child:[]},{tag:"line",attr:{x1:"6",y1:"6",x2:"18",y2:"18"},child:[]}]})(t)}const ie=["Fresh Produce","Meat & Seafood","Dairy & Eggs","Bakery","Pantry Staples","Beverages","Snacks","Specialty Items","African Foods","Organic Products","Frozen Foods"],le=[{value:"kg",label:"Kilogram (kg)"},{value:"g",label:"Gram (g)"},{value:"lb",label:"Pound (lb)"},{value:"oz",label:"Ounce (oz)"},{value:"l",label:"Litre (l)"},{value:"ml",label:"Millilitre (ml)"},{value:"pint",label:"Pint"},{value:"piece",label:"Piece"},{value:"pack",label:"Pack"},{value:"bunch",label:"Bunch"},{value:"bag",label:"Bag"},{value:"box",label:"Box"},{value:"tray",label:"Tray"}],ne=["ðŸŒ± Vegan","ðŸ¥› Vegetarian","ðŸŒ¾ Gluten-Free","ðŸ¥œ Nut-Free","â˜ªï¸ Halal","âœ¡ï¸ Kosher","ðŸŒ¿ Organic","ðŸ‡®ðŸ‡ª Irish Grown","ðŸŒ Local","â„ï¸ Frozen","ðŸ”¥ Spicy","ðŸ¯ Sugar-Free","ðŸ§‚ Low Sodium","ðŸ’ª High Protein"];function oe({product:t,onClose:l,onSave:c}){const[i,p]=f.useState(1),[o,v]=f.useState(!1),[d,b]=f.useState({}),[n,y]=f.useState({name:"",description:"",category:"",price:"",originalPrice:"",stock:"",lowStockThreshold:10,inStock:!0,unlimitedStock:!1,unit:"kg",unitQuantity:"",tags:[],availability:{days:{monday:!0,tuesday:!0,wednesday:!0,thursday:!0,friday:!0,saturday:!0,sunday:!0},timeSlots:{enabled:!1,start:"09:00",end:"18:00"},maxOrdersPerDay:"",prepTime:15}}),[h,u]=f.useState([]),[N,g]=f.useState([]),[M,S]=f.useState([]);f.useEffect(()=>{t&&(y({name:t.name||"",description:t.description||"",category:t.category||"",price:t.price||"",originalPrice:t.originalPrice||"",stock:t.stock||"",lowStockThreshold:t.lowStockThreshold||10,inStock:t.inStock!==void 0?t.inStock:!0,unlimitedStock:t.unlimitedStock||!1,unit:t.unit||"kg",unitQuantity:t.unitQuantity||"",tags:t.tags||[],availability:t.availability||n.availability}),t.images&&t.images.length>0&&g(t.images.map(r=>r.url)),t.variants&&t.variants.length>0&&S(t.variants))},[t]);const k=r=>{const{name:s,value:m,type:x,checked:w}=r.target;y(D=>({...D,[s]:x==="checkbox"?w:m})),d[s]&&b(D=>{const W={...D};return delete W[s],W})},$=r=>{const s=Array.from(r.target.files);if(h.length+s.length>5){alert("Maximum 5 images allowed");return}for(const x of s)if(x.size>5*1024*1024){alert("Each image must be less than 5MB");return}u(x=>[...x,...s]),d.images&&b(x=>{const w={...x};return delete w.images,w}),s.forEach(x=>{const w=new FileReader;w.onloadend=()=>{g(D=>[...D,w.result])},w.readAsDataURL(x)})},V=r=>{u(s=>s.filter((m,x)=>x!==r)),g(s=>s.filter((m,x)=>x!==r))},B=()=>{S(r=>[...r,{name:"",size:"",price:"",stock:"",inStock:!0}])},O=(r,s,m)=>{S(x=>{const w=[...x];return w[r][s]=m,w})},U=r=>{S(s=>s.filter((m,x)=>x!==r))},z=r=>{y(s=>({...s,tags:s.tags.includes(r)?s.tags.filter(m=>m!==r):[...s.tags,r]}))},a=r=>{const s={};return r===1&&(n.name.trim()||(s.name="Product name is required"),n.description.trim()||(s.description="Description is required"),n.category.trim()||(s.category="Category is required")),r===2&&h.length===0&&N.length===0&&(s.images="At least 1 image is required (max 5)"),r===3&&((!n.price||n.price<=0)&&(s.price="Valid price is required"),(!n.stock||n.stock<=0)&&!n.unlimitedStock&&(s.stock="Stock quantity is required (or check Unlimited Stock)")),s},j=()=>{const r={};return n.name.trim()||(r.name="Product name is required"),n.description.trim()||(r.description="Description is required"),n.category.trim()||(r.category="Category is required"),(!n.price||n.price<=0)&&(r.price="Valid price is required"),h.length===0&&N.length===0&&(r.images="At least 1 image is required (max 5)"),!n.unlimitedStock&&(!n.stock||n.stock<=0)&&(r.stock="Stock quantity is required (or check Unlimited Stock)"),b(r),Object.keys(r).length===0},A=async r=>{if(r.preventDefault(),!j()){const s=Object.entries(d).map(([m,x])=>`${m}: ${x}`).join(`
`);alert(`Please fix the following errors:

${s}`),d.name||d.description||d.category?p(1):d.images?p(2):(d.price||d.stock)&&p(3);return}try{if(v(!0),!h||h.length===0){alert("âŒ At least one product image is required"),v(!1);return}const s=new FormData;Object.keys(n).forEach(x=>{x!=="availability"&&x!=="tags"&&s.append(x,n[x])}),s.append("availability",JSON.stringify(n.availability)),s.append("tags",JSON.stringify(n.tags)),s.append("variants",JSON.stringify(M)),console.log(`ðŸ“¸ Sending ${h.length} image(s)`),h.forEach((x,w)=>{console.log(`  Image ${w+1}: ${x.name} (${x.size} bytes)`),s.append("images",x)});let m;t?m=await C.updateProduct(t._id,s):m=await C.createProduct(s),m.success?(alert(t?"Product updated successfully!":"Product created successfully!"),c(m)):alert(`âŒ ${m.message||"Failed to save product"}`)}catch(s){console.error("Product save error:",s);const m=s.message||"Failed to save product";m.includes("401")||m.includes("Session expired")?(alert("âŒ Your session has expired. Please log in again."),window.location.href="/login"):m.includes("501")?alert("âŒ This feature is not yet available. Coming soon!"):alert(`âŒ ${m}`)}finally{v(!1)}},L=[{id:1,name:"Basic Info"},{id:2,name:"Images"},{id:3,name:"Pricing & Stock"},{id:4,name:"Variants & Tags"},{id:5,name:"Availability"}];return e.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50 p-2 sm:p-4 overflow-y-auto",children:e.jsxs(T.div,{initial:{opacity:0,scale:.95},animate:{opacity:1,scale:1},exit:{opacity:0,scale:.95},className:"bg-white rounded-lg sm:rounded-xl shadow-2xl max-w-4xl w-full my-4 sm:my-8",children:[e.jsxs("div",{className:"flex justify-between items-center p-4 sm:p-6 border-b",children:[e.jsx("h2",{className:"text-lg sm:text-2xl font-bold text-gray-800",children:t?"Edit Product":"Create New Product"}),e.jsx("button",{onClick:l,className:"p-2 hover:bg-gray-100 rounded-full transition min-w-[44px] min-h-[44px] flex items-center justify-center",children:e.jsx(R,{className:"w-5 h-5 sm:w-6 sm:h-6"})})]}),e.jsx("div",{className:"px-3 sm:px-6 py-3 sm:py-4 border-b bg-gray-50 overflow-x-auto",children:e.jsx("div",{className:"flex justify-between items-center min-w-max sm:min-w-0",children:L.map((r,s)=>e.jsxs("div",{className:"flex items-center flex-1 min-w-fit",children:[e.jsxs("div",{className:"flex items-center",children:[e.jsx("div",{className:`w-7 h-7 sm:w-8 sm:h-8 rounded-full flex items-center justify-center text-xs sm:text-sm font-semibold ${i>=r.id?"bg-green-500 text-white":"bg-gray-200 text-gray-600"}`,children:i>r.id?e.jsx(Y,{className:"w-3 h-3 sm:w-4 sm:h-4"}):r.id}),e.jsx("span",{className:`ml-1 sm:ml-2 text-xs sm:text-sm whitespace-nowrap ${i>=r.id?"text-green-600 font-semibold":"text-gray-500"}`,children:r.name})]}),s<L.length-1&&e.jsx("div",{className:`flex-1 h-1 mx-2 sm:mx-4 min-w-[20px] ${i>r.id?"bg-green-500":"bg-gray-200"}`})]},r.id))})}),e.jsxs("form",{onSubmit:A,className:"p-4 sm:p-6",children:[e.jsxs("div",{className:"max-h-[50vh] sm:max-h-[60vh] overflow-y-auto",children:[i===1&&e.jsxs(T.div,{initial:{opacity:0,x:20},animate:{opacity:1,x:0},className:"space-y-4",children:[e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Product Name *"}),e.jsx("input",{type:"text",name:"name",value:n.name,onChange:k,className:`w-full px-4 py-3 border rounded-lg focus:ring-2 focus:ring-green-500 focus:border-transparent ${d.name?"border-red-500 bg-red-50":"border-gray-300"}`,placeholder:"e.g., Organic Cherry Tomatoes",maxLength:100}),d.name&&e.jsx("p",{className:"text-red-500 text-sm mt-1 font-semibold",children:d.name})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Description *"}),e.jsx("textarea",{name:"description",value:n.description,onChange:k,rows:4,className:`w-full px-4 py-3 border rounded-lg focus:ring-2 focus:ring-green-500 focus:border-transparent ${d.description?"border-red-500 bg-red-50":"border-gray-300"}`,placeholder:"Fresh organic cherry tomatoes grown in Ireland. Sweet and juicy, perfect for salads.",maxLength:2e3}),e.jsxs("p",{className:"text-sm mt-1 text-gray-500",children:[n.description.length,"/2000 characters"]}),d.description&&e.jsx("p",{className:"text-red-500 text-sm mt-1 font-semibold",children:d.description})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Category * (Free Text)"}),e.jsx("input",{type:"text",name:"category",value:n.category,onChange:k,list:"category-suggestions",className:`w-full px-4 py-3 border rounded-lg focus:ring-2 focus:ring-green-500 focus:border-transparent ${d.category?"border-red-500 bg-red-50":"border-gray-300"}`,placeholder:"e.g., Fresh Produce, Bakery, Meat & Seafood...",maxLength:50}),e.jsx("datalist",{id:"category-suggestions",children:ie.map((r,s)=>e.jsx("option",{value:r},s))}),e.jsx("p",{className:"text-sm text-gray-500 mt-1",children:"Type your category or select from suggestions"}),d.category&&e.jsx("p",{className:"text-red-500 text-sm mt-1 font-semibold",children:d.category})]})]}),i===2&&e.jsx(T.div,{initial:{opacity:0,x:20},animate:{opacity:1,x:0},className:"space-y-4",children:e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Product Images * (1-5 images, max 5MB each)"}),e.jsxs("div",{className:"grid grid-cols-5 gap-4 mb-4",children:[N.map((r,s)=>e.jsxs("div",{className:"relative aspect-square",children:[e.jsx("img",{src:r,alt:`Preview ${s+1}`,className:"w-full h-full object-cover rounded-lg border-2 border-gray-300"}),e.jsx("button",{type:"button",onClick:()=>V(s),className:"absolute -top-2 -right-2 bg-red-500 text-white rounded-full p-1 hover:bg-red-600",children:e.jsx(R,{className:"w-4 h-4"})}),s===0&&e.jsx("span",{className:"absolute bottom-2 left-2 bg-green-500 text-white text-xs px-2 py-1 rounded",children:"Primary"})]},s)),N.length<5&&e.jsxs("label",{className:"aspect-square border-2 border-dashed border-gray-300 rounded-lg flex flex-col items-center justify-center cursor-pointer hover:border-green-500 hover:bg-green-50 transition",children:[e.jsx(ae,{className:"w-8 h-8 text-gray-400 mb-2"}),e.jsx("span",{className:"text-sm text-gray-500",children:"Upload"}),e.jsx("input",{type:"file",accept:"image/*",multiple:!0,onChange:$,className:"hidden"})]})]}),e.jsx("p",{className:`text-sm ${d.images?"text-red-500 font-semibold":"text-gray-500"}`,children:d.images?"âš ï¸ At least 1 image is required!":"First image will be the main product image. Drag to reorder (coming soon)."}),d.images&&e.jsx("p",{className:"text-red-500 text-sm mt-2 font-semibold bg-red-50 p-3 rounded-lg",children:d.images})]})}),i===3&&e.jsxs(T.div,{initial:{opacity:0,x:20},animate:{opacity:1,x:0},className:"space-y-4",children:[e.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Price * (Â£)"}),e.jsx("input",{type:"number",name:"price",value:n.price,onChange:k,step:"0.01",min:"0.01",className:`w-full px-4 py-3 border rounded-lg focus:ring-2 focus:ring-green-500 ${d.price?"border-red-500 bg-red-50":"border-gray-300"}`,placeholder:"2.99"}),d.price&&e.jsx("p",{className:"text-red-500 text-sm mt-1 font-semibold",children:d.price})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Original Price (Â£) - optional"}),e.jsx("input",{type:"number",name:"originalPrice",value:n.originalPrice,onChange:k,step:"0.01",min:"0",className:"w-full px-4 py-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-green-500",placeholder:"3.99"}),e.jsx("p",{className:"text-sm text-gray-500 mt-1",children:"Shows discount badge"})]})]}),e.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Unit *"}),e.jsx("select",{name:"unit",value:n.unit,onChange:k,className:"w-full px-4 py-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-green-500",children:le.map(r=>e.jsx("option",{value:r.value,children:r.label},r.value))})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Unit Quantity"}),e.jsx("input",{type:"number",name:"unitQuantity",value:n.unitQuantity,onChange:k,step:"0.01",min:"0",className:"w-full px-4 py-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-green-500",placeholder:"e.g., 0.5 for 500g"})]})]}),e.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Stock Quantity *"}),e.jsx("input",{type:"number",name:"stock",value:n.stock,onChange:k,min:"0",disabled:n.unlimitedStock,className:`w-full px-4 py-3 border rounded-lg focus:ring-2 focus:ring-green-500 ${n.unlimitedStock?"bg-gray-100 border-gray-300":d.stock?"border-red-500 bg-red-50":"border-gray-300"}`,placeholder:"50"}),d.stock&&e.jsx("p",{className:"text-red-500 text-sm mt-1 font-semibold",children:d.stock})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Low Stock Alert"}),e.jsx("input",{type:"number",name:"lowStockThreshold",value:n.lowStockThreshold,onChange:k,min:"0",className:"w-full px-4 py-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-green-500",placeholder:"10"})]})]}),e.jsxs("div",{className:"flex gap-6",children:[e.jsxs("label",{className:"flex items-center gap-2 cursor-pointer",children:[e.jsx("input",{type:"checkbox",name:"inStock",checked:n.inStock,onChange:k,className:"w-5 h-5 text-green-500 rounded focus:ring-2 focus:ring-green-500"}),e.jsx("span",{className:"text-sm font-medium",children:"In Stock"})]}),e.jsxs("label",{className:"flex items-center gap-2 cursor-pointer",children:[e.jsx("input",{type:"checkbox",name:"unlimitedStock",checked:n.unlimitedStock,onChange:k,className:"w-5 h-5 text-green-500 rounded focus:ring-2 focus:ring-green-500"}),e.jsx("span",{className:"text-sm font-medium",children:"Unlimited Stock"})]})]})]}),i===4&&e.jsxs(T.div,{initial:{opacity:0,x:20},animate:{opacity:1,x:0},className:"space-y-6",children:[e.jsxs("div",{children:[e.jsxs("div",{className:"flex justify-between items-center mb-3",children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700",children:"Size Variants (Optional)"}),e.jsxs("button",{type:"button",onClick:B,className:"flex items-center gap-2 px-3 py-1 bg-green-500 text-white rounded-lg hover:bg-green-600 text-sm",children:[e.jsx(re,{})," Add Variant"]})]}),M.map((r,s)=>e.jsxs("div",{className:"grid grid-cols-5 gap-2 mb-2 p-3 bg-gray-50 rounded-lg",children:[e.jsx("input",{type:"text",placeholder:"Name (e.g., Small)",value:r.name,onChange:m=>O(s,"name",m.target.value),className:"px-3 py-2 border rounded"}),e.jsx("input",{type:"text",placeholder:"Size (e.g., 250g)",value:r.size,onChange:m=>O(s,"size",m.target.value),className:"px-3 py-2 border rounded"}),e.jsx("input",{type:"number",placeholder:"Price",value:r.price,onChange:m=>O(s,"price",m.target.value),className:"px-3 py-2 border rounded",step:"0.01"}),e.jsx("input",{type:"number",placeholder:"Stock",value:r.stock,onChange:m=>O(s,"stock",m.target.value),className:"px-3 py-2 border rounded"}),e.jsx("button",{type:"button",onClick:()=>U(s),className:"px-3 py-2 bg-red-500 text-white rounded hover:bg-red-600",children:e.jsx(se,{})})]},s))]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-3",children:"Dietary & Product Tags"}),e.jsx("div",{className:"flex flex-wrap gap-2",children:ne.map((r,s)=>e.jsx("button",{type:"button",onClick:()=>z(r),className:`px-4 py-2 rounded-full text-sm font-medium transition ${n.tags.includes(r)?"bg-green-500 text-white":"bg-gray-100 text-gray-700 hover:bg-gray-200"}`,children:r},s))})]})]}),i===5&&e.jsxs(T.div,{initial:{opacity:0,x:20},animate:{opacity:1,x:0},className:"space-y-4",children:[e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-3",children:"Available Days"}),e.jsx("div",{className:"flex flex-wrap gap-2",children:Object.keys(n.availability.days).map(r=>e.jsxs("label",{className:"flex items-center gap-2 px-4 py-2 bg-gray-50 rounded-lg cursor-pointer hover:bg-gray-100",children:[e.jsx("input",{type:"checkbox",checked:n.availability.days[r],onChange:s=>{y(m=>({...m,availability:{...m.availability,days:{...m.availability.days,[r]:s.target.checked}}}))},className:"w-4 h-4 text-green-500 rounded"}),e.jsx("span",{className:"text-sm capitalize",children:r})]},r))})]}),e.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Preparation Time (minutes)"}),e.jsx("input",{type:"number",value:n.availability.prepTime,onChange:r=>{y(s=>({...s,availability:{...s.availability,prepTime:parseInt(r.target.value)||15}}))},min:"0",className:"w-full px-4 py-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-green-500"})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Max Orders Per Day (optional)"}),e.jsx("input",{type:"number",value:n.availability.maxOrdersPerDay,onChange:r=>{y(s=>({...s,availability:{...s.availability,maxOrdersPerDay:r.target.value}}))},min:"0",className:"w-full px-4 py-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-green-500",placeholder:"50"})]})]})]})]}),e.jsxs("div",{className:"flex justify-between mt-6 pt-6 border-t",children:[e.jsx("button",{type:"button",onClick:()=>p(r=>Math.max(1,r-1)),disabled:i===1,className:"px-6 py-3 border border-gray-300 rounded-lg hover:bg-gray-50 disabled:opacity-50 disabled:cursor-not-allowed",children:"Previous"}),e.jsxs("div",{className:"flex gap-3",children:[e.jsx("button",{type:"button",onClick:l,className:"px-6 py-3 border border-gray-300 rounded-lg hover:bg-gray-50",children:"Cancel"}),i<5?e.jsx("button",{type:"button",onClick:()=>{const r=a(i);if(Object.keys(r).length>0){b(r);const s=Object.entries(r).map(([m,x])=>`${m}: ${x}`).join(`
`);alert(`Please fix the following before continuing:

${s}`);return}b({}),p(s=>Math.min(5,s+1))},className:"px-6 py-3 bg-green-500 text-white rounded-lg hover:bg-green-600",children:"Next"}):e.jsx("button",{type:"submit",disabled:o,className:"px-6 py-3 bg-green-500 text-white rounded-lg hover:bg-green-600 disabled:opacity-50 disabled:cursor-not-allowed flex items-center gap-2",children:o?e.jsxs(e.Fragment,{children:[e.jsx("div",{className:"animate-spin rounded-full h-5 w-5 border-b-2 border-white"}),"Saving..."]}):e.jsxs(e.Fragment,{children:[e.jsx(Y,{})," ",t?"Update Product":"Create Product"]})})]})]})]})]})})}function ce({selectedProducts:t,onClose:l,onComplete:c}){const[i,p]=f.useState("delete"),[o,v]=f.useState({isActive:!0,priceType:"percentage",priceValue:"",stockType:"adjust",stockValue:""}),[d,b]=f.useState(!1),n=async h=>{var u,N;h.preventDefault(),b(!0);try{let g;switch(i){case"delete":if(!confirm(`Delete ${t.length} products? This cannot be undone.`)){b(!1);return}g=await C.bulkDeleteProducts({productIds:t});break;case"status":g=await C.bulkUpdateStatus({productIds:t,isActive:o.isActive});break;case"price":if(!o.priceValue||o.priceValue==="0"){alert("Please enter a valid price value"),b(!1);return}g=await C.bulkUpdatePrices({productIds:t,type:o.priceType,value:parseFloat(o.priceValue)});break;case"stock":if(!o.stockValue||o.stockValue==="0"){alert("Please enter a valid stock value"),b(!1);return}g=await C.bulkUpdateStock({productIds:t,type:o.stockType,value:parseInt(o.stockValue)});break;default:throw new Error("Invalid action")}g.success&&(alert(`Successfully updated ${t.length} products!`),c())}catch(g){console.error("Bulk action error:",g),alert(((N=(u=g.response)==null?void 0:u.data)==null?void 0:N.message)||"Failed to perform bulk action")}finally{b(!1)}},y=()=>{switch(i){case"delete":return e.jsx("div",{className:"bg-red-50 border border-red-200 rounded-lg p-4",children:e.jsxs("div",{className:"flex items-start",children:[e.jsx("svg",{className:"w-6 h-6 text-red-600 mt-0.5 mr-3 flex-shrink-0",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M12 9v2m0 4h.01m-6.938 4h13.856c1.54 0 2.502-1.667 1.732-3L13.732 4c-.77-1.333-2.694-1.333-3.464 0L3.34 16c-.77 1.333.192 3 1.732 3z"})}),e.jsxs("div",{children:[e.jsx("h4",{className:"text-sm font-semibold text-red-900 mb-1",children:"Warning: Permanent Deletion"}),e.jsxs("p",{className:"text-sm text-red-700",children:["You are about to delete ",e.jsxs("span",{className:"font-bold",children:[t.length," products"]}),". This action cannot be undone."]})]})]})});case"status":return e.jsxs("div",{className:"space-y-4",children:[e.jsxs("p",{className:"text-sm text-afri-gray-600",children:["Change status for ",e.jsxs("span",{className:"font-semibold",children:[t.length," products"]})]}),e.jsxs("div",{className:"flex items-center space-x-4",children:[e.jsxs("label",{className:"flex items-center cursor-pointer",children:[e.jsx("input",{type:"radio",name:"status",checked:o.isActive===!0,onChange:()=>v({...o,isActive:!0}),className:"w-5 h-5 text-afri-green border-gray-300 focus:ring-afri-green cursor-pointer"}),e.jsx("span",{className:"ml-2 text-sm font-medium text-afri-gray-900",children:"Activate"})]}),e.jsxs("label",{className:"flex items-center cursor-pointer",children:[e.jsx("input",{type:"radio",name:"status",checked:o.isActive===!1,onChange:()=>v({...o,isActive:!1}),className:"w-5 h-5 text-afri-green border-gray-300 focus:ring-afri-green cursor-pointer"}),e.jsx("span",{className:"ml-2 text-sm font-medium text-afri-gray-900",children:"Deactivate"})]})]})]});case"price":return e.jsxs("div",{className:"space-y-4",children:[e.jsxs("p",{className:"text-sm text-afri-gray-600",children:["Update prices for ",e.jsxs("span",{className:"font-semibold",children:[t.length," products"]})]}),e.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-afri-gray-700 mb-2",children:"Update Type"}),e.jsxs("select",{value:o.priceType,onChange:h=>v({...o,priceType:h.target.value}),className:"w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-afri-green focus:border-transparent",children:[e.jsx("option",{value:"percentage",children:"Percentage (%)"}),e.jsx("option",{value:"fixed",children:"Fixed Amount (Â£)"})]})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-afri-gray-700 mb-2",children:o.priceType==="percentage"?"Percentage":"Amount (Â£)"}),e.jsx("input",{type:"number",step:"0.01",value:o.priceValue,onChange:h=>v({...o,priceValue:h.target.value}),className:"w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-afri-green focus:border-transparent",placeholder:"0.00"})]})]}),e.jsx("div",{className:"bg-blue-50 border border-blue-200 rounded-lg p-3",children:e.jsx("p",{className:"text-sm text-blue-800",children:o.priceType==="percentage"?e.jsxs(e.Fragment,{children:[o.priceValue>0?"Increase":"Decrease"," prices by"," ",e.jsxs("span",{className:"font-bold",children:[Math.abs(o.priceValue),"%"]})]}):e.jsxs(e.Fragment,{children:[o.priceValue>0?"Add":"Subtract"," ",e.jsxs("span",{className:"font-bold",children:["Â£",Math.abs(o.priceValue)]})," to/from prices"]})})})]});case"stock":return e.jsxs("div",{className:"space-y-4",children:[e.jsxs("p",{className:"text-sm text-afri-gray-600",children:["Update stock for ",e.jsxs("span",{className:"font-semibold",children:[t.length," products"]})]}),e.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-afri-gray-700 mb-2",children:"Update Type"}),e.jsxs("select",{value:o.stockType,onChange:h=>v({...o,stockType:h.target.value}),className:"w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-afri-green focus:border-transparent",children:[e.jsx("option",{value:"adjust",children:"Adjust (+/-)"}),e.jsx("option",{value:"set",children:"Set to Value"})]})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-afri-gray-700 mb-2",children:"Quantity"}),e.jsx("input",{type:"number",value:o.stockValue,onChange:h=>v({...o,stockValue:h.target.value}),className:"w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-afri-green focus:border-transparent",placeholder:"0"})]})]}),e.jsx("div",{className:"bg-blue-50 border border-blue-200 rounded-lg p-3",children:e.jsx("p",{className:"text-sm text-blue-800",children:o.stockType==="adjust"?e.jsxs(e.Fragment,{children:[o.stockValue>0?"Add":"Remove"," ",e.jsx("span",{className:"font-bold",children:Math.abs(o.stockValue)})," units"]}):e.jsxs(e.Fragment,{children:["Set stock to ",e.jsx("span",{className:"font-bold",children:o.stockValue})," units"]})})})]});default:return null}};return e.jsxs("div",{className:"fixed inset-0 z-50 overflow-y-auto",children:[e.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 backdrop-blur-sm transition-opacity",onClick:l}),e.jsx("div",{className:"flex min-h-full items-center justify-center p-4",children:e.jsxs("div",{className:"relative bg-white rounded-2xl shadow-2xl max-w-2xl w-full transform transition-all animate-slideUp",children:[e.jsxs("div",{className:"bg-gradient-to-r from-blue-600 to-blue-700 text-white px-6 py-4 rounded-t-2xl",children:[e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsx("h2",{className:"text-2xl font-bold",children:"Bulk Actions"}),e.jsx("button",{onClick:l,className:"text-white hover:text-afri-yellow transition-colors p-2 hover:bg-white hover:bg-opacity-20 rounded-lg",children:e.jsx("svg",{className:"w-6 h-6",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M6 18L18 6M6 6l12 12"})})})]}),e.jsxs("p",{className:"text-sm opacity-90 mt-1",children:[t.length," product",t.length>1?"s":""," selected"]})]}),e.jsxs("form",{onSubmit:n,className:"p-6 space-y-6",children:[e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-semibold text-afri-gray-900 mb-3",children:"Select Action"}),e.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[e.jsxs("button",{type:"button",onClick:()=>p("delete"),className:`p-4 rounded-lg border-2 transition-all transform hover:scale-105 ${i==="delete"?"border-red-500 bg-red-50 shadow-lg":"border-gray-200 hover:border-gray-300"}`,children:[e.jsx("div",{className:"text-3xl mb-2",children:"ðŸ—‘ï¸"}),e.jsx("div",{className:"font-semibold text-afri-gray-900",children:"Delete"}),e.jsx("div",{className:"text-xs text-afri-gray-500 mt-1",children:"Remove products"})]}),e.jsxs("button",{type:"button",onClick:()=>p("status"),className:`p-4 rounded-lg border-2 transition-all transform hover:scale-105 ${i==="status"?"border-afri-green bg-green-50 shadow-lg":"border-gray-200 hover:border-gray-300"}`,children:[e.jsx("div",{className:"text-3xl mb-2",children:"ðŸ”„"}),e.jsx("div",{className:"font-semibold text-afri-gray-900",children:"Status"}),e.jsx("div",{className:"text-xs text-afri-gray-500 mt-1",children:"Activate/Deactivate"})]}),e.jsxs("button",{type:"button",onClick:()=>p("price"),className:`p-4 rounded-lg border-2 transition-all transform hover:scale-105 ${i==="price"?"border-blue-500 bg-blue-50 shadow-lg":"border-gray-200 hover:border-gray-300"}`,children:[e.jsx("div",{className:"text-3xl mb-2",children:"ðŸ’°"}),e.jsx("div",{className:"font-semibold text-afri-gray-900",children:"Price"}),e.jsx("div",{className:"text-xs text-afri-gray-500 mt-1",children:"Update prices"})]}),e.jsxs("button",{type:"button",onClick:()=>p("stock"),className:`p-4 rounded-lg border-2 transition-all transform hover:scale-105 ${i==="stock"?"border-purple-500 bg-purple-50 shadow-lg":"border-gray-200 hover:border-gray-300"}`,children:[e.jsx("div",{className:"text-3xl mb-2",children:"ðŸ“¦"}),e.jsx("div",{className:"font-semibold text-afri-gray-900",children:"Stock"}),e.jsx("div",{className:"text-xs text-afri-gray-500 mt-1",children:"Adjust inventory"})]})]})]}),e.jsx("div",{className:"border-t pt-6",children:y()}),e.jsxs("div",{className:"flex items-center justify-end space-x-4 pt-6 border-t",children:[e.jsx("button",{type:"button",onClick:l,className:"px-6 py-3 border border-gray-300 text-gray-700 rounded-lg font-medium hover:bg-gray-50 transition-all",children:"Cancel"}),e.jsx("button",{type:"submit",disabled:d,className:`px-6 py-3 text-white rounded-lg font-semibold shadow-lg hover:shadow-xl transition-all transform hover:scale-105 disabled:opacity-50 disabled:cursor-not-allowed disabled:transform-none flex items-center ${i==="delete"?"bg-gradient-to-r from-red-600 to-red-700":"bg-gradient-to-r from-afri-green to-afri-green-dark"}`,children:d?e.jsxs(e.Fragment,{children:[e.jsxs("svg",{className:"animate-spin h-5 w-5 mr-2",fill:"none",viewBox:"0 0 24 24",children:[e.jsx("circle",{className:"opacity-25",cx:"12",cy:"12",r:"10",stroke:"currentColor",strokeWidth:"4"}),e.jsx("path",{className:"opacity-75",fill:"currentColor",d:"M4 12a8 8 0 018-8V0C5.373 0 0 5.373 0 12h4zm2 5.291A7.962 7.962 0 014 12H0c0 3.042 1.135 5.824 3 7.938l3-2.647z"})]}),"Processing..."]}):`Apply to ${t.length} Product${t.length>1?"s":""}`})]})]})]})}),e.jsx("style",{jsx:!0,children:`
        @keyframes slideUp {
          from {
            opacity: 0;
            transform: translateY(20px) scale(0.95);
          }
          to {
            opacity: 1;
            transform: translateY(0) scale(1);
          }
        }

        .animate-slideUp {
          animation: slideUp 0.3s ease-out;
        }
      `})]})}const de=["fruits","vegetables","grains","dairy","meat","fish","poultry","bakery","beverages","spices","snacks","household","beauty","other"];function he(){const[t,l]=f.useState([]),[c,i]=f.useState(!0),[p,o]=f.useState(!1),[v,d]=f.useState(!1),[b,n]=f.useState(null),[y,h]=f.useState([]),[u,N]=f.useState({search:"",category:"",status:"",page:1,limit:20}),[g,M]=f.useState({});f.useEffect(()=>{S()},[u]);const S=async()=>{try{i(!0);const a=await C.getProducts(u);a.success&&(l(a.data.products),M(a.data.pagination))}catch(a){console.error("Error fetching products:",a)}finally{i(!1)}},k=()=>{console.log("âœ… Opening product creation modal..."),n(null),o(!0)},$=a=>{n(a),o(!0)},V=async a=>{var j,A;if(confirm("Are you sure you want to delete this product?"))try{(await C.deleteProduct(a)).success&&(S(),alert("Product deleted successfully!"))}catch(L){alert(((A=(j=L.response)==null?void 0:j.data)==null?void 0:A.message)||"Failed to delete product")}},B=a=>{h(j=>j.includes(a)?j.filter(A=>A!==a):[...j,a])},O=()=>{y.length===t.length?h([]):h(t.map(a=>a._id))},U=()=>{if(y.length===0){alert("Please select products first");return}d(!0)},z=a=>a.inStock?a.stock<=a.lowStockThreshold?e.jsx("span",{className:"px-2 py-1 text-xs font-semibold rounded-full bg-yellow-100 text-yellow-800",children:"Low Stock"}):e.jsx("span",{className:"px-2 py-1 text-xs font-semibold rounded-full bg-green-100 text-green-800",children:"In Stock"}):e.jsx("span",{className:"px-2 py-1 text-xs font-semibold rounded-full bg-red-100 text-red-800",children:"Out of Stock"});return e.jsxs("div",{className:"space-y-6",children:[e.jsxs("div",{className:"flex flex-col md:flex-row md:items-center md:justify-between gap-4",children:[e.jsxs("div",{children:[e.jsx("h1",{className:"text-3xl md:text-4xl font-bold bg-gradient-to-r from-afri-green to-afri-green-dark bg-clip-text text-transparent",children:t.length===0?"Your Products":`Managing ${t.length} Product${t.length!==1?"s":""}`}),e.jsx("p",{className:"text-afri-gray-600 mt-2",children:t.length===0?"Create your first product to start selling":"Manage your inventory and product listings"})]}),e.jsxs("button",{onClick:k,className:"bg-gradient-to-r from-afri-green to-afri-green-dark text-white px-8 py-4 rounded-xl font-bold text-lg shadow-2xl transform transition-all duration-300 hover:scale-105 hover:shadow-3xl flex items-center justify-center group animate-pulse hover:animate-none",children:[e.jsx("svg",{className:"w-6 h-6 mr-3 transform group-hover:rotate-90 transition-transform duration-300",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M12 4v16m8-8H4"})}),t.length===0?"Create Your First Product":"Create New Product"]})]}),e.jsxs("div",{className:"bg-white rounded-xl shadow-lg p-6",children:[e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-4 gap-4",children:[e.jsx("div",{className:"md:col-span-2",children:e.jsxs("div",{className:"relative",children:[e.jsx("input",{type:"text",placeholder:"Search products...",value:u.search,onChange:a=>N({...u,search:a.target.value,page:1}),className:"w-full pl-10 pr-4 py-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-afri-green focus:border-transparent transition-all"}),e.jsx("svg",{className:"absolute left-3 top-3.5 w-5 h-5 text-gray-400",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M21 21l-6-6m2-5a7 7 0 11-14 0 7 7 0 0114 0z"})})]})}),e.jsxs("select",{value:u.category,onChange:a=>N({...u,category:a.target.value,page:1}),className:"px-4 py-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-afri-green focus:border-transparent transition-all",children:[e.jsx("option",{value:"",children:"All Categories"}),de.map(a=>e.jsx("option",{value:a,children:a.charAt(0).toUpperCase()+a.slice(1)},a))]}),e.jsxs("select",{value:u.status,onChange:a=>N({...u,status:a.target.value,page:1}),className:"px-4 py-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-afri-green focus:border-transparent transition-all",children:[e.jsx("option",{value:"",children:"All Status"}),e.jsx("option",{value:"active",children:"Active"}),e.jsx("option",{value:"inactive",children:"Inactive"}),e.jsx("option",{value:"low-stock",children:"Low Stock"}),e.jsx("option",{value:"out-of-stock",children:"Out of Stock"})]})]}),y.length>0&&e.jsxs("div",{className:"mt-4 p-4 bg-gradient-to-r from-blue-50 to-blue-100 rounded-lg border border-blue-200 flex items-center justify-between animate-slideDown",children:[e.jsx("div",{className:"flex items-center",children:e.jsxs("span",{className:"font-semibold text-blue-900",children:[y.length," products selected"]})}),e.jsx("button",{onClick:U,className:"bg-gradient-to-r from-blue-600 to-blue-700 text-white px-4 py-2 rounded-lg font-medium hover:from-blue-700 hover:to-blue-800 transition-all transform hover:scale-105",children:"Bulk Actions"})]})]}),c?e.jsx("div",{className:"flex justify-center items-center h-64",children:e.jsx("div",{className:"relative",children:e.jsx("div",{className:"w-20 h-20 border-4 border-afri-green border-t-transparent rounded-full animate-spin"})})}):t.length===0?e.jsxs("div",{className:"bg-gradient-to-br from-white to-green-50 rounded-2xl shadow-2xl p-12 text-center border border-green-100",children:[e.jsx("div",{className:"text-8xl mb-6 animate-bounce",children:"ðŸª"}),e.jsx("h3",{className:"text-3xl font-bold text-afri-gray-900 mb-4",children:"No Products Yet"}),u.search||u.category||u.status?e.jsx("p",{className:"text-afri-gray-600 mb-8 text-lg",children:"Try adjusting your filters to see products"}):e.jsxs("div",{className:"max-w-2xl mx-auto",children:[e.jsx("p",{className:"text-afri-gray-700 mb-6 text-lg leading-relaxed",children:"Get started by creating your first product. You can add:"}),e.jsxs("div",{className:"grid grid-cols-2 md:grid-cols-3 gap-4 mb-8 text-left",children:[e.jsxs("div",{className:"bg-white rounded-lg p-4 shadow-md",children:[e.jsx("span",{className:"text-2xl mb-2 block",children:"ðŸ“"}),e.jsx("p",{className:"font-semibold text-afri-gray-900",children:"Product name"})]}),e.jsxs("div",{className:"bg-white rounded-lg p-4 shadow-md",children:[e.jsx("span",{className:"text-2xl mb-2 block",children:"ðŸ“¸"}),e.jsx("p",{className:"font-semibold text-afri-gray-900",children:"Images"})]}),e.jsxs("div",{className:"bg-white rounded-lg p-4 shadow-md",children:[e.jsx("span",{className:"text-2xl mb-2 block",children:"ðŸ“„"}),e.jsx("p",{className:"font-semibold text-afri-gray-900",children:"Description"})]}),e.jsxs("div",{className:"bg-white rounded-lg p-4 shadow-md",children:[e.jsx("span",{className:"text-2xl mb-2 block",children:"ðŸ’°"}),e.jsx("p",{className:"font-semibold text-afri-gray-900",children:"Price"})]}),e.jsxs("div",{className:"bg-white rounded-lg p-4 shadow-md",children:[e.jsx("span",{className:"text-2xl mb-2 block",children:"ðŸ·ï¸"}),e.jsx("p",{className:"font-semibold text-afri-gray-900",children:"Category"})]}),e.jsxs("div",{className:"bg-white rounded-lg p-4 shadow-md",children:[e.jsx("span",{className:"text-2xl mb-2 block",children:"ðŸ“¦"}),e.jsx("p",{className:"font-semibold text-afri-gray-900",children:"Stock"})]})]}),e.jsx("p",{className:"text-afri-gray-600 mb-8",children:"...all customized by you!"})]}),e.jsxs("button",{onClick:k,className:"bg-gradient-to-r from-afri-green to-afri-green-dark text-white px-12 py-5 rounded-xl font-bold text-xl shadow-2xl hover:shadow-3xl transition-all transform hover:scale-110 inline-flex items-center group mb-8",children:[e.jsx("svg",{className:"w-7 h-7 mr-3 transform group-hover:rotate-90 transition-transform duration-300",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M12 4v16m8-8H4"})}),u.search||u.category||u.status?"Clear Filters & Add Product":"CREATE YOUR FIRST PRODUCT",e.jsx("svg",{className:"w-6 h-6 ml-3 transform group-hover:translate-x-2 transition-transform duration-300",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M17 8l4 4m0 0l-4 4m4-4H3"})})]}),e.jsx("div",{className:"bg-blue-50 border-2 border-blue-200 rounded-xl p-6 max-w-xl mx-auto",children:e.jsxs("div",{className:"flex items-start gap-3",children:[e.jsx("span",{className:"text-3xl",children:"ðŸ’¡"}),e.jsxs("div",{className:"text-left",children:[e.jsx("h4",{className:"font-bold text-blue-900 mb-2",children:"New to selling?"}),e.jsx("p",{className:"text-blue-800 text-sm mb-2",children:"Creating a product is easy! Click above to:"}),e.jsxs("ul",{className:"text-blue-700 text-sm space-y-1",children:[e.jsx("li",{children:"â€¢ Upload product images"}),e.jsx("li",{children:"â€¢ Enter product name & description"}),e.jsx("li",{children:"â€¢ Set your own price"}),e.jsx("li",{children:"â€¢ Choose category & stock quantity"})]})]})]})})]}):e.jsxs("div",{className:"bg-white rounded-xl shadow-lg overflow-hidden",children:[e.jsx("div",{className:"overflow-x-auto",children:e.jsxs("table",{className:"min-w-full divide-y divide-gray-200",children:[e.jsx("thead",{className:"bg-gradient-to-r from-afri-gray-50 to-afri-gray-100",children:e.jsxs("tr",{children:[e.jsx("th",{className:"px-6 py-4",children:e.jsx("input",{type:"checkbox",checked:y.length===t.length,onChange:O,className:"w-4 h-4 text-afri-green border-gray-300 rounded focus:ring-afri-green cursor-pointer"})}),e.jsx("th",{className:"px-6 py-4 text-left text-xs font-semibold text-afri-gray-700 uppercase tracking-wider",children:"Product"}),e.jsx("th",{className:"px-6 py-4 text-left text-xs font-semibold text-afri-gray-700 uppercase tracking-wider",children:"Category"}),e.jsx("th",{className:"px-6 py-4 text-left text-xs font-semibold text-afri-gray-700 uppercase tracking-wider",children:"Price"}),e.jsx("th",{className:"px-6 py-4 text-left text-xs font-semibold text-afri-gray-700 uppercase tracking-wider",children:"Stock"}),e.jsx("th",{className:"px-6 py-4 text-left text-xs font-semibold text-afri-gray-700 uppercase tracking-wider",children:"Status"}),e.jsx("th",{className:"px-6 py-4 text-right text-xs font-semibold text-afri-gray-700 uppercase tracking-wider",children:"Actions"})]})}),e.jsx("tbody",{className:"bg-white divide-y divide-gray-200",children:t.map((a,j)=>e.jsxs("tr",{className:"hover:bg-gradient-to-r hover:from-afri-gray-50 hover:to-white transition-all duration-200 animate-fadeIn",style:{animationDelay:`${j*50}ms`},children:[e.jsx("td",{className:"px-6 py-4",children:e.jsx("input",{type:"checkbox",checked:y.includes(a._id),onChange:()=>B(a._id),className:"w-4 h-4 text-afri-green border-gray-300 rounded focus:ring-afri-green cursor-pointer"})}),e.jsx("td",{className:"px-6 py-4",children:e.jsxs("div",{className:"flex items-center",children:[e.jsx("div",{className:"h-12 w-12 flex-shrink-0 rounded-lg overflow-hidden bg-afri-gray-100 shadow-sm",children:a.images&&a.images.length>0?e.jsx("img",{src:a.images[0].url,alt:a.name,className:"h-full w-full object-cover transform hover:scale-110 transition-transform duration-300"}):e.jsx("div",{className:"h-full w-full flex items-center justify-center text-afri-gray-400",children:"ðŸ“¦"})}),e.jsxs("div",{className:"ml-4",children:[e.jsx("div",{className:"text-sm font-semibold text-afri-gray-900",children:a.name}),e.jsx("div",{className:"text-sm text-afri-gray-500",children:a.unit})]})]})}),e.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:e.jsx("span",{className:"px-3 py-1 inline-flex text-xs leading-5 font-semibold rounded-full bg-blue-100 text-blue-800",children:a.category})}),e.jsxs("td",{className:"px-6 py-4 whitespace-nowrap",children:[e.jsxs("div",{className:"text-sm font-bold text-afri-green",children:["Â£",a.price.toFixed(2)]}),a.originalPrice&&a.originalPrice>a.price&&e.jsxs("div",{className:"text-xs text-gray-400 line-through",children:["Â£",a.originalPrice.toFixed(2)]})]}),e.jsxs("td",{className:"px-6 py-4 whitespace-nowrap",children:[e.jsx("div",{className:"text-sm text-afri-gray-900 font-semibold",children:a.stock}),a.lowStockThreshold&&e.jsxs("div",{className:"text-xs text-gray-500",children:["Min: ",a.lowStockThreshold]})]}),e.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:z(a)}),e.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-right text-sm font-medium",children:e.jsxs("div",{className:"flex items-center justify-end space-x-2",children:[e.jsx("button",{onClick:()=>$(a),className:"text-blue-600 hover:text-blue-900 transition-colors p-2 hover:bg-blue-50 rounded-lg group",title:"Edit",children:e.jsx("svg",{className:"w-5 h-5 transform group-hover:scale-110 transition-transform",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M11 5H6a2 2 0 00-2 2v11a2 2 0 002 2h11a2 2 0 002-2v-5m-1.414-9.414a2 2 0 112.828 2.828L11.828 15H9v-2.828l8.586-8.586z"})})}),e.jsx("button",{onClick:()=>V(a._id),className:"text-red-600 hover:text-red-900 transition-colors p-2 hover:bg-red-50 rounded-lg group",title:"Delete",children:e.jsx("svg",{className:"w-5 h-5 transform group-hover:scale-110 transition-transform",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M19 7l-.867 12.142A2 2 0 0116.138 21H7.862a2 2 0 01-1.995-1.858L5 7m5 4v6m4-6v6m1-10V4a1 1 0 00-1-1h-4a1 1 0 00-1 1v3M4 7h16"})})})]})})]},a._id))})]})}),g.pages>1&&e.jsx("div",{className:"px-6 py-4 bg-gradient-to-r from-afri-gray-50 to-white border-t border-gray-200",children:e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{className:"text-sm text-afri-gray-700",children:["Showing ",e.jsx("span",{className:"font-semibold",children:(g.currentPage-1)*u.limit+1})," to"," ",e.jsx("span",{className:"font-semibold",children:Math.min(g.currentPage*u.limit,g.total)})," ","of ",e.jsx("span",{className:"font-semibold",children:g.total})," products"]}),e.jsxs("nav",{className:"relative z-0 inline-flex rounded-md shadow-sm -space-x-px",children:[e.jsx("button",{onClick:()=>N({...u,page:u.page-1}),disabled:g.currentPage===1,className:"relative inline-flex items-center px-2 py-2 rounded-l-md border border-gray-300 bg-white text-sm font-medium text-gray-500 hover:bg-gray-50 disabled:opacity-50 disabled:cursor-not-allowed transition-all",children:e.jsx("svg",{className:"h-5 w-5",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M15 19l-7-7 7-7"})})}),[...Array(g.pages)].map((a,j)=>e.jsx("button",{onClick:()=>N({...u,page:j+1}),className:`relative inline-flex items-center px-4 py-2 border text-sm font-medium transition-all ${g.currentPage===j+1?"z-10 bg-gradient-to-r from-afri-green to-afri-green-dark text-white border-afri-green":"bg-white border-gray-300 text-gray-700 hover:bg-gray-50"}`,children:j+1},j)),e.jsx("button",{onClick:()=>N({...u,page:u.page+1}),disabled:g.currentPage===g.pages,className:"relative inline-flex items-center px-2 py-2 rounded-r-md border border-gray-300 bg-white text-sm font-medium text-gray-500 hover:bg-gray-50 disabled:opacity-50 disabled:cursor-not-allowed transition-all",children:e.jsx("svg",{className:"h-5 w-5",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M9 5l7 7-7 7"})})})]})]})})]}),p&&e.jsx(oe,{product:b,onClose:()=>{o(!1),n(null)},onSave:a=>{a&&a.success?(console.log("âœ… Product saved successfully!"),S(),o(!1),n(null)):console.warn("Product save responded with failure or no response:",a)}}),v&&e.jsx(ce,{selectedProducts:y,onClose:()=>d(!1),onComplete:()=>{S(),h([]),d(!1)}}),e.jsx("style",{jsx:!0,children:`
        @keyframes fadeIn {
          from {
            opacity: 0;
            transform: translateY(10px);
          }
          to {
            opacity: 1;
            transform: translateY(0);
          }
        }

        @keyframes slideDown {
          from {
            opacity: 0;
            transform: translateY(-10px);
          }
          to {
            opacity: 1;
            transform: translateY(0);
          }
        }

        .animate-fadeIn {
          animation: fadeIn 0.5s ease-out forwards;
        }

        .animate-slideDown {
          animation: slideDown 0.3s ease-out;
        }
      `})]})}export{he as default};
