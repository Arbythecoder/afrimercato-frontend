const __vite__mapDeps=(i,m=__vite__mapDeps,d=(m.f||(m.f=["assets/Login-Drjx-4FQ.js","assets/date-C9mDCBzx.js","assets/vendor-BfFvvk5l.js","assets/ui-qKdnnCNY.js","assets/Register-qi8Fk9eP.js","assets/defaultImages-jUbsX-qu.js","assets/OAuthCallback-BPgH4hDs.js","assets/VendorPendingApproval-BoJwd5_Q.js","assets/clock-CaThTz7e.js","assets/mail-Xpx4PFmt.js","assets/Dashboard-BZmRe_tj.js","assets/VendorOnboarding-C11r2OK1.js","assets/charts-OOasTzhI.js","assets/Products-Bq27GtBn.js","assets/Orders-kMXdIHje.js","assets/Reports-D7TAaTe3.js","assets/Settings-BlW2g08W.js","assets/Subscription-BLUxcd17.js","assets/Home-mawGFhcQ.js","assets/ClientLandingPage-Bahsk9Lx.js","assets/PartnerWithUs-ChewPXcx.js","assets/ClientStoresPage-DhwWQyq6.js","assets/AboutUs-Cgc2li6s.js","assets/Delivery-DLjpUblg.js","assets/ContactUs-D5e2bfHh.js","assets/PrivacyPolicy-4jw06A-U.js","assets/TermsOfService-A6l1urSW.js","assets/ClientVendorStorefront-D3nZQrJ1.js","assets/CustomerDashboard-D7i7yKn0.js","assets/ProductBrowsing-D4ZDNElN.js","assets/ShoppingCart-DQwe67Ph.js","assets/OrderHistory-DdvgNTvC.js","assets/CustomerProfile-BMCnzb90.js","assets/Wishlist-Due2jDSE.js","assets/Checkout-DJsd3cB4.js","assets/OrderConfirmation-CpdWdZ9L.js","assets/OrderTracking-DvzPJFbR.js","assets/ProductReviews-BIUfmXm0.js","assets/NotificationsCenter-Cy4YamVh.js","assets/VendorDiscovery-C3To8rm-.js","assets/RecipeRecommendations-BHecggwR.js","assets/ProductDetail-BKIKUFS-.js","assets/OrderDetail-DanJGO9k.js","assets/RiderDashboard-BMSCR3zL.js","assets/RiderDeliveries-D9xd0r42.js","assets/RiderDeliveryDetail-Bcbmn6p0.js","assets/RiderEarnings-1CSoiPiJ.js","assets/RiderProfile-DGaEKTen.js","assets/PickerDashboard-BrjeFHLg.js","assets/PickerOrderFulfillment-C57sXeg3.js","assets/PickerPerformance-BPPMwIAq.js","assets/AdminDashboard-BFMh_8sC.js","assets/index-BUSzQJPd.js","assets/VendorManagement-goa4gXTo.js"])))=>i.map(i=>d[i]);
import{j as e}from"./date-C9mDCBzx.js";import{a as G,r as s,L,u as H,b as X,d as Z,e as i,N as j,R as Y,H as ee}from"./vendor-BfFvvk5l.js";import{A as te,m as B}from"./ui-qKdnnCNY.js";(function(){const r=document.createElement("link").relList;if(r&&r.supports&&r.supports("modulepreload"))return;for(const l of document.querySelectorAll('link[rel="modulepreload"]'))u(l);new MutationObserver(l=>{for(const h of l)if(h.type==="childList")for(const m of h.addedNodes)m.tagName==="LINK"&&m.rel==="modulepreload"&&u(m)}).observe(document,{childList:!0,subtree:!0});function a(l){const h={};return l.integrity&&(h.integrity=l.integrity),l.referrerPolicy&&(h.referrerPolicy=l.referrerPolicy),l.crossOrigin==="use-credentials"?h.credentials="include":l.crossOrigin==="anonymous"?h.credentials="omit":h.credentials="same-origin",h}function u(l){if(l.ep)return;l.ep=!0;const h=a(l);fetch(l.href,h)}})();var I={},W=G;I.createRoot=W.createRoot,I.hydrateRoot=W.hydrateRoot;const re="modulepreload",se=function(t){return"/afrimercato-frontend/"+t},M={},c=function(r,a,u){let l=Promise.resolve();if(a&&a.length>0){document.getElementsByTagName("link");const m=document.querySelector("meta[property=csp-nonce]"),g=(m==null?void 0:m.nonce)||(m==null?void 0:m.getAttribute("nonce"));l=Promise.allSettled(a.map(v=>{if(v=se(v),v in M)return;M[v]=!0;const d=v.endsWith(".css"),N=d?'[rel="stylesheet"]':"";if(document.querySelector(`link[href="${v}"]${N}`))return;const x=document.createElement("link");if(x.rel=d?"stylesheet":re,d||(x.as="script"),x.crossOrigin="",x.href=v,g&&x.setAttribute("nonce",g),document.head.appendChild(x),d)return new Promise((f,p)=>{x.addEventListener("load",f),x.addEventListener("error",()=>p(new Error(`Unable to preload CSS for ${v}`)))})}))}function h(m){const g=new Event("vite:preloadError",{cancelable:!0});if(g.payload=m,window.dispatchEvent(g),!g.defaultPrevented)throw m}return l.then(m=>{for(const g of m||[])g.status==="rejected"&&h(g.reason);return r().catch(h)})},C="https://afrimercato-backend.fly.dev/api";console.log("ðŸ”— API Base URL:",C);let S=!1,T=[];const F=(t,r=null)=>{T.forEach(a=>{t?a.reject(t):a.resolve(r)}),T=[]},oe=async()=>{var u;const t=localStorage.getItem("afrimercato_refresh_token");if(!t)throw new Error("No refresh token available");const r=new AbortController,a=setTimeout(()=>r.abort(),1e4);try{const l=await fetch(`${C}/auth/refresh-token`,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({refreshToken:t}),signal:r.signal});if(clearTimeout(a),!l.ok)throw new Error("Failed to refresh token");const h=await l.json();if(h.success&&((u=h.data)!=null&&u.token))return localStorage.setItem("afrimercato_token",h.data.token),h.data.token;throw new Error("Invalid refresh response")}catch(l){throw localStorage.removeItem("afrimercato_token"),localStorage.removeItem("afrimercato_refresh_token"),l}},n=async(t,r={},a=!1)=>{const u=new AbortController,l=typeof r.timeout=="number"?r.timeout:1e4,h=setTimeout(()=>u.abort(),l);try{const m=`${C}${t}`,g={headers:{...r.headers},credentials:"include",signal:u.signal,...r};r.body instanceof FormData||(g.headers["Content-Type"]="application/json");const v=localStorage.getItem("afrimercato_token");v&&(g.headers.Authorization=`Bearer ${v}`),console.log("ðŸŒ Fetching:",m);const d=await fetch(m,g);if(clearTimeout(h),!d.ok){const x=await d.json().catch(()=>({}));if(d.status===401&&!a&&(x.errorCode==="TOKEN_EXPIRED"||x.errorCode==="INVALID_TOKEN")){if(S)return new Promise((o,y)=>{T.push({resolve:o,reject:y})}).then(o=>n(t,r,!0)).catch(o=>{throw o});S=!0;try{const o=await oe();return F(null,o),S=!1,n(t,r,!0)}catch(o){throw F(o,null),S=!1,window.location.href="/login",new Error("Session expired. Please log in again.")}}if(d.status===401)throw localStorage.removeItem("afrimercato_token"),localStorage.removeItem("afrimercato_refresh_token"),new Error("Session expired. Please log in again.");const f={400:"Bad Request",401:"Unauthorized",403:"Access Denied",404:"Not Found",500:"Server Error",501:"Feature Not Implemented"},p=x.message||f[d.status]||`HTTP error! status: ${d.status}`,b=new Error(p);throw b.status=d.status,b.data=x,b}return await d.json()}catch(m){throw m.name==="AbortError"?new Error("Request timed out"):(console.error(`âŒ API Error (${t}):`,m),m)}finally{clearTimeout(h)}},ne=async t=>{var a;const r=await n("/auth/login",{method:"POST",body:JSON.stringify(t)});return r.success&&((a=r.data)!=null&&a.token)&&(localStorage.setItem("afrimercato_token",r.data.token),r.data.refreshToken&&localStorage.setItem("afrimercato_refresh_token",r.data.refreshToken)),r},ae=async t=>{var a;const r=await n("/auth/register",{method:"POST",body:JSON.stringify(t)});return r.success&&((a=r.data)!=null&&a.token)&&(localStorage.setItem("afrimercato_token",r.data.token),r.data.refreshToken&&localStorage.setItem("afrimercato_refresh_token",r.data.refreshToken)),r},ie=async()=>{try{await n("/auth/logout",{method:"POST"})}finally{localStorage.removeItem("afrimercato_token"),localStorage.removeItem("afrimercato_refresh_token"),window.location.href="/login"}},ce=async()=>n("/auth/refresh",{method:"POST"}),le=async()=>n("/vendor/profile"),de=async t=>n("/vendor/profile",{method:"PUT",body:JSON.stringify(t)}),me=async t=>n("/vendor/profile",{method:"POST",body:JSON.stringify(t)}),ue=async(t={})=>{const r=new URLSearchParams(t).toString();return n(`/vendor/products?${r}`)},he=async t=>{const r=t instanceof FormData;return n("/vendor/products",{method:"POST",body:r?t:JSON.stringify(t)})},xe=async(t,r)=>{const a=r instanceof FormData;return n(`/vendor/products/${t}`,{method:"PUT",body:a?r:JSON.stringify(r)})},ge=async t=>n(`/vendor/products/${t}`,{method:"DELETE"}),fe=async(t={})=>{const r=new URLSearchParams(t).toString();return n(`/vendor/orders?${r}`)},pe=async t=>n(`/vendor/orders/${t}`),ye=async(t,r)=>n(`/vendor/orders/${t}/status`,{method:"PUT",body:JSON.stringify(r)}),je=async(t,r)=>n(`/vendor/orders/${t}/rate-rider`,{method:"POST",body:JSON.stringify(r)}),be=async()=>n("/vendor/dashboard/stats"),ve=async(t="7d")=>n(`/vendor/dashboard/chart-data?timeRange=${t}`),_e=async(t={})=>{const r=new URLSearchParams(t).toString();return n(`/vendor/reports/sales?${r}`)},Ne=async()=>n("/vendor/reports/inventory"),we=async(t={})=>{const r=new URLSearchParams(t).toString();return n(`/vendor/reports/orders?${r}`)},ke=async(t={})=>{const r=new URLSearchParams(t).toString();return n(`/vendor/reports/revenue?${r}`)},Pe=async()=>n("/subscription/plans"),Ee=async t=>n("/subscription/subscribe",{method:"POST",body:JSON.stringify(t)}),Se=async()=>n("/subscription/my-subscription"),Ae=async()=>n("/subscription/cancel",{method:"POST"}),ur=async t=>n("/contact",{method:"POST",body:JSON.stringify(t)}),hr=async(t,r=50)=>{const a=new URLSearchParams({location:t,radius:r});return n(`/location/search-vendors?${a}`)},xr=async t=>n(`/location/vendor/${t}`),gr=async t=>n(`/products/vendor/${t}`),Re=async()=>n("/products/featured"),Oe=async(t={})=>{const r=new URLSearchParams(t).toString();return n(`/products?${r}`)},Le=async t=>n(`/products/${t}`),Ie=async t=>n("/orders",{method:"POST",body:JSON.stringify(t)}),Te=async()=>n("/orders/user"),Ce=async t=>n(`/orders/${t}`),De=async t=>n(`/orders/${t}/cancel`,{method:"PATCH"}),K=async()=>{try{const t=await n("/auth/me",{timeout:3e3});if(t!=null&&t.success)return t}catch{console.warn("Auth /me endpoint failed, trying /auth/profile...")}try{const t=await n("/auth/profile",{timeout:3e3});if(t!=null&&t.success)return t}catch(t){console.warn("Auth /profile endpoint failed:",t.message)}return null},Ve=async t=>n("/auth/profile",{method:"PUT",body:JSON.stringify(t)}),ze=async t=>n("/auth/change-password",{method:"PATCH",body:JSON.stringify(t)}),Ue=async t=>{const r=new FormData;t.forEach(u=>{r.append("productImages",u)});const a=localStorage.getItem("afrimercato_token");return n("/vendor/upload/images",{method:"POST",headers:{...a&&{Authorization:`Bearer ${a}`}},body:r})},$e=async t=>n("/vendor/products/bulk-delete",{method:"POST",body:JSON.stringify(t)}),Be=async t=>n("/vendor/products/bulk-status",{method:"POST",body:JSON.stringify(t)}),We=async t=>n("/vendor/products/bulk-price",{method:"POST",body:JSON.stringify(t)}),Me=async t=>n("/vendor/products/bulk-stock",{method:"POST",body:JSON.stringify(t)}),Fe=()=>!!localStorage.getItem("afrimercato_token"),Je=()=>localStorage.getItem("afrimercato_token"),qe=t=>{localStorage.setItem("afrimercato_token",t)},He=()=>{localStorage.removeItem("afrimercato_token"),localStorage.removeItem("afrimercato_refresh_token")},J={login:ne,register:ae,logout:ie,refreshToken:ce,isAuthenticated:Fe,getAuthToken:Je,setAuthToken:qe,clearAuthToken:He},Ye=async()=>n("/vendor/delivery-settings"),Ke=async t=>n("/vendor/delivery-settings",{method:"PUT",body:JSON.stringify(t)}),Qe={getProfile:le,updateProfile:de,createProfile:me,getProducts:ue,createProduct:he,updateProduct:xe,deleteProduct:ge,getOrders:fe,getOrder:pe,updateOrderStatus:ye,rateRider:je,getDashboardStats:be,getChartData:ve,getSalesReport:_e,getInventoryReport:Ne,getOrdersReport:we,getRevenueReport:ke,uploadProductImages:Ue,bulkDeleteProducts:$e,bulkUpdateStatus:Be,bulkUpdatePrices:We,bulkUpdateStock:Me,getDeliverySettings:Ye,updateDeliverySettings:Ke},Ge=async()=>n("/customers/dashboard/stats"),Xe=async(t={})=>{const r=new URLSearchParams(t).toString();return n(`/customers/orders/recent?${r}`)},Ze=async(t={})=>{const r=new URLSearchParams(t).toString();return n(`/customers/products/recommended?${r}`)},et=async()=>n("/customers/wishlist"),tt=async t=>n("/customers/wishlist",{method:"POST",body:JSON.stringify({productId:t})}),rt=async t=>n(`/customers/wishlist/${t}`,{method:"DELETE"}),fr={getDashboardStats:Ge,getRecentOrders:Xe,getRecommendedProducts:Ze,getWishlist:et,addToWishlist:tt,removeFromWishlist:rt},pr={getFeatured:Re,getAll:Oe,getById:Le},yr={create:Ie,getUserOrders:Te,getById:Ce,cancel:De},jr={getProfile:K,updateProfile:Ve,changePassword:ze},br={getPlans:Pe,subscribe:Ee,getMySubscription:Se,cancel:Ae},st=async(t={})=>{const r=new URLSearchParams(t).toString();return n(`/notifications?${r}`)},ot=async()=>n("/notifications/unread-count"),nt=async t=>n(`/notifications/${t}/read`,{method:"PUT"}),at=async()=>n("/notifications/mark-all-read",{method:"PUT"}),it=async t=>n(`/notifications/${t}`,{method:"DELETE"}),ct=async()=>n("/notifications",{method:"DELETE"}),A={getNotifications:st,getUnreadCount:ot,markAsRead:nt,markAllAsRead:at,deleteNotification:it,deleteAllRead:ct},Q=s.createContext(),R=()=>{const t=s.useContext(Q);if(!t)throw new Error("useAuth must be used within AuthProvider");return t},lt=t=>{try{const a=t.split(".")[1].replace(/-/g,"+").replace(/_/g,"/"),u=decodeURIComponent(atob(a).split("").map(l=>"%"+("00"+l.charCodeAt(0).toString(16)).slice(-2)).join(""));return JSON.parse(u)}catch(r){return console.error("Error decoding token:",r),null}},dt=({children:t})=>{const[r,a]=s.useState(null),[u,l]=s.useState(!0),[h,m]=s.useState(!1);s.useEffect(()=>{g()},[]);const g=async()=>{const f=localStorage.getItem("afrimercato_token");if(f){const p=lt(f);if(p&&p.id)try{const b=K(),o=new Promise((k,O)=>setTimeout(()=>O(new Error("Profile fetch timeout")),12e3)),y=await Promise.race([b,o]);y&&y.success?(a(y.data),m(!0)):(localStorage.removeItem("afrimercato_token"),localStorage.removeItem("afrimercato_refresh_token"))}catch{const o=p.roles||[];a({_id:p.id,email:p.email,roles:o,role:o[0]||"customer"}),m(!0)}}l(!1)},x={user:r,isAuthenticated:h,loading:u,login:async(f,p)=>{try{const b=await J.login({email:f,password:p});if(b&&b.success){const{token:o,user:y}=b.data;return localStorage.setItem("afrimercato_token",o),a(y),m(!0),{success:!0,user:y}}else return{success:!1,message:(b==null?void 0:b.message)||"Login failed"}}catch(b){return{success:!1,message:b.message||"Login failed"}}},register:async f=>{try{const p=await J.register(f);if(p&&p.success){const{token:b,user:o}=p.data;return localStorage.setItem("afrimercato_token",b),a(o),m(!0),{success:!0,user:o}}else return{success:!1,message:(p==null?void 0:p.message)||"Registration failed"}}catch(p){return{success:!1,message:p.message||"Registration failed"}}},logout:()=>{localStorage.removeItem("afrimercato_token"),localStorage.removeItem("afrimercato_refresh_token"),a(null),m(!1)},checkAuth:g};return e.jsx(Q.Provider,{value:x,children:t})};function mt(){const[t,r]=s.useState(!1),[a,u]=s.useState(!1),[l,h]=s.useState({necessary:!0,analytics:!1,marketing:!1,functional:!1});s.useEffect(()=>{const x=localStorage.getItem("cookie_consent");if(x)try{const f=JSON.parse(x);h(f),m(f)}catch(f){console.error("Failed to parse cookie consent:",f)}else{const f=setTimeout(()=>{r(!0)},1e3);return()=>clearTimeout(f)}},[]);const m=x=>{x.analytics?window.gtag&&window.gtag("consent","update",{analytics_storage:"granted"}):window.gtag&&window.gtag("consent","update",{analytics_storage:"denied"}),x.marketing?window.gtag&&window.gtag("consent","update",{ad_storage:"granted"}):window.gtag&&window.gtag("consent","update",{ad_storage:"denied"})},g=()=>{const x={necessary:!0,analytics:!0,marketing:!0,functional:!0};h(x),localStorage.setItem("cookie_consent",JSON.stringify(x)),m(x),r(!1)},v=()=>{const x={necessary:!0,analytics:!1,marketing:!1,functional:!1};h(x),localStorage.setItem("cookie_consent",JSON.stringify(x)),m(x),r(!1)},d=()=>{localStorage.setItem("cookie_consent",JSON.stringify(l)),m(l),r(!1),u(!1)},N=x=>{x!=="necessary"&&h(f=>({...f,[x]:!f[x]}))};return e.jsx(te,{children:t&&e.jsxs(e.Fragment,{children:[e.jsx(B.div,{initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},className:"fixed inset-0 bg-black/20 backdrop-blur-sm z-40",onClick:()=>r(!1)}),e.jsx(B.div,{initial:{y:100,opacity:0},animate:{y:0,opacity:1},exit:{y:100,opacity:0},transition:{type:"spring",damping:25,stiffness:300},className:"fixed bottom-0 left-0 right-0 z-50 p-4 sm:p-6",children:e.jsx("div",{className:"max-w-6xl mx-auto",children:e.jsx("div",{className:"bg-white rounded-2xl shadow-2xl border border-gray-200 overflow-hidden",children:a?e.jsxs("div",{className:"p-6 sm:p-8",children:[e.jsxs("div",{className:"flex items-start justify-between mb-6",children:[e.jsxs("div",{children:[e.jsx("h3",{className:"text-2xl font-bold text-gray-900 mb-2",children:"Cookie Preferences"}),e.jsx("p",{className:"text-sm text-gray-600",children:"Manage your cookie settings. You can enable or disable different types of cookies below."})]}),e.jsx("button",{onClick:()=>u(!1),className:"text-gray-400 hover:text-gray-600",children:e.jsx("svg",{className:"w-6 h-6",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M6 18L18 6M6 6l12 12"})})})]}),e.jsxs("div",{className:"space-y-4",children:[e.jsxs("div",{className:"flex items-start justify-between p-4 bg-gray-50 rounded-lg",children:[e.jsxs("div",{className:"flex-1",children:[e.jsxs("div",{className:"flex items-center gap-2 mb-1",children:[e.jsx("h4",{className:"font-semibold text-gray-900",children:"Necessary Cookies"}),e.jsx("span",{className:"text-xs bg-gray-200 text-gray-700 px-2 py-1 rounded",children:"Always Active"})]}),e.jsx("p",{className:"text-sm text-gray-600",children:"Essential for the website to function. Cannot be disabled."})]}),e.jsx("div",{className:"ml-4",children:e.jsx("div",{className:"w-12 h-6 bg-afri-green rounded-full relative",children:e.jsx("div",{className:"absolute right-1 top-1 w-4 h-4 bg-white rounded-full"})})})]}),e.jsxs("div",{className:"flex items-start justify-between p-4 bg-gray-50 rounded-lg",children:[e.jsxs("div",{className:"flex-1",children:[e.jsx("h4",{className:"font-semibold text-gray-900 mb-1",children:"Analytics Cookies"}),e.jsx("p",{className:"text-sm text-gray-600",children:"Help us understand how visitors interact with our website."})]}),e.jsx("button",{onClick:()=>N("analytics"),className:"ml-4",children:e.jsx("div",{className:`w-12 h-6 rounded-full relative transition-colors ${l.analytics?"bg-afri-green":"bg-gray-300"}`,children:e.jsx("div",{className:`absolute top-1 w-4 h-4 bg-white rounded-full transition-all ${l.analytics?"right-1":"left-1"}`})})})]}),e.jsxs("div",{className:"flex items-start justify-between p-4 bg-gray-50 rounded-lg",children:[e.jsxs("div",{className:"flex-1",children:[e.jsx("h4",{className:"font-semibold text-gray-900 mb-1",children:"Marketing Cookies"}),e.jsx("p",{className:"text-sm text-gray-600",children:"Used to deliver personalized advertisements."})]}),e.jsx("button",{onClick:()=>N("marketing"),className:"ml-4",children:e.jsx("div",{className:`w-12 h-6 rounded-full relative transition-colors ${l.marketing?"bg-afri-green":"bg-gray-300"}`,children:e.jsx("div",{className:`absolute top-1 w-4 h-4 bg-white rounded-full transition-all ${l.marketing?"right-1":"left-1"}`})})})]}),e.jsxs("div",{className:"flex items-start justify-between p-4 bg-gray-50 rounded-lg",children:[e.jsxs("div",{className:"flex-1",children:[e.jsx("h4",{className:"font-semibold text-gray-900 mb-1",children:"Functional Cookies"}),e.jsx("p",{className:"text-sm text-gray-600",children:"Enable enhanced functionality and personalization."})]}),e.jsx("button",{onClick:()=>N("functional"),className:"ml-4",children:e.jsx("div",{className:`w-12 h-6 rounded-full relative transition-colors ${l.functional?"bg-afri-green":"bg-gray-300"}`,children:e.jsx("div",{className:`absolute top-1 w-4 h-4 bg-white rounded-full transition-all ${l.functional?"right-1":"left-1"}`})})})]})]}),e.jsxs("div",{className:"mt-6 flex gap-3",children:[e.jsx("button",{onClick:d,className:"flex-1 bg-afri-green text-white px-6 py-3 rounded-lg font-semibold hover:bg-afri-green-dark transition",children:"Save Preferences"}),e.jsx("button",{onClick:()=>u(!1),className:"px-6 py-3 text-gray-700 hover:bg-gray-100 rounded-lg font-semibold transition",children:"Cancel"})]})]}):e.jsx("div",{className:"p-6 sm:p-8",children:e.jsxs("div",{className:"flex items-start gap-4",children:[e.jsx("div",{className:"hidden sm:block",children:e.jsx("div",{className:"w-12 h-12 bg-afri-green/10 rounded-full flex items-center justify-center",children:e.jsx("svg",{className:"w-6 h-6 text-afri-green",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M12 6v6m0 0v6m0-6h6m-6 0H6"})})})}),e.jsxs("div",{className:"flex-1",children:[e.jsx("h3",{className:"text-xl sm:text-2xl font-bold text-gray-900 mb-2",children:"We Value Your Privacy"}),e.jsxs("p",{className:"text-sm sm:text-base text-gray-600 mb-4",children:['We use cookies to enhance your browsing experience, serve personalized content, and analyze our traffic. By clicking "Accept All", you consent to our use of cookies.',e.jsx(L,{to:"/privacy-policy",className:"text-afri-green hover:text-afri-green-dark ml-1 underline",children:"Learn more"})]}),e.jsxs("div",{className:"flex flex-col sm:flex-row gap-3",children:[e.jsx("button",{onClick:g,className:"bg-afri-green text-white px-6 py-3 rounded-lg font-semibold hover:bg-afri-green-dark transition",children:"Accept All"}),e.jsx("button",{onClick:v,className:"bg-gray-200 text-gray-700 px-6 py-3 rounded-lg font-semibold hover:bg-gray-300 transition",children:"Reject All"}),e.jsx("button",{onClick:()=>u(!0),className:"border-2 border-gray-300 text-gray-700 px-6 py-3 rounded-lg font-semibold hover:border-gray-400 transition",children:"Customize"})]})]})]})})})})})]})})}function ut(){const[t,r]=s.useState(!1),[a,u]=s.useState([]),[l,h]=s.useState(0),[m,g]=s.useState(!1),v=s.useRef(null);s.useEffect(()=>{d();const o=setInterval(()=>{d()},3e4);return()=>clearInterval(o)},[]),s.useEffect(()=>{t&&N()},[t]),s.useEffect(()=>{const o=y=>{v.current&&!v.current.contains(y.target)&&r(!1)};return document.addEventListener("mousedown",o),()=>document.removeEventListener("mousedown",o)},[]);const d=async()=>{try{const o=await A.getUnreadCount();o.success&&h(o.data.count)}catch(o){console.error("Error fetching unread count:",o)}},N=async()=>{try{g(!0);const o=await A.getNotifications({limit:10});o.success&&u(o.data.notifications)}catch(o){console.error("Error fetching notifications:",o)}finally{g(!1)}},x=async o=>{try{o.isRead||(await A.markAsRead(o._id),h(y=>Math.max(0,y-1)),u(y=>y.map(k=>k._id===o._id?{...k,isRead:!0}:k))),o.actionUrl&&(window.location.href=o.actionUrl)}catch(y){console.error("Error marking notification as read:",y)}},f=async()=>{try{await A.markAllAsRead(),h(0),u(o=>o.map(y=>({...y,isRead:!0})))}catch(o){console.error("Error marking all as read:",o)}},p=o=>({order_placed:"ðŸ›’",order_confirmed:"âœ…",order_shipped:"ðŸ“¦",order_delivered:"ðŸŽ‰",order_cancelled:"âŒ",payment_received:"ðŸ’°",low_stock:"âš ï¸",product_review:"â­",rider_assigned:"ðŸš´",system_alert:"ðŸ””",promotion:"ðŸŽ"})[o]||"ðŸ””",b=o=>{const y={urgent:"text-red-600 bg-red-50",high:"text-orange-600 bg-orange-50",normal:"text-blue-600 bg-blue-50",low:"text-gray-600 bg-gray-50"};return y[o]||y.normal};return e.jsxs("div",{className:"relative",ref:v,children:[e.jsxs("button",{onClick:()=>r(!t),className:"relative p-2 text-gray-400 hover:text-gray-600 rounded-full hover:bg-gray-100 transition-colors",children:[e.jsx("svg",{className:"w-6 h-6",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M15 17h5l-1.405-1.405A2.032 2.032 0 0118 14.158V11a6.002 6.002 0 00-4-5.659V5a2 2 0 10-4 0v.341C7.67 6.165 6 8.388 6 11v3.159c0 .538-.214 1.055-.595 1.436L4 17h5m6 0v1a3 3 0 11-6 0v-1m6 0H9"})}),l>0&&e.jsx("span",{className:"absolute top-0 right-0 flex items-center justify-center h-5 w-5 text-xs font-bold text-white bg-red-500 rounded-full animate-pulse",children:l>9?"9+":l})]}),t&&e.jsxs("div",{className:"absolute right-0 mt-2 w-96 bg-white rounded-xl shadow-2xl border border-gray-200 z-50 transform transition-all duration-200 ease-out animate-slideDown",children:[e.jsxs("div",{className:"flex items-center justify-between px-4 py-3 border-b border-gray-200",children:[e.jsx("h3",{className:"text-lg font-bold text-gray-900",children:"Notifications"}),l>0&&e.jsx("button",{onClick:f,className:"text-sm text-afri-green hover:text-afri-green-dark font-medium transition-colors",children:"Mark all read"})]}),e.jsx("div",{className:"max-h-96 overflow-y-auto",children:m?e.jsx("div",{className:"flex items-center justify-center py-12",children:e.jsx("div",{className:"animate-spin rounded-full h-8 w-8 border-t-2 border-b-2 border-afri-green"})}):a.length===0?e.jsxs("div",{className:"text-center py-12",children:[e.jsx("div",{className:"text-5xl mb-2",children:"ðŸ””"}),e.jsx("p",{className:"text-gray-500",children:"No notifications yet"})]}):e.jsx("div",{children:a.map(o=>e.jsxs("div",{onClick:()=>x(o),className:`px-4 py-3 border-b border-gray-100 cursor-pointer transition-colors ${o.isRead?"bg-white hover:bg-gray-50":"bg-blue-50 hover:bg-blue-100"}`,children:[e.jsxs("div",{className:"flex items-start space-x-3",children:[e.jsx("div",{className:`flex-shrink-0 w-10 h-10 rounded-full flex items-center justify-center text-xl ${b(o.priority)}`,children:o.icon||p(o.type)}),e.jsxs("div",{className:"flex-1 min-w-0",children:[e.jsx("p",{className:"text-sm font-semibold text-gray-900 truncate",children:o.title}),e.jsx("p",{className:"text-sm text-gray-600 line-clamp-2 mt-1",children:o.message}),e.jsx("p",{className:"text-xs text-gray-400 mt-1",children:o.timeAgo})]}),!o.isRead&&e.jsx("div",{className:"flex-shrink-0 w-2 h-2 bg-afri-green rounded-full"})]}),o.priority==="urgent"&&e.jsx("div",{className:"mt-2 inline-flex items-center px-2 py-1 rounded-full text-xs font-medium bg-red-100 text-red-800",children:"ðŸš¨ Urgent"})]},o._id))})}),a.length>0&&e.jsx("div",{className:"px-4 py-3 border-t border-gray-200 bg-gray-50 rounded-b-xl",children:e.jsx("button",{onClick:()=>{r(!1),window.location.href="/notifications"},className:"w-full text-center text-sm text-afri-green hover:text-afri-green-dark font-medium transition-colors",children:"View all notifications"})})]})]})}function E({children:t}){var U;const r=H(),a=X(),{user:u,logout:l}=R(),[h,m]=s.useState(!1),[g,v]=s.useState(window.innerWidth<1024),[d,N]=s.useState(null),[x,f]=s.useState(!0),p=[{name:"Dashboard",path:"/dashboard",icon:"ðŸ“Š"},{name:"Products",path:"/products",icon:"ðŸ“¦"},{name:"Orders",path:"/orders",icon:"ðŸ›’"},{name:"Reports",path:"/reports",icon:"ðŸ“ˆ"},{name:"Subscription",path:"/subscription",icon:"ðŸ’³"},{name:"Settings",path:"/settings",icon:"âš™ï¸"}];s.useEffect(()=>{b();const _=()=>{v(window.innerWidth<1024)};return window.addEventListener("resize",_),()=>window.removeEventListener("resize",_)},[]);const b=async()=>{var _,$;try{const P=await Qe.getProfile();P.data.success&&N(P.data.data)}catch(P){console.error("Failed to load vendor status:",P),(((_=P.response)==null?void 0:_.status)===404||(($=P.response)==null?void 0:$.status)===403)&&N({approvalStatus:"no_profile"})}finally{f(!1)}},o=()=>{l(),a("/login")},y=_=>r.pathname===_,k=()=>m(!h),O=()=>{g&&m(!1)},D=(d==null?void 0:d.approvalStatus)==="pending",V=(d==null?void 0:d.approvalStatus)==="rejected",z=(d==null?void 0:d.approvalStatus)==="suspended";return d==null||d.approvalStatus,x?e.jsx("div",{className:"min-h-screen bg-gray-50 flex items-center justify-center",children:e.jsxs("div",{className:"text-center",children:[e.jsx("div",{className:"animate-spin rounded-full h-16 w-16 border-t-4 border-b-4 border-afri-green mx-auto mb-4"}),e.jsx("p",{className:"text-gray-600",children:"Loading..."})]})}):D||V||z?e.jsx("div",{className:"min-h-screen bg-gradient-to-br from-yellow-50 via-white to-orange-50 flex items-center justify-center p-4",children:e.jsxs("div",{className:"max-w-2xl w-full",children:[e.jsxs("div",{className:"text-center mb-8",children:[e.jsx("h1",{className:"text-4xl font-bold text-afri-green mb-2",children:"Afrimercato"}),e.jsx("p",{className:"text-gray-600",children:"Vendor Dashboard"})]}),D&&e.jsxs("div",{className:"bg-white rounded-2xl shadow-xl p-8 border-t-4 border-yellow-400",children:[e.jsxs("div",{className:"text-center mb-6",children:[e.jsx("div",{className:"inline-flex items-center justify-center w-20 h-20 bg-yellow-100 rounded-full mb-4",children:e.jsx("svg",{className:"w-10 h-10 text-yellow-600",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M12 8v4l3 3m6-3a9 9 0 11-18 0 9 9 0 0118 0z"})})}),e.jsx("h2",{className:"text-2xl font-bold text-gray-900 mb-2",children:"Account Verification Pending"}),e.jsx("p",{className:"text-gray-600",children:"Your application is being reviewed"})]}),e.jsxs("div",{className:"bg-yellow-50 border-l-4 border-yellow-400 p-6 rounded-lg mb-6",children:[e.jsx("h3",{className:"font-semibold text-yellow-900 mb-3",children:"What's happening?"}),e.jsxs("p",{className:"text-yellow-800 mb-4",children:["Our automated verification system is reviewing your vendor application. This process typically takes ",e.jsx("strong",{children:"24-48 hours"}),"."]}),e.jsxs("div",{className:"space-y-2 text-sm text-yellow-700",children:[e.jsx("p",{children:"âœ“ Your account has been created"}),e.jsx("p",{children:"â³ Verification in progress"}),e.jsxs("p",{className:"text-xs text-yellow-600 mt-3",children:["Submitted: ",d!=null&&d.submittedForReviewAt?new Date(d.submittedForReviewAt).toLocaleString():new Date(d==null?void 0:d.createdAt).toLocaleString()]})]})]}),e.jsxs("div",{className:"bg-gray-50 rounded-lg p-6 mb-6",children:[e.jsx("h3",{className:"font-semibold text-gray-900 mb-3",children:"Once approved, you'll be able to:"}),e.jsxs("ul",{className:"space-y-2 text-gray-700",children:[e.jsxs("li",{className:"flex items-start",children:[e.jsx("span",{className:"text-green-500 mr-2",children:"âœ“"}),e.jsx("span",{children:"Add and manage your products"})]}),e.jsxs("li",{className:"flex items-start",children:[e.jsx("span",{className:"text-green-500 mr-2",children:"âœ“"}),e.jsx("span",{children:"Receive and fulfill customer orders"})]}),e.jsxs("li",{className:"flex items-start",children:[e.jsx("span",{className:"text-green-500 mr-2",children:"âœ“"}),e.jsx("span",{children:"Access analytics and sales reports"})]}),e.jsxs("li",{className:"flex items-start",children:[e.jsx("span",{className:"text-green-500 mr-2",children:"âœ“"}),e.jsx("span",{children:"Manage your store settings and profile"})]})]})]}),e.jsxs("div",{className:"text-center text-sm text-gray-600",children:[e.jsx("p",{className:"mb-4",children:"You'll receive an email notification once your account is approved."}),e.jsxs("p",{children:["Need help? Contact us at ",e.jsx("a",{href:"mailto:vendors@afrimercato.com",className:"text-afri-green hover:underline",children:"vendors@afrimercato.com"})]})]}),e.jsx("div",{className:"mt-6 flex justify-center",children:e.jsx("button",{onClick:o,className:"px-6 py-2 bg-gray-100 text-gray-700 rounded-lg hover:bg-gray-200 transition",children:"Logout"})})]}),V&&e.jsxs("div",{className:"bg-white rounded-2xl shadow-xl p-8 border-t-4 border-red-500",children:[e.jsxs("div",{className:"text-center mb-6",children:[e.jsx("div",{className:"inline-flex items-center justify-center w-20 h-20 bg-red-100 rounded-full mb-4",children:e.jsx("svg",{className:"w-10 h-10 text-red-600",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M6 18L18 6M6 6l12 12"})})}),e.jsx("h2",{className:"text-2xl font-bold text-gray-900 mb-2",children:"Application Not Approved"})]}),e.jsxs("div",{className:"bg-red-50 border-l-4 border-red-500 p-6 rounded-lg mb-6",children:[e.jsx("h3",{className:"font-semibold text-red-900 mb-2",children:"Rejection Reason:"}),e.jsx("p",{className:"text-red-800",children:(d==null?void 0:d.rejectionReason)||"Your vendor application was not approved at this time."})]}),e.jsxs("div",{className:"text-center text-sm text-gray-600",children:[e.jsx("p",{className:"mb-4",children:"Please contact our support team for more information."}),e.jsxs("p",{className:"mb-6",children:["Email: ",e.jsx("a",{href:"mailto:vendors@afrimercato.com",className:"text-afri-green hover:underline",children:"vendors@afrimercato.com"})]})]}),e.jsxs("div",{className:"flex justify-center gap-4",children:[e.jsx("button",{onClick:o,className:"px-6 py-2 bg-gray-100 text-gray-700 rounded-lg hover:bg-gray-200 transition",children:"Logout"}),e.jsx("a",{href:"mailto:vendors@afrimercato.com",className:"px-6 py-2 bg-afri-green text-white rounded-lg hover:bg-afri-green-dark transition",children:"Contact Support"})]})]}),z&&e.jsxs("div",{className:"bg-white rounded-2xl shadow-xl p-8 border-t-4 border-orange-500",children:[e.jsxs("div",{className:"text-center mb-6",children:[e.jsx("div",{className:"inline-flex items-center justify-center w-20 h-20 bg-orange-100 rounded-full mb-4",children:e.jsx("svg",{className:"w-10 h-10 text-orange-600",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M12 9v2m0 4h.01m-6.938 4h13.856c1.54 0 2.502-1.667 1.732-3L13.732 4c-.77-1.333-2.694-1.333-3.464 0L3.34 16c-.77 1.333.192 3 1.732 3z"})})}),e.jsx("h2",{className:"text-2xl font-bold text-gray-900 mb-2",children:"Account Suspended"})]}),e.jsxs("div",{className:"bg-orange-50 border-l-4 border-orange-500 p-6 rounded-lg mb-6",children:[e.jsx("h3",{className:"font-semibold text-orange-900 mb-2",children:"Suspension Reason:"}),e.jsx("p",{className:"text-orange-800",children:(d==null?void 0:d.approvalNote)||"Your vendor account has been temporarily suspended."})]}),e.jsxs("div",{className:"text-center text-sm text-gray-600",children:[e.jsx("p",{className:"mb-4",children:"Please contact support to resolve this issue."}),e.jsxs("p",{className:"mb-6",children:["Email: ",e.jsx("a",{href:"mailto:vendors@afrimercato.com",className:"text-afri-green hover:underline",children:"vendors@afrimercato.com"})]})]}),e.jsxs("div",{className:"flex justify-center gap-4",children:[e.jsx("button",{onClick:o,className:"px-6 py-2 bg-gray-100 text-gray-700 rounded-lg hover:bg-gray-200 transition",children:"Logout"}),e.jsx("a",{href:"mailto:vendors@afrimercato.com",className:"px-6 py-2 bg-afri-green text-white rounded-lg hover:bg-afri-green-dark transition",children:"Contact Support"})]})]})]})}):e.jsxs("div",{className:"min-h-screen bg-gray-50",children:[h&&e.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 z-40 lg:hidden",onClick:()=>m(!1)}),e.jsx("div",{className:`fixed inset-y-0 left-0 z-50 w-64 bg-white shadow-xl transform transition-transform duration-300 ease-in-out lg:translate-x-0 ${h?"translate-x-0":"-translate-x-full"}`,children:e.jsxs("div",{className:"flex flex-col h-full",children:[e.jsxs("div",{className:"flex items-center justify-between h-16 px-6 bg-gradient-to-r from-afri-green to-afri-green-dark",children:[e.jsx(L,{to:"/dashboard",className:"flex items-center",children:e.jsx("span",{className:"text-2xl font-bold text-white",children:"Afrimercato"})}),e.jsx("button",{onClick:()=>m(!1),className:"lg:hidden text-white hover:text-afri-yellow",children:e.jsx("svg",{className:"w-6 h-6",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M6 18L18 6M6 6l12 12"})})})]}),e.jsx("div",{className:"px-6 py-4 border-b border-gray-200",children:e.jsxs("div",{className:"flex items-center space-x-3",children:[e.jsx("div",{className:"flex-shrink-0",children:e.jsx("div",{className:"w-10 h-10 rounded-full bg-afri-green text-white flex items-center justify-center font-bold",children:((U=u==null?void 0:u.name)==null?void 0:U.charAt(0).toUpperCase())||"V"})}),e.jsxs("div",{className:"flex-1 min-w-0",children:[e.jsx("p",{className:"text-sm font-semibold text-gray-900 truncate",children:(u==null?void 0:u.name)||"Vendor"}),e.jsx("p",{className:"text-xs text-gray-500 truncate",children:(u==null?void 0:u.email)||""})]})]})}),e.jsx("nav",{className:"flex-1 px-4 py-4 space-y-1 overflow-y-auto",children:p.map(_=>e.jsxs(L,{to:_.path,onClick:O,className:`flex items-center space-x-3 px-4 py-3 rounded-lg transition-colors ${y(_.path)?"bg-afri-green text-white":"text-gray-700 hover:bg-gray-100"}`,children:[e.jsx("span",{className:"text-xl",children:_.icon}),e.jsx("span",{className:"font-medium",children:_.name})]},_.name))}),e.jsx("div",{className:"p-4 border-t border-gray-200",children:e.jsxs("button",{onClick:o,className:"w-full flex items-center space-x-3 px-4 py-3 text-red-600 hover:bg-red-50 rounded-lg transition-colors",children:[e.jsx("span",{className:"text-xl",children:"ðŸšª"}),e.jsx("span",{className:"font-medium",children:"Logout"})]})})]})}),e.jsxs("div",{className:"lg:ml-64",children:[e.jsx("div",{className:"sticky top-0 z-30 bg-white shadow-sm",children:e.jsxs("div",{className:"flex items-center justify-between h-16 px-4 sm:px-6 lg:px-8",children:[e.jsx("button",{onClick:k,className:`${g?"block":"hidden"} text-gray-700 hover:text-afri-green transition-colors`,children:e.jsx("svg",{className:"w-6 h-6",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M4 6h16M4 12h16M4 18h16"})})}),e.jsx("div",{className:"flex-1 lg:flex-none"}),e.jsxs("div",{className:"flex items-center space-x-4",children:[e.jsx(ut,{}),e.jsx("div",{className:"hidden lg:flex items-center space-x-2 text-sm",children:e.jsx("span",{className:"font-medium text-gray-700",children:u==null?void 0:u.name})})]})]})}),e.jsx("main",{className:"p-4 sm:p-6 lg:p-8",children:t})]})]})}const ht=s.lazy(()=>c(()=>import("./Login-Drjx-4FQ.js"),__vite__mapDeps([0,1,2,3]))),xt=s.lazy(()=>c(()=>import("./Register-qi8Fk9eP.js"),__vite__mapDeps([4,1,2,5,3]))),gt=s.lazy(()=>c(()=>import("./OAuthCallback-BPgH4hDs.js"),__vite__mapDeps([6,1,2,3]))),ft=s.lazy(()=>c(()=>import("./VendorPendingApproval-BoJwd5_Q.js"),__vite__mapDeps([7,1,2,3,8,9]))),q=s.lazy(()=>c(()=>import("./Dashboard-BZmRe_tj.js"),__vite__mapDeps([10,1,2,11,3,12]))),pt=s.lazy(()=>c(()=>import("./Products-Bq27GtBn.js"),__vite__mapDeps([13,1,2,3]))),yt=s.lazy(()=>c(()=>import("./Orders-kMXdIHje.js"),__vite__mapDeps([14,1,2,3]))),jt=s.lazy(()=>c(()=>import("./Reports-D7TAaTe3.js"),__vite__mapDeps([15,1,2,3]))),bt=s.lazy(()=>c(()=>import("./Settings-BlW2g08W.js"),__vite__mapDeps([16,1,2,3]))),vt=s.lazy(()=>c(()=>import("./Subscription-BLUxcd17.js"),__vite__mapDeps([17,1,2,3]))),_t=s.lazy(()=>c(()=>import("./Home-mawGFhcQ.js"),__vite__mapDeps([18,1,2,3]))),Nt=s.lazy(()=>c(()=>import("./ClientLandingPage-Bahsk9Lx.js"),__vite__mapDeps([19,1,2,3]))),wt=s.lazy(()=>c(()=>import("./PartnerWithUs-ChewPXcx.js"),__vite__mapDeps([20,1,2,3]))),kt=s.lazy(()=>c(()=>import("./ClientStoresPage-DhwWQyq6.js"),__vite__mapDeps([21,1,2,3]))),Pt=s.lazy(()=>c(()=>import("./AboutUs-Cgc2li6s.js"),__vite__mapDeps([22,1,2,3]))),Et=s.lazy(()=>c(()=>import("./Delivery-DLjpUblg.js"),__vite__mapDeps([23,1,2,3]))),St=s.lazy(()=>c(()=>import("./ContactUs-D5e2bfHh.js"),__vite__mapDeps([24,1,2,3]))),At=s.lazy(()=>c(()=>import("./PrivacyPolicy-4jw06A-U.js"),__vite__mapDeps([25,1,2,3]))),Rt=s.lazy(()=>c(()=>import("./TermsOfService-A6l1urSW.js"),__vite__mapDeps([26,1,2,3]))),Ot=s.lazy(()=>c(()=>import("./ClientVendorStorefront-D3nZQrJ1.js"),__vite__mapDeps([27,1,2,3]))),Lt=s.lazy(()=>c(()=>import("./CustomerDashboard-D7i7yKn0.js"),__vite__mapDeps([28,1,2,5,3]))),It=s.lazy(()=>c(()=>import("./ProductBrowsing-D4ZDNElN.js"),__vite__mapDeps([29,1,2,5,3]))),Tt=s.lazy(()=>c(()=>import("./ShoppingCart-DQwe67Ph.js"),__vite__mapDeps([30,1,2,5]))),Ct=s.lazy(()=>c(()=>import("./OrderHistory-DdvgNTvC.js"),__vite__mapDeps([31,1,2,3]))),Dt=s.lazy(()=>c(()=>import("./CustomerProfile-BMCnzb90.js"),__vite__mapDeps([32,1,2,3]))),Vt=s.lazy(()=>c(()=>import("./Wishlist-Due2jDSE.js"),__vite__mapDeps([33,1,2,5,3]))),zt=s.lazy(()=>c(()=>import("./Checkout-DJsd3cB4.js"),__vite__mapDeps([34,1,2,3]))),Ut=s.lazy(()=>c(()=>import("./OrderConfirmation-CpdWdZ9L.js"),__vite__mapDeps([35,1,2]))),$t=s.lazy(()=>c(()=>import("./OrderTracking-DvzPJFbR.js"),__vite__mapDeps([36,1,2]))),Bt=s.lazy(()=>c(()=>import("./ProductReviews-BIUfmXm0.js"),__vite__mapDeps([37,1,2,5,3]))),Wt=s.lazy(()=>c(()=>import("./NotificationsCenter-Cy4YamVh.js"),__vite__mapDeps([38,1,2]))),Mt=s.lazy(()=>c(()=>import("./VendorDiscovery-C3To8rm-.js"),__vite__mapDeps([39,1,2,3]))),Ft=s.lazy(()=>c(()=>import("./RecipeRecommendations-BHecggwR.js"),__vite__mapDeps([40,1,2]))),Jt=s.lazy(()=>c(()=>import("./ProductDetail-BKIKUFS-.js"),__vite__mapDeps([41,1,2,5,3]))),qt=s.lazy(()=>c(()=>import("./OrderDetail-DanJGO9k.js"),__vite__mapDeps([42,1,2,5,3]))),Ht=s.lazy(()=>c(()=>import("./RiderDashboard-BMSCR3zL.js"),__vite__mapDeps([43,1,2,3]))),Yt=s.lazy(()=>c(()=>import("./RiderDeliveries-D9xd0r42.js"),__vite__mapDeps([44,1,2]))),Kt=s.lazy(()=>c(()=>import("./RiderDeliveryDetail-Bcbmn6p0.js"),__vite__mapDeps([45,1,2]))),Qt=s.lazy(()=>c(()=>import("./RiderEarnings-1CSoiPiJ.js"),__vite__mapDeps([46,1,2]))),Gt=s.lazy(()=>c(()=>import("./RiderProfile-DGaEKTen.js"),__vite__mapDeps([47,1,2,3]))),Xt=s.lazy(()=>c(()=>import("./PickerDashboard-BrjeFHLg.js"),__vite__mapDeps([48,1,2,3]))),Zt=s.lazy(()=>c(()=>import("./PickerOrderFulfillment-C57sXeg3.js"),__vite__mapDeps([49,1,2]))),er=s.lazy(()=>c(()=>import("./PickerPerformance-BPPMwIAq.js"),__vite__mapDeps([50,1,2]))),tr=s.lazy(()=>c(()=>import("./AdminDashboard-BFMh_8sC.js"),__vite__mapDeps([51,1,2,52,8,3]))),rr=s.lazy(()=>c(()=>import("./VendorManagement-goa4gXTo.js"),__vite__mapDeps([53,1,2,52,8,3,9]))),sr=s.lazy(()=>c(()=>import("./VendorOnboarding-C11r2OK1.js"),__vite__mapDeps([11,1,2,3])));function or(){return e.jsx("div",{className:"min-h-screen flex items-center justify-center bg-gradient-to-br from-afri-green to-afri-green-dark",children:e.jsxs("div",{className:"text-center",children:[e.jsx("div",{className:"animate-spin rounded-full h-16 w-16 border-t-4 border-b-4 border-white mx-auto"}),e.jsx("p",{className:"text-white mt-4 text-lg font-semibold",children:"Loading page..."})]})})}function w(){const{user:t}=R();switch((t==null?void 0:t.role)||(t==null?void 0:t.primaryRole)||"customer"){case"vendor":return e.jsx(j,{to:"/dashboard",replace:!0});case"rider":return e.jsx(j,{to:"/rider/dashboard",replace:!0});case"picker":return e.jsx(j,{to:"/picker/dashboard",replace:!0});case"customer":default:return e.jsx(j,{to:"/",replace:!0})}}function nr(){const{isAuthenticated:t,user:r,loading:a}=R();return a?e.jsx("div",{className:"min-h-screen flex items-center justify-center bg-gradient-to-br from-afri-green to-afri-green-dark",children:e.jsxs("div",{className:"text-center",children:[e.jsx("div",{className:"animate-spin rounded-full h-16 w-16 border-t-4 border-b-4 border-white mx-auto"}),e.jsx("p",{className:"text-white mt-4 text-lg font-semibold",children:"Loading Afrimercato..."})]})}):e.jsxs(e.Fragment,{children:[e.jsx(ar,{}),e.jsx(s.Suspense,{fallback:e.jsx(or,{}),children:e.jsxs(Z,{children:[e.jsx(i,{path:"/",element:e.jsx(Nt,{})}),e.jsx(i,{path:"/old-home",element:e.jsx(_t,{})})," ",e.jsx(i,{path:"/partner",element:e.jsx(wt,{})}),e.jsx(i,{path:"/stores",element:e.jsx(kt,{})}),e.jsx(i,{path:"/store/:vendorId",element:e.jsx(Ot,{})}),e.jsx(i,{path:"/about",element:e.jsx(Pt,{})}),e.jsx(i,{path:"/delivery",element:e.jsx(Et,{})}),e.jsx(i,{path:"/contact",element:e.jsx(St,{})}),e.jsx(i,{path:"/privacy-policy",element:e.jsx(At,{})}),e.jsx(i,{path:"/terms-of-service",element:e.jsx(Rt,{})}),e.jsx(i,{path:"/products",element:e.jsx(It,{})}),e.jsx(i,{path:"/cart",element:e.jsx(Tt,{})}),e.jsx(i,{path:"/orders",element:e.jsx(Ct,{})}),e.jsx(i,{path:"/profile",element:e.jsx(Dt,{})}),e.jsx(i,{path:"/wishlist",element:e.jsx(Vt,{})}),e.jsx(i,{path:"/product/:productId/reviews",element:e.jsx(Bt,{})}),e.jsx(i,{path:"/notifications",element:e.jsx(Wt,{})}),e.jsx(i,{path:"/discover",element:e.jsx(Mt,{})}),e.jsx(i,{path:"/recipes",element:e.jsx(Ft,{})}),e.jsx(i,{path:"/product/:productId",element:e.jsx(Jt,{})}),e.jsx(i,{path:"/order/:orderId",element:e.jsx(qt,{})}),e.jsx(i,{path:"/my-dashboard",element:t?e.jsx(Lt,{}):e.jsx(j,{to:"/login"})}),e.jsx(i,{path:"/checkout",element:e.jsx(zt,{})}),e.jsx(i,{path:"/order-confirmation/:orderId",element:e.jsx(Ut,{})}),e.jsx(i,{path:"/track-order/:orderId",element:e.jsx($t,{})}),e.jsx(i,{path:"/rider/dashboard",element:t?e.jsx(Ht,{}):e.jsx(j,{to:"/login"})}),e.jsx(i,{path:"/rider/deliveries",element:t?e.jsx(Yt,{}):e.jsx(j,{to:"/login"})}),e.jsx(i,{path:"/rider/delivery/:deliveryId",element:t?e.jsx(Kt,{}):e.jsx(j,{to:"/login"})}),e.jsx(i,{path:"/rider/earnings",element:t?e.jsx(Qt,{}):e.jsx(j,{to:"/login"})}),e.jsx(i,{path:"/rider/profile",element:t?e.jsx(Gt,{}):e.jsx(j,{to:"/login"})}),e.jsx(i,{path:"/picker/dashboard",element:t?e.jsx(Xt,{}):e.jsx(j,{to:"/login"})}),e.jsx(i,{path:"/picker/order/:orderId",element:t?e.jsx(Zt,{}):e.jsx(j,{to:"/login"})}),e.jsx(i,{path:"/picker/performance",element:t?e.jsx(er,{}):e.jsx(j,{to:"/login"})}),e.jsx(i,{path:"/login",element:t?e.jsx(w,{}):e.jsx(ht,{})}),e.jsx(i,{path:"/register",element:t?e.jsx(w,{}):e.jsx(xt,{})}),e.jsx(i,{path:"/oauth/callback",element:e.jsx(gt,{})}),e.jsx(i,{path:"/vendor/pending-approval",element:e.jsx(ft,{})}),e.jsx(i,{path:"/vendor/onboarding",element:e.jsx(sr,{})}),e.jsx(i,{path:"/vendor-dashboard",element:t?(r==null?void 0:r.role)==="vendor"?e.jsx(q,{}):e.jsx(w,{}):e.jsx(j,{to:"/login"})}),e.jsx(i,{path:"/dashboard",element:t?(r==null?void 0:r.role)==="vendor"?e.jsx(E,{children:e.jsx(q,{})}):e.jsx(w,{}):e.jsx(j,{to:"/login"})}),e.jsx(i,{path:"/vendor/products",element:t?(r==null?void 0:r.role)==="vendor"?e.jsx(E,{children:e.jsx(pt,{})}):e.jsx(w,{}):e.jsx(j,{to:"/login"})}),e.jsx(i,{path:"/orders",element:t?(r==null?void 0:r.role)==="vendor"?e.jsx(E,{children:e.jsx(yt,{})}):e.jsx(w,{}):e.jsx(j,{to:"/login"})}),e.jsx(i,{path:"/reports",element:t?(r==null?void 0:r.role)==="vendor"?e.jsx(E,{children:e.jsx(jt,{})}):e.jsx(w,{}):e.jsx(j,{to:"/login"})}),e.jsx(i,{path:"/subscription",element:t?(r==null?void 0:r.role)==="vendor"?e.jsx(E,{children:e.jsx(vt,{})}):e.jsx(w,{}):e.jsx(j,{to:"/login"})}),e.jsx(i,{path:"/settings",element:t?(r==null?void 0:r.role)==="vendor"?e.jsx(E,{children:e.jsx(bt,{})}):e.jsx(w,{}):e.jsx(j,{to:"/login"})}),e.jsx(i,{path:"/admin/dashboard",element:t?(r==null?void 0:r.role)==="admin"?e.jsx(tr,{}):e.jsx(j,{to:"/"}):e.jsx(j,{to:"/login"})}),e.jsx(i,{path:"/admin/vendors",element:t?(r==null?void 0:r.role)==="admin"?e.jsx(rr,{}):e.jsx(j,{to:"/"}):e.jsx(j,{to:"/login"})})]})})]})}function ar(){const{isAuthenticated:t}=R(),r=H();if(t)return null;const a=r.pathname||"";return a.startsWith("/vendor")||a.startsWith("/rider")||a.startsWith("/picker")||a.startsWith("/admin")||a.startsWith("/login")||a.startsWith("/register")?null:e.jsx("div",{className:"fixed bottom-4 right-4 z-50",children:e.jsx("a",{href:"/vendor/onboarding",className:"bg-afri-green text-white px-4 py-2 rounded-lg shadow-lg hover:opacity-95",children:"Become a vendor"})})}function ir(){return e.jsxs(dt,{children:[e.jsx(nr,{}),e.jsx(mt,{})]})}class cr extends Y.Component{constructor(r){super(r),this.state={hasError:!1,error:null,errorInfo:null}}static getDerivedStateFromError(r){return{hasError:!0}}componentDidCatch(r,a){this.setState({error:r,errorInfo:a}),console.error("ErrorBoundary caught an error:",r,a)}render(){return this.state.hasError?e.jsx("div",{className:"min-h-screen bg-gray-100 flex items-center justify-center px-4",children:e.jsxs("div",{className:"max-w-lg w-full bg-white rounded-lg shadow-xl p-8",children:[e.jsx("div",{className:"flex items-center justify-center w-16 h-16 bg-red-100 rounded-full mx-auto mb-4",children:e.jsx("svg",{className:"w-8 h-8 text-red-600",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M12 9v2m0 4h.01m-6.938 4h13.856c1.54 0 2.502-1.667 1.732-3L13.732 4c-.77-1.333-2.694-1.333-3.464 0L3.34 16c-.77 1.333.192 3 1.732 3z"})})}),e.jsx("h1",{className:"text-2xl font-bold text-center text-gray-900 mb-4",children:"Oops! Something went wrong"}),e.jsx("p",{className:"text-gray-600 text-center mb-6",children:"We're sorry for the inconvenience. Please try refreshing the page."}),e.jsxs("div",{className:"flex justify-center space-x-4",children:[e.jsx("button",{onClick:()=>window.location.reload(),className:"bg-green-600 text-white px-6 py-2 rounded-lg font-medium hover:bg-green-700",children:"Refresh Page"}),e.jsx("a",{href:"/",className:"bg-gray-200 text-gray-800 px-6 py-2 rounded-lg font-medium hover:bg-gray-300",children:"Go Home"})]}),!1]})}):this.props.children}}I.createRoot(document.getElementById("root")).render(e.jsx(Y.StrictMode,{children:e.jsx(ee,{children:e.jsx(cr,{children:e.jsx(ir,{})})})}));export{c as _,jr as a,hr as b,ur as c,gr as d,fr as e,me as f,xr as g,yr as o,pr as p,br as s,R as u,Qe as v};
