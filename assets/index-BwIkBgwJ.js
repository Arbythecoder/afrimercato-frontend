const __vite__mapDeps=(i,m=__vite__mapDeps,d=(m.f||(m.f=["assets/index.es-CDheBCtf.js","assets/vendor-D_3E5cmu.js","assets/date-82e9UEgu.js"])))=>i.map(i=>d[i]);
import{j as e,_ as ir}from"./date-82e9UEgu.js";import{a as Xp,r as J,u as Zt,L as Ie,b as Xc,d as Jp,c as Kd,e as In,f as Qp,h as Zp,i as Ct,N as mr,R as Df,H as eg}from"./vendor-D_3E5cmu.js";import{m as Fe,A as eo,u as tg,a as $h}from"./ui-BBn-zePD.js";import{R as oc,A as Gh,C as Yh,X as Kh,Y as Xh,T as Xd,a as Jh,B as rg,b as sg,P as ag,c as ng,d as ig}from"./charts-BVHvXNah.js";(function(){const s=document.createElement("link").relList;if(s&&s.supports&&s.supports("modulepreload"))return;for(const n of document.querySelectorAll('link[rel="modulepreload"]'))a(n);new MutationObserver(n=>{for(const o of n)if(o.type==="childList")for(const l of o.addedNodes)l.tagName==="LINK"&&l.rel==="modulepreload"&&a(l)}).observe(document,{childList:!0,subtree:!0});function r(n){const o={};return n.integrity&&(o.integrity=n.integrity),n.referrerPolicy&&(o.referrerPolicy=n.referrerPolicy),n.crossOrigin==="use-credentials"?o.credentials="include":n.crossOrigin==="anonymous"?o.credentials="omit":o.credentials="same-origin",o}function a(n){if(n.ep)return;n.ep=!0;const o=r(n);fetch(n.href,o)}})();var b0={},Qh=Xp;b0.createRoot=Qh.createRoot,b0.hydrateRoot=Qh.hydrateRoot;const z0="https://afrimercato-backend.fly.dev/api";console.log("ðŸ”— API Base URL:",z0);let lc=!1,w0=[];const Zh=(t,s=null)=>{w0.forEach(r=>{t?r.reject(t):r.resolve(s)}),w0=[]},og=async()=>{var s;const t=localStorage.getItem("afrimercato_refresh_token");if(!t)throw new Error("No refresh token available");try{const r=await fetch(`${z0}/auth/refresh-token`,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({refreshToken:t})});if(!r.ok)throw new Error("Failed to refresh token");const a=await r.json();if(a.success&&((s=a.data)!=null&&s.token))return localStorage.setItem("afrimercato_token",a.data.token),a.data.token;throw new Error("Invalid refresh response")}catch(r){throw localStorage.removeItem("afrimercato_token"),localStorage.removeItem("afrimercato_refresh_token"),r}},ut=async(t,s={},r=!1)=>{try{const a=`${z0}${t}`,n={headers:{...s.headers},credentials:"include",...s};s.body instanceof FormData||(n.headers["Content-Type"]="application/json");const o=localStorage.getItem("afrimercato_token");o&&(n.headers.Authorization=`Bearer ${o}`),console.log("ðŸŒ Fetching:",a);const l=await fetch(a,n);if(!l.ok){const d=await l.json().catch(()=>({}));if(l.status===401&&!r&&(d.errorCode==="TOKEN_EXPIRED"||d.errorCode==="INVALID_TOKEN")){if(lc)return new Promise((h,u)=>{w0.push({resolve:h,reject:u})}).then(h=>ut(t,s,!0)).catch(h=>{throw h});lc=!0;try{const h=await og();return Zh(null,h),lc=!1,ut(t,s,!0)}catch(h){throw Zh(h,null),lc=!1,window.location.href="/login",new Error("Session expired. Please log in again.")}}throw l.status===401?(localStorage.removeItem("afrimercato_token"),localStorage.removeItem("afrimercato_refresh_token"),new Error("Session expired. Please log in again.")):new Error(d.message||`HTTP error! status: ${l.status}`)}return await l.json()}catch(a){throw console.error(`âŒ API Error (${t}):`,a),a}},lg=async t=>{var r;const s=await ut("/auth/login",{method:"POST",body:JSON.stringify(t)});return s.success&&((r=s.data)!=null&&r.token)&&(localStorage.setItem("afrimercato_token",s.data.token),s.data.refreshToken&&localStorage.setItem("afrimercato_refresh_token",s.data.refreshToken)),s},cg=async t=>{var r;const s=await ut("/auth/register",{method:"POST",body:JSON.stringify(t)});return s.success&&((r=s.data)!=null&&r.token)&&(localStorage.setItem("afrimercato_token",s.data.token),s.data.refreshToken&&localStorage.setItem("afrimercato_refresh_token",s.data.refreshToken)),s},dg=async()=>{try{await ut("/auth/logout",{method:"POST"})}finally{localStorage.removeItem("afrimercato_token"),localStorage.removeItem("afrimercato_refresh_token"),window.location.href="/login"}},hg=async()=>ut("/auth/refresh",{method:"POST"}),ug=async()=>ut("/vendor/profile"),fg=async t=>ut("/vendor/profile",{method:"PUT",body:JSON.stringify(t)}),If=async t=>ut("/vendor/profile",{method:"POST",body:JSON.stringify(t)}),mg=async(t={})=>{const s=new URLSearchParams(t).toString();return ut(`/vendor/products?${s}`)},xg=async t=>ut("/vendor/products",{method:"POST",body:JSON.stringify(t)}),pg=async(t,s)=>ut(`/vendor/products/${t}`,{method:"PUT",body:JSON.stringify(s)}),gg=async t=>ut(`/vendor/products/${t}`,{method:"DELETE"}),vg=async(t={})=>{const s=new URLSearchParams(t).toString();return ut(`/vendor/orders?${s}`)},yg=async t=>ut(`/vendor/orders/${t}`),bg=async(t,s)=>ut(`/vendor/orders/${t}/status`,{method:"PUT",body:JSON.stringify(s)}),wg=async(t,s)=>ut(`/vendor/orders/${t}/rate-rider`,{method:"POST",body:JSON.stringify(s)}),Ng=async()=>ut("/vendor/dashboard/stats"),jg=async(t="7d")=>ut(`/vendor/dashboard/chart-data?timeRange=${t}`),Sg=async(t={})=>{const s=new URLSearchParams(t).toString();return ut(`/vendor/reports/sales?${s}`)},kg=async()=>ut("/vendor/reports/inventory"),Ag=async(t={})=>{const s=new URLSearchParams(t).toString();return ut(`/vendor/reports/orders?${s}`)},_g=async(t={})=>{const s=new URLSearchParams(t).toString();return ut(`/vendor/reports/revenue?${s}`)},Cg=async()=>ut("/subscription/plans"),Tg=async t=>ut("/subscription/subscribe",{method:"POST",body:JSON.stringify(t)}),Eg=async()=>ut("/subscription/my-subscription"),Pg=async()=>ut("/subscription/cancel",{method:"POST"}),Fg=async t=>ut("/contact",{method:"POST",body:JSON.stringify(t)}),Lg=async(t,s=50)=>{const r=new URLSearchParams({location:t,radius:s});return ut(`/location/search-vendors?${r}`)},Og=async t=>ut(`/location/vendor/${t}`),Dg=async t=>ut(`/products/vendor/${t}`),Ig=async()=>ut("/products/featured"),Rg=async(t={})=>{const s=new URLSearchParams(t).toString();return ut(`/products?${s}`)},Mg=async t=>ut(`/products/${t}`),Bg=async t=>ut("/orders",{method:"POST",body:JSON.stringify(t)}),Ug=async()=>ut("/orders/user"),Hg=async t=>ut(`/orders/${t}`),Wg=async t=>ut(`/orders/${t}/cancel`,{method:"PATCH"}),qg=async()=>ut("/users/profile"),zg=async t=>ut("/users/profile",{method:"PATCH",body:JSON.stringify(t)}),Vg=async t=>ut("/users/change-password",{method:"PATCH",body:JSON.stringify(t)}),$g=async t=>{const s=new FormData;t.forEach(a=>{s.append("productImages",a)});const r=localStorage.getItem("afrimercato_token");return ut("/vendor/upload/images",{method:"POST",headers:{...r&&{Authorization:`Bearer ${r}`}},body:s})},Gg=async t=>ut("/vendor/products/bulk-delete",{method:"POST",body:JSON.stringify(t)}),Yg=async t=>ut("/vendor/products/bulk-status",{method:"POST",body:JSON.stringify(t)}),Kg=async t=>ut("/vendor/products/bulk-price",{method:"POST",body:JSON.stringify(t)}),Xg=async t=>ut("/vendor/products/bulk-stock",{method:"POST",body:JSON.stringify(t)}),Jg=()=>!!localStorage.getItem("afrimercato_token"),Qg=()=>localStorage.getItem("afrimercato_token"),Zg=t=>{localStorage.setItem("afrimercato_token",t)},e1=()=>{localStorage.removeItem("afrimercato_token"),localStorage.removeItem("afrimercato_refresh_token")},eu={login:lg,register:cg,logout:dg,refreshToken:hg,isAuthenticated:Jg,getAuthToken:Qg,setAuthToken:Zg,clearAuthToken:e1},t1=async()=>ut("/vendor/delivery-settings"),r1=async t=>ut("/vendor/delivery-settings",{method:"PUT",body:JSON.stringify(t)}),xr={getProfile:ug,updateProfile:fg,createProfile:If,getProducts:mg,createProduct:xg,updateProduct:pg,deleteProduct:gg,getOrders:vg,getOrder:yg,updateOrderStatus:bg,rateRider:wg,getDashboardStats:Ng,getChartData:jg,getSalesReport:Sg,getInventoryReport:kg,getOrdersReport:Ag,getRevenueReport:_g,uploadProductImages:$g,bulkDeleteProducts:Gg,bulkUpdateStatus:Yg,bulkUpdatePrices:Kg,bulkUpdateStock:Xg,getDeliverySettings:t1,updateDeliverySettings:r1},s1=async()=>ut("/customers/dashboard/stats"),a1=async(t={})=>{const s=new URLSearchParams(t).toString();return ut(`/customers/orders/recent?${s}`)},n1=async(t={})=>{const s=new URLSearchParams(t).toString();return ut(`/customers/products/recommended?${s}`)},i1=async()=>ut("/customers/wishlist"),o1=async t=>ut("/customers/wishlist",{method:"POST",body:JSON.stringify({productId:t})}),l1=async t=>ut(`/customers/wishlist/${t}`,{method:"DELETE"}),Ra={getDashboardStats:s1,getRecentOrders:a1,getRecommendedProducts:n1,getWishlist:i1,addToWishlist:o1,removeFromWishlist:l1},Fc={getFeatured:Ig,getAll:Rg,getById:Mg},Rf={create:Bg,getUserOrders:Ug,getById:Hg,cancel:Wg},Yi={getProfile:qg,updateProfile:zg,changePassword:Vg},cc={getPlans:Cg,subscribe:Tg,getMySubscription:Eg,cancel:Pg},c1=async(t={})=>{const s=new URLSearchParams(t).toString();return ut(`/notifications?${s}`)},d1=async()=>ut("/notifications/unread-count"),h1=async t=>ut(`/notifications/${t}/read`,{method:"PUT"}),u1=async()=>ut("/notifications/mark-all-read",{method:"PUT"}),f1=async t=>ut(`/notifications/${t}`,{method:"DELETE"}),m1=async()=>ut("/notifications",{method:"DELETE"}),dc={getNotifications:c1,getUnreadCount:d1,markAsRead:h1,markAllAsRead:u1,deleteNotification:f1,deleteAllRead:m1},Mf=J.createContext(),Ua=()=>{const t=J.useContext(Mf);if(!t)throw new Error("useAuth must be used within AuthProvider");return t},x1=({children:t})=>{const[s,r]=J.useState(null),[a,n]=J.useState(!0),[o,l]=J.useState(!1);J.useEffect(()=>{c()},[]);const c=async()=>{const p=localStorage.getItem("afrimercato_token"),m=localStorage.getItem("afrimercato_user");if(p&&(l(!0),m))try{r(JSON.parse(m))}catch(y){console.error("Error parsing user data:",y)}n(!1)},x={user:s,isAuthenticated:o,loading:a,login:async(p,m)=>{try{const y=await eu.login({email:p,password:m});if(y.success){const{token:g,user:b}=y.data;return localStorage.setItem("afrimercato_token",g),localStorage.setItem("afrimercato_user",JSON.stringify(b)),r(b),l(!0),{success:!0,user:b}}}catch(y){return{success:!1,message:y.message||"Login failed"}}},register:async p=>{try{const m=await eu.register(p);if(m.success){const{token:y,user:g}=m.data;return localStorage.setItem("afrimercato_token",y),localStorage.setItem("afrimercato_user",JSON.stringify(g)),r(g),l(!0),{success:!0,user:g}}}catch(m){return{success:!1,message:m.message||"Registration failed"}}},logout:()=>{localStorage.removeItem("afrimercato_token"),localStorage.removeItem("afrimercato_user"),r(null),l(!1)},checkAuth:c};return e.jsx(Mf.Provider,{value:x,children:t})};function p1(){const t=Zt(),{login:s}=Ua(),[r,a]=J.useState({email:"",password:""}),[n,o]=J.useState(""),[l,c]=J.useState(!1),[d,h]=J.useState(!1),u=p=>{a({...r,[p.target.name]:p.target.value}),o("")},x=async p=>{var y,g;p.preventDefault(),o(""),c(!0);const m=await s(r.email,r.password);if(m.success){if(localStorage.getItem("checkout_redirect")==="true"){localStorage.removeItem("checkout_redirect"),t("/checkout");return}switch(((y=m.user)==null?void 0:y.role)||((g=m.user)==null?void 0:g.primaryRole)||"customer"){case"vendor":t("/dashboard");break;case"rider":t("/rider/dashboard");break;case"picker":t("/picker/dashboard");break;case"customer":default:t("/");break}}else o(m.message||"Login failed. Please try again.");c(!1)};return e.jsxs("div",{className:"min-h-screen flex items-center justify-center py-12 px-4 sm:px-6 lg:px-8 overflow-hidden relative bg-gradient-to-br from-afri-green to-afri-green-dark",style:{backgroundSize:"400% 400%",animation:"gradient 15s ease infinite"},children:[e.jsx("div",{className:"absolute inset-0 overflow-hidden pointer-events-none",children:e.jsx("div",{className:"absolute inset-0",style:{background:"radial-gradient(circle at center, rgba(255,255,255,0.1) 0%, transparent 60%)",animation:"pulse 4s ease-in-out infinite"}})}),e.jsxs(Fe.div,{className:"max-w-md w-full relative",initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{duration:.6},children:[e.jsxs(Fe.div,{className:"text-center mb-8",initial:{scale:.8,opacity:0},animate:{scale:1,opacity:1},transition:{duration:.5},children:[e.jsx(Fe.h1,{className:"text-5xl font-bold text-white mb-2",initial:{y:-20},animate:{y:0},transition:{type:"spring",stiffness:300,damping:20},children:"Afrimercato"}),e.jsx(Fe.p,{className:"text-afri-yellow text-lg",initial:{opacity:0},animate:{opacity:1},transition:{delay:.2},children:"Fresh African Groceries"})]}),e.jsxs(Fe.div,{className:"bg-white/95 backdrop-blur-sm rounded-2xl shadow-2xl p-8",initial:{scale:.95,opacity:0},animate:{scale:1,opacity:1},transition:{duration:.4,delay:.3},children:[e.jsx(Fe.h2,{className:"text-3xl font-bold text-gray-900 mb-2",initial:{x:-20,opacity:0},animate:{x:0,opacity:1},transition:{duration:.4,delay:.4},children:"Welcome Back"}),e.jsx(Fe.p,{className:"text-gray-600 mb-6",initial:{x:-20,opacity:0},animate:{x:0,opacity:1},transition:{duration:.4,delay:.5},children:"Sign in as Customer, Vendor, Rider, or Picker"}),n&&e.jsx(Fe.div,{className:"bg-red-50 border-l-4 border-red-500 p-4 mb-6 rounded",initial:{opacity:0,x:-20},animate:{opacity:1,x:0},transition:{duration:.3},children:e.jsx("p",{className:"text-red-700 text-sm",children:n})}),e.jsxs("form",{onSubmit:x,className:"space-y-6",children:[e.jsxs(Fe.div,{initial:{opacity:0,y:10},animate:{opacity:1,y:0},transition:{delay:.6},children:[e.jsx("label",{htmlFor:"email",className:"block text-sm font-medium text-gray-700 mb-2",children:"Email Address"}),e.jsx(Fe.input,{whileFocus:{scale:1.01},transition:{type:"spring",stiffness:300,damping:20},id:"email",name:"email",type:"email",required:!0,value:r.email,onChange:u,className:"w-full px-4 py-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-afri-green focus:border-transparent transition",placeholder:"your.email@example.com"})]}),e.jsxs(Fe.div,{initial:{opacity:0,y:10},animate:{opacity:1,y:0},transition:{delay:.7},children:[e.jsx("label",{htmlFor:"password",className:"block text-sm font-medium text-gray-700 mb-2",children:"Password"}),e.jsxs("div",{className:"relative",children:[e.jsx(Fe.input,{whileFocus:{scale:1.01},transition:{type:"spring",stiffness:300,damping:20},id:"password",name:"password",type:d?"text":"password",required:!0,value:r.password,onChange:u,className:"w-full px-4 py-3 pr-12 border border-gray-300 rounded-lg focus:ring-2 focus:ring-afri-green focus:border-transparent transition",placeholder:"â€¢â€¢â€¢â€¢â€¢â€¢â€¢â€¢"}),e.jsx("button",{type:"button",onClick:()=>h(!d),className:"absolute right-3 top-1/2 -translate-y-1/2 text-gray-500 hover:text-gray-700 focus:outline-none",children:d?e.jsx("svg",{className:"w-5 h-5",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M13.875 18.825A10.05 10.05 0 0112 19c-4.478 0-8.268-2.943-9.543-7a9.97 9.97 0 011.563-3.029m5.858.908a3 3 0 114.243 4.243M9.878 9.878l4.242 4.242M9.88 9.88l-3.29-3.29m7.532 7.532l3.29 3.29M3 3l3.59 3.59m0 0A9.953 9.953 0 0112 5c4.478 0 8.268 2.943 9.543 7a10.025 10.025 0 01-4.132 5.411m0 0L21 21"})}):e.jsxs("svg",{className:"w-5 h-5",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:[e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M15 12a3 3 0 11-6 0 3 3 0 016 0z"}),e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M2.458 12C3.732 7.943 7.523 5 12 5c4.478 0 8.268 2.943 9.542 7-1.274 4.057-5.064 7-9.542 7-4.477 0-8.268-2.943-9.542-7z"})]})})]})]}),e.jsxs(Fe.div,{className:"flex items-center justify-between",initial:{opacity:0,y:10},animate:{opacity:1,y:0},transition:{delay:.8},children:[e.jsxs("div",{className:"flex items-center",children:[e.jsx(Fe.input,{whileHover:{scale:1.1},transition:{type:"spring",stiffness:400,damping:10},id:"remember",name:"remember",type:"checkbox",className:"h-4 w-4 text-afri-green focus:ring-afri-green border-gray-300 rounded"}),e.jsx("label",{htmlFor:"remember",className:"ml-2 block text-sm text-gray-700",children:"Remember me"})]}),e.jsx(Fe.div,{whileHover:{scale:1.05},children:e.jsx(Ie,{to:"/forgot-password",className:"text-sm text-afri-green hover:text-afri-green-dark font-medium",children:"Forgot password?"})})]}),e.jsx(Fe.button,{type:"submit",disabled:l,className:"w-full flex justify-center py-3 px-4 border border-transparent rounded-lg shadow-sm text-white bg-gradient-to-r from-afri-green to-afri-green-dark hover:from-afri-green-dark hover:to-afri-green focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-afri-green font-semibold text-lg transition disabled:opacity-50 disabled:cursor-not-allowed",whileHover:{scale:1.02},whileTap:{scale:.98},initial:{opacity:0,y:10},animate:{opacity:1,y:0},transition:{delay:.9},children:l?e.jsxs("svg",{className:"animate-spin h-5 w-5 text-white",xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",children:[e.jsx("circle",{className:"opacity-25",cx:"12",cy:"12",r:"10",stroke:"currentColor",strokeWidth:"4"}),e.jsx("path",{className:"opacity-75",fill:"currentColor",d:"M4 12a8 8 0 018-8V0C5.373 0 0 5.373 0 12h4zm2 5.291A7.962 7.962 0 014 12H0c0 3.042 1.135 5.824 3 7.938l3-2.647z"})]}):"Sign In"})]}),e.jsxs(Fe.div,{className:"mt-6",initial:{opacity:0},animate:{opacity:1},transition:{delay:1},children:[e.jsxs("div",{className:"relative",children:[e.jsx("div",{className:"absolute inset-0 flex items-center",children:e.jsx("div",{className:"w-full border-t border-gray-300"})}),e.jsx("div",{className:"relative flex justify-center text-sm",children:e.jsx("span",{className:"px-4 bg-white text-gray-500",children:"Or continue with"})})]}),e.jsxs("div",{className:"mt-6 grid grid-cols-2 gap-3",children:[e.jsxs(Fe.a,{href:"https://afrimercato-backend.onrender.com/api/api/auth/google",className:"w-full inline-flex justify-center items-center py-3 px-4 border border-gray-300 rounded-lg shadow-sm bg-white text-sm font-medium text-gray-700 hover:bg-gray-50 transition",whileHover:{scale:1.02},whileTap:{scale:.98},children:[e.jsxs("svg",{className:"w-5 h-5 mr-2",viewBox:"0 0 24 24",children:[e.jsx("path",{fill:"#4285F4",d:"M22.56 12.25c0-.78-.07-1.53-.2-2.25H12v4.26h5.92c-.26 1.37-1.04 2.53-2.21 3.31v2.77h3.57c2.08-1.92 3.28-4.74 3.28-8.09z"}),e.jsx("path",{fill:"#34A853",d:"M12 23c2.97 0 5.46-.98 7.28-2.66l-3.57-2.77c-.98.66-2.23 1.06-3.71 1.06-2.86 0-5.29-1.93-6.16-4.53H2.18v2.84C3.99 20.53 7.7 23 12 23z"}),e.jsx("path",{fill:"#FBBC05",d:"M5.84 14.09c-.22-.66-.35-1.36-.35-2.09s.13-1.43.35-2.09V7.07H2.18C1.43 8.55 1 10.22 1 12s.43 3.45 1.18 4.93l2.85-2.22.81-.62z"}),e.jsx("path",{fill:"#EA4335",d:"M12 5.38c1.62 0 3.06.56 4.21 1.64l3.15-3.15C17.45 2.09 14.97 1 12 1 7.7 1 3.99 3.47 2.18 7.07l3.66 2.84c.87-2.6 3.3-4.53 6.16-4.53z"})]}),"Google"]}),e.jsxs(Fe.a,{href:"https://afrimercato-backend.onrender.com/api/api/auth/facebook",className:"w-full inline-flex justify-center items-center py-3 px-4 border border-gray-300 rounded-lg shadow-sm bg-white text-sm font-medium text-gray-700 hover:bg-gray-50 transition",whileHover:{scale:1.02},whileTap:{scale:.98},children:[e.jsx("svg",{className:"w-5 h-5 mr-2",fill:"#1877F2",viewBox:"0 0 24 24",children:e.jsx("path",{d:"M24 12.073c0-6.627-5.373-12-12-12s-12 5.373-12 12c0 5.99 4.388 10.954 10.125 11.854v-8.385H7.078v-3.47h3.047V9.43c0-3.007 1.792-4.669 4.533-4.669 1.312 0 2.686.235 2.686.235v2.953H15.83c-1.491 0-1.956.925-1.956 1.874v2.25h3.328l-.532 3.47h-2.796v8.385C19.612 23.027 24 18.062 24 12.073z"})}),"Facebook"]})]})]}),e.jsxs(Fe.div,{className:"mt-6",initial:{opacity:0},animate:{opacity:1},transition:{delay:1.1},children:[e.jsxs("div",{className:"relative",children:[e.jsx("div",{className:"absolute inset-0 flex items-center",children:e.jsx("div",{className:"w-full border-t border-gray-300"})}),e.jsx("div",{className:"relative flex justify-center text-sm",children:e.jsx("span",{className:"px-4 bg-white text-gray-500",children:"New to Afrimercato?"})})]}),e.jsx(Fe.div,{className:"mt-6 text-center",whileHover:{scale:1.05},children:e.jsxs(Ie,{to:"/register",className:"text-afri-green hover:text-afri-green-dark font-semibold text-base inline-flex items-center",children:["Create an account",e.jsx(Fe.span,{animate:{x:[0,5,0]},transition:{repeat:1/0,duration:1.5},className:"ml-2",children:"â†’"})]})})]})]}),e.jsx(Fe.p,{className:"mt-8 text-center text-sm text-white",initial:{opacity:0},animate:{opacity:1},transition:{delay:1.1},children:"Â© 2025 Afrimercato. Fresh African Groceries Delivered."})]}),e.jsx("style",{jsx:!0,children:`
        @keyframes gradient {
          0% { background-position: 0% 50% }
          50% { background-position: 100% 50% }
          100% { background-position: 0% 50% }
        }
        @keyframes pulse {
          0% { opacity: 0.4 }
          50% { opacity: 0.6 }
          100% { opacity: 0.4 }
        }
      `})]})}const Jd={vegetables:"https://images.unsplash.com/photo-1598170845058-32b9d6a5da37?w=800&q=80",fruits:"https://images.unsplash.com/photo-1619566636858-adf3ef46400b?w=800&q=80","meat-fish":"https://images.unsplash.com/photo-1546964053-d018e345e490?w=800&q=80",dairy:"https://images.unsplash.com/photo-1563636619-e9143da7973b?w=800&q=80",grains:"https://images.unsplash.com/photo-1596797882870-8c33deeac224?w=800&q=80",beverages:"https://images.unsplash.com/photo-1598614187854-26a60e982dc4?w=800&q=80",spices:"https://images.unsplash.com/photo-1596040033229-a0b3b46fe6b6?w=800&q=80","fresh-produce":"https://images.unsplash.com/photo-1610832958506-aa56368176cf?w=800&q=80",bakery:"https://images.unsplash.com/photo-1509440159596-0249088772ff?w=800&q=80",snacks:"https://images.unsplash.com/photo-1599490659213-e2b9527bd087?w=800&q=80",groceries:"https://images.unsplash.com/photo-1542838132-92c53300491e?w=800&q=80",household:"https://images.unsplash.com/photo-1556909114-f6e7ad7d3136?w=800&q=80","beauty-health":"https://images.unsplash.com/photo-1596462502278-27bfdc403348?w=800&q=80",default:"https://images.unsplash.com/photo-1604719312566-8912e9227c6a?w=800&q=80"},hc={hero1:"https://images.unsplash.com/photo-1578916171728-46686eac8d58?w=1600&q=80",hero2:"https://images.unsplash.com/photo-1573496359142-b8d87734a5a2?w=1600&q=80",store1:"https://images.unsplash.com/photo-1604719312566-8912e9227c6a?w=1600&q=80",store2:"https://images.unsplash.com/photo-1534723328310-e82dad3ee43f?w=1600&q=80"},g1=t=>{if(!t)return Jd.default;const s=t.toLowerCase().replace(/\s+/g,"-");return Jd[s]||Jd.default},En=t=>{var s;if(t!=null&&t.images&&t.images.length>0){const r=t.images.find(a=>a.isPrimary);if(r!=null&&r.url)return r.url;if((s=t.images[0])!=null&&s.url)return t.images[0].url}return g1(t==null?void 0:t.category)};function v1(){const t=Zt(),{register:s}=Ua(),[r]=Xc(),a=r.get("role")||"customer",[n,o]=J.useState({name:"",email:"",phone:"",password:"",confirmPassword:"",role:a});J.useEffect(()=>{const k=r.get("role");k&&["customer","vendor","rider","picker"].includes(k)&&o(L=>({...L,role:k}))},[r]);const[l,c]=J.useState(""),[d,h]=J.useState(!1),[u,x]=J.useState(!1),[p,m]=J.useState(!1),y=k=>{o({...n,[k.target.name]:k.target.value}),c("")},g=async k=>{if(k.preventDefault(),c(""),n.password!==n.confirmPassword){c("Passwords do not match");return}if(n.password.length<6){c("Password must be at least 6 characters");return}h(!0);const L=await s(n);if(L.success){if(localStorage.getItem("checkout_redirect")==="true"){localStorage.removeItem("checkout_redirect"),t("/checkout");return}switch(n.role){case"vendor":t("/dashboard");break;case"rider":t("/rider/dashboard");break;case"picker":t("/picker/dashboard");break;case"customer":default:t("/");break}}else c(L.message);h(!1)},b={hidden:{opacity:0},visible:{opacity:1,transition:{delayChildren:.1,staggerChildren:.1}}},w={hidden:{y:20,opacity:0},visible:{y:0,opacity:1,transition:{type:"spring",stiffness:100}}},j=(()=>{switch(n.role){case"vendor":return{title:"Start Selling Today",subtitle:"Join thousands of vendors on Afrimercato",benefit1:"ðŸ“Š Real-time sales analytics",benefit2:"ðŸš€ Instant order notifications",benefit3:"ðŸ’° Low commission rates",image:hc.store1};case"rider":return{title:"Become a Delivery Partner",subtitle:"Deliver groceries and earn on your schedule",benefit1:"â° Flexible working hours",benefit2:"ðŸ’µ Competitive earnings",benefit3:"ðŸ“± Easy-to-use rider app",image:hc.hero2};case"picker":return{title:"Join Our Fulfillment Team",subtitle:"Help fulfill orders from local stores",benefit1:"ðŸª Work with top vendors",benefit2:"ðŸ“¦ Simple picking process",benefit3:"ðŸ’ª Great team environment",image:hc.store2};default:return{title:"Join Our Community",subtitle:"Start shopping for fresh African groceries",benefit1:"ðŸ¥¬ Fresh produce daily",benefit2:"ðŸšš Fast delivery",benefit3:"ðŸŽ Exclusive deals",image:hc.hero1}}})();return e.jsxs("div",{className:"min-h-screen flex bg-gray-50",children:[e.jsxs(Fe.div,{initial:{x:-50,opacity:0},animate:{x:0,opacity:1},transition:{duration:.6},className:"hidden lg:flex lg:w-1/2 bg-gradient-to-br from-afri-green via-afri-green-dark to-green-900 p-12 flex-col justify-between relative overflow-hidden",children:[e.jsx("div",{className:"absolute inset-0 opacity-10",children:e.jsx("div",{className:"absolute inset-0",style:{backgroundImage:"radial-gradient(circle at 2px 2px, white 1px, transparent 0)",backgroundSize:"40px 40px"}})}),e.jsxs("div",{className:"relative z-10",children:[e.jsxs(Fe.div,{initial:{y:-20,opacity:0},animate:{y:0,opacity:1},transition:{delay:.2,duration:.6},children:[e.jsx("h1",{className:"text-6xl font-bold text-white mb-2",children:"Afrimercato"}),e.jsx("p",{className:"text-afri-yellow text-xl font-semibold",children:j.title})]}),e.jsxs(Fe.div,{initial:{y:20,opacity:0},animate:{y:0,opacity:1},transition:{delay:.4,duration:.6},className:"mt-12 space-y-6",children:[e.jsxs("div",{className:"flex items-start space-x-4",children:[e.jsx("div",{className:"bg-white/20 rounded-lg p-3 backdrop-blur-sm",children:e.jsx("svg",{className:"w-6 h-6 text-afri-yellow",fill:"currentColor",viewBox:"0 0 20 20",children:e.jsx("path",{fillRule:"evenodd",d:"M10 18a8 8 0 100-16 8 8 0 000 16zm3.707-9.293a1 1 0 00-1.414-1.414L9 10.586 7.707 9.293a1 1 0 00-1.414 1.414l2 2a1 1 0 001.414 0l4-4z",clipRule:"evenodd"})})}),e.jsx("div",{children:e.jsx("p",{className:"text-white text-lg font-medium",children:j.benefit1})})]}),e.jsxs("div",{className:"flex items-start space-x-4",children:[e.jsx("div",{className:"bg-white/20 rounded-lg p-3 backdrop-blur-sm",children:e.jsx("svg",{className:"w-6 h-6 text-afri-yellow",fill:"currentColor",viewBox:"0 0 20 20",children:e.jsx("path",{fillRule:"evenodd",d:"M10 18a8 8 0 100-16 8 8 0 000 16zm3.707-9.293a1 1 0 00-1.414-1.414L9 10.586 7.707 9.293a1 1 0 00-1.414 1.414l2 2a1 1 0 001.414 0l4-4z",clipRule:"evenodd"})})}),e.jsx("div",{children:e.jsx("p",{className:"text-white text-lg font-medium",children:j.benefit2})})]}),e.jsxs("div",{className:"flex items-start space-x-4",children:[e.jsx("div",{className:"bg-white/20 rounded-lg p-3 backdrop-blur-sm",children:e.jsx("svg",{className:"w-6 h-6 text-afri-yellow",fill:"currentColor",viewBox:"0 0 20 20",children:e.jsx("path",{fillRule:"evenodd",d:"M10 18a8 8 0 100-16 8 8 0 000 16zm3.707-9.293a1 1 0 00-1.414-1.414L9 10.586 7.707 9.293a1 1 0 00-1.414 1.414l2 2a1 1 0 001.414 0l4-4z",clipRule:"evenodd"})})}),e.jsx("div",{children:e.jsx("p",{className:"text-white text-lg font-medium",children:j.benefit3})})]})]})]}),e.jsx(Fe.div,{initial:{scale:.8,opacity:0},animate:{scale:1,opacity:1},transition:{delay:.6,duration:.6},className:"relative z-10",children:e.jsx("img",{src:j.image,alt:j.title,className:"rounded-2xl shadow-2xl w-full h-64 object-cover border-4 border-white/20"})}),e.jsx(Fe.p,{initial:{opacity:0},animate:{opacity:1},transition:{delay:.8},className:"relative z-10 text-white/70 text-sm",children:"Â© 2025 Afrimercato. Fresh African Groceries Delivered."})]}),e.jsx("div",{className:"w-full lg:w-1/2 flex items-center justify-center p-8",children:e.jsxs(Fe.div,{variants:b,initial:"hidden",animate:"visible",className:"w-full max-w-md",children:[e.jsxs(Fe.div,{variants:w,className:"lg:hidden text-center mb-8",children:[e.jsx("h1",{className:"text-4xl font-bold text-afri-green mb-2",children:"Afrimercato"}),e.jsx("p",{className:"text-gray-600",children:j.title})]}),e.jsxs(Fe.div,{variants:w,className:"bg-white rounded-2xl shadow-xl p-8 border border-gray-100",children:[e.jsx("h2",{className:"text-3xl font-bold text-gray-900 mb-2",children:"Create Account"}),e.jsxs("p",{className:"text-gray-600 mb-6",children:[n.role==="vendor"&&"Join thousands of vendors on Afrimercato",n.role==="customer"&&"Start shopping for fresh African groceries",n.role==="rider"&&"Deliver groceries and earn on your schedule",n.role==="picker"&&"Help fulfill orders from local stores"]}),l&&e.jsx("div",{className:"bg-red-50 border-l-4 border-red-500 p-4 mb-6 rounded",children:e.jsx("p",{className:"text-red-700 text-sm",children:l})}),e.jsxs("form",{onSubmit:g,className:"space-y-5",children:[e.jsxs("div",{children:[e.jsx("label",{htmlFor:"role",className:"block text-sm font-medium text-gray-700 mb-2",children:"I want to register as"}),e.jsxs("select",{id:"role",name:"role",required:!0,value:n.role,onChange:y,className:"w-full px-4 py-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-afri-green focus:border-transparent transition bg-white",children:[e.jsx("option",{value:"customer",children:"Customer - Shop for groceries"}),e.jsx("option",{value:"vendor",children:"Vendor - Sell products"}),e.jsx("option",{value:"rider",children:"Rider - Deliver orders"}),e.jsx("option",{value:"picker",children:"Picker - Fulfill orders"})]})]}),e.jsxs("div",{children:[e.jsx("label",{htmlFor:"name",className:"block text-sm font-medium text-gray-700 mb-2",children:"Full Name"}),e.jsx("input",{id:"name",name:"name",type:"text",required:!0,value:n.name,onChange:y,className:"w-full px-4 py-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-afri-green focus:border-transparent transition",placeholder:"John Doe"})]}),e.jsxs("div",{children:[e.jsx("label",{htmlFor:"email",className:"block text-sm font-medium text-gray-700 mb-2",children:"Email Address"}),e.jsx("input",{id:"email",name:"email",type:"email",required:!0,value:n.email,onChange:y,className:"w-full px-4 py-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-afri-green focus:border-transparent transition",placeholder:"your.email@example.com"})]}),e.jsxs("div",{children:[e.jsx("label",{htmlFor:"phone",className:"block text-sm font-medium text-gray-700 mb-2",children:"Phone Number"}),e.jsx("input",{id:"phone",name:"phone",type:"tel",required:!0,value:n.phone,onChange:y,className:"w-full px-4 py-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-afri-green focus:border-transparent transition",placeholder:"+44 7700 900000"}),e.jsx("p",{className:"text-xs text-gray-500 mt-1",children:"Used for OTP verification & order updates"})]}),e.jsxs("div",{children:[e.jsx("label",{htmlFor:"password",className:"block text-sm font-medium text-gray-700 mb-2",children:"Password"}),e.jsxs("div",{className:"relative",children:[e.jsx("input",{id:"password",name:"password",type:u?"text":"password",required:!0,value:n.password,onChange:y,className:"w-full px-4 py-3 pr-12 border border-gray-300 rounded-lg focus:ring-2 focus:ring-afri-green focus:border-transparent transition",placeholder:"â€¢â€¢â€¢â€¢â€¢â€¢â€¢â€¢"}),e.jsx("button",{type:"button",onClick:()=>x(!u),className:"absolute right-3 top-1/2 -translate-y-1/2 text-gray-500 hover:text-gray-700 focus:outline-none",children:u?e.jsx("svg",{className:"w-5 h-5",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M13.875 18.825A10.05 10.05 0 0112 19c-4.478 0-8.268-2.943-9.543-7a9.97 9.97 0 011.563-3.029m5.858.908a3 3 0 114.243 4.243M9.878 9.878l4.242 4.242M9.88 9.88l-3.29-3.29m7.532 7.532l3.29 3.29M3 3l3.59 3.59m0 0A9.953 9.953 0 0112 5c4.478 0 8.268 2.943 9.542 7a10.025 10.025 0 01-4.132 5.411m0 0L21 21"})}):e.jsxs("svg",{className:"w-5 h-5",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:[e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M15 12a3 3 0 11-6 0 3 3 0 016 0z"}),e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M2.458 12C3.732 7.943 7.523 5 12 5c4.478 0 8.268 2.943 9.542 7-1.274 4.057-5.064 7-9.542 7-4.477 0-8.268-2.943-9.542-7z"})]})})]}),e.jsx("p",{className:"text-xs text-gray-500 mt-1",children:"At least 6 characters"})]}),e.jsxs("div",{children:[e.jsx("label",{htmlFor:"confirmPassword",className:"block text-sm font-medium text-gray-700 mb-2",children:"Confirm Password"}),e.jsxs("div",{className:"relative",children:[e.jsx("input",{id:"confirmPassword",name:"confirmPassword",type:p?"text":"password",required:!0,value:n.confirmPassword,onChange:y,className:"w-full px-4 py-3 pr-12 border border-gray-300 rounded-lg focus:ring-2 focus:ring-afri-green focus:border-transparent transition",placeholder:"â€¢â€¢â€¢â€¢â€¢â€¢â€¢â€¢"}),e.jsx("button",{type:"button",onClick:()=>m(!p),className:"absolute right-3 top-1/2 -translate-y-1/2 text-gray-500 hover:text-gray-700 focus:outline-none",children:p?e.jsx("svg",{className:"w-5 h-5",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M13.875 18.825A10.05 10.05 0 0112 19c-4.478 0-8.268-2.943-9.543-7a9.97 9.97 0 011.563-3.029m5.858.908a3 3 0 114.243 4.243M9.878 9.878l4.242 4.242M9.88 9.88l-3.29-3.29m7.532 7.532l3.29 3.29M3 3l3.59 3.59m0 0A9.953 9.953 0 0112 5c4.478 0 8.268 2.943 9.542 7a10.025 10.025 0 01-4.132 5.411m0 0L21 21"})}):e.jsxs("svg",{className:"w-5 h-5",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:[e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M15 12a3 3 0 11-6 0 3 3 0 016 0z"}),e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M2.458 12C3.732 7.943 7.523 5 12 5c4.478 0 8.268 2.943 9.542 7-1.274 4.057-5.064 7-9.542 7-4.477 0-8.268-2.943-9.542-7z"})]})})]})]}),e.jsxs("div",{className:"flex items-start",children:[e.jsx("input",{id:"terms",name:"terms",type:"checkbox",required:!0,className:"h-4 w-4 mt-1 text-afri-green focus:ring-afri-green border-gray-300 rounded"}),e.jsxs("label",{htmlFor:"terms",className:"ml-2 block text-sm text-gray-700",children:["I agree to the"," ",e.jsx(Ie,{to:"/terms",className:"text-afri-green hover:text-afri-green-dark font-medium",children:"Terms of Service"})," ","and"," ",e.jsx(Ie,{to:"/privacy",className:"text-afri-green hover:text-afri-green-dark font-medium",children:"Privacy Policy"})]})]}),e.jsx("button",{type:"submit",disabled:d,className:"w-full flex justify-center py-3 px-4 border border-transparent rounded-lg shadow-sm text-white bg-gradient-to-r from-afri-green to-afri-green-dark hover:from-afri-green-dark hover:to-afri-green focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-afri-green font-semibold text-lg transition disabled:opacity-50 disabled:cursor-not-allowed",children:d?e.jsxs("svg",{className:"animate-spin h-5 w-5 text-white",xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",children:[e.jsx("circle",{className:"opacity-25",cx:"12",cy:"12",r:"10",stroke:"currentColor",strokeWidth:"4"}),e.jsx("path",{className:"opacity-75",fill:"currentColor",d:"M4 12a8 8 0 018-8V0C5.373 0 0 5.373 0 12h4zm2 5.291A7.962 7.962 0 014 12H0c0 3.042 1.135 5.824 3 7.938l3-2.647z"})]}):"Create Account"})]}),e.jsxs("div",{className:"mt-6",children:[e.jsxs("div",{className:"relative",children:[e.jsx("div",{className:"absolute inset-0 flex items-center",children:e.jsx("div",{className:"w-full border-t border-gray-300"})}),e.jsx("div",{className:"relative flex justify-center text-sm",children:e.jsx("span",{className:"px-4 bg-white text-gray-500",children:"Already have an account?"})})]}),e.jsx("div",{className:"mt-6 text-center",children:e.jsx(Ie,{to:"/login",className:"text-afri-green hover:text-afri-green-dark font-semibold text-base",children:"Sign in here â†’"})})]})]}),e.jsx("p",{className:"mt-8 text-center text-sm text-gray-600 lg:hidden",children:"Â© 2025 Afrimercato. Fresh African Groceries Delivered."})]})})]})}var uc=function(t,s){return t<s?-1:t>s?1:0},tu=function(t){return t.reduce(function(s,r){return s+r},0)},y1=function(){function t(r){this.colors=r}var s=t.prototype;return s.palette=function(){return this.colors},s.map=function(r){return r},t}(),b1=function(){function t(o,l,c){return(o<<10)+(l<<5)+c}function s(o){var l=[],c=!1;function d(){l.sort(o),c=!0}return{push:function(h){l.push(h),c=!1},peek:function(h){return c||d(),h===void 0&&(h=l.length-1),l[h]},pop:function(){return c||d(),l.pop()},size:function(){return l.length},map:function(h){return l.map(h)},debug:function(){return c||d(),l}}}function r(o,l,c,d,h,u,x){var p=this;p.r1=o,p.r2=l,p.g1=c,p.g2=d,p.b1=h,p.b2=u,p.histo=x}function a(){this.vboxes=new s(function(o,l){return uc(o.vbox.count()*o.vbox.volume(),l.vbox.count()*l.vbox.volume())})}function n(o,l){if(l.count()){var c=l.r2-l.r1+1,d=l.g2-l.g1+1,h=Math.max.apply(null,[c,d,l.b2-l.b1+1]);if(l.count()==1)return[l.copy()];var u,x,p,m,y=0,g=[],b=[];if(h==c)for(u=l.r1;u<=l.r2;u++){for(m=0,x=l.g1;x<=l.g2;x++)for(p=l.b1;p<=l.b2;p++)m+=o[t(u,x,p)]||0;g[u]=y+=m}else if(h==d)for(u=l.g1;u<=l.g2;u++){for(m=0,x=l.r1;x<=l.r2;x++)for(p=l.b1;p<=l.b2;p++)m+=o[t(x,u,p)]||0;g[u]=y+=m}else for(u=l.b1;u<=l.b2;u++){for(m=0,x=l.r1;x<=l.r2;x++)for(p=l.g1;p<=l.g2;p++)m+=o[t(x,p,u)]||0;g[u]=y+=m}return g.forEach(function(w,N){b[N]=y-w}),function(w){var N,j,k,L,F,T=w+"1",C=w+"2",I=0;for(u=l[T];u<=l[C];u++)if(g[u]>y/2){for(k=l.copy(),L=l.copy(),F=(N=u-l[T])<=(j=l[C]-u)?Math.min(l[C]-1,~~(u+j/2)):Math.max(l[T],~~(u-1-N/2));!g[F];)F++;for(I=b[F];!I&&g[F-1];)I=b[--F];return k[C]=F,L[T]=k[C]+1,[k,L]}}(h==c?"r":h==d?"g":"b")}}return r.prototype={volume:function(o){var l=this;return l._volume&&!o||(l._volume=(l.r2-l.r1+1)*(l.g2-l.g1+1)*(l.b2-l.b1+1)),l._volume},count:function(o){var l=this,c=l.histo;if(!l._count_set||o){var d,h,u,x=0;for(d=l.r1;d<=l.r2;d++)for(h=l.g1;h<=l.g2;h++)for(u=l.b1;u<=l.b2;u++)x+=c[t(d,h,u)]||0;l._count=x,l._count_set=!0}return l._count},copy:function(){var o=this;return new r(o.r1,o.r2,o.g1,o.g2,o.b1,o.b2,o.histo)},avg:function(o){var l=this,c=l.histo;if(!l._avg||o){var d,h,u,x,p=0,m=0,y=0,g=0;if(l.r1===l.r2&&l.g1===l.g2&&l.b1===l.b2)l._avg=[l.r1<<3,l.g1<<3,l.b1<<3];else{for(h=l.r1;h<=l.r2;h++)for(u=l.g1;u<=l.g2;u++)for(x=l.b1;x<=l.b2;x++)p+=d=c[t(h,u,x)]||0,m+=d*(h+.5)*8,y+=d*(u+.5)*8,g+=d*(x+.5)*8;l._avg=p?[~~(m/p),~~(y/p),~~(g/p)]:[~~(8*(l.r1+l.r2+1)/2),~~(8*(l.g1+l.g2+1)/2),~~(8*(l.b1+l.b2+1)/2)]}}return l._avg},contains:function(o){var l=this,c=o[0]>>3;return gval=o[1]>>3,bval=o[2]>>3,c>=l.r1&&c<=l.r2&&gval>=l.g1&&gval<=l.g2&&bval>=l.b1&&bval<=l.b2}},a.prototype={push:function(o){this.vboxes.push({vbox:o,color:o.avg()})},palette:function(){return this.vboxes.map(function(o){return o.color})},size:function(){return this.vboxes.size()},map:function(o){for(var l=this.vboxes,c=0;c<l.size();c++)if(l.peek(c).vbox.contains(o))return l.peek(c).color;return this.nearest(o)},nearest:function(o){for(var l,c,d,h=this.vboxes,u=0;u<h.size();u++)((c=Math.sqrt(Math.pow(o[0]-h.peek(u).color[0],2)+Math.pow(o[1]-h.peek(u).color[1],2)+Math.pow(o[2]-h.peek(u).color[2],2)))<l||l===void 0)&&(l=c,d=h.peek(u).color);return d},forcebw:function(){var o=this.vboxes;o.sort(function(h,u){return uc(tu(h.color),tu(u.color))});var l=o[0].color;l[0]<5&&l[1]<5&&l[2]<5&&(o[0].color=[0,0,0]);var c=o.length-1,d=o[c].color;d[0]>251&&d[1]>251&&d[2]>251&&(o[c].color=[255,255,255])}},{quantize:function(o,l){if(!Number.isInteger(l)||l<1||l>256)throw new Error("Invalid maximum color count. It must be an integer between 1 and 256.");if(!o.length||l<2||l>256||!o.length||l<2||l>256)return!1;for(var c=[],d=new Set,h=0;h<o.length;h++){var u=o[h],x=u.join(",");d.has(x)||(d.add(x),c.push(u))}if(c.length<=l)return new y1(c);var p=function(N){var j,k=new Array(32768);return N.forEach(function(L){j=t(L[0]>>3,L[1]>>3,L[2]>>3),k[j]=(k[j]||0)+1}),k}(o);p.forEach(function(){});var m=function(N,j){var k,L,F,T=1e6,C=0,I=1e6,D=0,E=1e6,P=0;return N.forEach(function(W){(k=W[0]>>3)<T?T=k:k>C&&(C=k),(L=W[1]>>3)<I?I=L:L>D&&(D=L),(F=W[2]>>3)<E?E=F:F>P&&(P=F)}),new r(T,C,I,D,E,P,j)}(o,p),y=new s(function(N,j){return uc(N.count(),j.count())});function g(N,j){for(var k,L=N.size(),F=0;F<1e3;){if(L>=j||F++>1e3)return;if((k=N.pop()).count()){var T=n(p,k),C=T[0],I=T[1];if(!C)return;N.push(C),I&&(N.push(I),L++)}else N.push(k),F++}}y.push(m),g(y,.75*l);for(var b=new s(function(N,j){return uc(N.count()*N.volume(),j.count()*j.volume())});y.size();)b.push(y.pop());g(b,l);for(var w=new a;b.size();)w.push(b.pop());return w}}}().quantize,Bf=function(t){this.canvas=document.createElement("canvas"),this.context=this.canvas.getContext("2d"),this.width=this.canvas.width=t.naturalWidth,this.height=this.canvas.height=t.naturalHeight,this.context.drawImage(t,0,0,this.width,this.height)};Bf.prototype.getImageData=function(){return this.context.getImageData(0,0,this.width,this.height)};var qi=function(){};qi.prototype.getColor=function(t,s){return s===void 0&&(s=10),this.getPalette(t,5,s)[0]},qi.prototype.getPalette=function(t,s,r){var a=function(c){var d=c.colorCount,h=c.quality;if(d!==void 0&&Number.isInteger(d)){if(d===1)throw new Error("colorCount should be between 2 and 20. To get one color, call getColor() instead of getPalette()");d=Math.max(d,2),d=Math.min(d,20)}else d=10;return(h===void 0||!Number.isInteger(h)||h<1)&&(h=10),{colorCount:d,quality:h}}({colorCount:s,quality:r}),n=new Bf(t),o=function(c,d,h){for(var u,x,p,m,y,g=c,b=[],w=0;w<d;w+=h)x=g[0+(u=4*w)],p=g[u+1],m=g[u+2],((y=g[u+3])===void 0||y>=125)&&(x>250&&p>250&&m>250||b.push([x,p,m]));return b}(n.getImageData().data,n.width*n.height,a.quality),l=b1(o,a.colorCount);return l?l.palette():null},qi.prototype.getColorFromUrl=function(t,s,r){var a=this,n=document.createElement("img");n.addEventListener("load",function(){var o=a.getPalette(n,5,r);s(o[0],t)}),n.src=t},qi.prototype.getImageData=function(t,s){var r=new XMLHttpRequest;r.open("GET",t,!0),r.responseType="arraybuffer",r.onload=function(){if(this.status==200){var a=new Uint8Array(this.response);i=a.length;for(var n=new Array(i),o=0;o<a.length;o++)n[o]=String.fromCharCode(a[o]);var l=n.join(""),c=window.btoa(l);s("data:image/png;base64,"+c)}},r.send()},qi.prototype.getColorAsync=function(t,s,r){var a=this;this.getImageData(t,function(n){var o=document.createElement("img");o.addEventListener("load",function(){var l=a.getPalette(o,5,r);s(l[0],this)}),o.src=n})};const w1=({onComplete:t})=>{const s=Zt(),[r,a]=J.useState(1),[n,o]=J.useState(!1),[l,c]=J.useState(""),d=J.useRef(null),h=J.useRef(new qi),[u,x]=J.useState({storeName:"",description:"",category:"fresh-produce",phone:"",alternativePhone:"",address:{street:"",city:"",state:"",country:"United Kingdom",postalCode:""},businessHours:{monday:{open:"09:00",close:"18:00",closed:!1},tuesday:{open:"09:00",close:"18:00",closed:!1},wednesday:{open:"09:00",close:"18:00",closed:!1},thursday:{open:"09:00",close:"18:00",closed:!1},friday:{open:"09:00",close:"18:00",closed:!1},saturday:{open:"09:00",close:"18:00",closed:!1},sunday:{open:"09:00",close:"18:00",closed:!0}},logo:null,logoPreview:null,brandColors:{primary:"#059669",secondary:"#FFC107"}}),p=[{value:"fresh-produce",label:"Fresh Produce",icon:"ðŸ¥¬"},{value:"meat-seafood",label:"Meat & Seafood",icon:"ðŸ¥©"},{value:"dairy-eggs",label:"Dairy & Eggs",icon:"ðŸ¥›"},{value:"bakery",label:"Bakery",icon:"ðŸž"},{value:"pantry-staples",label:"Pantry Staples",icon:"ðŸŒ¾"},{value:"beverages",label:"Beverages",icon:"ðŸ¥¤"},{value:"snacks",label:"Snacks",icon:"ðŸ¿"},{value:"specialty",label:"Specialty Items",icon:"âœ¨"}],m=F=>{const{name:T,value:C}=F.target;if(T.startsWith("address.")){const I=T.split(".")[1];x(D=>({...D,address:{...D.address,[I]:C}}))}else x(I=>({...I,[T]:C}))},y=async F=>{const T=F.target.files[0];if(!T)return;if(!T.type.startsWith("image/")){c("Please upload an image file");return}if(T.size>5*1024*1024){c("Image size should be less than 5MB");return}const C=new FileReader;C.onload=async I=>{const D=new Image;D.crossOrigin="Anonymous",D.onload=()=>{try{const E=h.current.getPalette(D,5),P=E[0],W=(Q,ee,ie)=>"#"+[Q,ee,ie].map(ne=>ne.toString(16).padStart(2,"0")).join(""),z=W(...P),ue=E[1]?W(...E[1]):"#FFC107";x(Q=>({...Q,logo:T,logoPreview:I.target.result,brandColors:{primary:z,secondary:ue}}))}catch(E){console.error("Color extraction error:",E),x(P=>({...P,logo:T,logoPreview:I.target.result}))}},D.src=I.target.result},C.readAsDataURL(T),c("")},g=(F,T,C)=>{x(I=>({...I,businessHours:{...I.businessHours,[F]:{...I.businessHours[F],[T]:C}}}))},b=F=>{switch(F){case 1:if(!u.storeName.trim())return c("Store name is required"),!1;if(!u.description.trim())return c("Store description is required"),!1;break;case 2:if(!u.phone.trim())return c("Phone number is required"),!1;break;case 3:if(!u.address.street.trim()||!u.address.city.trim()||!u.address.state.trim())return c("Please fill in all address fields"),!1;break}return c(""),!0},w=()=>{b(r)&&a(F=>Math.min(F+1,5))},N=()=>{a(F=>Math.max(F-1,1)),c("")},j=async()=>{var F,T,C,I;o(!0),c("");try{const D={storeName:u.storeName,description:u.description,category:u.category,phone:u.phone,alternativePhone:u.alternativePhone||void 0,address:u.address,businessHours:u.businessHours,brandColors:u.brandColors};console.log("Sending profile data:",JSON.stringify(D,null,2));const E=await If(D);E.success?(u.logo&&console.log("Logo upload will be implemented"),t?t():s("/dashboard")):c(E.message||"Failed to create vendor profile")}catch(D){if(console.error("Onboarding error:",D),(T=(F=D.response)==null?void 0:F.data)!=null&&T.errors&&Array.isArray(D.response.data.errors)){const E=D.response.data.errors.map(P=>`â€¢ ${P.field}: ${P.message}`).join(`
`);c(`Validation errors:
${E}`),console.error("Validation errors:",D.response.data.errors)}else c(((I=(C=D.response)==null?void 0:C.data)==null?void 0:I.message)||D.message||"Failed to create vendor profile")}finally{o(!1)}},k=[{number:1,title:"Store Info",icon:"ðŸª"},{number:2,title:"Contact",icon:"ðŸ“ž"},{number:3,title:"Location",icon:"ðŸ“"},{number:4,title:"Hours",icon:"ðŸ•"},{number:5,title:"Branding",icon:"ðŸŽ¨"}],L={enter:F=>({x:F>0?1e3:-1e3,opacity:0}),center:{zIndex:1,x:0,opacity:1},exit:F=>({zIndex:0,x:F<0?1e3:-1e3,opacity:0})};return e.jsx("div",{className:"min-h-screen bg-gradient-to-br from-gray-50 to-gray-100 py-12 px-4 sm:px-6 lg:px-8",children:e.jsxs("div",{className:"max-w-4xl mx-auto",children:[e.jsxs(Fe.div,{className:"text-center mb-8",initial:{opacity:0,y:-20},animate:{opacity:1,y:0},transition:{duration:.6},children:[e.jsx("h1",{className:"text-4xl font-bold text-gray-900 mb-2",children:"Welcome to Afrimercato! ðŸŽ‰"}),e.jsx("p",{className:"text-lg text-gray-600",children:"Let's set up your store in just 5 easy steps"})]}),e.jsx(Fe.div,{className:"mb-8",initial:{opacity:0,y:-10},animate:{opacity:1,y:0},transition:{duration:.5,delay:.2},children:e.jsx("div",{className:"flex justify-between items-center",children:k.map((F,T)=>e.jsxs("div",{className:"flex items-center flex-1",children:[e.jsxs("div",{className:"flex flex-col items-center flex-1",children:[e.jsx(Fe.div,{className:`w-12 h-12 rounded-full flex items-center justify-center text-2xl border-4 transition-all duration-300 ${r>=F.number?"bg-afri-green border-afri-green text-white":"bg-white border-gray-300 text-gray-400"}`,whileHover:{scale:1.1},animate:{scale:r===F.number?[1,1.1,1]:1},transition:{duration:.3},children:F.icon}),e.jsx("span",{className:`mt-2 text-xs font-medium ${r>=F.number?"text-afri-green":"text-gray-400"}`,children:F.title})]}),T<k.length-1&&e.jsx("div",{className:`h-1 flex-1 mx-2 rounded transition-all duration-300 ${r>F.number?"bg-afri-green":"bg-gray-300"}`})]},F.number))})}),e.jsxs(Fe.div,{className:"bg-white rounded-2xl shadow-xl p-8",initial:{opacity:0,scale:.95},animate:{opacity:1,scale:1},transition:{duration:.5,delay:.3},children:[l&&e.jsx(Fe.div,{className:"bg-red-50 border-l-4 border-red-500 p-4 mb-6 rounded",initial:{opacity:0,x:-20},animate:{opacity:1,x:0},children:e.jsx("p",{className:"text-red-700",children:l})}),e.jsxs(eo,{mode:"wait",custom:r,children:[r===1&&e.jsxs(Fe.div,{custom:1,variants:L,initial:"enter",animate:"center",exit:"exit",transition:{duration:.3},className:"space-y-6",children:[e.jsxs("div",{children:[e.jsx("h3",{className:"text-2xl font-bold text-gray-900 mb-2",children:"Tell us about your store"}),e.jsx("p",{className:"text-gray-600",children:"This information will help customers find and learn about your business"})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Store Name *"}),e.jsx("input",{type:"text",name:"storeName",value:u.storeName,onChange:m,className:"w-full px-4 py-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-afri-green focus:border-transparent transition",placeholder:"e.g., Fresh Valley Farms"})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Store Description *"}),e.jsx("textarea",{name:"description",value:u.description,onChange:m,rows:"4",className:"w-full px-4 py-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-afri-green focus:border-transparent transition",placeholder:"Describe what makes your store special..."})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-3",children:"Store Category *"}),e.jsx("div",{className:"grid grid-cols-2 sm:grid-cols-4 gap-3",children:p.map(F=>e.jsxs(Fe.button,{type:"button",onClick:()=>x(T=>({...T,category:F.value})),className:`p-4 rounded-lg border-2 transition-all ${u.category===F.value?"border-afri-green bg-afri-green/10 text-afri-green":"border-gray-200 hover:border-gray-300"}`,whileHover:{scale:1.05},whileTap:{scale:.95},children:[e.jsx("div",{className:"text-3xl mb-1",children:F.icon}),e.jsx("div",{className:"text-xs font-medium",children:F.label})]},F.value))})]})]},"step1"),r===2&&e.jsxs(Fe.div,{custom:2,variants:L,initial:"enter",animate:"center",exit:"exit",transition:{duration:.3},className:"space-y-6",children:[e.jsxs("div",{children:[e.jsx("h3",{className:"text-2xl font-bold text-gray-900 mb-2",children:"Contact Information"}),e.jsx("p",{className:"text-gray-600",children:"How can customers reach you?"})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Primary Phone Number *"}),e.jsx("input",{type:"tel",name:"phone",value:u.phone,onChange:m,className:"w-full px-4 py-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-afri-green focus:border-transparent transition",placeholder:"+234-800-555-0001"})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Alternative Phone (Optional)"}),e.jsx("input",{type:"tel",name:"alternativePhone",value:u.alternativePhone,onChange:m,className:"w-full px-4 py-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-afri-green focus:border-transparent transition",placeholder:"+234-800-555-0002"})]})]},"step2"),r===3&&e.jsxs(Fe.div,{custom:3,variants:L,initial:"enter",animate:"center",exit:"exit",transition:{duration:.3},className:"space-y-6",children:[e.jsxs("div",{children:[e.jsx("h3",{className:"text-2xl font-bold text-gray-900 mb-2",children:"Where are you located?"}),e.jsx("p",{className:"text-gray-600",children:"Your business address"})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Street Address *"}),e.jsx("input",{type:"text",name:"address.street",value:u.address.street,onChange:m,className:"w-full px-4 py-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-afri-green focus:border-transparent transition",placeholder:"123 Main Street"})]}),e.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"City *"}),e.jsx("input",{type:"text",name:"address.city",value:u.address.city,onChange:m,className:"w-full px-4 py-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-afri-green focus:border-transparent transition",placeholder:"London"})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"State *"}),e.jsx("input",{type:"text",name:"address.state",value:u.address.state,onChange:m,className:"w-full px-4 py-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-afri-green focus:border-transparent transition",placeholder:"Greater London"})]})]}),e.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Country"}),e.jsx("input",{type:"text",name:"address.country",value:u.address.country,onChange:m,className:"w-full px-4 py-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-afri-green focus:border-transparent transition bg-gray-50",readOnly:!0})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Postal Code"}),e.jsx("input",{type:"text",name:"address.postalCode",value:u.address.postalCode,onChange:m,className:"w-full px-4 py-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-afri-green focus:border-transparent transition",placeholder:"100001"})]})]})]},"step3"),r===4&&e.jsxs(Fe.div,{custom:4,variants:L,initial:"enter",animate:"center",exit:"exit",transition:{duration:.3},className:"space-y-6",children:[e.jsxs("div",{children:[e.jsx("h3",{className:"text-2xl font-bold text-gray-900 mb-2",children:"When are you open?"}),e.jsx("p",{className:"text-gray-600",children:"Set your business hours for each day"})]}),e.jsx("div",{className:"space-y-4",children:Object.keys(u.businessHours).map(F=>e.jsxs("div",{className:"flex items-center gap-4 p-4 bg-gray-50 rounded-lg",children:[e.jsx("div",{className:"w-28",children:e.jsx("span",{className:"font-medium text-gray-700 capitalize",children:F})}),e.jsx("input",{type:"checkbox",checked:!u.businessHours[F].closed,onChange:T=>g(F,"closed",!T.target.checked),className:"h-5 w-5 text-afri-green focus:ring-afri-green border-gray-300 rounded"}),u.businessHours[F].closed?e.jsx("span",{className:"text-gray-400 italic",children:"Closed"}):e.jsxs(e.Fragment,{children:[e.jsx("input",{type:"time",value:u.businessHours[F].open,onChange:T=>g(F,"open",T.target.value),className:"px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-afri-green focus:border-transparent"}),e.jsx("span",{className:"text-gray-500",children:"to"}),e.jsx("input",{type:"time",value:u.businessHours[F].close,onChange:T=>g(F,"close",T.target.value),className:"px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-afri-green focus:border-transparent"})]})]},F))})]},"step4"),r===5&&e.jsxs(Fe.div,{custom:5,variants:L,initial:"enter",animate:"center",exit:"exit",transition:{duration:.3},className:"space-y-6",children:[e.jsxs("div",{children:[e.jsx("h3",{className:"text-2xl font-bold text-gray-900 mb-2",children:"Make it yours!"}),e.jsx("p",{className:"text-gray-600",children:"Upload your logo and we'll extract your brand colors automatically"})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-3",children:"Store Logo"}),e.jsxs("div",{className:"flex items-center gap-6",children:[u.logoPreview?e.jsxs(Fe.div,{className:"relative",initial:{scale:0},animate:{scale:1},transition:{type:"spring",stiffness:200},children:[e.jsx("img",{src:u.logoPreview,alt:"Logo preview",className:"w-32 h-32 rounded-lg object-cover border-4 border-gray-200"}),e.jsx(Fe.button,{type:"button",onClick:()=>x(F=>({...F,logo:null,logoPreview:null})),className:"absolute -top-2 -right-2 bg-red-500 text-white rounded-full p-1 shadow-lg",whileHover:{scale:1.1},whileTap:{scale:.9},children:e.jsx("svg",{className:"w-4 h-4",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M6 18L18 6M6 6l12 12"})})})]}):e.jsxs(Fe.button,{type:"button",onClick:()=>{var F;return(F=d.current)==null?void 0:F.click()},className:"w-32 h-32 border-2 border-dashed border-gray-300 rounded-lg flex flex-col items-center justify-center hover:border-afri-green hover:bg-afri-green/5 transition-all",whileHover:{scale:1.05},whileTap:{scale:.95},children:[e.jsx("svg",{className:"w-8 h-8 text-gray-400 mb-2",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M12 6v6m0 0v6m0-6h6m-6 0H6"})}),e.jsx("span",{className:"text-xs text-gray-500",children:"Upload Logo"})]}),e.jsx("input",{ref:d,type:"file",accept:"image/*",onChange:y,className:"hidden"}),u.logoPreview&&e.jsxs(Fe.div,{className:"flex-1",initial:{opacity:0,x:-20},animate:{opacity:1,x:0},children:[e.jsx("p",{className:"text-sm font-medium text-gray-700 mb-3",children:"Extracted Brand Colors:"}),e.jsxs("div",{className:"flex gap-4",children:[e.jsxs("div",{className:"flex-1",children:[e.jsx("div",{className:"h-16 rounded-lg shadow-md mb-2 border-2 border-white",style:{backgroundColor:u.brandColors.primary}}),e.jsx("p",{className:"text-xs text-gray-600 text-center font-mono",children:u.brandColors.primary}),e.jsx("p",{className:"text-xs text-gray-500 text-center",children:"Primary"})]}),e.jsxs("div",{className:"flex-1",children:[e.jsx("div",{className:"h-16 rounded-lg shadow-md mb-2 border-2 border-white",style:{backgroundColor:u.brandColors.secondary}}),e.jsx("p",{className:"text-xs text-gray-600 text-center font-mono",children:u.brandColors.secondary}),e.jsx("p",{className:"text-xs text-gray-500 text-center",children:"Secondary"})]})]})]})]}),e.jsx("p",{className:"mt-3 text-sm text-gray-500",children:"Upload a square image (recommended: 500x500px, max 5MB)"})]}),e.jsxs(Fe.div,{className:"bg-gradient-to-r from-afri-green/10 to-afri-yellow/10 p-6 rounded-lg border border-afri-green/20",initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:.3},children:[e.jsx("h4",{className:"font-bold text-gray-900 mb-2",children:"You're all set! ðŸŽ‰"}),e.jsx("p",{className:"text-gray-600 text-sm",children:'Click "Complete Setup" to create your vendor profile and start selling on Afrimercato!'})]})]},"step5")]}),e.jsxs("div",{className:"flex justify-between mt-8 pt-6 border-t",children:[e.jsx(Fe.button,{type:"button",onClick:N,disabled:r===1,className:`px-6 py-3 rounded-lg font-medium transition-all ${r===1?"bg-gray-100 text-gray-400 cursor-not-allowed":"bg-gray-200 text-gray-700 hover:bg-gray-300"}`,whileHover:r!==1?{scale:1.05}:{},whileTap:r!==1?{scale:.95}:{},children:"â† Previous"}),r<5?e.jsx(Fe.button,{type:"button",onClick:w,className:"px-8 py-3 bg-gradient-to-r from-afri-green to-afri-green-dark text-white rounded-lg font-semibold hover:from-afri-green-dark hover:to-afri-green transition-all shadow-lg",whileHover:{scale:1.05},whileTap:{scale:.95},children:"Next â†’"}):e.jsx(Fe.button,{type:"button",onClick:j,disabled:n,className:"px-8 py-3 bg-gradient-to-r from-afri-green to-afri-green-dark text-white rounded-lg font-semibold hover:from-afri-green-dark hover:to-afri-green transition-all shadow-lg disabled:opacity-50 disabled:cursor-not-allowed flex items-center gap-2",whileHover:{scale:n?1:1.05},whileTap:{scale:n?1:.95},children:n?e.jsxs(e.Fragment,{children:[e.jsxs("svg",{className:"animate-spin h-5 w-5",fill:"none",viewBox:"0 0 24 24",children:[e.jsx("circle",{className:"opacity-25",cx:"12",cy:"12",r:"10",stroke:"currentColor",strokeWidth:"4"}),e.jsx("path",{className:"opacity-75",fill:"currentColor",d:"M4 12a8 8 0 018-8V0C5.373 0 0 5.373 0 12h4zm2 5.291A7.962 7.962 0 014 12H0c0 3.042 1.135 5.824 3 7.938l3-2.647z"})]}),"Creating..."]}):e.jsx(e.Fragment,{children:"Complete Setup âœ¨"})})]})]}),e.jsx(Fe.p,{className:"mt-6 text-center text-sm text-gray-500",initial:{opacity:0},animate:{opacity:1},transition:{delay:.5},children:"Need help? Contact our support team at support@afrimercato.com"})]})})},Ii=["#00B207","#3B82F6","#F59E0B","#EF4444","#8B5CF6"],ru={pending:"from-yellow-400 to-amber-500",confirmed:"from-blue-400 to-blue-600",processing:"from-purple-400 to-purple-600",ready:"from-cyan-400 to-cyan-600","out-for-delivery":"from-orange-400 to-orange-600",delivered:"from-green-400 to-green-600",cancelled:"from-red-400 to-red-600"};function N1(){var E,P,W,z,ue,Q,ee,ie,ne,pe,ye,_,R,M,B,Y,fe;const[t,s]=J.useState(null),[r,a]=J.useState(null),[n,o]=J.useState(!0),[l,c]=J.useState("7d"),[d,h]=J.useState(!1),[u,x]=J.useState(!1),[p,m]=J.useState(new Date),[y,g]=J.useState(!1);J.useEffect(()=>{b(),setTimeout(()=>h(!0),100);const ae=setInterval(()=>m(new Date),6e4);return()=>clearInterval(ae)},[l]);const b=async()=>{var ae,X;try{o(!0);const[me,Ne]=await Promise.all([xr.getDashboardStats(),xr.getChartData({timeRange:l})]);me.success&&(s(me.data),((X=(ae=me.data)==null?void 0:ae.revenue)==null?void 0:X.trend)>10&&(g(!0),setTimeout(()=>g(!1),3e3))),Ne.success&&a(Ne.data),x(!1)}catch(me){console.error("Dashboard error:",me),me.message&&me.message.includes("Vendor profile not found")&&x(!0)}finally{o(!1)}},w=()=>{x(!1),b()},N=()=>{const ae=p.getHours();return ae<12?{text:"Good Morning",emoji:"ðŸŒ…"}:ae<17?{text:"Good Afternoon",emoji:"â˜€ï¸"}:ae<21?{text:"Good Evening",emoji:"ðŸŒ†"}:{text:"Good Night",emoji:"ðŸŒ™"}},k=(()=>{var X,me,Ne,De;if(!t)return 0;let ae=50;return((X=t.revenue)==null?void 0:X.trend)>0&&(ae+=Math.min(t.revenue.trend,20)),((me=t.orders)==null?void 0:me.total)>0&&(ae+=10),((Ne=t.products)==null?void 0:Ne.total)>=10&&(ae+=10),((De=t.orders)==null?void 0:De.fulfillmentRate)>90&&(ae+=10),Math.min(Math.round(ae),100)})(),L=N(),F=({title:ae,value:X,icon:me,trend:Ne,color:De,delay:Ve,sparkData:Ke,pulse:Ee})=>e.jsxs("div",{className:`relative bg-white rounded-2xl shadow-lg p-6 transform transition-all duration-700 hover:scale-[1.02] hover:shadow-2xl overflow-hidden ${d?"translate-y-0 opacity-100":"translate-y-8 opacity-0"}`,style:{transitionDelay:`${Ve}ms`},children:[e.jsx("div",{className:`absolute -right-4 -top-4 w-24 h-24 rounded-full bg-gradient-to-br ${De} opacity-10 blur-xl`}),Ee&&e.jsx("div",{className:"absolute top-4 right-4",children:e.jsxs("span",{className:"relative flex h-3 w-3",children:[e.jsx("span",{className:"animate-ping absolute inline-flex h-full w-full rounded-full bg-green-400 opacity-75"}),e.jsx("span",{className:"relative inline-flex rounded-full h-3 w-3 bg-green-500"})]})}),e.jsxs("div",{className:"flex items-start justify-between relative z-10",children:[e.jsxs("div",{className:"flex-1",children:[e.jsx("p",{className:"text-sm font-medium text-gray-500 mb-1",children:ae}),e.jsx("h3",{className:"text-3xl font-bold text-gray-900 tracking-tight",children:X}),Ne!=null&&e.jsxs("div",{className:`flex items-center mt-2 text-sm ${Ne>=0?"text-green-600":"text-red-500"}`,children:[e.jsx("div",{className:`p-1 rounded-full ${Ne>=0?"bg-green-100":"bg-red-100"} mr-2`,children:e.jsx("svg",{className:`w-3 h-3 ${Ne<0?"rotate-180":""}`,fill:"currentColor",viewBox:"0 0 20 20",children:e.jsx("path",{fillRule:"evenodd",d:"M5.293 9.707a1 1 0 010-1.414l4-4a1 1 0 011.414 0l4 4a1 1 0 01-1.414 1.414L11 7.414V15a1 1 0 11-2 0V7.414L6.707 9.707a1 1 0 01-1.414 0z",clipRule:"evenodd"})})}),e.jsxs("span",{className:"font-semibold",children:[Math.abs(Ne),"%"]}),e.jsx("span",{className:"ml-1 text-gray-400 text-xs",children:"vs last period"})]})]}),e.jsx("div",{className:`w-14 h-14 rounded-2xl bg-gradient-to-br ${De} flex items-center justify-center text-white text-2xl shadow-lg transform transition-all duration-300 hover:rotate-12 hover:scale-110`,children:me})]}),Ke&&Ke.length>0&&e.jsx("div",{className:"mt-4 h-12",children:e.jsx(oc,{width:"100%",height:"100%",children:e.jsxs(Gh,{data:Ke,children:[e.jsx("defs",{children:e.jsxs("linearGradient",{id:`spark-${ae}`,x1:"0",y1:"0",x2:"0",y2:"1",children:[e.jsx("stop",{offset:"5%",stopColor:"#00B207",stopOpacity:.3}),e.jsx("stop",{offset:"95%",stopColor:"#00B207",stopOpacity:0})]})}),e.jsx(Jh,{type:"monotone",dataKey:"value",stroke:"#00B207",fill:`url(#spark-${ae})`,strokeWidth:2,dot:!1})]})})})]}),T=({score:ae})=>{const X=2*Math.PI*45,me=X-ae/100*X,Ne=()=>ae>=80?"#00B207":ae>=60?"#F59E0B":"#EF4444";return e.jsxs("div",{className:"relative w-32 h-32",children:[e.jsxs("svg",{className:"w-32 h-32 transform -rotate-90",children:[e.jsx("circle",{cx:"64",cy:"64",r:"45",stroke:"#E5E7EB",strokeWidth:"8",fill:"none"}),e.jsx("circle",{cx:"64",cy:"64",r:"45",stroke:Ne(),strokeWidth:"8",fill:"none",strokeLinecap:"round",strokeDasharray:X,strokeDashoffset:me,className:"transition-all duration-1000 ease-out"})]}),e.jsxs("div",{className:"absolute inset-0 flex flex-col items-center justify-center",children:[e.jsx("span",{className:"text-3xl font-bold text-gray-900",children:ae}),e.jsx("span",{className:"text-xs text-gray-500",children:"Score"})]})]})},C=({type:ae,title:X,message:me,action:Ne,actionLink:De})=>{const Ve={warning:"from-amber-50 to-yellow-50 border-amber-200",danger:"from-red-50 to-rose-50 border-red-200",success:"from-green-50 to-emerald-50 border-green-200",info:"from-blue-50 to-cyan-50 border-blue-200"},Ke={warning:"text-amber-500",danger:"text-red-500",success:"text-green-500",info:"text-blue-500"};return e.jsxs("div",{className:`bg-gradient-to-r ${Ve[ae]} border-l-4 ${Ve[ae].split(" ")[2]} rounded-r-xl p-4 flex items-center justify-between`,children:[e.jsxs("div",{className:"flex items-center",children:[e.jsxs("div",{className:`${Ke[ae]} mr-3`,children:[ae==="warning"&&e.jsx("svg",{className:"w-6 h-6",fill:"currentColor",viewBox:"0 0 20 20",children:e.jsx("path",{fillRule:"evenodd",d:"M8.257 3.099c.765-1.36 2.722-1.36 3.486 0l5.58 9.92c.75 1.334-.213 2.98-1.742 2.98H4.42c-1.53 0-2.493-1.646-1.743-2.98l5.58-9.92zM11 13a1 1 0 11-2 0 1 1 0 012 0zm-1-8a1 1 0 00-1 1v3a1 1 0 002 0V6a1 1 0 00-1-1z",clipRule:"evenodd"})}),ae==="danger"&&e.jsx("svg",{className:"w-6 h-6",fill:"currentColor",viewBox:"0 0 20 20",children:e.jsx("path",{fillRule:"evenodd",d:"M10 18a8 8 0 100-16 8 8 0 000 16zM8.707 7.293a1 1 0 00-1.414 1.414L8.586 10l-1.293 1.293a1 1 0 101.414 1.414L10 11.414l1.293 1.293a1 1 0 001.414-1.414L11.414 10l1.293-1.293a1 1 0 00-1.414-1.414L10 8.586 8.707 7.293z",clipRule:"evenodd"})}),ae==="success"&&e.jsx("svg",{className:"w-6 h-6",fill:"currentColor",viewBox:"0 0 20 20",children:e.jsx("path",{fillRule:"evenodd",d:"M10 18a8 8 0 100-16 8 8 0 000 16zm3.707-9.293a1 1 0 00-1.414-1.414L9 10.586 7.707 9.293a1 1 0 00-1.414 1.414l2 2a1 1 0 001.414 0l4-4z",clipRule:"evenodd"})}),ae==="info"&&e.jsx("svg",{className:"w-6 h-6",fill:"currentColor",viewBox:"0 0 20 20",children:e.jsx("path",{fillRule:"evenodd",d:"M18 10a8 8 0 11-16 0 8 8 0 0116 0zm-7-4a1 1 0 11-2 0 1 1 0 012 0zM9 9a1 1 0 000 2v3a1 1 0 001 1h1a1 1 0 100-2v-3a1 1 0 00-1-1H9z",clipRule:"evenodd"})})]}),e.jsxs("div",{children:[e.jsx("p",{className:"font-semibold text-gray-900",children:X}),e.jsx("p",{className:"text-sm text-gray-600",children:me})]})]}),Ne&&e.jsx(Ie,{to:De,className:"px-4 py-2 bg-white rounded-lg shadow-sm text-sm font-medium text-gray-700 hover:bg-gray-50 transition-colors",children:Ne})]})};if(u&&!n)return e.jsx(w1,{onComplete:w});if(n)return e.jsxs("div",{className:"flex flex-col justify-center items-center h-screen bg-gradient-to-br from-gray-50 to-gray-100",children:[e.jsxs("div",{className:"relative mb-8",children:[e.jsx("div",{className:"w-24 h-24 border-4 border-green-500 border-t-transparent rounded-full animate-spin"}),e.jsx("div",{className:"absolute top-1/2 left-1/2 transform -translate-x-1/2 -translate-y-1/2",children:e.jsx("div",{className:"w-16 h-16 border-4 border-yellow-400 border-t-transparent rounded-full animate-spin",style:{animationDirection:"reverse"}})}),e.jsx("div",{className:"absolute top-1/2 left-1/2 transform -translate-x-1/2 -translate-y-1/2",children:e.jsx("div",{className:"w-8 h-8 border-4 border-blue-400 border-t-transparent rounded-full animate-spin"})})]}),e.jsx("p",{className:"text-gray-600 font-medium animate-pulse",children:"Loading your dashboard..."})]});const I=((E=t==null?void 0:t.products)==null?void 0:E.lowStock)||0,D=((P=t==null?void 0:t.orders)==null?void 0:P.pending)||0;return e.jsxs("div",{className:"space-y-6 pb-8",children:[y&&e.jsx("div",{className:"fixed inset-0 pointer-events-none z-50",children:[...Array(50)].map((ae,X)=>e.jsx("div",{className:"absolute animate-confetti",style:{left:`${Math.random()*100}%`,animationDelay:`${Math.random()*2}s`,backgroundColor:Ii[Math.floor(Math.random()*Ii.length)],width:"10px",height:"10px",borderRadius:Math.random()>.5?"50%":"0"}},X))}),e.jsxs("div",{className:"bg-gradient-to-r from-green-600 via-green-500 to-emerald-500 rounded-3xl p-8 text-white shadow-2xl relative overflow-hidden",children:[e.jsx("div",{className:"absolute top-0 right-0 w-64 h-64 bg-white opacity-5 rounded-full -translate-y-1/2 translate-x-1/2"}),e.jsx("div",{className:"absolute bottom-0 left-0 w-48 h-48 bg-white opacity-5 rounded-full translate-y-1/2 -translate-x-1/2"}),e.jsxs("div",{className:"relative z-10 flex flex-col lg:flex-row lg:items-center lg:justify-between",children:[e.jsxs("div",{children:[e.jsxs("div",{className:"flex items-center gap-3 mb-2",children:[e.jsx("span",{className:"text-4xl",children:L.emoji}),e.jsxs("h1",{className:"text-3xl lg:text-4xl font-bold",children:[L.text,"!"]})]}),e.jsxs("p",{className:"text-green-100 text-lg",children:["Here's what's happening with your store today, ",p.toLocaleDateString("en-US",{weekday:"long",month:"long",day:"numeric"})]}),e.jsxs("div",{className:"flex items-center gap-4 mt-4",children:[e.jsxs("div",{className:"flex items-center gap-2 bg-white/20 backdrop-blur-sm rounded-full px-4 py-2",children:[e.jsxs("span",{className:"relative flex h-2 w-2",children:[e.jsx("span",{className:"animate-ping absolute inline-flex h-full w-full rounded-full bg-green-300 opacity-75"}),e.jsx("span",{className:"relative inline-flex rounded-full h-2 w-2 bg-green-200"})]}),e.jsx("span",{className:"text-sm font-medium",children:"Store is Live"})]}),e.jsx("div",{className:"bg-white/20 backdrop-blur-sm rounded-full px-4 py-2",children:e.jsxs("span",{className:"text-sm font-medium",children:[((W=t==null?void 0:t.products)==null?void 0:W.total)||0," Products Active"]})})]})]}),e.jsxs("div",{className:"mt-6 lg:mt-0 flex flex-col items-center bg-white/10 backdrop-blur-sm rounded-2xl p-4",children:[e.jsx(T,{score:k}),e.jsx("p",{className:"text-sm font-medium mt-2 text-green-100",children:"Store Performance"})]})]})]}),e.jsx("div",{className:"flex justify-end",children:e.jsx("div",{className:"inline-flex rounded-xl border border-gray-200 bg-white p-1 shadow-sm",children:["7d","30d","90d"].map(ae=>e.jsx("button",{onClick:()=>c(ae),className:`px-5 py-2.5 rounded-lg font-medium text-sm transition-all duration-300 ${l===ae?"bg-gradient-to-r from-green-500 to-emerald-500 text-white shadow-lg shadow-green-500/30":"text-gray-600 hover:bg-gray-50"}`,children:ae==="7d"?"7 Days":ae==="30d"?"30 Days":"90 Days"},ae))})}),(I>0||D>0)&&e.jsxs("div",{className:"space-y-3",children:[I>0&&e.jsx(C,{type:"warning",title:"Low Stock Alert",message:`${I} product(s) are running low on stock`,action:"View Products",actionLink:"/products"}),D>0&&e.jsx(C,{type:"info",title:"Pending Orders",message:`You have ${D} order(s) waiting to be processed`,action:"View Orders",actionLink:"/orders"})]}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 xl:grid-cols-4 gap-6",children:[e.jsx(F,{title:"Total Revenue",value:`Â£${((ue=(z=t==null?void 0:t.revenue)==null?void 0:z.total)==null?void 0:ue.toLocaleString("en-GB",{minimumFractionDigits:2,maximumFractionDigits:2}))||"0.00"}`,icon:"ðŸ’°",trend:(Q=t==null?void 0:t.revenue)==null?void 0:Q.trend,color:"from-green-400 to-emerald-500",delay:0,pulse:((ee=t==null?void 0:t.revenue)==null?void 0:ee.trend)>0,sparkData:(ie=r==null?void 0:r.revenueData)==null?void 0:ie.slice(-7).map(ae=>({value:ae.revenue}))}),e.jsx(F,{title:"Total Orders",value:((pe=(ne=t==null?void 0:t.orders)==null?void 0:ne.total)==null?void 0:pe.toLocaleString())||0,icon:"ðŸ“¦",trend:(ye=t==null?void 0:t.orders)==null?void 0:ye.trend,color:"from-blue-400 to-blue-600",delay:100,pulse:D>0}),e.jsx(F,{title:"Active Products",value:((R=(_=t==null?void 0:t.products)==null?void 0:_.total)==null?void 0:R.toLocaleString())||0,icon:"ðŸ›ï¸",trend:(M=t==null?void 0:t.products)==null?void 0:M.trend,color:"from-purple-400 to-purple-600",delay:200}),e.jsx(F,{title:"Avg. Order Value",value:`Â£${((Y=(B=t==null?void 0:t.revenue)==null?void 0:B.avgOrderValue)==null?void 0:Y.toFixed(2))||"0.00"}`,icon:"ðŸ“Š",trend:(fe=t==null?void 0:t.revenue)==null?void 0:fe.avgTrend,color:"from-amber-400 to-orange-500",delay:300})]}),e.jsxs("div",{className:"grid grid-cols-1 xl:grid-cols-2 gap-6",children:[e.jsxs("div",{className:"bg-white rounded-2xl shadow-lg p-6 hover:shadow-xl transition-shadow duration-300",children:[e.jsxs("div",{className:"flex items-center justify-between mb-6",children:[e.jsxs("div",{children:[e.jsx("h3",{className:"text-lg font-bold text-gray-900",children:"Revenue Trend"}),e.jsx("p",{className:"text-sm text-gray-500",children:"Your earnings over time"})]}),e.jsxs("div",{className:"flex items-center gap-2 px-3 py-1 bg-green-50 rounded-full",children:[e.jsx("div",{className:"w-2 h-2 rounded-full bg-green-500"}),e.jsx("span",{className:"text-xs font-medium text-green-700",children:"Revenue"})]})]}),e.jsx(oc,{width:"100%",height:280,children:e.jsxs(Gh,{data:(r==null?void 0:r.revenueData)||[],children:[e.jsx("defs",{children:e.jsxs("linearGradient",{id:"revenueGradient",x1:"0",y1:"0",x2:"0",y2:"1",children:[e.jsx("stop",{offset:"5%",stopColor:"#00B207",stopOpacity:.4}),e.jsx("stop",{offset:"95%",stopColor:"#00B207",stopOpacity:0})]})}),e.jsx(Yh,{strokeDasharray:"3 3",stroke:"#f0f0f0",vertical:!1}),e.jsx(Kh,{dataKey:"date",stroke:"#9CA3AF",tick:{fontSize:12}}),e.jsx(Xh,{stroke:"#9CA3AF",tick:{fontSize:12},tickFormatter:ae=>`Â£${ae}`}),e.jsx(Xd,{contentStyle:{backgroundColor:"white",border:"none",borderRadius:"12px",boxShadow:"0 10px 40px rgba(0,0,0,0.1)"},formatter:ae=>[`Â£${ae.toFixed(2)}`,"Revenue"]}),e.jsx(Jh,{type:"monotone",dataKey:"revenue",stroke:"#00B207",strokeWidth:3,fill:"url(#revenueGradient)",dot:{fill:"#00B207",r:4},activeDot:{r:6,stroke:"#FFD700",strokeWidth:2}})]})})]}),e.jsxs("div",{className:"bg-white rounded-2xl shadow-lg p-6 hover:shadow-xl transition-shadow duration-300",children:[e.jsxs("div",{className:"flex items-center justify-between mb-6",children:[e.jsxs("div",{children:[e.jsx("h3",{className:"text-lg font-bold text-gray-900",children:"Orders Overview"}),e.jsx("p",{className:"text-sm text-gray-500",children:"Daily order volume"})]}),e.jsxs("div",{className:"flex items-center gap-2 px-3 py-1 bg-blue-50 rounded-full",children:[e.jsx("div",{className:"w-2 h-2 rounded-full bg-blue-500"}),e.jsx("span",{className:"text-xs font-medium text-blue-700",children:"Orders"})]})]}),e.jsx(oc,{width:"100%",height:280,children:e.jsxs(rg,{data:(r==null?void 0:r.ordersData)||[],children:[e.jsx("defs",{children:e.jsxs("linearGradient",{id:"ordersGradient",x1:"0",y1:"0",x2:"0",y2:"1",children:[e.jsx("stop",{offset:"5%",stopColor:"#3B82F6",stopOpacity:1}),e.jsx("stop",{offset:"95%",stopColor:"#3B82F6",stopOpacity:.6})]})}),e.jsx(Yh,{strokeDasharray:"3 3",stroke:"#f0f0f0",vertical:!1}),e.jsx(Kh,{dataKey:"date",stroke:"#9CA3AF",tick:{fontSize:12}}),e.jsx(Xh,{stroke:"#9CA3AF",tick:{fontSize:12}}),e.jsx(Xd,{contentStyle:{backgroundColor:"white",border:"none",borderRadius:"12px",boxShadow:"0 10px 40px rgba(0,0,0,0.1)"}}),e.jsx(sg,{dataKey:"orders",fill:"url(#ordersGradient)",radius:[8,8,0,0]})]})})]})]}),e.jsxs("div",{className:"grid grid-cols-1 xl:grid-cols-3 gap-6",children:[e.jsxs("div",{className:"bg-white rounded-2xl shadow-lg p-6 hover:shadow-xl transition-shadow duration-300",children:[e.jsx("h3",{className:"text-lg font-bold text-gray-900 mb-6",children:"Order Status"}),e.jsx(oc,{width:"100%",height:220,children:e.jsxs(ag,{children:[e.jsx(ng,{data:(r==null?void 0:r.orderStatusData)||[],cx:"50%",cy:"50%",innerRadius:60,outerRadius:90,paddingAngle:5,dataKey:"value",children:((r==null?void 0:r.orderStatusData)||[]).map((ae,X)=>e.jsx(ig,{fill:Ii[X%Ii.length]},`cell-${X}`))}),e.jsx(Xd,{})]})}),e.jsx("div",{className:"flex flex-wrap gap-3 justify-center mt-4",children:((r==null?void 0:r.orderStatusData)||[]).map((ae,X)=>e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx("div",{className:"w-3 h-3 rounded-full",style:{backgroundColor:Ii[X%Ii.length]}}),e.jsx("span",{className:"text-xs text-gray-600",children:ae.name})]},ae.name))})]}),e.jsxs("div",{className:"bg-white rounded-2xl shadow-lg p-6 hover:shadow-xl transition-shadow duration-300",children:[e.jsxs("div",{className:"flex items-center justify-between mb-6",children:[e.jsx("h3",{className:"text-lg font-bold text-gray-900",children:"Top Products"}),e.jsx(Ie,{to:"/products",className:"text-sm text-green-600 hover:text-green-700 font-medium",children:"View All"})]}),e.jsxs("div",{className:"space-y-4",children:[((t==null?void 0:t.topProducts)||[]).slice(0,5).map((ae,X)=>{var me;return e.jsxs("div",{className:"flex items-center gap-4 group",children:[e.jsx("div",{className:`w-10 h-10 rounded-xl bg-gradient-to-br ${X===0?"from-yellow-400 to-amber-500":X===1?"from-gray-300 to-gray-400":X===2?"from-amber-600 to-amber-700":"from-gray-100 to-gray-200"} flex items-center justify-center text-white font-bold shadow-lg group-hover:scale-110 transition-transform`,children:X+1}),e.jsxs("div",{className:"flex-1 min-w-0",children:[e.jsx("p",{className:"font-medium text-gray-900 truncate",children:ae.name}),e.jsxs("p",{className:"text-sm text-gray-500",children:[ae.soldQuantity," sold"]})]}),e.jsxs("span",{className:"font-bold text-green-600",children:["Â£",(me=ae.revenue)==null?void 0:me.toFixed(2)]})]},ae._id)}),(!(t!=null&&t.topProducts)||t.topProducts.length===0)&&e.jsxs("div",{className:"text-center py-8 text-gray-500",children:[e.jsx("p",{children:"No sales yet"}),e.jsx("p",{className:"text-sm",children:"Products will appear here after your first sale"})]})]})]}),e.jsxs("div",{className:"bg-white rounded-2xl shadow-lg p-6 hover:shadow-xl transition-shadow duration-300",children:[e.jsxs("div",{className:"flex items-center justify-between mb-6",children:[e.jsx("h3",{className:"text-lg font-bold text-gray-900",children:"Recent Orders"}),e.jsx(Ie,{to:"/orders",className:"text-sm text-green-600 hover:text-green-700 font-medium",children:"View All"})]}),e.jsxs("div",{className:"space-y-4",children:[((t==null?void 0:t.recentOrders)||[]).slice(0,5).map(ae=>{var X,me,Ne;return e.jsxs("div",{className:"flex items-center justify-between p-3 rounded-xl bg-gray-50 hover:bg-gray-100 transition-colors cursor-pointer",children:[e.jsxs("div",{children:[e.jsx("p",{className:"font-medium text-gray-900",children:ae.orderNumber}),e.jsx("p",{className:"text-sm text-gray-500",children:((X=ae.customer)==null?void 0:X.name)||"Customer"})]}),e.jsxs("div",{className:"text-right",children:[e.jsxs("p",{className:"font-bold text-green-600",children:["Â£",((Ne=(me=ae.pricing)==null?void 0:me.total)==null?void 0:Ne.toFixed(2))||"0.00"]}),e.jsx("span",{className:`inline-block px-2 py-0.5 text-xs font-medium rounded-full bg-gradient-to-r ${ru[ae.status]||ru.pending} text-white`,children:ae.status})]})]},ae._id)}),(!(t!=null&&t.recentOrders)||t.recentOrders.length===0)&&e.jsxs("div",{className:"text-center py-8 text-gray-500",children:[e.jsx("p",{children:"No orders yet"}),e.jsx("p",{className:"text-sm",children:"Orders will appear here when customers purchase"})]})]})]})]}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-6",children:[e.jsxs(Ie,{to:"/products",className:"group relative bg-gradient-to-br from-green-500 to-emerald-600 text-white rounded-2xl shadow-xl p-6 overflow-hidden transform transition-all duration-300 hover:scale-[1.02] hover:shadow-2xl",children:[e.jsx("div",{className:"absolute inset-0 bg-black opacity-0 group-hover:opacity-10 transition-opacity"}),e.jsx("div",{className:"absolute -right-8 -bottom-8 w-32 h-32 bg-white opacity-10 rounded-full"}),e.jsxs("div",{className:"relative z-10 flex items-center justify-between",children:[e.jsxs("div",{children:[e.jsx("h4",{className:"text-xl font-bold mb-2",children:"Manage Products"}),e.jsx("p",{className:"text-green-100",children:"Add, edit, or remove products"})]}),e.jsx("div",{className:"w-14 h-14 bg-white/20 backdrop-blur-sm rounded-xl flex items-center justify-center group-hover:scale-110 transition-transform",children:e.jsx("svg",{className:"w-8 h-8",fill:"currentColor",viewBox:"0 0 20 20",children:e.jsx("path",{d:"M3 1a1 1 0 000 2h1.22l.305 1.222a.997.997 0 00.01.042l1.358 5.43-.893.892C3.74 11.846 4.632 14 6.414 14H15a1 1 0 000-2H6.414l1-1H14a1 1 0 00.894-.553l3-6A1 1 0 0017 3H6.28l-.31-1.243A1 1 0 005 1H3z"})})})]})]}),e.jsxs(Ie,{to:"/orders",className:"group relative bg-gradient-to-br from-blue-500 to-indigo-600 text-white rounded-2xl shadow-xl p-6 overflow-hidden transform transition-all duration-300 hover:scale-[1.02] hover:shadow-2xl",children:[e.jsx("div",{className:"absolute inset-0 bg-black opacity-0 group-hover:opacity-10 transition-opacity"}),e.jsx("div",{className:"absolute -right-8 -bottom-8 w-32 h-32 bg-white opacity-10 rounded-full"}),D>0&&e.jsx("div",{className:"absolute top-4 right-4 w-6 h-6 bg-red-500 rounded-full flex items-center justify-center text-xs font-bold animate-pulse",children:D}),e.jsxs("div",{className:"relative z-10 flex items-center justify-between",children:[e.jsxs("div",{children:[e.jsx("h4",{className:"text-xl font-bold mb-2",children:"Process Orders"}),e.jsx("p",{className:"text-blue-100",children:"View and manage orders"})]}),e.jsx("div",{className:"w-14 h-14 bg-white/20 backdrop-blur-sm rounded-xl flex items-center justify-center group-hover:scale-110 transition-transform",children:e.jsxs("svg",{className:"w-8 h-8",fill:"currentColor",viewBox:"0 0 20 20",children:[e.jsx("path",{d:"M9 2a1 1 0 000 2h2a1 1 0 100-2H9z"}),e.jsx("path",{fillRule:"evenodd",d:"M4 5a2 2 0 012-2 3 3 0 003 3h2a3 3 0 003-3 2 2 0 012 2v11a2 2 0 01-2 2H6a2 2 0 01-2-2V5zm9.707 5.707a1 1 0 00-1.414-1.414L9 12.586l-1.293-1.293a1 1 0 00-1.414 1.414l2 2a1 1 0 001.414 0l4-4z",clipRule:"evenodd"})]})})]})]}),e.jsxs(Ie,{to:"/reports",className:"group relative bg-gradient-to-br from-purple-500 to-violet-600 text-white rounded-2xl shadow-xl p-6 overflow-hidden transform transition-all duration-300 hover:scale-[1.02] hover:shadow-2xl",children:[e.jsx("div",{className:"absolute inset-0 bg-black opacity-0 group-hover:opacity-10 transition-opacity"}),e.jsx("div",{className:"absolute -right-8 -bottom-8 w-32 h-32 bg-white opacity-10 rounded-full"}),e.jsxs("div",{className:"relative z-10 flex items-center justify-between",children:[e.jsxs("div",{children:[e.jsx("h4",{className:"text-xl font-bold mb-2",children:"View Reports"}),e.jsx("p",{className:"text-purple-100",children:"Analytics and insights"})]}),e.jsx("div",{className:"w-14 h-14 bg-white/20 backdrop-blur-sm rounded-xl flex items-center justify-center group-hover:scale-110 transition-transform",children:e.jsx("svg",{className:"w-8 h-8",fill:"currentColor",viewBox:"0 0 20 20",children:e.jsx("path",{d:"M2 11a1 1 0 011-1h2a1 1 0 011 1v5a1 1 0 01-1 1H3a1 1 0 01-1-1v-5zM8 7a1 1 0 011-1h2a1 1 0 011 1v9a1 1 0 01-1 1H9a1 1 0 01-1-1V7zM14 4a1 1 0 011-1h2a1 1 0 011 1v12a1 1 0 01-1 1h-2a1 1 0 01-1-1V4z"})})})]})]})]}),e.jsx("style",{children:`
        @keyframes confetti {
          0% { transform: translateY(-100vh) rotate(0deg); opacity: 1; }
          100% { transform: translateY(100vh) rotate(720deg); opacity: 0; }
        }
        .animate-confetti {
          animation: confetti 3s ease-in-out forwards;
        }
      `})]})}const j1=["fruits","vegetables","grains","dairy","meat","fish","poultry","bakery","beverages","spices","snacks","household","beauty","other"],S1=["kg","g","lb","piece","bunch","pack","liter","ml","dozen"];function k1({product:t,onClose:s,onSave:r}){const[a,n]=J.useState({name:"",description:"",category:"fruits",price:"",originalPrice:"",unit:"kg",stock:"",lowStockThreshold:10,inStock:!0,isActive:!0}),[o,l]=J.useState([]),[c,d]=J.useState([]),[h,u]=J.useState(!1),[x,p]=J.useState({});J.useEffect(()=>{t&&(n({name:t.name||"",description:t.description||"",category:t.category||"fruits",price:t.price||"",originalPrice:t.originalPrice||"",unit:t.unit||"kg",stock:t.stock||"",lowStockThreshold:t.lowStockThreshold||10,inStock:t.inStock!==void 0?t.inStock:!0,isActive:t.isActive!==void 0?t.isActive:!0}),t.images&&t.images.length>0&&d(t.images.map(N=>N.url)))},[t]);const m=N=>{const{name:j,value:k,type:L,checked:F}=N.target;n(T=>({...T,[j]:L==="checkbox"?F:k})),x[j]&&p(T=>({...T,[j]:""}))},y=N=>{const j=Array.from(N.target.files);if(j.length>5){alert("You can only upload up to 5 images");return}l(j);const k=j.map(L=>URL.createObjectURL(L));d(k)},g=N=>{l(j=>j.filter((k,L)=>L!==N)),d(j=>j.filter((k,L)=>L!==N))},b=()=>{const N={};return a.name.trim()||(N.name="Product name is required"),a.description.trim()||(N.description="Description is required"),(!a.price||a.price<=0)&&(N.price="Valid price is required"),(!a.stock||a.stock<0)&&(N.stock="Valid stock quantity is required"),p(N),Object.keys(N).length===0},w=async N=>{var j,k;if(N.preventDefault(),!!b())try{u(!0);let L=(t==null?void 0:t.images)||[];if(o.length>0){const C=await xr.uploadProductImages(o);C.success&&(L=C.data.images)}const F={...a,price:parseFloat(a.price),originalPrice:a.originalPrice?parseFloat(a.originalPrice):void 0,stock:parseInt(a.stock),lowStockThreshold:parseInt(a.lowStockThreshold),images:L};let T;t?T=await xr.updateProduct(t._id,F):T=await xr.createProduct(F),T.success&&(alert(t?"Product updated successfully!":"Product created successfully!"),r())}catch(L){console.error("Product save error:",L),alert(((k=(j=L.response)==null?void 0:j.data)==null?void 0:k.message)||"Failed to save product")}finally{u(!1)}};return e.jsxs("div",{className:"fixed inset-0 z-50 overflow-y-auto",children:[e.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 backdrop-blur-sm transition-opacity",onClick:s}),e.jsx("div",{className:"flex min-h-full items-center justify-center p-4",children:e.jsxs("div",{className:"relative bg-white rounded-2xl shadow-2xl max-w-3xl w-full max-h-[90vh] overflow-y-auto transform transition-all animate-slideUp",children:[e.jsx("div",{className:"sticky top-0 bg-gradient-to-r from-afri-green to-afri-green-dark text-white px-6 py-4 rounded-t-2xl z-10",children:e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsx("h2",{className:"text-2xl font-bold",children:t?"Edit Product":"Add New Product"}),e.jsx("button",{onClick:s,className:"text-white hover:text-afri-yellow transition-colors p-2 hover:bg-white hover:bg-opacity-20 rounded-lg",children:e.jsx("svg",{className:"w-6 h-6",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M6 18L18 6M6 6l12 12"})})})]})}),e.jsxs("form",{onSubmit:w,className:"p-6 space-y-6",children:[e.jsxs("div",{children:[e.jsxs("label",{className:"block text-sm font-semibold text-afri-gray-900 mb-2",children:["Product Name ",e.jsx("span",{className:"text-red-500",children:"*"})]}),e.jsx("input",{type:"text",name:"name",value:a.name,onChange:m,className:`w-full px-4 py-3 border rounded-lg focus:ring-2 focus:ring-afri-green focus:border-transparent transition-all ${x.name?"border-red-500":"border-gray-300"}`,placeholder:"e.g., Fresh Organic Tomatoes"}),x.name&&e.jsx("p",{className:"mt-1 text-sm text-red-500",children:x.name})]}),e.jsxs("div",{children:[e.jsxs("label",{className:"block text-sm font-semibold text-afri-gray-900 mb-2",children:["Description ",e.jsx("span",{className:"text-red-500",children:"*"})]}),e.jsx("textarea",{name:"description",value:a.description,onChange:m,rows:4,className:`w-full px-4 py-3 border rounded-lg focus:ring-2 focus:ring-afri-green focus:border-transparent transition-all ${x.description?"border-red-500":"border-gray-300"}`,placeholder:"Describe your product..."}),x.description&&e.jsx("p",{className:"mt-1 text-sm text-red-500",children:x.description})]}),e.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-semibold text-afri-gray-900 mb-2",children:"Category"}),e.jsx("select",{name:"category",value:a.category,onChange:m,className:"w-full px-4 py-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-afri-green focus:border-transparent transition-all",children:j1.map(N=>e.jsx("option",{value:N,children:N.charAt(0).toUpperCase()+N.slice(1)},N))})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-semibold text-afri-gray-900 mb-2",children:"Unit"}),e.jsx("select",{name:"unit",value:a.unit,onChange:m,className:"w-full px-4 py-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-afri-green focus:border-transparent transition-all",children:S1.map(N=>e.jsx("option",{value:N,children:N},N))})]})]}),e.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[e.jsxs("div",{children:[e.jsxs("label",{className:"block text-sm font-semibold text-afri-gray-900 mb-2",children:["Price (Â£) ",e.jsx("span",{className:"text-red-500",children:"*"})]}),e.jsx("input",{type:"number",name:"price",value:a.price,onChange:m,step:"0.01",min:"0",className:`w-full px-4 py-3 border rounded-lg focus:ring-2 focus:ring-afri-green focus:border-transparent transition-all ${x.price?"border-red-500":"border-gray-300"}`,placeholder:"0.00"}),x.price&&e.jsx("p",{className:"mt-1 text-sm text-red-500",children:x.price})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-semibold text-afri-gray-900 mb-2",children:"Original Price (Â£)"}),e.jsx("input",{type:"number",name:"originalPrice",value:a.originalPrice,onChange:m,step:"0.01",min:"0",className:"w-full px-4 py-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-afri-green focus:border-transparent transition-all",placeholder:"0.00 (optional)"}),e.jsx("p",{className:"mt-1 text-xs text-gray-500",children:"For showing discounts"})]})]}),e.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[e.jsxs("div",{children:[e.jsxs("label",{className:"block text-sm font-semibold text-afri-gray-900 mb-2",children:["Stock Quantity ",e.jsx("span",{className:"text-red-500",children:"*"})]}),e.jsx("input",{type:"number",name:"stock",value:a.stock,onChange:m,min:"0",className:`w-full px-4 py-3 border rounded-lg focus:ring-2 focus:ring-afri-green focus:border-transparent transition-all ${x.stock?"border-red-500":"border-gray-300"}`,placeholder:"0"}),x.stock&&e.jsx("p",{className:"mt-1 text-sm text-red-500",children:x.stock})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-semibold text-afri-gray-900 mb-2",children:"Low Stock Alert"}),e.jsx("input",{type:"number",name:"lowStockThreshold",value:a.lowStockThreshold,onChange:m,min:"0",className:"w-full px-4 py-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-afri-green focus:border-transparent transition-all",placeholder:"10"}),e.jsx("p",{className:"mt-1 text-xs text-gray-500",children:"Get alert when stock is below this number"})]})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-semibold text-afri-gray-900 mb-2",children:"Product Images"}),e.jsxs("div",{className:"border-2 border-dashed border-gray-300 rounded-lg p-6 hover:border-afri-green transition-colors",children:[e.jsx("input",{type:"file",accept:"image/*",multiple:!0,onChange:y,className:"hidden",id:"product-images"}),e.jsxs("label",{htmlFor:"product-images",className:"flex flex-col items-center cursor-pointer text-center",children:[e.jsx("svg",{className:"w-12 h-12 text-gray-400 mb-2",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M7 16a4 4 0 01-.88-7.903A5 5 0 1115.9 6L16 6a5 5 0 011 9.9M15 13l-3-3m0 0l-3 3m3-3v12"})}),e.jsx("p",{className:"text-sm text-gray-600",children:"Click to upload images (max 5)"}),e.jsx("p",{className:"text-xs text-gray-500 mt-1",children:"PNG, JPG, GIF up to 10MB"})]})]}),c.length>0&&e.jsx("div",{className:"mt-4 grid grid-cols-5 gap-4",children:c.map((N,j)=>e.jsxs("div",{className:"relative group",children:[e.jsx("img",{src:N,alt:`Preview ${j+1}`,className:"w-full h-24 object-cover rounded-lg border-2 border-gray-200 group-hover:border-afri-green transition-all"}),e.jsx("button",{type:"button",onClick:()=>g(j),className:"absolute -top-2 -right-2 bg-red-500 text-white rounded-full p-1 opacity-0 group-hover:opacity-100 transition-opacity shadow-lg hover:bg-red-600",children:e.jsx("svg",{className:"w-4 h-4",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M6 18L18 6M6 6l12 12"})})})]},j))})]}),e.jsxs("div",{className:"flex items-center space-x-6",children:[e.jsxs("label",{className:"flex items-center cursor-pointer",children:[e.jsx("input",{type:"checkbox",name:"inStock",checked:a.inStock,onChange:m,className:"w-5 h-5 text-afri-green border-gray-300 rounded focus:ring-afri-green cursor-pointer"}),e.jsx("span",{className:"ml-2 text-sm font-medium text-afri-gray-900",children:"In Stock"})]}),e.jsxs("label",{className:"flex items-center cursor-pointer",children:[e.jsx("input",{type:"checkbox",name:"isActive",checked:a.isActive,onChange:m,className:"w-5 h-5 text-afri-green border-gray-300 rounded focus:ring-afri-green cursor-pointer"}),e.jsx("span",{className:"ml-2 text-sm font-medium text-afri-gray-900",children:"Active"})]})]}),e.jsxs("div",{className:"flex items-center justify-end space-x-4 pt-6 border-t",children:[e.jsx("button",{type:"button",onClick:s,className:"px-6 py-3 border border-gray-300 text-gray-700 rounded-lg font-medium hover:bg-gray-50 transition-all",children:"Cancel"}),e.jsx("button",{type:"submit",disabled:h,className:"px-6 py-3 bg-gradient-to-r from-afri-green to-afri-green-dark text-white rounded-lg font-semibold shadow-lg hover:shadow-xl transition-all transform hover:scale-105 disabled:opacity-50 disabled:cursor-not-allowed disabled:transform-none flex items-center",children:h?e.jsxs(e.Fragment,{children:[e.jsxs("svg",{className:"animate-spin h-5 w-5 mr-2",fill:"none",viewBox:"0 0 24 24",children:[e.jsx("circle",{className:"opacity-25",cx:"12",cy:"12",r:"10",stroke:"currentColor",strokeWidth:"4"}),e.jsx("path",{className:"opacity-75",fill:"currentColor",d:"M4 12a8 8 0 018-8V0C5.373 0 0 5.373 0 12h4zm2 5.291A7.962 7.962 0 014 12H0c0 3.042 1.135 5.824 3 7.938l3-2.647z"})]}),"Saving..."]}):e.jsx(e.Fragment,{children:t?"Update Product":"Create Product"})})]})]})]})}),e.jsx("style",{jsx:!0,children:`
        @keyframes slideUp {
          from {
            opacity: 0;
            transform: translateY(20px) scale(0.95);
          }
          to {
            opacity: 1;
            transform: translateY(0) scale(1);
          }
        }

        .animate-slideUp {
          animation: slideUp 0.3s ease-out;
        }
      `})]})}function A1({selectedProducts:t,onClose:s,onComplete:r}){const[a,n]=J.useState("delete"),[o,l]=J.useState({isActive:!0,priceType:"percentage",priceValue:"",stockType:"adjust",stockValue:""}),[c,d]=J.useState(!1),h=async x=>{var p,m;x.preventDefault(),d(!0);try{let y;switch(a){case"delete":if(!confirm(`Delete ${t.length} products? This cannot be undone.`)){d(!1);return}y=await xr.bulkDeleteProducts({productIds:t});break;case"status":y=await xr.bulkUpdateStatus({productIds:t,isActive:o.isActive});break;case"price":if(!o.priceValue||o.priceValue==="0"){alert("Please enter a valid price value"),d(!1);return}y=await xr.bulkUpdatePrices({productIds:t,type:o.priceType,value:parseFloat(o.priceValue)});break;case"stock":if(!o.stockValue||o.stockValue==="0"){alert("Please enter a valid stock value"),d(!1);return}y=await xr.bulkUpdateStock({productIds:t,type:o.stockType,value:parseInt(o.stockValue)});break;default:throw new Error("Invalid action")}y.success&&(alert(`Successfully updated ${t.length} products!`),r())}catch(y){console.error("Bulk action error:",y),alert(((m=(p=y.response)==null?void 0:p.data)==null?void 0:m.message)||"Failed to perform bulk action")}finally{d(!1)}},u=()=>{switch(a){case"delete":return e.jsx("div",{className:"bg-red-50 border border-red-200 rounded-lg p-4",children:e.jsxs("div",{className:"flex items-start",children:[e.jsx("svg",{className:"w-6 h-6 text-red-600 mt-0.5 mr-3 flex-shrink-0",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M12 9v2m0 4h.01m-6.938 4h13.856c1.54 0 2.502-1.667 1.732-3L13.732 4c-.77-1.333-2.694-1.333-3.464 0L3.34 16c-.77 1.333.192 3 1.732 3z"})}),e.jsxs("div",{children:[e.jsx("h4",{className:"text-sm font-semibold text-red-900 mb-1",children:"Warning: Permanent Deletion"}),e.jsxs("p",{className:"text-sm text-red-700",children:["You are about to delete ",e.jsxs("span",{className:"font-bold",children:[t.length," products"]}),". This action cannot be undone."]})]})]})});case"status":return e.jsxs("div",{className:"space-y-4",children:[e.jsxs("p",{className:"text-sm text-afri-gray-600",children:["Change status for ",e.jsxs("span",{className:"font-semibold",children:[t.length," products"]})]}),e.jsxs("div",{className:"flex items-center space-x-4",children:[e.jsxs("label",{className:"flex items-center cursor-pointer",children:[e.jsx("input",{type:"radio",name:"status",checked:o.isActive===!0,onChange:()=>l({...o,isActive:!0}),className:"w-5 h-5 text-afri-green border-gray-300 focus:ring-afri-green cursor-pointer"}),e.jsx("span",{className:"ml-2 text-sm font-medium text-afri-gray-900",children:"Activate"})]}),e.jsxs("label",{className:"flex items-center cursor-pointer",children:[e.jsx("input",{type:"radio",name:"status",checked:o.isActive===!1,onChange:()=>l({...o,isActive:!1}),className:"w-5 h-5 text-afri-green border-gray-300 focus:ring-afri-green cursor-pointer"}),e.jsx("span",{className:"ml-2 text-sm font-medium text-afri-gray-900",children:"Deactivate"})]})]})]});case"price":return e.jsxs("div",{className:"space-y-4",children:[e.jsxs("p",{className:"text-sm text-afri-gray-600",children:["Update prices for ",e.jsxs("span",{className:"font-semibold",children:[t.length," products"]})]}),e.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-afri-gray-700 mb-2",children:"Update Type"}),e.jsxs("select",{value:o.priceType,onChange:x=>l({...o,priceType:x.target.value}),className:"w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-afri-green focus:border-transparent",children:[e.jsx("option",{value:"percentage",children:"Percentage (%)"}),e.jsx("option",{value:"fixed",children:"Fixed Amount (Â£)"})]})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-afri-gray-700 mb-2",children:o.priceType==="percentage"?"Percentage":"Amount (Â£)"}),e.jsx("input",{type:"number",step:"0.01",value:o.priceValue,onChange:x=>l({...o,priceValue:x.target.value}),className:"w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-afri-green focus:border-transparent",placeholder:"0.00"})]})]}),e.jsx("div",{className:"bg-blue-50 border border-blue-200 rounded-lg p-3",children:e.jsx("p",{className:"text-sm text-blue-800",children:o.priceType==="percentage"?e.jsxs(e.Fragment,{children:[o.priceValue>0?"Increase":"Decrease"," prices by"," ",e.jsxs("span",{className:"font-bold",children:[Math.abs(o.priceValue),"%"]})]}):e.jsxs(e.Fragment,{children:[o.priceValue>0?"Add":"Subtract"," ",e.jsxs("span",{className:"font-bold",children:["Â£",Math.abs(o.priceValue)]})," to/from prices"]})})})]});case"stock":return e.jsxs("div",{className:"space-y-4",children:[e.jsxs("p",{className:"text-sm text-afri-gray-600",children:["Update stock for ",e.jsxs("span",{className:"font-semibold",children:[t.length," products"]})]}),e.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-afri-gray-700 mb-2",children:"Update Type"}),e.jsxs("select",{value:o.stockType,onChange:x=>l({...o,stockType:x.target.value}),className:"w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-afri-green focus:border-transparent",children:[e.jsx("option",{value:"adjust",children:"Adjust (+/-)"}),e.jsx("option",{value:"set",children:"Set to Value"})]})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-afri-gray-700 mb-2",children:"Quantity"}),e.jsx("input",{type:"number",value:o.stockValue,onChange:x=>l({...o,stockValue:x.target.value}),className:"w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-afri-green focus:border-transparent",placeholder:"0"})]})]}),e.jsx("div",{className:"bg-blue-50 border border-blue-200 rounded-lg p-3",children:e.jsx("p",{className:"text-sm text-blue-800",children:o.stockType==="adjust"?e.jsxs(e.Fragment,{children:[o.stockValue>0?"Add":"Remove"," ",e.jsx("span",{className:"font-bold",children:Math.abs(o.stockValue)})," units"]}):e.jsxs(e.Fragment,{children:["Set stock to ",e.jsx("span",{className:"font-bold",children:o.stockValue})," units"]})})})]});default:return null}};return e.jsxs("div",{className:"fixed inset-0 z-50 overflow-y-auto",children:[e.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 backdrop-blur-sm transition-opacity",onClick:s}),e.jsx("div",{className:"flex min-h-full items-center justify-center p-4",children:e.jsxs("div",{className:"relative bg-white rounded-2xl shadow-2xl max-w-2xl w-full transform transition-all animate-slideUp",children:[e.jsxs("div",{className:"bg-gradient-to-r from-blue-600 to-blue-700 text-white px-6 py-4 rounded-t-2xl",children:[e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsx("h2",{className:"text-2xl font-bold",children:"Bulk Actions"}),e.jsx("button",{onClick:s,className:"text-white hover:text-afri-yellow transition-colors p-2 hover:bg-white hover:bg-opacity-20 rounded-lg",children:e.jsx("svg",{className:"w-6 h-6",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M6 18L18 6M6 6l12 12"})})})]}),e.jsxs("p",{className:"text-sm opacity-90 mt-1",children:[t.length," product",t.length>1?"s":""," selected"]})]}),e.jsxs("form",{onSubmit:h,className:"p-6 space-y-6",children:[e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-semibold text-afri-gray-900 mb-3",children:"Select Action"}),e.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[e.jsxs("button",{type:"button",onClick:()=>n("delete"),className:`p-4 rounded-lg border-2 transition-all transform hover:scale-105 ${a==="delete"?"border-red-500 bg-red-50 shadow-lg":"border-gray-200 hover:border-gray-300"}`,children:[e.jsx("div",{className:"text-3xl mb-2",children:"ðŸ—‘ï¸"}),e.jsx("div",{className:"font-semibold text-afri-gray-900",children:"Delete"}),e.jsx("div",{className:"text-xs text-afri-gray-500 mt-1",children:"Remove products"})]}),e.jsxs("button",{type:"button",onClick:()=>n("status"),className:`p-4 rounded-lg border-2 transition-all transform hover:scale-105 ${a==="status"?"border-afri-green bg-green-50 shadow-lg":"border-gray-200 hover:border-gray-300"}`,children:[e.jsx("div",{className:"text-3xl mb-2",children:"ðŸ”„"}),e.jsx("div",{className:"font-semibold text-afri-gray-900",children:"Status"}),e.jsx("div",{className:"text-xs text-afri-gray-500 mt-1",children:"Activate/Deactivate"})]}),e.jsxs("button",{type:"button",onClick:()=>n("price"),className:`p-4 rounded-lg border-2 transition-all transform hover:scale-105 ${a==="price"?"border-blue-500 bg-blue-50 shadow-lg":"border-gray-200 hover:border-gray-300"}`,children:[e.jsx("div",{className:"text-3xl mb-2",children:"ðŸ’°"}),e.jsx("div",{className:"font-semibold text-afri-gray-900",children:"Price"}),e.jsx("div",{className:"text-xs text-afri-gray-500 mt-1",children:"Update prices"})]}),e.jsxs("button",{type:"button",onClick:()=>n("stock"),className:`p-4 rounded-lg border-2 transition-all transform hover:scale-105 ${a==="stock"?"border-purple-500 bg-purple-50 shadow-lg":"border-gray-200 hover:border-gray-300"}`,children:[e.jsx("div",{className:"text-3xl mb-2",children:"ðŸ“¦"}),e.jsx("div",{className:"font-semibold text-afri-gray-900",children:"Stock"}),e.jsx("div",{className:"text-xs text-afri-gray-500 mt-1",children:"Adjust inventory"})]})]})]}),e.jsx("div",{className:"border-t pt-6",children:u()}),e.jsxs("div",{className:"flex items-center justify-end space-x-4 pt-6 border-t",children:[e.jsx("button",{type:"button",onClick:s,className:"px-6 py-3 border border-gray-300 text-gray-700 rounded-lg font-medium hover:bg-gray-50 transition-all",children:"Cancel"}),e.jsx("button",{type:"submit",disabled:c,className:`px-6 py-3 text-white rounded-lg font-semibold shadow-lg hover:shadow-xl transition-all transform hover:scale-105 disabled:opacity-50 disabled:cursor-not-allowed disabled:transform-none flex items-center ${a==="delete"?"bg-gradient-to-r from-red-600 to-red-700":"bg-gradient-to-r from-afri-green to-afri-green-dark"}`,children:c?e.jsxs(e.Fragment,{children:[e.jsxs("svg",{className:"animate-spin h-5 w-5 mr-2",fill:"none",viewBox:"0 0 24 24",children:[e.jsx("circle",{className:"opacity-25",cx:"12",cy:"12",r:"10",stroke:"currentColor",strokeWidth:"4"}),e.jsx("path",{className:"opacity-75",fill:"currentColor",d:"M4 12a8 8 0 018-8V0C5.373 0 0 5.373 0 12h4zm2 5.291A7.962 7.962 0 014 12H0c0 3.042 1.135 5.824 3 7.938l3-2.647z"})]}),"Processing..."]}):`Apply to ${t.length} Product${t.length>1?"s":""}`})]})]})]})}),e.jsx("style",{jsx:!0,children:`
        @keyframes slideUp {
          from {
            opacity: 0;
            transform: translateY(20px) scale(0.95);
          }
          to {
            opacity: 1;
            transform: translateY(0) scale(1);
          }
        }

        .animate-slideUp {
          animation: slideUp 0.3s ease-out;
        }
      `})]})}const _1=["fruits","vegetables","grains","dairy","meat","fish","poultry","bakery","beverages","spices","snacks","household","beauty","other"];function C1(){const[t,s]=J.useState([]),[r,a]=J.useState(!0),[n,o]=J.useState(!1),[l,c]=J.useState(!1),[d,h]=J.useState(null),[u,x]=J.useState([]),[p,m]=J.useState({search:"",category:"",status:"",page:1,limit:20}),[y,g]=J.useState({});J.useEffect(()=>{b()},[p]);const b=async()=>{try{a(!0);const C=await xr.getProducts(p);C.success&&(s(C.data.products),g(C.data.pagination))}catch(C){console.error("Error fetching products:",C)}finally{a(!1)}},w=()=>{h(null),o(!0)},N=C=>{h(C),o(!0)},j=async C=>{var I,D;if(confirm("Are you sure you want to delete this product?"))try{(await xr.deleteProduct(C)).success&&(b(),alert("Product deleted successfully!"))}catch(E){alert(((D=(I=E.response)==null?void 0:I.data)==null?void 0:D.message)||"Failed to delete product")}},k=C=>{x(I=>I.includes(C)?I.filter(D=>D!==C):[...I,C])},L=()=>{u.length===t.length?x([]):x(t.map(C=>C._id))},F=()=>{if(u.length===0){alert("Please select products first");return}c(!0)},T=C=>C.inStock?C.stock<=C.lowStockThreshold?e.jsx("span",{className:"px-2 py-1 text-xs font-semibold rounded-full bg-yellow-100 text-yellow-800",children:"Low Stock"}):e.jsx("span",{className:"px-2 py-1 text-xs font-semibold rounded-full bg-green-100 text-green-800",children:"In Stock"}):e.jsx("span",{className:"px-2 py-1 text-xs font-semibold rounded-full bg-red-100 text-red-800",children:"Out of Stock"});return e.jsxs("div",{className:"space-y-6",children:[e.jsxs("div",{className:"flex flex-col md:flex-row md:items-center md:justify-between",children:[e.jsxs("div",{children:[e.jsx("h1",{className:"text-4xl font-bold bg-gradient-to-r from-afri-green to-afri-green-dark bg-clip-text text-transparent",children:"Products"}),e.jsx("p",{className:"text-afri-gray-600 mt-2",children:"Manage your inventory and product listings"})]}),e.jsxs("button",{onClick:w,className:"mt-4 md:mt-0 bg-gradient-to-r from-afri-green to-afri-green-dark text-white px-6 py-3 rounded-lg font-semibold shadow-lg transform transition-all duration-300 hover:scale-105 hover:shadow-xl flex items-center group",children:[e.jsx("svg",{className:"w-5 h-5 mr-2 transform group-hover:rotate-90 transition-transform duration-300",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M12 4v16m8-8H4"})}),"Add Product"]})]}),e.jsxs("div",{className:"bg-white rounded-xl shadow-lg p-6",children:[e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-4 gap-4",children:[e.jsx("div",{className:"md:col-span-2",children:e.jsxs("div",{className:"relative",children:[e.jsx("input",{type:"text",placeholder:"Search products...",value:p.search,onChange:C=>m({...p,search:C.target.value,page:1}),className:"w-full pl-10 pr-4 py-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-afri-green focus:border-transparent transition-all"}),e.jsx("svg",{className:"absolute left-3 top-3.5 w-5 h-5 text-gray-400",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M21 21l-6-6m2-5a7 7 0 11-14 0 7 7 0 0114 0z"})})]})}),e.jsxs("select",{value:p.category,onChange:C=>m({...p,category:C.target.value,page:1}),className:"px-4 py-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-afri-green focus:border-transparent transition-all",children:[e.jsx("option",{value:"",children:"All Categories"}),_1.map(C=>e.jsx("option",{value:C,children:C.charAt(0).toUpperCase()+C.slice(1)},C))]}),e.jsxs("select",{value:p.status,onChange:C=>m({...p,status:C.target.value,page:1}),className:"px-4 py-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-afri-green focus:border-transparent transition-all",children:[e.jsx("option",{value:"",children:"All Status"}),e.jsx("option",{value:"active",children:"Active"}),e.jsx("option",{value:"inactive",children:"Inactive"}),e.jsx("option",{value:"low-stock",children:"Low Stock"}),e.jsx("option",{value:"out-of-stock",children:"Out of Stock"})]})]}),u.length>0&&e.jsxs("div",{className:"mt-4 p-4 bg-gradient-to-r from-blue-50 to-blue-100 rounded-lg border border-blue-200 flex items-center justify-between animate-slideDown",children:[e.jsx("div",{className:"flex items-center",children:e.jsxs("span",{className:"font-semibold text-blue-900",children:[u.length," products selected"]})}),e.jsx("button",{onClick:F,className:"bg-gradient-to-r from-blue-600 to-blue-700 text-white px-4 py-2 rounded-lg font-medium hover:from-blue-700 hover:to-blue-800 transition-all transform hover:scale-105",children:"Bulk Actions"})]})]}),r?e.jsx("div",{className:"flex justify-center items-center h-64",children:e.jsx("div",{className:"relative",children:e.jsx("div",{className:"w-20 h-20 border-4 border-afri-green border-t-transparent rounded-full animate-spin"})})}):t.length===0?e.jsxs("div",{className:"bg-white rounded-xl shadow-lg p-12 text-center",children:[e.jsx("svg",{className:"w-24 h-24 text-afri-gray-300 mx-auto mb-4",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M20 7l-8-4-8 4m16 0l-8 4m8-4v10l-8 4m0-10L4 7m8 4v10M4 7v10l8 4"})}),e.jsx("h3",{className:"text-xl font-semibold text-afri-gray-900 mb-2",children:"No products found"}),e.jsx("p",{className:"text-afri-gray-500 mb-6",children:p.search||p.category||p.status?"Try adjusting your filters":"Get started by adding your first product"}),e.jsx("button",{onClick:w,className:"bg-gradient-to-r from-afri-green to-afri-green-dark text-white px-6 py-3 rounded-lg font-semibold shadow-lg hover:shadow-xl transition-all transform hover:scale-105",children:"Add Your First Product"})]}):e.jsxs("div",{className:"bg-white rounded-xl shadow-lg overflow-hidden",children:[e.jsx("div",{className:"overflow-x-auto",children:e.jsxs("table",{className:"min-w-full divide-y divide-gray-200",children:[e.jsx("thead",{className:"bg-gradient-to-r from-afri-gray-50 to-afri-gray-100",children:e.jsxs("tr",{children:[e.jsx("th",{className:"px-6 py-4",children:e.jsx("input",{type:"checkbox",checked:u.length===t.length,onChange:L,className:"w-4 h-4 text-afri-green border-gray-300 rounded focus:ring-afri-green cursor-pointer"})}),e.jsx("th",{className:"px-6 py-4 text-left text-xs font-semibold text-afri-gray-700 uppercase tracking-wider",children:"Product"}),e.jsx("th",{className:"px-6 py-4 text-left text-xs font-semibold text-afri-gray-700 uppercase tracking-wider",children:"Category"}),e.jsx("th",{className:"px-6 py-4 text-left text-xs font-semibold text-afri-gray-700 uppercase tracking-wider",children:"Price"}),e.jsx("th",{className:"px-6 py-4 text-left text-xs font-semibold text-afri-gray-700 uppercase tracking-wider",children:"Stock"}),e.jsx("th",{className:"px-6 py-4 text-left text-xs font-semibold text-afri-gray-700 uppercase tracking-wider",children:"Status"}),e.jsx("th",{className:"px-6 py-4 text-right text-xs font-semibold text-afri-gray-700 uppercase tracking-wider",children:"Actions"})]})}),e.jsx("tbody",{className:"bg-white divide-y divide-gray-200",children:t.map((C,I)=>e.jsxs("tr",{className:"hover:bg-gradient-to-r hover:from-afri-gray-50 hover:to-white transition-all duration-200 animate-fadeIn",style:{animationDelay:`${I*50}ms`},children:[e.jsx("td",{className:"px-6 py-4",children:e.jsx("input",{type:"checkbox",checked:u.includes(C._id),onChange:()=>k(C._id),className:"w-4 h-4 text-afri-green border-gray-300 rounded focus:ring-afri-green cursor-pointer"})}),e.jsx("td",{className:"px-6 py-4",children:e.jsxs("div",{className:"flex items-center",children:[e.jsx("div",{className:"h-12 w-12 flex-shrink-0 rounded-lg overflow-hidden bg-afri-gray-100 shadow-sm",children:C.images&&C.images.length>0?e.jsx("img",{src:C.images[0].url,alt:C.name,className:"h-full w-full object-cover transform hover:scale-110 transition-transform duration-300"}):e.jsx("div",{className:"h-full w-full flex items-center justify-center text-afri-gray-400",children:"ðŸ“¦"})}),e.jsxs("div",{className:"ml-4",children:[e.jsx("div",{className:"text-sm font-semibold text-afri-gray-900",children:C.name}),e.jsx("div",{className:"text-sm text-afri-gray-500",children:C.unit})]})]})}),e.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:e.jsx("span",{className:"px-3 py-1 inline-flex text-xs leading-5 font-semibold rounded-full bg-blue-100 text-blue-800",children:C.category})}),e.jsxs("td",{className:"px-6 py-4 whitespace-nowrap",children:[e.jsxs("div",{className:"text-sm font-bold text-afri-green",children:["Â£",C.price.toFixed(2)]}),C.originalPrice&&C.originalPrice>C.price&&e.jsxs("div",{className:"text-xs text-gray-400 line-through",children:["Â£",C.originalPrice.toFixed(2)]})]}),e.jsxs("td",{className:"px-6 py-4 whitespace-nowrap",children:[e.jsx("div",{className:"text-sm text-afri-gray-900 font-semibold",children:C.stock}),C.lowStockThreshold&&e.jsxs("div",{className:"text-xs text-gray-500",children:["Min: ",C.lowStockThreshold]})]}),e.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:T(C)}),e.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-right text-sm font-medium",children:e.jsxs("div",{className:"flex items-center justify-end space-x-2",children:[e.jsx("button",{onClick:()=>N(C),className:"text-blue-600 hover:text-blue-900 transition-colors p-2 hover:bg-blue-50 rounded-lg group",title:"Edit",children:e.jsx("svg",{className:"w-5 h-5 transform group-hover:scale-110 transition-transform",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M11 5H6a2 2 0 00-2 2v11a2 2 0 002 2h11a2 2 0 002-2v-5m-1.414-9.414a2 2 0 112.828 2.828L11.828 15H9v-2.828l8.586-8.586z"})})}),e.jsx("button",{onClick:()=>j(C._id),className:"text-red-600 hover:text-red-900 transition-colors p-2 hover:bg-red-50 rounded-lg group",title:"Delete",children:e.jsx("svg",{className:"w-5 h-5 transform group-hover:scale-110 transition-transform",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M19 7l-.867 12.142A2 2 0 0116.138 21H7.862a2 2 0 01-1.995-1.858L5 7m5 4v6m4-6v6m1-10V4a1 1 0 00-1-1h-4a1 1 0 00-1 1v3M4 7h16"})})})]})})]},C._id))})]})}),y.pages>1&&e.jsx("div",{className:"px-6 py-4 bg-gradient-to-r from-afri-gray-50 to-white border-t border-gray-200",children:e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{className:"text-sm text-afri-gray-700",children:["Showing ",e.jsx("span",{className:"font-semibold",children:(y.currentPage-1)*p.limit+1})," to"," ",e.jsx("span",{className:"font-semibold",children:Math.min(y.currentPage*p.limit,y.total)})," ","of ",e.jsx("span",{className:"font-semibold",children:y.total})," products"]}),e.jsxs("nav",{className:"relative z-0 inline-flex rounded-md shadow-sm -space-x-px",children:[e.jsx("button",{onClick:()=>m({...p,page:p.page-1}),disabled:y.currentPage===1,className:"relative inline-flex items-center px-2 py-2 rounded-l-md border border-gray-300 bg-white text-sm font-medium text-gray-500 hover:bg-gray-50 disabled:opacity-50 disabled:cursor-not-allowed transition-all",children:e.jsx("svg",{className:"h-5 w-5",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M15 19l-7-7 7-7"})})}),[...Array(y.pages)].map((C,I)=>e.jsx("button",{onClick:()=>m({...p,page:I+1}),className:`relative inline-flex items-center px-4 py-2 border text-sm font-medium transition-all ${y.currentPage===I+1?"z-10 bg-gradient-to-r from-afri-green to-afri-green-dark text-white border-afri-green":"bg-white border-gray-300 text-gray-700 hover:bg-gray-50"}`,children:I+1},I)),e.jsx("button",{onClick:()=>m({...p,page:p.page+1}),disabled:y.currentPage===y.pages,className:"relative inline-flex items-center px-2 py-2 rounded-r-md border border-gray-300 bg-white text-sm font-medium text-gray-500 hover:bg-gray-50 disabled:opacity-50 disabled:cursor-not-allowed transition-all",children:e.jsx("svg",{className:"h-5 w-5",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M9 5l7 7-7 7"})})})]})]})})]}),n&&e.jsx(k1,{product:d,onClose:()=>{o(!1),h(null)},onSave:()=>{b(),o(!1),h(null)}}),l&&e.jsx(A1,{selectedProducts:u,onClose:()=>c(!1),onComplete:()=>{b(),x([]),c(!1)}}),e.jsx("style",{jsx:!0,children:`
        @keyframes fadeIn {
          from {
            opacity: 0;
            transform: translateY(10px);
          }
          to {
            opacity: 1;
            transform: translateY(0);
          }
        }

        @keyframes slideDown {
          from {
            opacity: 0;
            transform: translateY(-10px);
          }
          to {
            opacity: 1;
            transform: translateY(0);
          }
        }

        .animate-fadeIn {
          animation: fadeIn 0.5s ease-out forwards;
        }

        .animate-slideDown {
          animation: slideDown 0.3s ease-out;
        }
      `})]})}function T1({order:t,onPackingComplete:s,onStatusUpdate:r}){var g;const[a,n]=J.useState([]),[o,l]=J.useState({});J.useEffect(()=>{const b=t.items.map(w=>({itemId:w._id||w.productId||w.name,name:w.name,quantity:w.quantity,unit:w.unit,packed:!1,pickedQuantity:0}));n(b)},[t.items]);const c=b=>{n(w=>w.map(N=>N.itemId===b?{...N,packed:!N.packed,pickedQuantity:N.packed?0:N.quantity}:N))},d=(b,w)=>{n(N=>N.map(j=>j.itemId===b?{...j,pickedQuantity:Math.max(0,Math.min(w,j.quantity))}:j))},h=(b,w)=>{l(N=>({...N,[b]:w}))},u=()=>{n(b=>b.map(w=>({...w,packed:!0,pickedQuantity:w.quantity})))},x=async()=>{!a.every(w=>w.packed)&&!window.confirm("Not all items are marked as packed. Are you sure you want to mark this order as ready?")||(s&&s(a),r&&await r("ready_for_pickup","All items packed and ready for pickup"))},p=a.filter(b=>b.packed).length,m=a.length,y=m>0?p/m*100:0;return e.jsxs("div",{className:"space-y-6",children:[e.jsxs("div",{className:"bg-gradient-to-br from-[#FFB300] to-[#FFA726] rounded-xl p-6 text-white shadow-lg",children:[e.jsxs("div",{className:"flex items-center justify-between mb-4",children:[e.jsxs("div",{children:[e.jsx("h3",{className:"text-2xl font-bold",children:"Packing Checklist"}),e.jsxs("p",{className:"text-gray-900 mt-1",children:[p," of ",m," items packed"]})]}),e.jsxs("div",{className:"text-right",children:[e.jsxs("div",{className:"text-4xl font-bold",children:[Math.round(y),"%"]}),e.jsx("div",{className:"text-sm text-gray-900",children:"Complete"})]})]}),e.jsx("div",{className:"w-full bg-gray-900/20 rounded-full h-4 overflow-hidden shadow-inner",children:e.jsx("div",{className:"bg-gradient-to-r from-[#00897B] to-[#26A69A] h-full rounded-full transition-all duration-500 ease-out shadow-lg",style:{width:`${y}%`}})}),e.jsxs("div",{className:"mt-4 flex gap-3",children:[e.jsx("button",{onClick:u,className:"flex-1 bg-white text-gray-900 px-4 py-2 rounded-lg font-semibold shadow-md hover:shadow-lg transition-all transform hover:-translate-y-0.5",children:"âœ“ Mark All Packed"}),e.jsx("button",{onClick:x,disabled:p===0,className:"flex-1 bg-[#00897B] text-white px-4 py-2 rounded-lg font-semibold shadow-md hover:shadow-lg hover:bg-[#00695C] transition-all transform hover:-translate-y-0.5 disabled:opacity-50 disabled:cursor-not-allowed disabled:transform-none",children:"ðŸ“¦ Ready for Pickup"})]})]}),((g=t.deliveryAddress)==null?void 0:g.instructions)&&e.jsx("div",{className:"bg-yellow-50 border-l-4 border-[#FFB300] rounded-lg p-4 shadow-sm",children:e.jsxs("div",{className:"flex items-start gap-3",children:[e.jsx("svg",{className:"w-5 h-5 text-[#FFB300] mt-0.5",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M13 16h-1v-4h-1m1-4h.01M21 12a9 9 0 11-18 0 9 9 0 0118 0z"})}),e.jsxs("div",{children:[e.jsx("h4",{className:"font-semibold text-gray-900 mb-1",children:"Special Instructions"}),e.jsx("p",{className:"text-gray-700 text-sm",children:t.deliveryAddress.instructions})]})]})}),e.jsx("div",{className:"space-y-3",children:a.map((b,w)=>{const N=t.items[w];return e.jsx("div",{className:`
                bg-white rounded-xl p-5 shadow-md border-2 transition-all duration-300
                ${b.packed?"border-[#00897B] bg-green-50/50":"border-gray-200 hover:border-[#FFB300]"}
              `,children:e.jsxs("div",{className:"flex items-start gap-4",children:[e.jsx("div",{className:"flex-shrink-0 pt-1",children:e.jsx("button",{onClick:()=>c(b.itemId),className:`
                      w-8 h-8 rounded-lg border-2 flex items-center justify-center
                      transition-all duration-200 transform hover:scale-110
                      ${b.packed?"bg-[#00897B] border-[#00897B] shadow-lg":"bg-white border-gray-300 hover:border-[#FFB300]"}
                    `,children:b.packed&&e.jsx("svg",{className:"w-5 h-5 text-white",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:3,d:"M5 13l4 4L19 7"})})})}),e.jsxs("div",{className:"flex-1 min-w-0",children:[e.jsxs("div",{className:"flex items-start justify-between gap-4 mb-3",children:[e.jsxs("div",{className:"flex-1",children:[e.jsx("h4",{className:`text-lg font-semibold ${b.packed?"text-[#00897B] line-through":"text-gray-900"}`,children:b.name}),e.jsxs("div",{className:"flex flex-wrap items-center gap-3 mt-1",children:[e.jsxs("span",{className:"text-sm text-gray-600",children:["Ordered: ",e.jsxs("span",{className:"font-semibold",children:[b.quantity," ",b.unit]})]}),N.price&&e.jsxs("span",{className:"text-sm text-gray-600",children:["Price: ",e.jsxs("span",{className:"font-semibold",children:["Â£",N.price.toFixed(2)]})]})]})]}),N.image&&e.jsx("img",{src:N.image,alt:b.name,className:"w-20 h-20 object-cover rounded-lg shadow-md"})]}),e.jsxs("div",{className:"flex items-center gap-4 mb-3",children:[e.jsx("label",{className:"text-sm font-medium text-gray-700",children:"Picked Quantity:"}),e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx("button",{onClick:()=>d(b.itemId,b.pickedQuantity-1),disabled:b.pickedQuantity<=0,className:"w-8 h-8 rounded-lg bg-gray-200 hover:bg-gray-300 disabled:opacity-50 disabled:cursor-not-allowed font-semibold transition-colors",children:"-"}),e.jsx("input",{type:"number",value:b.pickedQuantity,onChange:j=>d(b.itemId,parseInt(j.target.value)||0),className:"w-20 text-center px-2 py-1 border-2 border-gray-300 rounded-lg font-semibold focus:border-[#FFB300] focus:ring-2 focus:ring-[#FFB300]/20",min:"0",max:b.quantity}),e.jsx("button",{onClick:()=>d(b.itemId,b.pickedQuantity+1),disabled:b.pickedQuantity>=b.quantity,className:"w-8 h-8 rounded-lg bg-gray-200 hover:bg-gray-300 disabled:opacity-50 disabled:cursor-not-allowed font-semibold transition-colors",children:"+"}),e.jsxs("span",{className:"text-sm text-gray-600",children:["/ ",b.quantity," ",b.unit]})]})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Notes (optional)"}),e.jsx("input",{type:"text",value:o[b.itemId]||"",onChange:j=>h(b.itemId,j.target.value),placeholder:"E.g., substitution, quality issue...",className:"w-full px-3 py-2 border border-gray-300 rounded-lg text-sm focus:ring-2 focus:ring-[#FFB300] focus:border-transparent"})]}),b.pickedQuantity>0&&b.pickedQuantity<b.quantity&&e.jsx("div",{className:"mt-2 p-2 bg-orange-50 border-l-4 border-orange-400 rounded",children:e.jsxs("p",{className:"text-xs text-orange-700",children:["âš ï¸ Short by ",b.quantity-b.pickedQuantity," ",b.unit]})})]})]})},b.itemId)})}),e.jsxs("div",{className:"bg-gradient-to-br from-gray-50 to-gray-100 rounded-xl p-6 shadow-lg border border-gray-200",children:[e.jsx("h4",{className:"font-semibold text-gray-900 mb-3",children:"Packing Summary"}),e.jsxs("div",{className:"grid grid-cols-3 gap-4",children:[e.jsxs("div",{className:"text-center p-3 bg-white rounded-lg shadow-sm",children:[e.jsx("div",{className:"text-2xl font-bold text-gray-900",children:m}),e.jsx("div",{className:"text-xs text-gray-600 mt-1",children:"Total Items"})]}),e.jsxs("div",{className:"text-center p-3 bg-white rounded-lg shadow-sm",children:[e.jsx("div",{className:"text-2xl font-bold text-[#00897B]",children:p}),e.jsx("div",{className:"text-xs text-gray-600 mt-1",children:"Packed"})]}),e.jsxs("div",{className:"text-center p-3 bg-white rounded-lg shadow-sm",children:[e.jsx("div",{className:"text-2xl font-bold text-orange-600",children:m-p}),e.jsx("div",{className:"text-xs text-gray-600 mt-1",children:"Remaining"})]})]})]}),e.jsx("div",{className:"sticky bottom-0 bg-white border-t-2 border-gray-200 p-4 -mx-6 -mb-6 rounded-b-xl shadow-lg",children:e.jsx("button",{onClick:x,disabled:p===0,className:`
            w-full py-4 rounded-xl font-bold text-lg text-white shadow-lg
            transition-all duration-200 transform hover:-translate-y-1 hover:shadow-xl
            ${p===m?"bg-gradient-to-r from-[#00897B] to-[#26A69A]":"bg-gradient-to-r from-gray-500 to-gray-600"}
            disabled:opacity-50 disabled:cursor-not-allowed disabled:transform-none
          `,children:p===m?e.jsx(e.Fragment,{children:"âœ“ Mark Order as Ready for Pickup"}):e.jsxs(e.Fragment,{children:["Pack ",m-p," More Items"]})})})]})}function E1({order:t,onPickerAssigned:s}){var b,w,N,j;const[r,a]=J.useState([]),[n,o]=J.useState(null),[l,c]=J.useState(!0),[d,h]=J.useState(!1);J.useEffect(()=>{u()},[]);const u=async()=>{try{c(!0);const k=[{id:"picker-1",name:"John Smith",status:"available",activeOrders:0,rating:4.8,completedOrders:156,avatar:null},{id:"picker-2",name:"Sarah Johnson",status:"available",activeOrders:1,rating:4.9,completedOrders:203,avatar:null},{id:"picker-3",name:"Michael Brown",status:"busy",activeOrders:3,rating:4.7,completedOrders:189,avatar:null},{id:"picker-4",name:"Emily Davis",status:"available",activeOrders:0,rating:5,completedOrders:98,avatar:null}];setTimeout(()=>{a(k),c(!1)},500)}catch(k){console.error("Error fetching pickers:",k),c(!1)}},x=async()=>{if(!n){alert("Please select a picker");return}h(!0);try{await new Promise(k=>setTimeout(k,1e3)),s&&await s(n.id),alert(`Order assigned to ${n.name}`)}catch(k){console.error("Error assigning picker:",k),alert("Failed to assign picker. Please try again.")}finally{h(!1)}},p=k=>{switch(k){case"available":return"bg-green-100 text-green-700 border-green-200";case"busy":return"bg-orange-100 text-orange-700 border-orange-200";case"offline":return"bg-gray-100 text-gray-700 border-gray-200";default:return"bg-gray-100 text-gray-700 border-gray-200"}},m=k=>{switch(k){case"available":return"bg-green-500";case"busy":return"bg-orange-500";case"offline":return"bg-gray-400";default:return"bg-gray-400"}};if(l)return e.jsxs("div",{className:"flex flex-col items-center justify-center py-12",children:[e.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-[#FFB300] mb-4"}),e.jsx("p",{className:"text-gray-600",children:"Loading available pickers..."})]});const y=r.filter(k=>k.status==="available"),g=r.filter(k=>k.status==="busy");return e.jsxs("div",{className:"space-y-6",children:[e.jsxs("div",{className:"bg-gradient-to-br from-[#FFB300] to-[#FFA726] rounded-xl p-6 text-white shadow-lg",children:[e.jsx("h3",{className:"text-2xl font-bold mb-2",children:"Assign Order Picker"}),e.jsxs("p",{className:"text-gray-900",children:["Select a picker to handle this order â€¢ ",y.length," available"]})]}),e.jsxs("div",{className:"bg-white rounded-xl p-5 shadow-md border border-gray-200",children:[e.jsx("h4",{className:"font-semibold text-gray-900 mb-3",children:"Order Details"}),e.jsxs("div",{className:"grid grid-cols-2 md:grid-cols-4 gap-4",children:[e.jsxs("div",{children:[e.jsx("p",{className:"text-sm text-gray-500",children:"Order Number"}),e.jsx("p",{className:"font-semibold text-gray-900",children:t.orderNumber})]}),e.jsxs("div",{children:[e.jsx("p",{className:"text-sm text-gray-500",children:"Total Items"}),e.jsx("p",{className:"font-semibold text-gray-900",children:((b=t.items)==null?void 0:b.length)||0})]}),e.jsxs("div",{children:[e.jsx("p",{className:"text-sm text-gray-500",children:"Order Value"}),e.jsxs("p",{className:"font-semibold text-[#00897B]",children:["Â£",(N=(w=t.pricing)==null?void 0:w.total)==null?void 0:N.toFixed(2)]})]}),e.jsxs("div",{children:[e.jsx("p",{className:"text-sm text-gray-500",children:"Customer"}),e.jsx("p",{className:"font-semibold text-gray-900",children:((j=t.deliveryAddress)==null?void 0:j.fullName)||"N/A"})]})]})]}),y.length>0&&e.jsxs("div",{children:[e.jsxs("h4",{className:"text-lg font-semibold text-gray-900 mb-3 flex items-center gap-2",children:[e.jsx("span",{className:"w-3 h-3 bg-green-500 rounded-full animate-pulse"}),"Available Pickers (",y.length,")"]}),e.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:y.map(k=>e.jsx("div",{onClick:()=>o(k),className:`
                  bg-white rounded-xl p-5 shadow-md cursor-pointer transition-all duration-200
                  border-2 ${(n==null?void 0:n.id)===k.id?"border-[#FFB300] shadow-lg scale-105":"border-gray-200 hover:border-[#FFB300] hover:shadow-lg"}
                `,children:e.jsxs("div",{className:"flex items-start gap-4",children:[e.jsxs("div",{className:"flex-shrink-0",children:[k.avatar?e.jsx("img",{src:k.avatar,alt:k.name,className:"w-16 h-16 rounded-full object-cover shadow-md"}):e.jsx("div",{className:"w-16 h-16 rounded-full bg-gradient-to-br from-[#FFB300] to-[#FFA726] flex items-center justify-center text-white text-2xl font-bold shadow-md",children:k.name.charAt(0)}),e.jsx("div",{className:`w-4 h-4 rounded-full ${m(k.status)} border-2 border-white shadow-sm -mt-3 ml-12`})]}),e.jsxs("div",{className:"flex-1 min-w-0",children:[e.jsxs("div",{className:"flex items-start justify-between gap-2 mb-2",children:[e.jsx("h5",{className:"font-bold text-gray-900 text-lg",children:k.name}),(n==null?void 0:n.id)===k.id&&e.jsx("svg",{className:"w-6 h-6 text-[#FFB300] flex-shrink-0",fill:"currentColor",viewBox:"0 0 20 20",children:e.jsx("path",{fillRule:"evenodd",d:"M10 18a8 8 0 100-16 8 8 0 000 16zm3.707-9.293a1 1 0 00-1.414-1.414L9 10.586 7.707 9.293a1 1 0 00-1.414 1.414l2 2a1 1 0 001.414 0l4-4z",clipRule:"evenodd"})})]}),e.jsxs("div",{className:"grid grid-cols-3 gap-2 mb-3",children:[e.jsxs("div",{className:"text-center p-2 bg-gray-50 rounded-lg",children:[e.jsx("div",{className:"text-sm font-bold text-gray-900",children:k.rating}),e.jsx("div",{className:"text-xs text-gray-500",children:"Rating"})]}),e.jsxs("div",{className:"text-center p-2 bg-gray-50 rounded-lg",children:[e.jsx("div",{className:"text-sm font-bold text-gray-900",children:k.completedOrders}),e.jsx("div",{className:"text-xs text-gray-500",children:"Orders"})]}),e.jsxs("div",{className:"text-center p-2 bg-gray-50 rounded-lg",children:[e.jsx("div",{className:"text-sm font-bold text-gray-900",children:k.activeOrders}),e.jsx("div",{className:"text-xs text-gray-500",children:"Active"})]})]}),e.jsxs("span",{className:`inline-flex items-center px-3 py-1 rounded-full text-xs font-semibold border ${p(k.status)}`,children:[e.jsx("span",{className:`w-2 h-2 rounded-full ${m(k.status)} mr-2`}),k.status.charAt(0).toUpperCase()+k.status.slice(1)]})]})]})},k.id))})]}),g.length>0&&e.jsxs("div",{children:[e.jsxs("h4",{className:"text-lg font-semibold text-gray-900 mb-3 flex items-center gap-2",children:[e.jsx("span",{className:"w-3 h-3 bg-orange-500 rounded-full"}),"Busy Pickers (",g.length,")"]}),e.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:g.map(k=>e.jsx("div",{className:"bg-white rounded-xl p-5 shadow-md border-2 border-gray-200 opacity-60",children:e.jsxs("div",{className:"flex items-start gap-4",children:[e.jsx("div",{className:"flex-shrink-0",children:k.avatar?e.jsx("img",{src:k.avatar,alt:k.name,className:"w-16 h-16 rounded-full object-cover shadow-md grayscale"}):e.jsx("div",{className:"w-16 h-16 rounded-full bg-gray-400 flex items-center justify-center text-white text-2xl font-bold shadow-md",children:k.name.charAt(0)})}),e.jsxs("div",{className:"flex-1",children:[e.jsx("h5",{className:"font-bold text-gray-700 text-lg mb-1",children:k.name}),e.jsxs("p",{className:"text-sm text-gray-500 mb-2",children:["Currently handling ",k.activeOrders," orders"]}),e.jsxs("span",{className:`inline-flex items-center px-3 py-1 rounded-full text-xs font-semibold border ${p(k.status)}`,children:[e.jsx("span",{className:`w-2 h-2 rounded-full ${m(k.status)} mr-2`}),"Busy"]})]})]})},k.id))})]}),r.length===0&&e.jsxs("div",{className:"bg-gray-50 rounded-xl p-12 text-center",children:[e.jsx("svg",{className:"w-16 h-16 text-gray-300 mx-auto mb-4",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M17 20h5v-2a3 3 0 00-5.356-1.857M17 20H7m10 0v-2c0-.656-.126-1.283-.356-1.857M7 20H2v-2a3 3 0 015.356-1.857M7 20v-2c0-.656.126-1.283.356-1.857m0 0a5.002 5.002 0 019.288 0M15 7a3 3 0 11-6 0 3 3 0 016 0zm6 3a2 2 0 11-4 0 2 2 0 014 0zM7 10a2 2 0 11-4 0 2 2 0 014 0z"})}),e.jsx("h3",{className:"text-lg font-semibold text-gray-900 mb-2",children:"No Pickers Available"}),e.jsx("p",{className:"text-gray-600",children:"All pickers are currently busy. Please check back in a few minutes."})]}),n&&e.jsx("div",{className:"sticky bottom-0 bg-white border-t-2 border-gray-200 p-4 -mx-6 -mb-6 rounded-b-xl shadow-lg",children:e.jsx("button",{onClick:x,disabled:d,className:"w-full py-4 bg-gradient-to-r from-[#00897B] to-[#26A69A] text-white rounded-xl font-bold text-lg shadow-lg hover:shadow-xl transition-all duration-200 transform hover:-translate-y-1 disabled:opacity-50 disabled:cursor-not-allowed disabled:transform-none flex items-center justify-center gap-2",children:d?e.jsxs(e.Fragment,{children:[e.jsxs("svg",{className:"animate-spin h-5 w-5",fill:"none",viewBox:"0 0 24 24",children:[e.jsx("circle",{className:"opacity-25",cx:"12",cy:"12",r:"10",stroke:"currentColor",strokeWidth:"4"}),e.jsx("path",{className:"opacity-75",fill:"currentColor",d:"M4 12a8 8 0 018-8V0C5.373 0 0 5.373 0 12h4zm2 5.291A7.962 7.962 0 014 12H0c0 3.042 1.135 5.824 3 7.938l3-2.647z"})]}),"Assigning..."]}):e.jsxs(e.Fragment,{children:["âœ“ Assign to ",n.name]})})})]})}function P1({order:t,onStatusUpdate:s,isUpdating:r}){const[a,n]=J.useState(!1),[o,l]=J.useState(null),[c,d]=J.useState(""),h=()=>({pending:[{status:"confirmed",label:"Accept Order",icon:"âœ“",color:"green",description:"Confirm and start preparing this order"},{status:"cancelled",label:"Reject Order",icon:"âœ•",color:"red",description:"Cancel this order (requires reason)",requiresNote:!0}],confirmed:[{status:"preparing",label:"Start Preparing",icon:"ðŸ‘¨â€ðŸ³",color:"orange",description:"Begin preparing the order"},{status:"cancelled",label:"Cancel Order",icon:"âœ•",color:"red",description:"Cancel this order",requiresNote:!0}],preparing:[{status:"ready",label:"Mark as Ready",icon:"âœ“",color:"green",description:"Order is ready for pickup"}],ready:[{status:"out-for-delivery",label:"Out for Delivery",icon:"ðŸšš",color:"blue",description:"Rider has picked up the order"}],"out-for-delivery":[{status:"delivered",label:"Mark as Delivered",icon:"âœ“",color:"green",description:"Order has been delivered to customer"}],delivered:[{status:"completed",label:"Complete Order",icon:"âœ“",color:"gray",description:"Finalize and archive this order"}],assigned_picker:[{status:"picking",label:"Start Picking",icon:"ðŸ“¦",color:"purple",description:"Picker starts collecting items"}],picking:[{status:"picked",label:"Items Picked",icon:"âœ“",color:"purple",description:"All items have been picked"}],picked:[{status:"packing",label:"Start Packing",icon:"ðŸ“¦",color:"indigo",description:"Begin packing the items"}],packing:[{status:"ready_for_pickup",label:"Ready for Pickup",icon:"âœ“",color:"teal",description:"Order is packed and ready"}]})[t.status]||[],u=g=>{l(g),n(!0)},x=async()=>{if(!o)return;const g=o.requiresNote?c:"";if(o.requiresNote&&!g.trim()){alert("Please provide a reason for cancellation");return}try{await s(o.status,g),n(!1),l(null),d("")}catch(b){console.error("Error updating status:",b),alert("Failed to update order status. Please try again.")}},p=()=>{n(!1),l(null),d("")},m=h();if(m.length===0)return null;const y={green:{bg:"bg-gradient-to-r from-green-600 to-green-700",hover:"hover:from-green-700 hover:to-green-800",border:"border-green-600",text:"text-green-700"},red:{bg:"bg-gradient-to-r from-red-600 to-red-700",hover:"hover:from-red-700 hover:to-red-800",border:"border-red-600",text:"text-red-700"},orange:{bg:"bg-gradient-to-r from-orange-600 to-orange-700",hover:"hover:from-orange-700 hover:to-orange-800",border:"border-orange-600",text:"text-orange-700"},blue:{bg:"bg-gradient-to-r from-blue-600 to-blue-700",hover:"hover:from-blue-700 hover:to-blue-800",border:"border-blue-600",text:"text-blue-700"},purple:{bg:"bg-gradient-to-r from-purple-600 to-purple-700",hover:"hover:from-purple-700 hover:to-purple-800",border:"border-purple-600",text:"text-purple-700"},indigo:{bg:"bg-gradient-to-r from-indigo-600 to-indigo-700",hover:"hover:from-indigo-700 hover:to-indigo-800",border:"border-indigo-600",text:"text-indigo-700"},teal:{bg:"bg-gradient-to-r from-[#00897B] to-[#00695C]",hover:"hover:from-[#00695C] hover:to-[#004D40]",border:"border-[#00897B]",text:"text-[#00897B]"},gray:{bg:"bg-gradient-to-r from-gray-600 to-gray-700",hover:"hover:from-gray-700 hover:to-gray-800",border:"border-gray-600",text:"text-gray-700"}};return e.jsxs(e.Fragment,{children:[e.jsxs("div",{className:"bg-white rounded-xl p-6 shadow-lg border-2 border-[#FFB300]",children:[e.jsxs("h3",{className:"text-lg font-semibold text-gray-900 mb-4 flex items-center gap-2",children:[e.jsx("svg",{className:"w-5 h-5 text-[#FFB300]",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M13 10V3L4 14h7v7l9-11h-7z"})}),"Quick Actions"]}),e.jsx("div",{className:"flex flex-wrap gap-3",children:m.map(g=>{const b=y[g.color]||y.gray;return e.jsxs("button",{onClick:()=>u(g),disabled:r,className:`
                  flex items-center gap-2 px-6 py-3 rounded-lg font-semibold text-white
                  ${b.bg} ${b.hover}
                  shadow-md hover:shadow-lg
                  transition-all duration-200 transform hover:-translate-y-0.5
                  disabled:opacity-50 disabled:cursor-not-allowed disabled:transform-none
                `,children:[e.jsx("span",{className:"text-xl",children:g.icon}),e.jsx("span",{children:g.label}),r&&e.jsxs("svg",{className:"animate-spin h-4 w-4",fill:"none",viewBox:"0 0 24 24",children:[e.jsx("circle",{className:"opacity-25",cx:"12",cy:"12",r:"10",stroke:"currentColor",strokeWidth:"4"}),e.jsx("path",{className:"opacity-75",fill:"currentColor",d:"M4 12a8 8 0 018-8V0C5.373 0 0 5.373 0 12h4zm2 5.291A7.962 7.962 0 014 12H0c0 3.042 1.135 5.824 3 7.938l3-2.647z"})]})]},g.status)})})]}),a&&o&&e.jsx("div",{className:"fixed inset-0 bg-black/50 backdrop-blur-sm flex items-center justify-center z-[60] p-4 animate-fadeIn",children:e.jsxs("div",{className:"bg-white rounded-2xl shadow-2xl max-w-md w-full p-6 animate-slideUp",children:[e.jsx("div",{className:`w-16 h-16 rounded-full mx-auto mb-4 flex items-center justify-center ${o.color==="red"?"bg-red-100":"bg-green-100"}`,children:e.jsx("span",{className:"text-3xl",children:o.icon})}),e.jsx("h3",{className:"text-xl font-bold text-gray-900 text-center mb-2",children:o.label}),e.jsx("p",{className:"text-gray-600 text-center mb-4",children:o.description}),o.requiresNote&&e.jsxs("div",{className:"mb-4",children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Reason for cancellation *"}),e.jsx("textarea",{value:c,onChange:g=>d(g.target.value),placeholder:"Please provide a reason...",rows:"3",className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-[#FFB300] focus:border-transparent resize-none",required:!0})]}),e.jsxs("div",{className:"bg-gray-50 rounded-lg p-3 mb-4",children:[e.jsx("div",{className:"text-sm text-gray-600",children:"Order Number"}),e.jsx("div",{className:"font-semibold text-gray-900",children:t.orderNumber})]}),e.jsxs("div",{className:"flex gap-3",children:[e.jsx("button",{onClick:p,className:"flex-1 px-4 py-2 bg-gray-200 hover:bg-gray-300 text-gray-800 font-medium rounded-lg transition-colors",children:"Cancel"}),e.jsx("button",{onClick:x,disabled:o.requiresNote&&!c.trim(),className:`
                  flex-1 px-4 py-2 text-white font-medium rounded-lg transition-all
                  ${y[o.color].bg} ${y[o.color].hover}
                  shadow-md hover:shadow-lg
                  disabled:opacity-50 disabled:cursor-not-allowed
                `,children:"Confirm"})]})]})})]})}function F1({order:t}){var y;const[s,r]=J.useState(!1),[a,n]=J.useState(0),o=[{status:"pending",label:"Order Placed",icon:"ðŸ“‹",description:"Customer placed the order"},{status:"confirmed",label:"Order Confirmed",icon:"âœ“",description:"Vendor accepted the order"},{status:"assigned_picker",label:"Picker Assigned",icon:"ðŸ‘¤",description:"Order assigned to picker"},{status:"picking",label:"Picking Items",icon:"ðŸ›’",description:"Picker is collecting items"},{status:"picked",label:"Items Picked",icon:"âœ“",description:"All items collected"},{status:"packing",label:"Packing Order",icon:"ðŸ“¦",description:"Items being packed"},{status:"ready_for_pickup",label:"Ready for Pickup",icon:"âœ“",description:"Order ready for rider"},{status:"out-for-delivery",label:"Out for Delivery",icon:"ðŸšš",description:"Rider on the way"},{status:"delivered",label:"Delivered",icon:"âœ“",description:"Order delivered to customer"},{status:"completed",label:"Completed",icon:"âœ“",description:"Order completed"}],l={label:"Order Cancelled",icon:"âœ•",description:"Order was cancelled"},d=t.status==="cancelled"?-1:o.findIndex(g=>g.status===t.status),h=t.status==="cancelled",u=g=>h?"cancelled":g<d?"completed":g===d?"current":"upcoming",x=g=>{switch(g){case"completed":return{bg:"bg-[#00897B]",text:"text-[#00897B]",border:"border-[#00897B]",line:"bg-[#00897B]"};case"current":return{bg:"bg-[#FFB300]",text:"text-[#FFB300]",border:"border-[#FFB300]",line:"bg-gray-300"};case"cancelled":return{bg:"bg-red-500",text:"text-red-500",border:"border-red-500",line:"bg-gray-300"};default:return{bg:"bg-gray-300",text:"text-gray-400",border:"border-gray-300",line:"bg-gray-300"}}},p=t.statusHistory||[{status:"pending",timestamp:t.createdAt,note:"Order placed by customer",user:"System"},...t.status!=="pending"?[{status:t.status,timestamp:t.updatedAt,note:"Current status",user:"Vendor"}]:[]],m=s?p:p.slice(0,3);return J.useEffect(()=>{const g=(d+1)/o.length*100;let b=0;const w=g/50,N=setInterval(()=>{b+=w,b>=g?(n(g),clearInterval(N)):n(b)},20);return()=>clearInterval(N)},[d,o.length]),e.jsxs("div",{className:"space-y-6",children:[e.jsxs("div",{className:"bg-gradient-to-br from-[#FFB300] to-[#FFA726] rounded-xl p-6 text-white shadow-lg animate-slideDown",children:[e.jsx("h3",{className:"text-2xl font-bold mb-2",children:"Order Timeline"}),e.jsxs("p",{className:"text-gray-900",children:["Track the progress of order ",t.orderNumber]})]}),!h&&e.jsxs("div",{className:"bg-white rounded-xl p-6 shadow-lg border border-gray-200 animate-fadeIn",children:[e.jsxs("div",{className:"flex items-center justify-between mb-3",children:[e.jsx("h4",{className:"text-lg font-semibold text-gray-900",children:"Overall Progress"}),e.jsxs("span",{className:"text-2xl font-bold bg-gradient-to-r from-[#00897B] to-[#00695C] bg-clip-text text-transparent",children:[Math.round(a),"%"]})]}),e.jsxs("div",{className:"relative w-full h-6 bg-gray-200 rounded-full overflow-hidden shadow-inner",children:[e.jsx("div",{className:"absolute top-0 left-0 h-full bg-gradient-to-r from-[#00897B] via-[#00695C] to-[#00897B] rounded-full transition-all duration-1000 ease-out shadow-lg animate-shimmer",style:{width:`${a}%`},children:e.jsx("div",{className:"absolute inset-0 bg-gradient-to-r from-transparent via-white to-transparent opacity-30 animate-pulse"})}),o.map((g,b)=>{const w=(b+1)/o.length*100;return e.jsx("div",{className:"absolute top-1/2 transform -translate-y-1/2 w-2 h-2 bg-white rounded-full shadow-md",style:{left:`${w}%`,marginLeft:"-4px"}},b)})]}),e.jsxs("div",{className:"flex justify-between mt-2 text-xs text-gray-500",children:[e.jsx("span",{children:"Started"}),e.jsx("span",{className:"font-semibold text-[#FFB300]",children:((y=o[d])==null?void 0:y.label)||"Unknown"}),e.jsx("span",{children:"Completed"})]})]}),e.jsxs("div",{className:"bg-white rounded-xl p-6 shadow-lg border border-gray-200",children:[e.jsx("h4",{className:"text-lg font-semibold text-gray-900 mb-6",children:"Progress Stages"}),e.jsx("div",{className:"relative",children:h?e.jsxs("div",{className:"relative flex items-start gap-4",children:[e.jsx("div",{className:"relative z-10 flex-shrink-0",children:e.jsx("div",{className:"w-10 h-10 rounded-full flex items-center justify-center border-4 border-white shadow-lg bg-red-500",children:e.jsx("span",{className:"text-white text-xl",children:l.icon})})}),e.jsxs("div",{className:"flex-1 pt-1",children:[e.jsx("h5",{className:"font-bold text-lg text-red-500 mb-1",children:l.label}),e.jsx("p",{className:"text-sm text-gray-600",children:l.description}),t.cancellationReason&&e.jsx("div",{className:"mt-2 p-3 bg-red-50 border-l-4 border-red-500 rounded",children:e.jsxs("p",{className:"text-sm text-gray-700",children:[e.jsx("span",{className:"font-semibold",children:"Reason:"})," ",t.cancellationReason]})})]})]}):o.map((g,b)=>{const w=u(b),N=x(w),j=b===o.length-1;return e.jsxs("div",{className:"relative flex items-start gap-4 pb-8 animate-slideIn",style:{animationDelay:`${b*100}ms`},children:[!j&&e.jsx("div",{className:"absolute left-5 top-12 w-0.5 h-full",children:e.jsx("div",{className:`w-full transition-all duration-500 ${N.line}`,style:{height:w==="completed"?"100%":w==="current"?"50%":"0%"}})}),e.jsxs("div",{className:"relative z-10 flex-shrink-0",children:[e.jsx("div",{className:`
                        w-10 h-10 rounded-full flex items-center justify-center
                        border-4 border-white shadow-lg transform transition-all duration-500
                        ${N.bg}
                        ${w==="current"?"animate-pulseGlow scale-110 ring-4 ring-[#FFB300] ring-opacity-50":""}
                        ${w==="completed"?"animate-bounceIn":""}
                        ${w==="upcoming"?"scale-90 opacity-50":""}
                      `,children:e.jsx("span",{className:"text-white text-xl",children:g.icon})}),w==="completed"&&e.jsx("div",{className:"absolute -top-1 -right-1 w-5 h-5 bg-[#00897B] rounded-full flex items-center justify-center animate-checkmark",children:e.jsx("svg",{className:"w-3 h-3 text-white",fill:"currentColor",viewBox:"0 0 20 20",children:e.jsx("path",{fillRule:"evenodd",d:"M16.707 5.293a1 1 0 010 1.414l-8 8a1 1 0 01-1.414 0l-4-4a1 1 0 011.414-1.414L8 12.586l7.293-7.293a1 1 0 011.414 0z",clipRule:"evenodd"})})}),w==="current"&&e.jsx("div",{className:"absolute inset-0 rounded-full bg-[#FFB300] animate-ping opacity-20"})]}),e.jsxs("div",{className:"flex-1 pt-1",children:[e.jsxs("div",{className:"flex items-center justify-between mb-1",children:[e.jsx("h5",{className:`font-bold text-lg ${N.text}`,children:g.label}),w==="completed"&&p.find(k=>k.status===g.status)&&e.jsx("span",{className:"text-sm text-gray-500",children:new Date(p.find(k=>k.status===g.status).timestamp).toLocaleString("en-GB",{dateStyle:"short",timeStyle:"short"})}),w==="current"&&e.jsx("span",{className:"px-3 py-1 bg-[#FFB300] text-gray-900 text-xs font-semibold rounded-full",children:"Current"})]}),e.jsx("p",{className:"text-sm text-gray-600",children:g.description}),w==="current"&&e.jsx("div",{className:"mt-2 p-3 bg-yellow-50 border-l-4 border-[#FFB300] rounded",children:e.jsxs("p",{className:"text-sm text-gray-700",children:[e.jsx("span",{className:"font-semibold",children:"In Progress:"})," This stage is currently active"]})})]})]},g.status)})})]}),e.jsxs("div",{className:"bg-white rounded-xl p-6 shadow-lg border border-gray-200",children:[e.jsxs("h4",{className:"text-lg font-semibold text-gray-900 mb-4 flex items-center gap-2",children:[e.jsx("svg",{className:"w-5 h-5 text-[#00897B]",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M12 8v4l3 3m6-3a9 9 0 11-18 0 9 9 0 0118 0z"})}),"Status History"]}),e.jsx("div",{className:"space-y-3",children:m.map((g,b)=>e.jsxs("div",{className:"flex items-start gap-4 p-4 bg-gray-50 rounded-lg hover:bg-gray-100 transition-colors",children:[e.jsx("div",{className:"flex-shrink-0 w-2 h-2 mt-2 rounded-full bg-[#00897B]"}),e.jsxs("div",{className:"flex-1 min-w-0",children:[e.jsxs("div",{className:"flex items-start justify-between gap-2 mb-1",children:[e.jsx("h5",{className:"font-semibold text-gray-900 capitalize",children:g.status.replace(/_/g," ").replace(/-/g," ")}),e.jsx("span",{className:"text-sm text-gray-500 whitespace-nowrap",children:new Date(g.timestamp).toLocaleString("en-GB",{dateStyle:"short",timeStyle:"short"})})]}),g.note&&e.jsx("p",{className:"text-sm text-gray-600",children:g.note}),g.user&&e.jsxs("p",{className:"text-xs text-gray-500 mt-1",children:["By ",g.user]})]})]},b))}),p.length>3&&e.jsx("button",{onClick:()=>r(!s),className:"mt-4 w-full py-2 text-[#00897B] font-medium hover:bg-gray-50 rounded-lg transition-colors",children:s?"â–² Show Less":`â–¼ Show ${p.length-3} More`})]}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4",children:[e.jsxs("div",{className:"bg-gradient-to-br from-blue-50 to-blue-100 rounded-xl p-5 shadow-md border border-blue-200",children:[e.jsxs("div",{className:"flex items-center gap-3 mb-2",children:[e.jsx("div",{className:"w-10 h-10 rounded-full bg-blue-500 flex items-center justify-center",children:e.jsx("svg",{className:"w-5 h-5 text-white",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M12 8v4l3 3m6-3a9 9 0 11-18 0 9 9 0 0118 0z"})})}),e.jsx("h5",{className:"font-semibold text-gray-900",children:"Total Time"})]}),e.jsxs("p",{className:"text-2xl font-bold text-blue-700",children:[Math.round((new Date-new Date(t.createdAt))/1e3/60)," mins"]}),e.jsx("p",{className:"text-sm text-gray-600 mt-1",children:"Since order placed"})]}),e.jsxs("div",{className:"bg-gradient-to-br from-green-50 to-green-100 rounded-xl p-5 shadow-md border border-green-200",children:[e.jsxs("div",{className:"flex items-center gap-3 mb-2",children:[e.jsx("div",{className:"w-10 h-10 rounded-full bg-green-500 flex items-center justify-center",children:e.jsx("svg",{className:"w-5 h-5 text-white",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M9 12l2 2 4-4m6 2a9 9 0 11-18 0 9 9 0 0118 0z"})})}),e.jsx("h5",{className:"font-semibold text-gray-900",children:"Progress"})]}),e.jsxs("p",{className:"text-2xl font-bold text-green-700",children:[Math.round((d+1)/o.length*100),"%"]}),e.jsx("p",{className:"text-sm text-gray-600 mt-1",children:"Order completion"})]}),e.jsxs("div",{className:"bg-gradient-to-br from-purple-50 to-purple-100 rounded-xl p-5 shadow-md border border-purple-200",children:[e.jsxs("div",{className:"flex items-center gap-3 mb-2",children:[e.jsx("div",{className:"w-10 h-10 rounded-full bg-purple-500 flex items-center justify-center",children:e.jsx("svg",{className:"w-5 h-5 text-white",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M13 10V3L4 14h7v7l9-11h-7z"})})}),e.jsx("h5",{className:"font-semibold text-gray-900",children:"Updates"})]}),e.jsx("p",{className:"text-2xl font-bold text-purple-700",children:p.length}),e.jsx("p",{className:"text-sm text-gray-600 mt-1",children:"Status changes"})]})]}),e.jsx("style",{jsx:!0,children:`
        @keyframes slideDown {
          from {
            opacity: 0;
            transform: translateY(-20px);
          }
          to {
            opacity: 1;
            transform: translateY(0);
          }
        }

        @keyframes fadeIn {
          from {
            opacity: 0;
          }
          to {
            opacity: 1;
          }
        }

        @keyframes slideIn {
          from {
            opacity: 0;
            transform: translateX(-20px);
          }
          to {
            opacity: 1;
            transform: translateX(0);
          }
        }

        @keyframes pulseGlow {
          0%, 100% {
            box-shadow: 0 0 20px rgba(255, 179, 0, 0.5);
          }
          50% {
            box-shadow: 0 0 40px rgba(255, 179, 0, 0.8);
          }
        }

        @keyframes bounceIn {
          0% {
            transform: scale(0.5);
            opacity: 0;
          }
          50% {
            transform: scale(1.1);
          }
          100% {
            transform: scale(1);
            opacity: 1;
          }
        }

        @keyframes checkmark {
          0% {
            transform: scale(0) rotate(-45deg);
            opacity: 0;
          }
          50% {
            transform: scale(1.2) rotate(0deg);
          }
          100% {
            transform: scale(1) rotate(0deg);
            opacity: 1;
          }
        }

        @keyframes shimmer {
          0% {
            background-position: -200% center;
          }
          100% {
            background-position: 200% center;
          }
        }

        .animate-slideDown {
          animation: slideDown 0.5s ease-out;
        }

        .animate-fadeIn {
          animation: fadeIn 0.6s ease-out;
        }

        .animate-slideIn {
          animation: slideIn 0.5s ease-out forwards;
          opacity: 0;
        }

        .animate-pulseGlow {
          animation: pulseGlow 2s ease-in-out infinite;
        }

        .animate-bounceIn {
          animation: bounceIn 0.6s cubic-bezier(0.68, -0.55, 0.265, 1.55);
        }

        .animate-checkmark {
          animation: checkmark 0.4s ease-out;
        }

        .animate-shimmer {
          background-size: 200% 100%;
          animation: shimmer 3s linear infinite;
        }
      `})]})}function L1({order:t,onRatingSubmitted:s}){var m,y,g;const[r,a]=J.useState(((m=t==null?void 0:t.riderRating)==null?void 0:m.rating)||0),[n,o]=J.useState(0),[l,c]=J.useState(((y=t==null?void 0:t.riderRating)==null?void 0:y.feedback)||""),[d,h]=J.useState(!1),u=!!(t!=null&&t.riderRating),x=async b=>{var w,N;if(b.preventDefault(),r===0){alert("Please select a rating");return}try{h(!0);const j=await xr.rateRider(t._id,{rating:r,feedback:l.trim()});j.success&&(alert("Thank you for rating the delivery agent!"),s&&s(j.data))}catch(j){console.error("Rating submission error:",j),alert(((N=(w=j.response)==null?void 0:w.data)==null?void 0:N.message)||"Failed to submit rating")}finally{h(!1)}},p=()=>e.jsx("div",{className:"flex items-center space-x-2",children:[1,2,3,4,5].map(b=>e.jsx("button",{type:"button",disabled:u||d,onMouseEnter:()=>!u&&o(b),onMouseLeave:()=>!u&&o(0),onClick:()=>!u&&a(b),className:`text-4xl transition-all transform ${u?"cursor-default":"cursor-pointer hover:scale-110"} ${b<=(n||r)?"animate-starPulse":""}`,children:b<=(n||r)?e.jsx("span",{className:"text-afri-yellow drop-shadow-lg",children:"â­"}):e.jsx("span",{className:"text-gray-300",children:"â˜†"})},b))});return t!=null&&t.rider?e.jsxs("div",{className:"bg-white rounded-xl shadow-lg p-6 space-y-6 animate-fadeIn",children:[e.jsxs("div",{className:"flex items-center space-x-4 pb-4 border-b",children:[e.jsx("div",{className:"w-16 h-16 rounded-full bg-gradient-to-br from-afri-green to-afri-green-dark flex items-center justify-center text-white text-2xl font-bold shadow-lg",children:((g=t.rider.name)==null?void 0:g.charAt(0).toUpperCase())||"R"}),e.jsxs("div",{children:[e.jsx("h3",{className:"text-xl font-bold text-afri-gray-900",children:u?"Your Rating":"Rate Delivery Agent"}),e.jsx("p",{className:"text-afri-gray-600",children:t.rider.name}),t.rider.phone&&e.jsx("p",{className:"text-sm text-afri-gray-500",children:t.rider.phone})]}),u&&e.jsx("div",{className:"ml-auto",children:e.jsxs("div",{className:"bg-green-100 text-green-800 px-4 py-2 rounded-lg font-semibold flex items-center",children:[e.jsx("svg",{className:"w-5 h-5 mr-2",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M5 13l4 4L19 7"})}),"Rated"]})})]}),e.jsxs("form",{onSubmit:x,className:"space-y-6",children:[e.jsxs("div",{className:"text-center",children:[e.jsx("label",{className:"block text-sm font-semibold text-afri-gray-900 mb-3",children:"How was your delivery experience?"}),p(),e.jsx("div",{className:"mt-2",children:r>0&&e.jsxs("p",{className:"text-sm text-afri-gray-600 animate-slideDown",children:[r===5&&"ðŸŽ‰ Excellent!",r===4&&"ðŸ˜Š Great!",r===3&&"ðŸ‘ Good",r===2&&"ðŸ˜ Could be better",r===1&&"ðŸ˜ž Poor"]})})]}),e.jsxs("div",{children:[e.jsxs("label",{className:"block text-sm font-semibold text-afri-gray-900 mb-2",children:["Additional Feedback ",!u&&e.jsx("span",{className:"text-afri-gray-500 font-normal",children:"(Optional)"})]}),e.jsx("textarea",{value:l,onChange:b=>c(b.target.value),disabled:u||d,rows:4,placeholder:u?"No feedback provided":"Share your thoughts about the delivery service...",className:`w-full px-4 py-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-afri-green focus:border-transparent resize-none ${u?"bg-gray-50 cursor-default":""}`})]}),!u&&e.jsx("div",{className:"flex justify-end",children:e.jsx("button",{type:"submit",disabled:d||r===0,className:"px-8 py-3 bg-gradient-to-r from-afri-green to-afri-green-dark text-white rounded-lg font-semibold shadow-lg hover:shadow-xl transition-all transform hover:scale-105 disabled:opacity-50 disabled:cursor-not-allowed disabled:transform-none flex items-center",children:d?e.jsxs(e.Fragment,{children:[e.jsxs("svg",{className:"animate-spin h-5 w-5 mr-2",fill:"none",viewBox:"0 0 24 24",children:[e.jsx("circle",{className:"opacity-25",cx:"12",cy:"12",r:"10",stroke:"currentColor",strokeWidth:"4"}),e.jsx("path",{className:"opacity-75",fill:"currentColor",d:"M4 12a8 8 0 018-8V0C5.373 0 0 5.373 0 12h4zm2 5.291A7.962 7.962 0 014 12H0c0 3.042 1.135 5.824 3 7.938l3-2.647z"})]}),"Submitting..."]}):e.jsxs(e.Fragment,{children:[e.jsx("svg",{className:"w-5 h-5 mr-2",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M11.049 2.927c.3-.921 1.603-.921 1.902 0l1.519 4.674a1 1 0 00.95.69h4.915c.969 0 1.371 1.24.588 1.81l-3.976 2.888a1 1 0 00-.363 1.118l1.518 4.674c.3.922-.755 1.688-1.538 1.118l-3.976-2.888a1 1 0 00-1.176 0l-3.976 2.888c-.783.57-1.838-.197-1.538-1.118l1.518-4.674a1 1 0 00-.363-1.118l-3.976-2.888c-.784-.57-.38-1.81.588-1.81h4.914a1 1 0 00.951-.69l1.519-4.674z"})}),"Submit Rating"]})})}),u&&e.jsx("div",{className:"bg-gradient-to-r from-green-50 to-blue-50 rounded-lg p-4 text-center",children:e.jsx("p",{className:"text-sm text-afri-gray-700",children:"Thank you for your feedback! Your rating helps us improve our delivery service."})})]}),e.jsx("style",{jsx:!0,children:`
        @keyframes fadeIn {
          from {
            opacity: 0;
            transform: translateY(10px);
          }
          to {
            opacity: 1;
            transform: translateY(0);
          }
        }

        @keyframes slideDown {
          from {
            opacity: 0;
            transform: translateY(-10px);
          }
          to {
            opacity: 1;
            transform: translateY(0);
          }
        }

        @keyframes starPulse {
          0%,
          100% {
            transform: scale(1);
          }
          50% {
            transform: scale(1.1);
          }
        }

        .animate-fadeIn {
          animation: fadeIn 0.5s ease-out;
        }

        .animate-slideDown {
          animation: slideDown 0.3s ease-out;
        }

        .animate-starPulse {
          animation: starPulse 0.3s ease-out;
        }
      `})]}):e.jsx("div",{className:"bg-gray-50 rounded-xl p-6 text-center",children:e.jsx("p",{className:"text-afri-gray-600",children:"No delivery agent assigned to this order"})})}const O1={pending:"bg-gradient-to-r from-yellow-400 to-yellow-500 text-gray-900",confirmed:"bg-gradient-to-r from-blue-500 to-blue-600 text-white",assigned_picker:"bg-gradient-to-r from-purple-500 to-purple-600 text-white",picking:"bg-gradient-to-r from-purple-600 to-purple-700 text-white",picked:"bg-gradient-to-r from-purple-700 to-purple-800 text-white",packing:"bg-gradient-to-r from-indigo-500 to-indigo-600 text-white",ready_for_pickup:"bg-gradient-to-r from-teal-500 to-teal-600 text-white",preparing:"bg-gradient-to-r from-orange-500 to-orange-600 text-white",ready:"bg-gradient-to-r from-green-600 to-green-700 text-white","out-for-delivery":"bg-gradient-to-r from-blue-600 to-blue-700 text-white",delivered:"bg-gradient-to-r from-green-700 to-green-800 text-white",completed:"bg-gradient-to-r from-gray-700 to-gray-800 text-white",cancelled:"bg-gradient-to-r from-red-500 to-red-600 text-white"},D1={pending:"Pending",confirmed:"Confirmed",assigned_picker:"Picker Assigned",picking:"Picking Items",picked:"Items Picked",packing:"Packing",ready_for_pickup:"Ready for Pickup",preparing:"Preparing",ready:"Ready","out-for-delivery":"Out for Delivery",delivered:"Delivered",completed:"Completed",cancelled:"Cancelled"};function I1({order:t,onClose:s,onStatusUpdate:r,onRefresh:a}){var g,b,w,N,j,k,L,F,T,C,I,D,E,P,W,z,ue,Q,ee,ie,ne,pe;const[n,o]=J.useState("details"),[l,c]=J.useState([]),[d,h]=J.useState(!1);J.useEffect(()=>{if(t.status==="packing"||t.status==="picking"){const ye=t.items.map(_=>({itemId:_._id||_.productId,packed:!1}));c(ye)}},[t]);const u=async(ye,_="")=>{h(!0);try{await r(t._id,ye,_),a&&await a()}catch(R){console.error("Error updating status:",R)}finally{h(!1)}},x=ye=>{c(ye),ye.every(R=>R.packed)&&u("ready_for_pickup","All items packed and ready")},p=async ye=>{try{await u("assigned_picker",`Picker ${ye} assigned`)}catch(_){console.error("Error assigning picker:",_)}},m=t.items.reduce((ye,_)=>ye+_.quantity,0),y=Math.ceil(m*2);return e.jsx("div",{className:"fixed inset-0 bg-black/60 backdrop-blur-sm flex items-center justify-center z-50 p-4 animate-fadeIn",children:e.jsxs("div",{className:"bg-white rounded-2xl shadow-2xl max-w-6xl w-full max-h-[95vh] overflow-hidden flex flex-col animate-slideUp",children:[e.jsx("div",{className:"bg-gradient-to-r from-[#FFB300] to-[#FFA726] text-gray-900 p-6",children:e.jsxs("div",{className:"flex justify-between items-start",children:[e.jsxs("div",{children:[e.jsx("h2",{className:"text-3xl font-bold",children:t.orderNumber}),e.jsxs("p",{className:"text-gray-800 mt-1 text-sm",children:["Placed on ",new Date(t.createdAt).toLocaleString("en-GB",{dateStyle:"medium",timeStyle:"short"})]}),e.jsxs("div",{className:"mt-2 flex items-center gap-3",children:[e.jsx("span",{className:`px-4 py-1.5 inline-flex text-sm font-semibold rounded-full shadow-lg ${O1[t.status]}`,children:D1[t.status]}),e.jsxs("span",{className:"text-sm text-gray-800",children:[m," items â€¢ Est. ",y," mins"]})]})]}),e.jsx("button",{onClick:s,className:"text-gray-900 hover:text-gray-700 transition-all hover:rotate-90 duration-300",children:e.jsx("svg",{className:"w-8 h-8",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2.5,d:"M6 18L18 6M6 6l12 12"})})})]})}),e.jsx("div",{className:"border-b border-gray-200 bg-gray-50",children:e.jsx("div",{className:"flex overflow-x-auto",children:[{id:"details",label:"Order Details",icon:"ðŸ“‹"},{id:"timeline",label:"Timeline",icon:"ðŸ“"},{id:"packing",label:"Packing",icon:"ðŸ“¦",show:["packing","picking","assigned_picker"].includes(t.status)},{id:"picker",label:"Picker",icon:"ðŸ‘¤",show:["pending","confirmed"].includes(t.status)},{id:"rating",label:"Rate Rider",icon:"â­",show:["delivered","completed"].includes(t.status)}].map(ye=>ye.show===!1||ye.show&&!ye.show?null:e.jsxs("button",{onClick:()=>o(ye.id),className:`px-6 py-4 text-sm font-medium transition-all duration-200 border-b-2 whitespace-nowrap ${n===ye.id?"border-[#FFB300] text-[#FFB300] bg-white":"border-transparent text-gray-600 hover:text-[#FFB300] hover:bg-gray-100"}`,children:[e.jsx("span",{className:"mr-2",children:ye.icon}),ye.label]},ye.id))})}),e.jsxs("div",{className:"flex-1 overflow-y-auto p-6",children:[n==="details"&&e.jsxs("div",{className:"space-y-6",children:[e.jsx(P1,{order:t,onStatusUpdate:u,isUpdating:d}),e.jsxs("div",{className:"bg-gradient-to-br from-gray-50 to-gray-100 rounded-xl p-6 shadow-sm border border-gray-200",children:[e.jsxs("h3",{className:"text-lg font-semibold text-gray-900 mb-4 flex items-center gap-2",children:[e.jsx("svg",{className:"w-5 h-5 text-[#00897B]",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M16 7a4 4 0 11-8 0 4 4 0 018 0zM12 14a7 7 0 00-7 7h14a7 7 0 00-7-7z"})}),"Customer Information"]}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[e.jsxs("div",{className:"bg-white rounded-lg p-4 shadow-sm",children:[e.jsx("p",{className:"text-sm text-gray-500 mb-1",children:"Name"}),e.jsx("p",{className:"font-semibold text-gray-900",children:((g=t.deliveryAddress)==null?void 0:g.fullName)||((b=t.customer)==null?void 0:b.name)||"N/A"})]}),e.jsxs("div",{className:"bg-white rounded-lg p-4 shadow-sm",children:[e.jsx("p",{className:"text-sm text-gray-500 mb-1",children:"Phone"}),e.jsx("p",{className:"font-semibold text-gray-900",children:((w=t.deliveryAddress)==null?void 0:w.phone)||((N=t.customer)==null?void 0:N.phone)||"N/A"})]}),e.jsxs("div",{className:"col-span-1 md:col-span-2 bg-white rounded-lg p-4 shadow-sm",children:[e.jsx("p",{className:"text-sm text-gray-500 mb-1",children:"Delivery Address"}),e.jsxs("p",{className:"font-semibold text-gray-900",children:[(j=t.deliveryAddress)==null?void 0:j.street,", ",(k=t.deliveryAddress)==null?void 0:k.city,", ",(L=t.deliveryAddress)==null?void 0:L.state," ",(F=t.deliveryAddress)==null?void 0:F.postalCode]}),((T=t.deliveryAddress)==null?void 0:T.instructions)&&e.jsx("div",{className:"mt-2 p-3 bg-yellow-50 border-l-4 border-[#FFB300] rounded",children:e.jsxs("p",{className:"text-sm text-gray-700",children:[e.jsx("span",{className:"font-semibold",children:"Delivery Note:"})," ",t.deliveryAddress.instructions]})})]})]})]}),e.jsxs("div",{className:"bg-white rounded-xl shadow-lg border border-gray-200 overflow-hidden",children:[e.jsx("div",{className:"bg-gradient-to-r from-[#00897B] to-[#26A69A] text-white px-6 py-4",children:e.jsxs("h3",{className:"text-lg font-semibold flex items-center gap-2",children:[e.jsx("svg",{className:"w-5 h-5",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M3 3h2l.4 2M7 13h10l4-8H5.4M7 13L5.4 5M7 13l-2.293 2.293c-.63.63-.184 1.707.707 1.707H17m0 0a2 2 0 100 4 2 2 0 000-4zm-8 2a2 2 0 11-4 0 2 2 0 014 0z"})}),"Order Items (",((C=t.items)==null?void 0:C.length)||0,")"]})}),e.jsx("div",{className:"overflow-x-auto",children:e.jsxs("table",{className:"min-w-full divide-y divide-gray-200",children:[e.jsx("thead",{className:"bg-gray-50",children:e.jsxs("tr",{children:[e.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-700 uppercase tracking-wider",children:"Product"}),e.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-700 uppercase tracking-wider",children:"Price"}),e.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-700 uppercase tracking-wider",children:"Quantity"}),e.jsx("th",{className:"px-6 py-3 text-right text-xs font-medium text-gray-700 uppercase tracking-wider",children:"Subtotal"})]})}),e.jsx("tbody",{className:"bg-white divide-y divide-gray-200",children:(I=t.items)==null?void 0:I.map((ye,_)=>{var R,M;return e.jsxs("tr",{className:"hover:bg-gray-50 transition-colors",children:[e.jsx("td",{className:"px-6 py-4",children:e.jsxs("div",{className:"flex items-center gap-3",children:[ye.image&&e.jsx("img",{src:ye.image,alt:ye.name,className:"w-12 h-12 object-cover rounded-lg shadow-sm"}),e.jsxs("div",{children:[e.jsx("div",{className:"text-sm font-medium text-gray-900",children:ye.name}),ye.notes&&e.jsxs("div",{className:"text-xs text-gray-500 mt-1",children:["Note: ",ye.notes]})]})]})}),e.jsxs("td",{className:"px-6 py-4 text-sm text-gray-900",children:["Â£",(R=ye.price)==null?void 0:R.toFixed(2)]}),e.jsx("td",{className:"px-6 py-4 text-sm text-gray-900",children:e.jsxs("span",{className:"inline-flex items-center px-3 py-1 rounded-full bg-gray-100 font-medium",children:[ye.quantity," ",ye.unit]})}),e.jsxs("td",{className:"px-6 py-4 text-sm text-gray-900 text-right font-semibold",children:["Â£",(M=ye.subtotal)==null?void 0:M.toFixed(2)]})]},_)})})]})})]}),e.jsxs("div",{className:"bg-gradient-to-br from-gray-50 to-gray-100 rounded-xl p-6 shadow-lg border border-gray-200",children:[e.jsxs("div",{className:"space-y-3",children:[e.jsxs("div",{className:"flex justify-between text-sm",children:[e.jsx("span",{className:"text-gray-600",children:"Subtotal"}),e.jsxs("span",{className:"text-gray-900 font-medium",children:["Â£",(E=(D=t.pricing)==null?void 0:D.subtotal)==null?void 0:E.toFixed(2)]})]}),((P=t.pricing)==null?void 0:P.deliveryFee)>0&&e.jsxs("div",{className:"flex justify-between text-sm",children:[e.jsx("span",{className:"text-gray-600",children:"Delivery Fee"}),e.jsxs("span",{className:"text-gray-900 font-medium",children:["Â£",t.pricing.deliveryFee.toFixed(2)]})]}),((W=t.pricing)==null?void 0:W.tax)>0&&e.jsxs("div",{className:"flex justify-between text-sm",children:[e.jsx("span",{className:"text-gray-600",children:"Tax (VAT)"}),e.jsxs("span",{className:"text-gray-900 font-medium",children:["Â£",t.pricing.tax.toFixed(2)]})]}),((z=t.pricing)==null?void 0:z.discount)>0&&e.jsxs("div",{className:"flex justify-between text-sm text-[#00897B]",children:[e.jsx("span",{children:"Discount"}),e.jsxs("span",{className:"font-medium",children:["-Â£",t.pricing.discount.toFixed(2)]})]}),e.jsxs("div",{className:"border-t-2 border-gray-300 pt-3 flex justify-between items-center",children:[e.jsx("span",{className:"font-bold text-lg text-gray-900",children:"Total"}),e.jsxs("span",{className:"font-bold text-2xl text-[#00897B]",children:["Â£",(Q=(ue=t.pricing)==null?void 0:ue.total)==null?void 0:Q.toFixed(2)]})]})]}),e.jsxs("div",{className:"mt-4 pt-4 border-t border-gray-300 flex flex-wrap items-center justify-between gap-2",children:[e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx("span",{className:"text-sm text-gray-500",children:"Payment Method:"}),e.jsx("span",{className:"font-semibold text-gray-900 capitalize px-3 py-1 bg-white rounded-lg shadow-sm",children:((ee=t.payment)==null?void 0:ee.method)||"N/A"})]}),e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx("span",{className:"text-sm text-gray-500",children:"Status:"}),e.jsx("span",{className:`font-semibold px-3 py-1 rounded-lg shadow-sm ${((ie=t.payment)==null?void 0:ie.status)==="paid"?"bg-green-100 text-green-700":"bg-yellow-100 text-yellow-700"}`,children:((pe=(ne=t.payment)==null?void 0:ne.status)==null?void 0:pe.toUpperCase())||"PENDING"})]})]})]})]}),n==="timeline"&&e.jsx(F1,{order:t}),n==="packing"&&e.jsx(T1,{order:t,onPackingComplete:x,onStatusUpdate:u}),n==="picker"&&e.jsx(E1,{order:t,onPickerAssigned:p}),n==="rating"&&e.jsx(L1,{order:t,onRatingSubmitted:a})]}),e.jsxs("div",{className:"bg-gray-50 px-6 py-4 border-t border-gray-200 flex justify-between items-center",children:[e.jsxs("div",{className:"text-sm text-gray-600",children:["Last updated: ",new Date(t.updatedAt||t.createdAt).toLocaleString("en-GB",{dateStyle:"short",timeStyle:"short"})]}),e.jsx("button",{onClick:s,className:"px-6 py-2 bg-gray-200 hover:bg-gray-300 text-gray-800 font-medium rounded-lg transition-all duration-200 shadow-sm hover:shadow-md",children:"Close"})]})]})})}const R1={pending:"bg-gradient-to-r from-yellow-400 to-yellow-500 text-gray-900",confirmed:"bg-gradient-to-r from-blue-500 to-blue-600 text-white",assigned_picker:"bg-gradient-to-r from-purple-500 to-purple-600 text-white",picking:"bg-gradient-to-r from-purple-600 to-purple-700 text-white",picked:"bg-gradient-to-r from-purple-700 to-purple-800 text-white",packing:"bg-gradient-to-r from-indigo-500 to-indigo-600 text-white",ready_for_pickup:"bg-gradient-to-r from-teal-500 to-teal-600 text-white",preparing:"bg-gradient-to-r from-orange-500 to-orange-600 text-white",ready:"bg-gradient-to-r from-green-600 to-green-700 text-white","out-for-delivery":"bg-gradient-to-r from-blue-600 to-blue-700 text-white",delivered:"bg-gradient-to-r from-green-700 to-green-800 text-white",completed:"bg-gradient-to-r from-gray-700 to-gray-800 text-white",cancelled:"bg-gradient-to-r from-red-500 to-red-600 text-white"},su={pending:"Pending",confirmed:"Confirmed",assigned_picker:"Picker Assigned",picking:"Picking Items",picked:"Items Picked",packing:"Packing",ready_for_pickup:"Ready for Pickup",preparing:"Preparing",ready:"Ready","out-for-delivery":"Out for Delivery",delivered:"Delivered",completed:"Completed",cancelled:"Cancelled"};function M1(){const[t,s]=J.useState([]),[r,a]=J.useState(!0),[n,o]=J.useState(null),[l,c]=J.useState(!1),[d,h]=J.useState({status:"",search:"",page:1,limit:20}),[u,x]=J.useState({total:0,pages:0,currentPage:1});J.useEffect(()=>{p()},[d]);const p=async()=>{try{a(!0);const w=await xr.getOrders(d);w.success&&(s(w.data.orders),x(w.data.pagination))}catch(w){console.error("Error fetching orders:",w)}finally{a(!1)}},m=w=>{h({...d,status:w===d.status?"":w,page:1})},y=w=>{h({...d,search:w.target.value,page:1})},g=async w=>{try{const N=await xr.getOrder(w);N.success&&(o(N.data.order),c(!0))}catch(N){console.error("Error fetching order details:",N)}},b=async(w,N,j="")=>{var k,L;try{if((await xr.updateOrderStatus(w,{status:N,note:j})).success&&(p(),n&&n._id===w)){const T=await xr.getOrder(w);T.success&&o(T.data.order)}}catch(F){console.error("Error updating order status:",F),alert(((L=(k=F.response)==null?void 0:k.data)==null?void 0:L.message)||"Failed to update order status")}};return e.jsxs("div",{className:"p-6",children:[e.jsxs("div",{className:"mb-6",children:[e.jsx("h1",{className:"text-3xl font-bold text-afri-gray-900",children:"Orders"}),e.jsx("p",{className:"text-afri-gray-600 mt-1",children:"Manage and track all your orders"})]}),e.jsx("div",{className:"bg-white rounded-lg shadow p-4 mb-6",children:e.jsxs("div",{className:"flex flex-wrap gap-4",children:[e.jsx("div",{className:"flex-1 min-w-[250px]",children:e.jsx("input",{type:"text",placeholder:"Search by order number...",value:d.search,onChange:y,className:"w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-afri-green focus:border-transparent"})}),e.jsxs("div",{className:"flex flex-wrap gap-2",children:[["pending","confirmed","preparing","ready","out-for-delivery","delivered"].map(w=>e.jsx("button",{onClick:()=>m(w),className:`px-4 py-2 rounded-lg font-medium transition ${d.status===w?"bg-afri-green text-white":"bg-afri-gray-50 text-afri-gray-700 hover:bg-afri-gray-100"}`,children:su[w]},w)),d.status&&e.jsx("button",{onClick:()=>h({...d,status:""}),className:"px-4 py-2 rounded-lg font-medium bg-red-100 text-red-700 hover:bg-red-200",children:"Clear Filter"})]})]})}),r?e.jsx("div",{className:"flex justify-center items-center h-64",children:e.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-afri-green"})}):t.length===0?e.jsxs("div",{className:"bg-white rounded-lg shadow p-12 text-center",children:[e.jsx("svg",{className:"w-16 h-16 text-afri-gray-300 mx-auto mb-4",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M9 12h6m-6 4h6m2 5H7a2 2 0 01-2-2V5a2 2 0 012-2h5.586a1 1 0 01.707.293l5.414 5.414a1 1 0 01.293.707V19a2 2 0 01-2 2z"})}),e.jsx("h3",{className:"text-lg font-medium text-afri-gray-900 mb-1",children:"No orders found"}),e.jsx("p",{className:"text-afri-gray-500",children:d.status||d.search?"Try adjusting your filters":"Orders will appear here"})]}):e.jsx("div",{className:"bg-white rounded-lg shadow overflow-hidden",children:e.jsxs("table",{className:"min-w-full divide-y divide-gray-200",children:[e.jsx("thead",{className:"bg-afri-gray-50",children:e.jsxs("tr",{children:[e.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-afri-gray-700 uppercase tracking-wider",children:"Order Number"}),e.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-afri-gray-700 uppercase tracking-wider",children:"Customer"}),e.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-afri-gray-700 uppercase tracking-wider",children:"Items"}),e.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-afri-gray-700 uppercase tracking-wider",children:"Total"}),e.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-afri-gray-700 uppercase tracking-wider",children:"Status"}),e.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-afri-gray-700 uppercase tracking-wider",children:"Date"}),e.jsx("th",{className:"px-6 py-3 text-right text-xs font-medium text-afri-gray-700 uppercase tracking-wider",children:"Actions"})]})}),e.jsx("tbody",{className:"bg-white divide-y divide-gray-200",children:t.map(w=>{var N,j,k,L,F;return e.jsxs("tr",{className:"hover:bg-afri-gray-50 transition",children:[e.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:e.jsx("div",{className:"text-sm font-medium text-afri-gray-900",children:w.orderNumber})}),e.jsxs("td",{className:"px-6 py-4 whitespace-nowrap",children:[e.jsx("div",{className:"text-sm text-afri-gray-900",children:((N=w.customer)==null?void 0:N.name)||"N/A"}),e.jsx("div",{className:"text-sm text-afri-gray-500",children:((j=w.customer)==null?void 0:j.phone)||""})]}),e.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:e.jsxs("div",{className:"text-sm text-afri-gray-900",children:[((k=w.items)==null?void 0:k.length)||0," items"]})}),e.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:e.jsxs("div",{className:"text-sm font-medium text-afri-gray-900",children:["Â£",((F=(L=w.pricing)==null?void 0:L.total)==null?void 0:F.toFixed(2))||"0.00"]})}),e.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:e.jsx("span",{className:`px-3 py-1 inline-flex text-xs leading-5 font-semibold rounded-full ${R1[w.status]}`,children:su[w.status]})}),e.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-afri-gray-500",children:new Date(w.createdAt).toLocaleDateString()}),e.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-right text-sm font-medium",children:e.jsx("button",{onClick:()=>g(w._id),className:"text-afri-green hover:text-afri-green-dark font-medium",children:"View Details"})})]},w._id)})})]})}),u.pages>1&&e.jsx("div",{className:"mt-6 flex justify-center",children:e.jsx("nav",{className:"relative z-0 inline-flex rounded-md shadow-sm -space-x-px",children:[...Array(u.pages)].map((w,N)=>e.jsx("button",{onClick:()=>h({...d,page:N+1}),className:`relative inline-flex items-center px-4 py-2 border text-sm font-medium ${u.currentPage===N+1?"z-10 bg-afri-green text-white border-afri-green":"bg-white border-gray-300 text-afri-gray-700 hover:bg-afri-gray-50"}`,children:N+1},N))})}),l&&n&&e.jsx(I1,{order:n,onClose:()=>{c(!1),o(null)},onStatusUpdate:b,onRefresh:p})]})}const B1="modulepreload",U1=function(t){return"/afrimercato-frontend/"+t},au={},N0=function(s,r,a){let n=Promise.resolve();if(r&&r.length>0){document.getElementsByTagName("link");const l=document.querySelector("meta[property=csp-nonce]"),c=(l==null?void 0:l.nonce)||(l==null?void 0:l.getAttribute("nonce"));n=Promise.allSettled(r.map(d=>{if(d=U1(d),d in au)return;au[d]=!0;const h=d.endsWith(".css"),u=h?'[rel="stylesheet"]':"";if(document.querySelector(`link[href="${d}"]${u}`))return;const x=document.createElement("link");if(x.rel=h?"stylesheet":B1,h||(x.as="script"),x.crossOrigin="",x.href=d,c&&x.setAttribute("nonce",c),document.head.appendChild(x),h)return new Promise((p,m)=>{x.addEventListener("load",p),x.addEventListener("error",()=>m(new Error(`Unable to preload CSS for ${d}`)))})}))}function o(l){const c=new Event("vite:preloadError",{cancelable:!0});if(c.payload=l,window.dispatchEvent(c),!c.defaultPrevented)throw l}return n.then(l=>{for(const c of l||[])c.status==="rejected"&&o(c.reason);return s().catch(o)})};var ds=Uint8Array,Vs=Uint16Array,V0=Int32Array,Jc=new ds([0,0,0,0,0,0,0,0,1,1,1,1,2,2,2,2,3,3,3,3,4,4,4,4,5,5,5,5,0,0,0,0]),Qc=new ds([0,0,0,0,1,1,2,2,3,3,4,4,5,5,6,6,7,7,8,8,9,9,10,10,11,11,12,12,13,13,0,0]),j0=new ds([16,17,18,0,8,7,9,6,10,5,11,4,12,3,13,2,14,1,15]),Uf=function(t,s){for(var r=new Vs(31),a=0;a<31;++a)r[a]=s+=1<<t[a-1];for(var n=new V0(r[30]),a=1;a<30;++a)for(var o=r[a];o<r[a+1];++o)n[o]=o-r[a]<<5|a;return{b:r,r:n}},Hf=Uf(Jc,2),Wf=Hf.b,S0=Hf.r;Wf[28]=258,S0[258]=28;var qf=Uf(Qc,0),H1=qf.b,nu=qf.r,k0=new Vs(32768);for(var hr=0;hr<32768;++hr){var wn=(hr&43690)>>1|(hr&21845)<<1;wn=(wn&52428)>>2|(wn&13107)<<2,wn=(wn&61680)>>4|(wn&3855)<<4,k0[hr]=((wn&65280)>>8|(wn&255)<<8)>>1}var Ma=function(t,s,r){for(var a=t.length,n=0,o=new Vs(s);n<a;++n)t[n]&&++o[t[n]-1];var l=new Vs(s);for(n=1;n<s;++n)l[n]=l[n-1]+o[n-1]<<1;var c;if(r){c=new Vs(1<<s);var d=15-s;for(n=0;n<a;++n)if(t[n])for(var h=n<<4|t[n],u=s-t[n],x=l[t[n]-1]++<<u,p=x|(1<<u)-1;x<=p;++x)c[k0[x]>>d]=h}else for(c=new Vs(a),n=0;n<a;++n)t[n]&&(c[n]=k0[l[t[n]-1]++]>>15-t[n]);return c},Pn=new ds(288);for(var hr=0;hr<144;++hr)Pn[hr]=8;for(var hr=144;hr<256;++hr)Pn[hr]=9;for(var hr=256;hr<280;++hr)Pn[hr]=7;for(var hr=280;hr<288;++hr)Pn[hr]=8;var tl=new ds(32);for(var hr=0;hr<32;++hr)tl[hr]=5;var W1=Ma(Pn,9,0),q1=Ma(Pn,9,1),z1=Ma(tl,5,0),V1=Ma(tl,5,1),Qd=function(t){for(var s=t[0],r=1;r<t.length;++r)t[r]>s&&(s=t[r]);return s},ma=function(t,s,r){var a=s/8|0;return(t[a]|t[a+1]<<8)>>(s&7)&r},Zd=function(t,s){var r=s/8|0;return(t[r]|t[r+1]<<8|t[r+2]<<16)>>(s&7)},$0=function(t){return(t+7)/8|0},zf=function(t,s,r){return(r==null||r>t.length)&&(r=t.length),new ds(t.subarray(s,r))},$1=["unexpected EOF","invalid block type","invalid length/literal","invalid distance","stream finished","no stream handler",,"no callback","invalid UTF-8 data","extra field too long","date not in range 1980-2099","filename too long","stream finishing","invalid zip data"],va=function(t,s,r){var a=new Error(s||$1[t]);if(a.code=t,Error.captureStackTrace&&Error.captureStackTrace(a,va),!r)throw a;return a},G1=function(t,s,r,a){var n=t.length,o=0;if(!n||s.f&&!s.l)return r||new ds(0);var l=!r,c=l||s.i!=2,d=s.i;l&&(r=new ds(n*3));var h=function(Ne){var De=r.length;if(Ne>De){var Ve=new ds(Math.max(De*2,Ne));Ve.set(r),r=Ve}},u=s.f||0,x=s.p||0,p=s.b||0,m=s.l,y=s.d,g=s.m,b=s.n,w=n*8;do{if(!m){u=ma(t,x,1);var N=ma(t,x+1,3);if(x+=3,N)if(N==1)m=q1,y=V1,g=9,b=5;else if(N==2){var F=ma(t,x,31)+257,T=ma(t,x+10,15)+4,C=F+ma(t,x+5,31)+1;x+=14;for(var I=new ds(C),D=new ds(19),E=0;E<T;++E)D[j0[E]]=ma(t,x+E*3,7);x+=T*3;for(var P=Qd(D),W=(1<<P)-1,z=Ma(D,P,1),E=0;E<C;){var ue=z[ma(t,x,W)];x+=ue&15;var j=ue>>4;if(j<16)I[E++]=j;else{var Q=0,ee=0;for(j==16?(ee=3+ma(t,x,3),x+=2,Q=I[E-1]):j==17?(ee=3+ma(t,x,7),x+=3):j==18&&(ee=11+ma(t,x,127),x+=7);ee--;)I[E++]=Q}}var ie=I.subarray(0,F),ne=I.subarray(F);g=Qd(ie),b=Qd(ne),m=Ma(ie,g,1),y=Ma(ne,b,1)}else va(1);else{var j=$0(x)+4,k=t[j-4]|t[j-3]<<8,L=j+k;if(L>n){d&&va(0);break}c&&h(p+k),r.set(t.subarray(j,L),p),s.b=p+=k,s.p=x=L*8,s.f=u;continue}if(x>w){d&&va(0);break}}c&&h(p+131072);for(var pe=(1<<g)-1,ye=(1<<b)-1,_=x;;_=x){var Q=m[Zd(t,x)&pe],R=Q>>4;if(x+=Q&15,x>w){d&&va(0);break}if(Q||va(2),R<256)r[p++]=R;else if(R==256){_=x,m=null;break}else{var M=R-254;if(R>264){var E=R-257,B=Jc[E];M=ma(t,x,(1<<B)-1)+Wf[E],x+=B}var Y=y[Zd(t,x)&ye],fe=Y>>4;Y||va(3),x+=Y&15;var ne=H1[fe];if(fe>3){var B=Qc[fe];ne+=Zd(t,x)&(1<<B)-1,x+=B}if(x>w){d&&va(0);break}c&&h(p+131072);var ae=p+M;if(p<ne){var X=o-ne,me=Math.min(ne,ae);for(X+p<0&&va(3);p<me;++p)r[p]=a[X+p]}for(;p<ae;++p)r[p]=r[p-ne]}}s.l=m,s.p=_,s.b=p,s.f=u,m&&(u=1,s.m=g,s.d=y,s.n=b)}while(!u);return p!=r.length&&l?zf(r,0,p):r.subarray(0,p)},Za=function(t,s,r){r<<=s&7;var a=s/8|0;t[a]|=r,t[a+1]|=r>>8},Bo=function(t,s,r){r<<=s&7;var a=s/8|0;t[a]|=r,t[a+1]|=r>>8,t[a+2]|=r>>16},e0=function(t,s){for(var r=[],a=0;a<t.length;++a)t[a]&&r.push({s:a,f:t[a]});var n=r.length,o=r.slice();if(!n)return{t:$f,l:0};if(n==1){var l=new ds(r[0].s+1);return l[r[0].s]=1,{t:l,l:1}}r.sort(function(L,F){return L.f-F.f}),r.push({s:-1,f:25001});var c=r[0],d=r[1],h=0,u=1,x=2;for(r[0]={s:-1,f:c.f+d.f,l:c,r:d};u!=n-1;)c=r[r[h].f<r[x].f?h++:x++],d=r[h!=u&&r[h].f<r[x].f?h++:x++],r[u++]={s:-1,f:c.f+d.f,l:c,r:d};for(var p=o[0].s,a=1;a<n;++a)o[a].s>p&&(p=o[a].s);var m=new Vs(p+1),y=A0(r[u-1],m,0);if(y>s){var a=0,g=0,b=y-s,w=1<<b;for(o.sort(function(F,T){return m[T.s]-m[F.s]||F.f-T.f});a<n;++a){var N=o[a].s;if(m[N]>s)g+=w-(1<<y-m[N]),m[N]=s;else break}for(g>>=b;g>0;){var j=o[a].s;m[j]<s?g-=1<<s-m[j]++-1:++a}for(;a>=0&&g;--a){var k=o[a].s;m[k]==s&&(--m[k],++g)}y=s}return{t:new ds(m),l:y}},A0=function(t,s,r){return t.s==-1?Math.max(A0(t.l,s,r+1),A0(t.r,s,r+1)):s[t.s]=r},iu=function(t){for(var s=t.length;s&&!t[--s];);for(var r=new Vs(++s),a=0,n=t[0],o=1,l=function(d){r[a++]=d},c=1;c<=s;++c)if(t[c]==n&&c!=s)++o;else{if(!n&&o>2){for(;o>138;o-=138)l(32754);o>2&&(l(o>10?o-11<<5|28690:o-3<<5|12305),o=0)}else if(o>3){for(l(n),--o;o>6;o-=6)l(8304);o>2&&(l(o-3<<5|8208),o=0)}for(;o--;)l(n);o=1,n=t[c]}return{c:r.subarray(0,a),n:s}},Uo=function(t,s){for(var r=0,a=0;a<s.length;++a)r+=t[a]*s[a];return r},Vf=function(t,s,r){var a=r.length,n=$0(s+2);t[n]=a&255,t[n+1]=a>>8,t[n+2]=t[n]^255,t[n+3]=t[n+1]^255;for(var o=0;o<a;++o)t[n+o+4]=r[o];return(n+4+a)*8},ou=function(t,s,r,a,n,o,l,c,d,h,u){Za(s,u++,r),++n[256];for(var x=e0(n,15),p=x.t,m=x.l,y=e0(o,15),g=y.t,b=y.l,w=iu(p),N=w.c,j=w.n,k=iu(g),L=k.c,F=k.n,T=new Vs(19),C=0;C<N.length;++C)++T[N[C]&31];for(var C=0;C<L.length;++C)++T[L[C]&31];for(var I=e0(T,7),D=I.t,E=I.l,P=19;P>4&&!D[j0[P-1]];--P);var W=h+5<<3,z=Uo(n,Pn)+Uo(o,tl)+l,ue=Uo(n,p)+Uo(o,g)+l+14+3*P+Uo(T,D)+2*T[16]+3*T[17]+7*T[18];if(d>=0&&W<=z&&W<=ue)return Vf(s,u,t.subarray(d,d+h));var Q,ee,ie,ne;if(Za(s,u,1+(ue<z)),u+=2,ue<z){Q=Ma(p,m,0),ee=p,ie=Ma(g,b,0),ne=g;var pe=Ma(D,E,0);Za(s,u,j-257),Za(s,u+5,F-1),Za(s,u+10,P-4),u+=14;for(var C=0;C<P;++C)Za(s,u+3*C,D[j0[C]]);u+=3*P;for(var ye=[N,L],_=0;_<2;++_)for(var R=ye[_],C=0;C<R.length;++C){var M=R[C]&31;Za(s,u,pe[M]),u+=D[M],M>15&&(Za(s,u,R[C]>>5&127),u+=R[C]>>12)}}else Q=W1,ee=Pn,ie=z1,ne=tl;for(var C=0;C<c;++C){var B=a[C];if(B>255){var M=B>>18&31;Bo(s,u,Q[M+257]),u+=ee[M+257],M>7&&(Za(s,u,B>>23&31),u+=Jc[M]);var Y=B&31;Bo(s,u,ie[Y]),u+=ne[Y],Y>3&&(Bo(s,u,B>>5&8191),u+=Qc[Y])}else Bo(s,u,Q[B]),u+=ee[B]}return Bo(s,u,Q[256]),u+ee[256]},Y1=new V0([65540,131080,131088,131104,262176,1048704,1048832,2114560,2117632]),$f=new ds(0),K1=function(t,s,r,a,n,o){var l=o.z||t.length,c=new ds(a+l+5*(1+Math.ceil(l/7e3))+n),d=c.subarray(a,c.length-n),h=o.l,u=(o.r||0)&7;if(s){u&&(d[0]=o.r>>3);for(var x=Y1[s-1],p=x>>13,m=x&8191,y=(1<<r)-1,g=o.p||new Vs(32768),b=o.h||new Vs(y+1),w=Math.ceil(r/3),N=2*w,j=function(Ke){return(t[Ke]^t[Ke+1]<<w^t[Ke+2]<<N)&y},k=new V0(25e3),L=new Vs(288),F=new Vs(32),T=0,C=0,I=o.i||0,D=0,E=o.w||0,P=0;I+2<l;++I){var W=j(I),z=I&32767,ue=b[W];if(g[z]=ue,b[W]=z,E<=I){var Q=l-I;if((T>7e3||D>24576)&&(Q>423||!h)){u=ou(t,d,0,k,L,F,C,D,P,I-P,u),D=T=C=0,P=I;for(var ee=0;ee<286;++ee)L[ee]=0;for(var ee=0;ee<30;++ee)F[ee]=0}var ie=2,ne=0,pe=m,ye=z-ue&32767;if(Q>2&&W==j(I-ye))for(var _=Math.min(p,Q)-1,R=Math.min(32767,I),M=Math.min(258,Q);ye<=R&&--pe&&z!=ue;){if(t[I+ie]==t[I+ie-ye]){for(var B=0;B<M&&t[I+B]==t[I+B-ye];++B);if(B>ie){if(ie=B,ne=ye,B>_)break;for(var Y=Math.min(ye,B-2),fe=0,ee=0;ee<Y;++ee){var ae=I-ye+ee&32767,X=g[ae],me=ae-X&32767;me>fe&&(fe=me,ue=ae)}}}z=ue,ue=g[z],ye+=z-ue&32767}if(ne){k[D++]=268435456|S0[ie]<<18|nu[ne];var Ne=S0[ie]&31,De=nu[ne]&31;C+=Jc[Ne]+Qc[De],++L[257+Ne],++F[De],E=I+ie,++T}else k[D++]=t[I],++L[t[I]]}}for(I=Math.max(I,E);I<l;++I)k[D++]=t[I],++L[t[I]];u=ou(t,d,h,k,L,F,C,D,P,I-P,u),h||(o.r=u&7|d[u/8|0]<<3,u-=7,o.h=b,o.p=g,o.i=I,o.w=E)}else{for(var I=o.w||0;I<l+h;I+=65535){var Ve=I+65535;Ve>=l&&(d[u/8|0]=h,Ve=l),u=Vf(d,u+1,t.subarray(I,Ve))}o.i=l}return zf(c,0,a+$0(u)+n)},Gf=function(){var t=1,s=0;return{p:function(r){for(var a=t,n=s,o=r.length|0,l=0;l!=o;){for(var c=Math.min(l+2655,o);l<c;++l)n+=a+=r[l];a=(a&65535)+15*(a>>16),n=(n&65535)+15*(n>>16)}t=a,s=n},d:function(){return t%=65521,s%=65521,(t&255)<<24|(t&65280)<<8|(s&255)<<8|s>>8}}},X1=function(t,s,r,a,n){if(!n&&(n={l:1},s.dictionary)){var o=s.dictionary.subarray(-32768),l=new ds(o.length+t.length);l.set(o),l.set(t,o.length),t=l,n.w=o.length}return K1(t,s.level==null?6:s.level,s.mem==null?n.l?Math.ceil(Math.max(8,Math.min(13,Math.log(t.length)))*1.5):20:12+s.mem,r,a,n)},Yf=function(t,s,r){for(;r;++s)t[s]=r,r>>>=8},J1=function(t,s){var r=s.level,a=r==0?0:r<6?1:r==9?3:2;if(t[0]=120,t[1]=a<<6|(s.dictionary&&32),t[1]|=31-(t[0]<<8|t[1])%31,s.dictionary){var n=Gf();n.p(s.dictionary),Yf(t,2,n.d())}},Q1=function(t,s){return((t[0]&15)!=8||t[0]>>4>7||(t[0]<<8|t[1])%31)&&va(6,"invalid zlib data"),(t[1]>>5&1)==1&&va(6,"invalid zlib data: "+(t[1]&32?"need":"unexpected")+" dictionary"),(t[1]>>3&4)+2};function _0(t,s){s||(s={});var r=Gf();r.p(t);var a=X1(t,s,s.dictionary?6:2,4);return J1(a,s),Yf(a,a.length-4,r.d()),a}function Z1(t,s){return G1(t.subarray(Q1(t),-4),{i:2},s,s)}var e2=typeof TextDecoder<"u"&&new TextDecoder,t2=0;try{e2.decode($f,{stream:!0}),t2=1}catch{}var bt=function(){return typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:this}();function t0(){bt.console&&typeof bt.console.log=="function"&&bt.console.log.apply(bt.console,arguments)}var nr={log:t0,warn:function(t){bt.console&&(typeof bt.console.warn=="function"?bt.console.warn.apply(bt.console,arguments):t0.call(null,arguments))},error:function(t){bt.console&&(typeof bt.console.error=="function"?bt.console.error.apply(bt.console,arguments):t0(t))}};function r0(t,s,r){var a=new XMLHttpRequest;a.open("GET",t),a.responseType="blob",a.onload=function(){Yn(a.response,s,r)},a.onerror=function(){nr.error("could not download file")},a.send()}function lu(t){var s=new XMLHttpRequest;s.open("HEAD",t,!1);try{s.send()}catch{}return s.status>=200&&s.status<=299}function fc(t){try{t.dispatchEvent(new MouseEvent("click"))}catch{var s=document.createEvent("MouseEvents");s.initMouseEvent("click",!0,!0,window,0,0,0,80,20,!1,!1,!1,!1,0,null),t.dispatchEvent(s)}}var zo,C0,Yn=bt.saveAs||((typeof window>"u"?"undefined":ir(window))!=="object"||window!==bt?function(){}:typeof HTMLAnchorElement<"u"&&"download"in HTMLAnchorElement.prototype?function(t,s,r){var a=bt.URL||bt.webkitURL,n=document.createElement("a");s=s||t.name||"download",n.download=s,n.rel="noopener",typeof t=="string"?(n.href=t,n.origin!==location.origin?lu(n.href)?r0(t,s,r):fc(n,n.target="_blank"):fc(n)):(n.href=a.createObjectURL(t),setTimeout(function(){a.revokeObjectURL(n.href)},4e4),setTimeout(function(){fc(n)},0))}:"msSaveOrOpenBlob"in navigator?function(t,s,r){if(s=s||t.name||"download",typeof t=="string")if(lu(t))r0(t,s,r);else{var a=document.createElement("a");a.href=t,a.target="_blank",setTimeout(function(){fc(a)})}else navigator.msSaveOrOpenBlob(function(n,o){return o===void 0?o={autoBom:!1}:ir(o)!=="object"&&(nr.warn("Deprecated: Expected third argument to be a object"),o={autoBom:!o}),o.autoBom&&/^\s*(?:text\/\S*|application\/xml|\S*\/\S*\+xml)\s*;.*charset\s*=\s*utf-8/i.test(n.type)?new Blob(["\uFEFF",n],{type:n.type}):n}(t,r),s)}:function(t,s,r,a){if((a=a||open("","_blank"))&&(a.document.title=a.document.body.innerText="downloading..."),typeof t=="string")return r0(t,s,r);var n=t.type==="application/octet-stream",o=/constructor/i.test(bt.HTMLElement)||bt.safari,l=/CriOS\/[\d]+/.test(navigator.userAgent);if((l||n&&o)&&(typeof FileReader>"u"?"undefined":ir(FileReader))==="object"){var c=new FileReader;c.onloadend=function(){var u=c.result;u=l?u:u.replace(/^data:[^;]*;/,"data:attachment/file;"),a?a.location.href=u:location=u,a=null},c.readAsDataURL(t)}else{var d=bt.URL||bt.webkitURL,h=d.createObjectURL(t);a?a.location=h:location.href=h,a=null,setTimeout(function(){d.revokeObjectURL(h)},4e4)}});/**
 * A class to parse color values
 * @author Stoyan Stefanov <sstoo@gmail.com>
 * {@link   http://www.phpied.com/rgb-color-parser-in-javascript/}
 * @license Use it if you like it
 */function Kf(t){var s;t=t||"",this.ok=!1,t.charAt(0)=="#"&&(t=t.substr(1,6)),t={aliceblue:"f0f8ff",antiquewhite:"faebd7",aqua:"00ffff",aquamarine:"7fffd4",azure:"f0ffff",beige:"f5f5dc",bisque:"ffe4c4",black:"000000",blanchedalmond:"ffebcd",blue:"0000ff",blueviolet:"8a2be2",brown:"a52a2a",burlywood:"deb887",cadetblue:"5f9ea0",chartreuse:"7fff00",chocolate:"d2691e",coral:"ff7f50",cornflowerblue:"6495ed",cornsilk:"fff8dc",crimson:"dc143c",cyan:"00ffff",darkblue:"00008b",darkcyan:"008b8b",darkgoldenrod:"b8860b",darkgray:"a9a9a9",darkgreen:"006400",darkkhaki:"bdb76b",darkmagenta:"8b008b",darkolivegreen:"556b2f",darkorange:"ff8c00",darkorchid:"9932cc",darkred:"8b0000",darksalmon:"e9967a",darkseagreen:"8fbc8f",darkslateblue:"483d8b",darkslategray:"2f4f4f",darkturquoise:"00ced1",darkviolet:"9400d3",deeppink:"ff1493",deepskyblue:"00bfff",dimgray:"696969",dodgerblue:"1e90ff",feldspar:"d19275",firebrick:"b22222",floralwhite:"fffaf0",forestgreen:"228b22",fuchsia:"ff00ff",gainsboro:"dcdcdc",ghostwhite:"f8f8ff",gold:"ffd700",goldenrod:"daa520",gray:"808080",green:"008000",greenyellow:"adff2f",honeydew:"f0fff0",hotpink:"ff69b4",indianred:"cd5c5c",indigo:"4b0082",ivory:"fffff0",khaki:"f0e68c",lavender:"e6e6fa",lavenderblush:"fff0f5",lawngreen:"7cfc00",lemonchiffon:"fffacd",lightblue:"add8e6",lightcoral:"f08080",lightcyan:"e0ffff",lightgoldenrodyellow:"fafad2",lightgrey:"d3d3d3",lightgreen:"90ee90",lightpink:"ffb6c1",lightsalmon:"ffa07a",lightseagreen:"20b2aa",lightskyblue:"87cefa",lightslateblue:"8470ff",lightslategray:"778899",lightsteelblue:"b0c4de",lightyellow:"ffffe0",lime:"00ff00",limegreen:"32cd32",linen:"faf0e6",magenta:"ff00ff",maroon:"800000",mediumaquamarine:"66cdaa",mediumblue:"0000cd",mediumorchid:"ba55d3",mediumpurple:"9370d8",mediumseagreen:"3cb371",mediumslateblue:"7b68ee",mediumspringgreen:"00fa9a",mediumturquoise:"48d1cc",mediumvioletred:"c71585",midnightblue:"191970",mintcream:"f5fffa",mistyrose:"ffe4e1",moccasin:"ffe4b5",navajowhite:"ffdead",navy:"000080",oldlace:"fdf5e6",olive:"808000",olivedrab:"6b8e23",orange:"ffa500",orangered:"ff4500",orchid:"da70d6",palegoldenrod:"eee8aa",palegreen:"98fb98",paleturquoise:"afeeee",palevioletred:"d87093",papayawhip:"ffefd5",peachpuff:"ffdab9",peru:"cd853f",pink:"ffc0cb",plum:"dda0dd",powderblue:"b0e0e6",purple:"800080",red:"ff0000",rosybrown:"bc8f8f",royalblue:"4169e1",saddlebrown:"8b4513",salmon:"fa8072",sandybrown:"f4a460",seagreen:"2e8b57",seashell:"fff5ee",sienna:"a0522d",silver:"c0c0c0",skyblue:"87ceeb",slateblue:"6a5acd",slategray:"708090",snow:"fffafa",springgreen:"00ff7f",steelblue:"4682b4",tan:"d2b48c",teal:"008080",thistle:"d8bfd8",tomato:"ff6347",turquoise:"40e0d0",violet:"ee82ee",violetred:"d02090",wheat:"f5deb3",white:"ffffff",whitesmoke:"f5f5f5",yellow:"ffff00",yellowgreen:"9acd32"}[t=(t=t.replace(/ /g,"")).toLowerCase()]||t;for(var r=[{re:/^rgb\((\d{1,3}),\s*(\d{1,3}),\s*(\d{1,3})\)$/,example:["rgb(123, 234, 45)","rgb(255,234,245)"],process:function(c){return[parseInt(c[1]),parseInt(c[2]),parseInt(c[3])]}},{re:/^(\w{2})(\w{2})(\w{2})$/,example:["#00ff00","336699"],process:function(c){return[parseInt(c[1],16),parseInt(c[2],16),parseInt(c[3],16)]}},{re:/^(\w{1})(\w{1})(\w{1})$/,example:["#fb0","f0f"],process:function(c){return[parseInt(c[1]+c[1],16),parseInt(c[2]+c[2],16),parseInt(c[3]+c[3],16)]}}],a=0;a<r.length;a++){var n=r[a].re,o=r[a].process,l=n.exec(t);l&&(s=o(l),this.r=s[0],this.g=s[1],this.b=s[2],this.ok=!0)}this.r=this.r<0||isNaN(this.r)?0:this.r>255?255:this.r,this.g=this.g<0||isNaN(this.g)?0:this.g>255?255:this.g,this.b=this.b<0||isNaN(this.b)?0:this.b>255?255:this.b,this.toRGB=function(){return"rgb("+this.r+", "+this.g+", "+this.b+")"},this.toHex=function(){var c=this.r.toString(16),d=this.g.toString(16),h=this.b.toString(16);return c.length==1&&(c="0"+c),d.length==1&&(d="0"+d),h.length==1&&(h="0"+h),"#"+c+d+h}}/**
 * @license
 * Joseph Myers does not specify a particular license for his work.
 *
 * Author: Joseph Myers
 * Accessed from: http://www.myersdaily.org/joseph/javascript/md5.js
 *
 * Modified by: Owen Leong
 */function s0(t,s){var r=t[0],a=t[1],n=t[2],o=t[3];r=is(r,a,n,o,s[0],7,-680876936),o=is(o,r,a,n,s[1],12,-389564586),n=is(n,o,r,a,s[2],17,606105819),a=is(a,n,o,r,s[3],22,-1044525330),r=is(r,a,n,o,s[4],7,-176418897),o=is(o,r,a,n,s[5],12,1200080426),n=is(n,o,r,a,s[6],17,-1473231341),a=is(a,n,o,r,s[7],22,-45705983),r=is(r,a,n,o,s[8],7,1770035416),o=is(o,r,a,n,s[9],12,-1958414417),n=is(n,o,r,a,s[10],17,-42063),a=is(a,n,o,r,s[11],22,-1990404162),r=is(r,a,n,o,s[12],7,1804603682),o=is(o,r,a,n,s[13],12,-40341101),n=is(n,o,r,a,s[14],17,-1502002290),r=os(r,a=is(a,n,o,r,s[15],22,1236535329),n,o,s[1],5,-165796510),o=os(o,r,a,n,s[6],9,-1069501632),n=os(n,o,r,a,s[11],14,643717713),a=os(a,n,o,r,s[0],20,-373897302),r=os(r,a,n,o,s[5],5,-701558691),o=os(o,r,a,n,s[10],9,38016083),n=os(n,o,r,a,s[15],14,-660478335),a=os(a,n,o,r,s[4],20,-405537848),r=os(r,a,n,o,s[9],5,568446438),o=os(o,r,a,n,s[14],9,-1019803690),n=os(n,o,r,a,s[3],14,-187363961),a=os(a,n,o,r,s[8],20,1163531501),r=os(r,a,n,o,s[13],5,-1444681467),o=os(o,r,a,n,s[2],9,-51403784),n=os(n,o,r,a,s[7],14,1735328473),r=ls(r,a=os(a,n,o,r,s[12],20,-1926607734),n,o,s[5],4,-378558),o=ls(o,r,a,n,s[8],11,-2022574463),n=ls(n,o,r,a,s[11],16,1839030562),a=ls(a,n,o,r,s[14],23,-35309556),r=ls(r,a,n,o,s[1],4,-1530992060),o=ls(o,r,a,n,s[4],11,1272893353),n=ls(n,o,r,a,s[7],16,-155497632),a=ls(a,n,o,r,s[10],23,-1094730640),r=ls(r,a,n,o,s[13],4,681279174),o=ls(o,r,a,n,s[0],11,-358537222),n=ls(n,o,r,a,s[3],16,-722521979),a=ls(a,n,o,r,s[6],23,76029189),r=ls(r,a,n,o,s[9],4,-640364487),o=ls(o,r,a,n,s[12],11,-421815835),n=ls(n,o,r,a,s[15],16,530742520),r=cs(r,a=ls(a,n,o,r,s[2],23,-995338651),n,o,s[0],6,-198630844),o=cs(o,r,a,n,s[7],10,1126891415),n=cs(n,o,r,a,s[14],15,-1416354905),a=cs(a,n,o,r,s[5],21,-57434055),r=cs(r,a,n,o,s[12],6,1700485571),o=cs(o,r,a,n,s[3],10,-1894986606),n=cs(n,o,r,a,s[10],15,-1051523),a=cs(a,n,o,r,s[1],21,-2054922799),r=cs(r,a,n,o,s[8],6,1873313359),o=cs(o,r,a,n,s[15],10,-30611744),n=cs(n,o,r,a,s[6],15,-1560198380),a=cs(a,n,o,r,s[13],21,1309151649),r=cs(r,a,n,o,s[4],6,-145523070),o=cs(o,r,a,n,s[11],10,-1120210379),n=cs(n,o,r,a,s[2],15,718787259),a=cs(a,n,o,r,s[9],21,-343485551),t[0]=An(r,t[0]),t[1]=An(a,t[1]),t[2]=An(n,t[2]),t[3]=An(o,t[3])}function Zc(t,s,r,a,n,o){return s=An(An(s,t),An(a,o)),An(s<<n|s>>>32-n,r)}function is(t,s,r,a,n,o,l){return Zc(s&r|~s&a,t,s,n,o,l)}function os(t,s,r,a,n,o,l){return Zc(s&a|r&~a,t,s,n,o,l)}function ls(t,s,r,a,n,o,l){return Zc(s^r^a,t,s,n,o,l)}function cs(t,s,r,a,n,o,l){return Zc(r^(s|~a),t,s,n,o,l)}function Xf(t){var s,r=t.length,a=[1732584193,-271733879,-1732584194,271733878];for(s=64;s<=t.length;s+=64)s0(a,r2(t.substring(s-64,s)));t=t.substring(s-64);var n=[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0];for(s=0;s<t.length;s++)n[s>>2]|=t.charCodeAt(s)<<(s%4<<3);if(n[s>>2]|=128<<(s%4<<3),s>55)for(s0(a,n),s=0;s<16;s++)n[s]=0;return n[14]=8*r,s0(a,n),a}function r2(t){var s,r=[];for(s=0;s<64;s+=4)r[s>>2]=t.charCodeAt(s)+(t.charCodeAt(s+1)<<8)+(t.charCodeAt(s+2)<<16)+(t.charCodeAt(s+3)<<24);return r}zo=bt.atob.bind(bt),C0=bt.btoa.bind(bt);var cu="0123456789abcdef".split("");function s2(t){for(var s="",r=0;r<4;r++)s+=cu[t>>8*r+4&15]+cu[t>>8*r&15];return s}function a2(t){return String.fromCharCode((255&t)>>0,(65280&t)>>8,(16711680&t)>>16,(4278190080&t)>>24)}function T0(t){return Xf(t).map(a2).join("")}var n2=function(t){for(var s=0;s<t.length;s++)t[s]=s2(t[s]);return t.join("")}(Xf("hello"))!="5d41402abc4b2a76b9719d911017c592";function An(t,s){if(n2){var r=(65535&t)+(65535&s);return(t>>16)+(s>>16)+(r>>16)<<16|65535&r}return t+s&4294967295}/**
 * @license
 * FPDF is released under a permissive license: there is no usage restriction.
 * You may embed it freely in your application (commercial or not), with or
 * without modifications.
 *
 * Reference: http://www.fpdf.org/en/script/script37.php
 */function E0(t,s){var r,a,n,o;if(t!==r){for(var l=(n=t,o=1+(256/t.length>>0),new Array(o+1).join(n)),c=[],d=0;d<256;d++)c[d]=d;var h=0;for(d=0;d<256;d++){var u=c[d];h=(h+u+l.charCodeAt(d))%256,c[d]=c[h],c[h]=u}r=t,a=c}else c=a;var x=s.length,p=0,m=0,y="";for(d=0;d<x;d++)m=(m+(u=c[p=(p+1)%256]))%256,c[p]=c[m],c[m]=u,l=c[(c[p]+c[m])%256],y+=String.fromCharCode(s.charCodeAt(d)^l);return y}/**
 * @license
 * Licensed under the MIT License.
 * http://opensource.org/licenses/mit-license
 * Author: Owen Leong (@owenl131)
 * Date: 15 Oct 2020
 * References:
 * https://www.cs.cmu.edu/~dst/Adobe/Gallery/anon21jul01-pdf-encryption.txt
 * https://github.com/foliojs/pdfkit/blob/master/lib/security.js
 * http://www.fpdf.org/en/script/script37.php
 */var du={print:4,modify:8,copy:16,"annot-forms":32};function zi(t,s,r,a){this.v=1,this.r=2;var n=192;t.forEach(function(c){if(du.perm!==void 0)throw new Error("Invalid permission: "+c);n+=du[c]}),this.padding="(Â¿N^NuÂŠAd\0NVÃ¿Ãº\b..\0Â¶Ãh>Â€/\fÂ©Ã¾dSiz";var o=(s+this.padding).substr(0,32),l=(r+this.padding).substr(0,32);this.O=this.processOwnerPassword(o,l),this.P=-(1+(255^n)),this.encryptionKey=T0(o+this.O+this.lsbFirstWord(this.P)+this.hexToBytes(a)).substr(0,5),this.U=E0(this.encryptionKey,this.padding)}function Vi(t){if(/[^\u0000-\u00ff]/.test(t))throw new Error("Invalid PDF Name Object: "+t+", Only accept ASCII characters.");for(var s="",r=t.length,a=0;a<r;a++){var n=t.charCodeAt(a);n<33||n===35||n===37||n===40||n===41||n===47||n===60||n===62||n===91||n===93||n===123||n===125||n>126?s+="#"+("0"+n.toString(16)).slice(-2):s+=t[a]}return s}function hu(t){if(ir(t)!=="object")throw new Error("Invalid Context passed to initialize PubSub (jsPDF-module)");var s={};this.subscribe=function(r,a,n){if(n=n||!1,typeof r!="string"||typeof a!="function"||typeof n!="boolean")throw new Error("Invalid arguments passed to PubSub.subscribe (jsPDF-module)");s.hasOwnProperty(r)||(s[r]={});var o=Math.random().toString(35);return s[r][o]=[a,!!n],o},this.unsubscribe=function(r){for(var a in s)if(s[a][r])return delete s[a][r],Object.keys(s[a]).length===0&&delete s[a],!0;return!1},this.publish=function(r){if(s.hasOwnProperty(r)){var a=Array.prototype.slice.call(arguments,1),n=[];for(var o in s[r]){var l=s[r][o];try{l[0].apply(t,a)}catch(c){bt.console&&nr.error("jsPDF PubSub Error",c.message,c)}l[1]&&n.push(o)}n.length&&n.forEach(this.unsubscribe)}},this.getTopics=function(){return s}}function rl(t){if(!(this instanceof rl))return new rl(t);var s="opacity,stroke-opacity".split(",");for(var r in t)t.hasOwnProperty(r)&&s.indexOf(r)>=0&&(this[r]=t[r]);this.id="",this.objectNumber=-1}function Jf(t,s){this.gState=t,this.matrix=s,this.id="",this.objectNumber=-1}function kn(t,s,r,a,n){if(!(this instanceof kn))return new kn(t,s,r,a,n);this.type=t==="axial"?2:3,this.coords=s,this.colors=r,Jf.call(this,a,n)}function Xn(t,s,r,a,n){if(!(this instanceof Xn))return new Xn(t,s,r,a,n);this.boundingBox=t,this.xStep=s,this.yStep=r,this.stream="",this.cloneIndex=0,Jf.call(this,a,n)}function vt(t){var s,r=typeof arguments[0]=="string"?arguments[0]:"p",a=arguments[1],n=arguments[2],o=arguments[3],l=[],c=1,d=16,h="S",u=null;ir(t=t||{})==="object"&&(r=t.orientation,a=t.unit||a,n=t.format||n,o=t.compress||t.compressPdf||o,(u=t.encryption||null)!==null&&(u.userPassword=u.userPassword||"",u.ownerPassword=u.ownerPassword||"",u.userPermissions=u.userPermissions||[]),c=typeof t.userUnit=="number"?Math.abs(t.userUnit):1,t.precision!==void 0&&(s=t.precision),t.floatPrecision!==void 0&&(d=t.floatPrecision),h=t.defaultPathOperation||"S"),l=t.filters||(o===!0?["FlateEncode"]:l),a=a||"mm",r=(""+(r||"P")).toLowerCase();var x=t.putOnlyUsedFonts||!1,p={},m={internal:{},__private__:{}};m.__private__.PubSub=hu;var y="1.3",g=m.__private__.getPdfVersion=function(){return y};m.__private__.setPdfVersion=function(S){y=S};var b={a0:[2383.94,3370.39],a1:[1683.78,2383.94],a2:[1190.55,1683.78],a3:[841.89,1190.55],a4:[595.28,841.89],a5:[419.53,595.28],a6:[297.64,419.53],a7:[209.76,297.64],a8:[147.4,209.76],a9:[104.88,147.4],a10:[73.7,104.88],b0:[2834.65,4008.19],b1:[2004.09,2834.65],b2:[1417.32,2004.09],b3:[1000.63,1417.32],b4:[708.66,1000.63],b5:[498.9,708.66],b6:[354.33,498.9],b7:[249.45,354.33],b8:[175.75,249.45],b9:[124.72,175.75],b10:[87.87,124.72],c0:[2599.37,3676.54],c1:[1836.85,2599.37],c2:[1298.27,1836.85],c3:[918.43,1298.27],c4:[649.13,918.43],c5:[459.21,649.13],c6:[323.15,459.21],c7:[229.61,323.15],c8:[161.57,229.61],c9:[113.39,161.57],c10:[79.37,113.39],dl:[311.81,623.62],letter:[612,792],"government-letter":[576,756],legal:[612,1008],"junior-legal":[576,360],ledger:[1224,792],tabloid:[792,1224],"credit-card":[153,243]};m.__private__.getPageFormats=function(){return b};var w=m.__private__.getPageFormat=function(S){return b[S]};n=n||"a4";var N={COMPAT:"compat",ADVANCED:"advanced"},j=N.COMPAT;function k(){this.saveGraphicsState(),de(new pt(it,0,0,-it,0,cn()*it).toString()+" cm"),this.setFontSize(this.getFontSize()/it),h="n",j=N.ADVANCED}function L(){this.restoreGraphicsState(),h="S",j=N.COMPAT}var F=m.__private__.combineFontStyleAndFontWeight=function(S,H){if(S=="bold"&&H=="normal"||S=="bold"&&H==400||S=="normal"&&H=="italic"||S=="bold"&&H=="italic")throw new Error("Invalid Combination of fontweight and fontstyle");return H&&(S=H==400||H==="normal"?S==="italic"?"italic":"normal":H!=700&&H!=="bold"||S!=="normal"?(H==700?"bold":H)+""+S:"bold"),S};m.advancedAPI=function(S){var H=j===N.COMPAT;return H&&k.call(this),typeof S!="function"||(S(this),H&&L.call(this)),this},m.compatAPI=function(S){var H=j===N.ADVANCED;return H&&L.call(this),typeof S!="function"||(S(this),H&&k.call(this)),this},m.isAdvancedAPI=function(){return j===N.ADVANCED};var T,C=function(S){if(j!==N.ADVANCED)throw new Error(S+" is only available in 'advanced' API mode. You need to call advancedAPI() first.")},I=m.roundToPrecision=m.__private__.roundToPrecision=function(S,H){var he=s||H;if(isNaN(S)||isNaN(he))throw new Error("Invalid argument passed to jsPDF.roundToPrecision");return S.toFixed(he).replace(/0+$/,"")};T=m.hpf=m.__private__.hpf=typeof d=="number"?function(S){if(isNaN(S))throw new Error("Invalid argument passed to jsPDF.hpf");return I(S,d)}:d==="smart"?function(S){if(isNaN(S))throw new Error("Invalid argument passed to jsPDF.hpf");return I(S,S>-1&&S<1?16:5)}:function(S){if(isNaN(S))throw new Error("Invalid argument passed to jsPDF.hpf");return I(S,16)};var D=m.f2=m.__private__.f2=function(S){if(isNaN(S))throw new Error("Invalid argument passed to jsPDF.f2");return I(S,2)},E=m.__private__.f3=function(S){if(isNaN(S))throw new Error("Invalid argument passed to jsPDF.f3");return I(S,3)},P=m.scale=m.__private__.scale=function(S){if(isNaN(S))throw new Error("Invalid argument passed to jsPDF.scale");return j===N.COMPAT?S*it:j===N.ADVANCED?S:void 0},W=function(S){return j===N.COMPAT?cn()-S:j===N.ADVANCED?S:void 0},z=function(S){return P(W(S))};m.__private__.setPrecision=m.setPrecision=function(S){typeof parseInt(S,10)=="number"&&(s=parseInt(S,10))};var ue,Q="00000000000000000000000000000000",ee=m.__private__.getFileId=function(){return Q},ie=m.__private__.setFileId=function(S){return Q=S!==void 0&&/^[a-fA-F0-9]{32}$/.test(S)?S.toUpperCase():Q.split("").map(function(){return"ABCDEF0123456789".charAt(Math.floor(16*Math.random()))}).join(""),u!==null&&(as=new zi(u.userPermissions,u.userPassword,u.ownerPassword,Q)),Q};m.setFileId=function(S){return ie(S),this},m.getFileId=function(){return ee()};var ne=m.__private__.convertDateToPDFDate=function(S){var H=S.getTimezoneOffset(),he=H<0?"+":"-",xe=Math.floor(Math.abs(H/60)),je=Math.abs(H%60),Re=[he,M(xe),"'",M(je),"'"].join("");return["D:",S.getFullYear(),M(S.getMonth()+1),M(S.getDate()),M(S.getHours()),M(S.getMinutes()),M(S.getSeconds()),Re].join("")},pe=m.__private__.convertPDFDateToDate=function(S){var H=parseInt(S.substr(2,4),10),he=parseInt(S.substr(6,2),10)-1,xe=parseInt(S.substr(8,2),10),je=parseInt(S.substr(10,2),10),Re=parseInt(S.substr(12,2),10),Ge=parseInt(S.substr(14,2),10);return new Date(H,he,xe,je,Re,Ge,0)},ye=m.__private__.setCreationDate=function(S){var H;if(S===void 0&&(S=new Date),S instanceof Date)H=ne(S);else{if(!/^D:(20[0-2][0-9]|203[0-7]|19[7-9][0-9])(0[0-9]|1[0-2])([0-2][0-9]|3[0-1])(0[0-9]|1[0-9]|2[0-3])(0[0-9]|[1-5][0-9])(0[0-9]|[1-5][0-9])(\+0[0-9]|\+1[0-4]|-0[0-9]|-1[0-1])'(0[0-9]|[1-5][0-9])'?$/.test(S))throw new Error("Invalid argument passed to jsPDF.setCreationDate");H=S}return ue=H},_=m.__private__.getCreationDate=function(S){var H=ue;return S==="jsDate"&&(H=pe(ue)),H};m.setCreationDate=function(S){return ye(S),this},m.getCreationDate=function(S){return _(S)};var R,M=m.__private__.padd2=function(S){return("0"+parseInt(S)).slice(-2)},B=m.__private__.padd2Hex=function(S){return("00"+(S=S.toString())).substr(S.length)},Y=0,fe=[],ae=[],X=0,me=[],Ne=[],De=!1,Ve=ae,Ke=function(){Y=0,X=0,ae=[],fe=[],me=[],te=gr(),re=gr()};m.__private__.setCustomOutputDestination=function(S){De=!0,Ve=S};var Ee=function(S){De||(Ve=S)};m.__private__.resetCustomOutputDestination=function(){De=!1,Ve=ae};var de=m.__private__.out=function(S){return S=S.toString(),X+=S.length+1,Ve.push(S),Ve},We=m.__private__.write=function(S){return de(arguments.length===1?S.toString():Array.prototype.join.call(arguments," "))},tt=m.__private__.getArrayBuffer=function(S){for(var H=S.length,he=new ArrayBuffer(H),xe=new Uint8Array(he);H--;)xe[H]=S.charCodeAt(H);return he},$e=[["Helvetica","helvetica","normal","WinAnsiEncoding"],["Helvetica-Bold","helvetica","bold","WinAnsiEncoding"],["Helvetica-Oblique","helvetica","italic","WinAnsiEncoding"],["Helvetica-BoldOblique","helvetica","bolditalic","WinAnsiEncoding"],["Courier","courier","normal","WinAnsiEncoding"],["Courier-Bold","courier","bold","WinAnsiEncoding"],["Courier-Oblique","courier","italic","WinAnsiEncoding"],["Courier-BoldOblique","courier","bolditalic","WinAnsiEncoding"],["Times-Roman","times","normal","WinAnsiEncoding"],["Times-Bold","times","bold","WinAnsiEncoding"],["Times-Italic","times","italic","WinAnsiEncoding"],["Times-BoldItalic","times","bolditalic","WinAnsiEncoding"],["ZapfDingbats","zapfdingbats","normal",null],["Symbol","symbol","normal",null]];m.__private__.getStandardFonts=function(){return $e};var Je=t.fontSize||16;m.__private__.setFontSize=m.setFontSize=function(S){return Je=j===N.ADVANCED?S/it:S,this};var rt,at=m.__private__.getFontSize=m.getFontSize=function(){return j===N.COMPAT?Je:Je*it},ft=t.R2L||!1;m.__private__.setR2L=m.setR2L=function(S){return ft=S,this},m.__private__.getR2L=m.getR2L=function(){return ft};var mt,Nt=m.__private__.setZoomMode=function(S){var H=[void 0,null,"fullwidth","fullheight","fullpage","original"];if(/^(?:\d+\.\d*|\d*\.\d+|\d+)%$/.test(S))rt=S;else if(isNaN(S)){if(H.indexOf(S)===-1)throw new Error('zoom must be Integer (e.g. 2), a percentage Value (e.g. 300%) or fullwidth, fullheight, fullpage, original. "'+S+'" is not recognized.');rt=S}else rt=parseInt(S,10)};m.__private__.getZoomMode=function(){return rt};var Tt,Ot=m.__private__.setPageMode=function(S){if([void 0,null,"UseNone","UseOutlines","UseThumbs","FullScreen"].indexOf(S)==-1)throw new Error('Page mode must be one of UseNone, UseOutlines, UseThumbs, or FullScreen. "'+S+'" is not recognized.');mt=S};m.__private__.getPageMode=function(){return mt};var Dt=m.__private__.setLayoutMode=function(S){if([void 0,null,"continuous","single","twoleft","tworight","two"].indexOf(S)==-1)throw new Error('Layout mode must be one of continuous, single, twoleft, tworight. "'+S+'" is not recognized.');Tt=S};m.__private__.getLayoutMode=function(){return Tt},m.__private__.setDisplayMode=m.setDisplayMode=function(S,H,he){return Nt(S),Dt(H),Ot(he),this};var yt={title:"",subject:"",author:"",keywords:"",creator:""};m.__private__.getDocumentProperty=function(S){if(Object.keys(yt).indexOf(S)===-1)throw new Error("Invalid argument passed to jsPDF.getDocumentProperty");return yt[S]},m.__private__.getDocumentProperties=function(){return yt},m.__private__.setDocumentProperties=m.setProperties=m.setDocumentProperties=function(S){for(var H in yt)yt.hasOwnProperty(H)&&S[H]&&(yt[H]=S[H]);return this},m.__private__.setDocumentProperty=function(S,H){if(Object.keys(yt).indexOf(S)===-1)throw new Error("Invalid arguments passed to jsPDF.setDocumentProperty");return yt[S]=H};var Ft,it,Rr,Rt,ws,Vt={},or={},Gs=[],Bt={},ka={},dr={},Os={},ia=null,sr=0,jt=[],Ht=new hu(m),Wa=t.hotfixes||[],Mr={},Ys={},Ks=[],pt=function S(H,he,xe,je,Re,Ge){if(!(this instanceof S))return new S(H,he,xe,je,Re,Ge);isNaN(H)&&(H=1),isNaN(he)&&(he=0),isNaN(xe)&&(xe=0),isNaN(je)&&(je=1),isNaN(Re)&&(Re=0),isNaN(Ge)&&(Ge=0),this._matrix=[H,he,xe,je,Re,Ge]};Object.defineProperty(pt.prototype,"sx",{get:function(){return this._matrix[0]},set:function(S){this._matrix[0]=S}}),Object.defineProperty(pt.prototype,"shy",{get:function(){return this._matrix[1]},set:function(S){this._matrix[1]=S}}),Object.defineProperty(pt.prototype,"shx",{get:function(){return this._matrix[2]},set:function(S){this._matrix[2]=S}}),Object.defineProperty(pt.prototype,"sy",{get:function(){return this._matrix[3]},set:function(S){this._matrix[3]=S}}),Object.defineProperty(pt.prototype,"tx",{get:function(){return this._matrix[4]},set:function(S){this._matrix[4]=S}}),Object.defineProperty(pt.prototype,"ty",{get:function(){return this._matrix[5]},set:function(S){this._matrix[5]=S}}),Object.defineProperty(pt.prototype,"a",{get:function(){return this._matrix[0]},set:function(S){this._matrix[0]=S}}),Object.defineProperty(pt.prototype,"b",{get:function(){return this._matrix[1]},set:function(S){this._matrix[1]=S}}),Object.defineProperty(pt.prototype,"c",{get:function(){return this._matrix[2]},set:function(S){this._matrix[2]=S}}),Object.defineProperty(pt.prototype,"d",{get:function(){return this._matrix[3]},set:function(S){this._matrix[3]=S}}),Object.defineProperty(pt.prototype,"e",{get:function(){return this._matrix[4]},set:function(S){this._matrix[4]=S}}),Object.defineProperty(pt.prototype,"f",{get:function(){return this._matrix[5]},set:function(S){this._matrix[5]=S}}),Object.defineProperty(pt.prototype,"rotation",{get:function(){return Math.atan2(this.shx,this.sx)}}),Object.defineProperty(pt.prototype,"scaleX",{get:function(){return this.decompose().scale.sx}}),Object.defineProperty(pt.prototype,"scaleY",{get:function(){return this.decompose().scale.sy}}),Object.defineProperty(pt.prototype,"isIdentity",{get:function(){return this.sx===1&&this.shy===0&&this.shx===0&&this.sy===1&&this.tx===0&&this.ty===0}}),pt.prototype.join=function(S){return[this.sx,this.shy,this.shx,this.sy,this.tx,this.ty].map(T).join(S)},pt.prototype.multiply=function(S){var H=S.sx*this.sx+S.shy*this.shx,he=S.sx*this.shy+S.shy*this.sy,xe=S.shx*this.sx+S.sy*this.shx,je=S.shx*this.shy+S.sy*this.sy,Re=S.tx*this.sx+S.ty*this.shx+this.tx,Ge=S.tx*this.shy+S.ty*this.sy+this.ty;return new pt(H,he,xe,je,Re,Ge)},pt.prototype.decompose=function(){var S=this.sx,H=this.shy,he=this.shx,xe=this.sy,je=this.tx,Re=this.ty,Ge=Math.sqrt(S*S+H*H),ct=(S/=Ge)*he+(H/=Ge)*xe;he-=S*ct,xe-=H*ct;var xt=Math.sqrt(he*he+xe*xe);return ct/=xt,S*(xe/=xt)<H*(he/=xt)&&(S=-S,H=-H,ct=-ct,Ge=-Ge),{scale:new pt(Ge,0,0,xt,0,0),translate:new pt(1,0,0,1,je,Re),rotate:new pt(S,H,-H,S,0,0),skew:new pt(1,0,ct,1,0,0)}},pt.prototype.toString=function(S){return this.join(" ")},pt.prototype.inversed=function(){var S=this.sx,H=this.shy,he=this.shx,xe=this.sy,je=this.tx,Re=this.ty,Ge=1/(S*xe-H*he),ct=xe*Ge,xt=-H*Ge,_t=-he*Ge,kt=S*Ge;return new pt(ct,xt,_t,kt,-ct*je-_t*Re,-xt*je-kt*Re)},pt.prototype.applyToPoint=function(S){var H=S.x*this.sx+S.y*this.shx+this.tx,he=S.x*this.shy+S.y*this.sy+this.ty;return new bi(H,he)},pt.prototype.applyToRectangle=function(S){var H=this.applyToPoint(S),he=this.applyToPoint(new bi(S.x+S.w,S.y+S.h));return new yo(H.x,H.y,he.x-H.x,he.y-H.y)},pt.prototype.clone=function(){var S=this.sx,H=this.shy,he=this.shx,xe=this.sy,je=this.tx,Re=this.ty;return new pt(S,H,he,xe,je,Re)},m.Matrix=pt;var Ds=m.matrixMult=function(S,H){return H.multiply(S)},Ns=new pt(1,0,0,1,0,0);m.unitMatrix=m.identityMatrix=Ns;var ss=function(S,H){if(!ka[S]){var he=(H instanceof kn?"Sh":"P")+(Object.keys(Bt).length+1).toString(10);H.id=he,ka[S]=he,Bt[he]=H,Ht.publish("addPattern",H)}};m.ShadingPattern=kn,m.TilingPattern=Xn,m.addShadingPattern=function(S,H){return C("addShadingPattern()"),ss(S,H),this},m.beginTilingPattern=function(S){C("beginTilingPattern()"),Dl(S.boundingBox[0],S.boundingBox[1],S.boundingBox[2]-S.boundingBox[0],S.boundingBox[3]-S.boundingBox[1],S.matrix)},m.endTilingPattern=function(S,H){C("endTilingPattern()"),H.stream=Ne[R].join(`
`),ss(S,H),Ht.publish("endTilingPattern",H),Ks.pop().restore()};var jr=m.__private__.newObject=function(){var S=gr();return V(S,!0),S},gr=m.__private__.newObjectDeferred=function(){return Y++,fe[Y]=function(){return X},Y},V=function(S,H){return H=typeof H=="boolean"&&H,fe[S]=X,H&&de(S+" 0 obj"),S},le=m.__private__.newAdditionalObject=function(){var S={objId:gr(),content:""};return me.push(S),S},te=gr(),re=gr(),oe=m.__private__.decodeColorString=function(S){var H=S.split(" ");if(H.length!==2||H[1]!=="g"&&H[1]!=="G")H.length===5&&(H[4]==="k"||H[4]==="K")&&(H=[(1-H[0])*(1-H[3]),(1-H[1])*(1-H[3]),(1-H[2])*(1-H[3]),"r"]);else{var he=parseFloat(H[0]);H=[he,he,he,"r"]}for(var xe="#",je=0;je<3;je++)xe+=("0"+Math.floor(255*parseFloat(H[je])).toString(16)).slice(-2);return xe},ce=m.__private__.encodeColorString=function(S){var H;typeof S=="string"&&(S={ch1:S});var he=S.ch1,xe=S.ch2,je=S.ch3,Re=S.ch4,Ge=S.pdfColorType==="draw"?["G","RG","K"]:["g","rg","k"];if(typeof he=="string"&&he.charAt(0)!=="#"){var ct=new Kf(he);if(ct.ok)he=ct.toHex();else if(!/^\d*\.?\d*$/.test(he))throw new Error('Invalid color "'+he+'" passed to jsPDF.encodeColorString.')}if(typeof he=="string"&&/^#[0-9A-Fa-f]{3}$/.test(he)&&(he="#"+he[1]+he[1]+he[2]+he[2]+he[3]+he[3]),typeof he=="string"&&/^#[0-9A-Fa-f]{6}$/.test(he)){var xt=parseInt(he.substr(1),16);he=xt>>16&255,xe=xt>>8&255,je=255&xt}if(xe===void 0||Re===void 0&&he===xe&&xe===je)if(typeof he=="string")H=he+" "+Ge[0];else switch(S.precision){case 2:H=D(he/255)+" "+Ge[0];break;case 3:default:H=E(he/255)+" "+Ge[0]}else if(Re===void 0||ir(Re)==="object"){if(Re&&!isNaN(Re.a)&&Re.a===0)return H=["1.","1.","1.",Ge[1]].join(" ");if(typeof he=="string")H=[he,xe,je,Ge[1]].join(" ");else switch(S.precision){case 2:H=[D(he/255),D(xe/255),D(je/255),Ge[1]].join(" ");break;default:case 3:H=[E(he/255),E(xe/255),E(je/255),Ge[1]].join(" ")}}else if(typeof he=="string")H=[he,xe,je,Re,Ge[2]].join(" ");else switch(S.precision){case 2:H=[D(he),D(xe),D(je),D(Re),Ge[2]].join(" ");break;case 3:default:H=[E(he),E(xe),E(je),E(Re),Ge[2]].join(" ")}return H},ke=m.__private__.getFilters=function(){return l},Le=m.__private__.putStream=function(S){var H=(S=S||{}).data||"",he=S.filters||ke(),xe=S.alreadyAppliedFilters||[],je=S.addLength1||!1,Re=H.length,Ge=S.objectId,ct=function(ns){return ns};if(u!==null&&Ge===void 0)throw new Error("ObjectId must be passed to putStream for file encryption");u!==null&&(ct=as.encryptor(Ge,0));var xt={};he===!0&&(he=["FlateEncode"]);var _t=S.additionalKeyValues||[],kt=(xt=vt.API.processDataByFilters!==void 0?vt.API.processDataByFilters(H,he):{data:H,reverseChain:[]}).reverseChain+(Array.isArray(xe)?xe.join(" "):xe.toString());if(xt.data.length!==0&&(_t.push({key:"Length",value:xt.data.length}),je===!0&&_t.push({key:"Length1",value:Re})),kt.length!=0)if(kt.split("/").length-1==1)_t.push({key:"Filter",value:kt});else{_t.push({key:"Filter",value:"["+kt+"]"});for(var Mt=0;Mt<_t.length;Mt+=1)if(_t[Mt].key==="DecodeParms"){for(var fr=[],vr=0;vr<xt.reverseChain.split("/").length-1;vr+=1)fr.push("null");fr.push(_t[Mt].value),_t[Mt].value="["+fr.join(" ")+"]"}}de("<<");for(var Pr=0;Pr<_t.length;Pr++)de("/"+_t[Pr].key+" "+_t[Pr].value);de(">>"),xt.data.length!==0&&(de("stream"),de(ct(xt.data)),de("endstream"))},Se=m.__private__.putPage=function(S){var H=S.number,he=S.data,xe=S.objId,je=S.contentsObjId;V(xe,!0),de("<</Type /Page"),de("/Parent "+S.rootDictionaryObjId+" 0 R"),de("/Resources "+S.resourceDictionaryObjId+" 0 R"),de("/MediaBox ["+parseFloat(T(S.mediaBox.bottomLeftX))+" "+parseFloat(T(S.mediaBox.bottomLeftY))+" "+T(S.mediaBox.topRightX)+" "+T(S.mediaBox.topRightY)+"]"),S.cropBox!==null&&de("/CropBox ["+T(S.cropBox.bottomLeftX)+" "+T(S.cropBox.bottomLeftY)+" "+T(S.cropBox.topRightX)+" "+T(S.cropBox.topRightY)+"]"),S.bleedBox!==null&&de("/BleedBox ["+T(S.bleedBox.bottomLeftX)+" "+T(S.bleedBox.bottomLeftY)+" "+T(S.bleedBox.topRightX)+" "+T(S.bleedBox.topRightY)+"]"),S.trimBox!==null&&de("/TrimBox ["+T(S.trimBox.bottomLeftX)+" "+T(S.trimBox.bottomLeftY)+" "+T(S.trimBox.topRightX)+" "+T(S.trimBox.topRightY)+"]"),S.artBox!==null&&de("/ArtBox ["+T(S.artBox.bottomLeftX)+" "+T(S.artBox.bottomLeftY)+" "+T(S.artBox.topRightX)+" "+T(S.artBox.topRightY)+"]"),typeof S.userUnit=="number"&&S.userUnit!==1&&de("/UserUnit "+S.userUnit),Ht.publish("putPage",{objId:xe,pageContext:jt[H],pageNumber:H,page:he}),de("/Contents "+je+" 0 R"),de(">>"),de("endobj");var Re=he.join(`
`);return j===N.ADVANCED&&(Re+=`
Q`),V(je,!0),Le({data:Re,filters:ke(),objectId:je}),de("endobj"),xe},Ce=m.__private__.putPages=function(){var S,H,he=[];for(S=1;S<=sr;S++)jt[S].objId=gr(),jt[S].contentsObjId=gr();for(S=1;S<=sr;S++)he.push(Se({number:S,data:Ne[S],objId:jt[S].objId,contentsObjId:jt[S].contentsObjId,mediaBox:jt[S].mediaBox,cropBox:jt[S].cropBox,bleedBox:jt[S].bleedBox,trimBox:jt[S].trimBox,artBox:jt[S].artBox,userUnit:jt[S].userUnit,rootDictionaryObjId:te,resourceDictionaryObjId:re}));V(te,!0),de("<</Type /Pages");var xe="/Kids [";for(H=0;H<sr;H++)xe+=he[H]+" 0 R ";de(xe+"]"),de("/Count "+sr),de(">>"),de("endobj"),Ht.publish("postPutPages")},Te=function(S){Ht.publish("putFont",{font:S,out:de,newObject:jr,putStream:Le}),S.isAlreadyPutted!==!0&&(S.objectNumber=jr(),de("<<"),de("/Type /Font"),de("/BaseFont /"+Vi(S.postScriptName)),de("/Subtype /Type1"),typeof S.encoding=="string"&&de("/Encoding /"+S.encoding),de("/FirstChar 32"),de("/LastChar 255"),de(">>"),de("endobj"))},Ye=function(){for(var S in Vt)Vt.hasOwnProperty(S)&&(x===!1||x===!0&&p.hasOwnProperty(S))&&Te(Vt[S])},Qe=function(S){S.objectNumber=jr();var H=[];H.push({key:"Type",value:"/XObject"}),H.push({key:"Subtype",value:"/Form"}),H.push({key:"BBox",value:"["+[T(S.x),T(S.y),T(S.x+S.width),T(S.y+S.height)].join(" ")+"]"}),H.push({key:"Matrix",value:"["+S.matrix.toString()+"]"});var he=S.pages[1].join(`
`);Le({data:he,additionalKeyValues:H,objectId:S.objectNumber}),de("endobj")},lt=function(){for(var S in Mr)Mr.hasOwnProperty(S)&&Qe(Mr[S])},Xe=function(S,H){var he,xe=[],je=1/(H-1);for(he=0;he<1;he+=je)xe.push(he);if(xe.push(1),S[0].offset!=0){var Re={offset:0,color:S[0].color};S.unshift(Re)}if(S[S.length-1].offset!=1){var Ge={offset:1,color:S[S.length-1].color};S.push(Ge)}for(var ct="",xt=0,_t=0;_t<xe.length;_t++){for(he=xe[_t];he>S[xt+1].offset;)xt++;var kt=S[xt].offset,Mt=(he-kt)/(S[xt+1].offset-kt),fr=S[xt].color,vr=S[xt+1].color;ct+=B(Math.round((1-Mt)*fr[0]+Mt*vr[0]).toString(16))+B(Math.round((1-Mt)*fr[1]+Mt*vr[1]).toString(16))+B(Math.round((1-Mt)*fr[2]+Mt*vr[2]).toString(16))}return ct.trim()},ot=function(S,H){H||(H=21);var he=jr(),xe=Xe(S.colors,H),je=[];je.push({key:"FunctionType",value:"0"}),je.push({key:"Domain",value:"[0.0 1.0]"}),je.push({key:"Size",value:"["+H+"]"}),je.push({key:"BitsPerSample",value:"8"}),je.push({key:"Range",value:"[0.0 1.0 0.0 1.0 0.0 1.0]"}),je.push({key:"Decode",value:"[0.0 1.0 0.0 1.0 0.0 1.0]"}),Le({data:xe,additionalKeyValues:je,alreadyAppliedFilters:["/ASCIIHexDecode"],objectId:he}),de("endobj"),S.objectNumber=jr(),de("<< /ShadingType "+S.type),de("/ColorSpace /DeviceRGB");var Re="/Coords ["+T(parseFloat(S.coords[0]))+" "+T(parseFloat(S.coords[1]))+" ";S.type===2?Re+=T(parseFloat(S.coords[2]))+" "+T(parseFloat(S.coords[3])):Re+=T(parseFloat(S.coords[2]))+" "+T(parseFloat(S.coords[3]))+" "+T(parseFloat(S.coords[4]))+" "+T(parseFloat(S.coords[5])),de(Re+="]"),S.matrix&&de("/Matrix ["+S.matrix.toString()+"]"),de("/Function "+he+" 0 R"),de("/Extend [true true]"),de(">>"),de("endobj")},wt=function(S,H){var he=gr(),xe=jr();H.push({resourcesOid:he,objectOid:xe}),S.objectNumber=xe;var je=[];je.push({key:"Type",value:"/Pattern"}),je.push({key:"PatternType",value:"1"}),je.push({key:"PaintType",value:"1"}),je.push({key:"TilingType",value:"1"}),je.push({key:"BBox",value:"["+S.boundingBox.map(T).join(" ")+"]"}),je.push({key:"XStep",value:T(S.xStep)}),je.push({key:"YStep",value:T(S.yStep)}),je.push({key:"Resources",value:he+" 0 R"}),S.matrix&&je.push({key:"Matrix",value:"["+S.matrix.toString()+"]"}),Le({data:S.stream,additionalKeyValues:je,objectId:S.objectNumber}),de("endobj")},$t=function(S){var H;for(H in Bt)Bt.hasOwnProperty(H)&&(Bt[H]instanceof kn?ot(Bt[H]):Bt[H]instanceof Xn&&wt(Bt[H],S))},er=function(S){for(var H in S.objectNumber=jr(),de("<<"),S)switch(H){case"opacity":de("/ca "+D(S[H]));break;case"stroke-opacity":de("/CA "+D(S[H]))}de(">>"),de("endobj")},Er=function(){var S;for(S in dr)dr.hasOwnProperty(S)&&er(dr[S])},oa=function(){for(var S in de("/XObject <<"),Mr)Mr.hasOwnProperty(S)&&Mr[S].objectNumber>=0&&de("/"+S+" "+Mr[S].objectNumber+" 0 R");Ht.publish("putXobjectDict"),de(">>")},qa=function(){as.oid=jr(),de("<<"),de("/Filter /Standard"),de("/V "+as.v),de("/R "+as.r),de("/U <"+as.toHexString(as.U)+">"),de("/O <"+as.toHexString(as.O)+">"),de("/P "+as.P),de(">>"),de("endobj")},Aa=function(){for(var S in de("/Font <<"),Vt)Vt.hasOwnProperty(S)&&(x===!1||x===!0&&p.hasOwnProperty(S))&&de("/"+S+" "+Vt[S].objectNumber+" 0 R");de(">>")},la=function(){if(Object.keys(Bt).length>0){for(var S in de("/Shading <<"),Bt)Bt.hasOwnProperty(S)&&Bt[S]instanceof kn&&Bt[S].objectNumber>=0&&de("/"+S+" "+Bt[S].objectNumber+" 0 R");Ht.publish("putShadingPatternDict"),de(">>")}},_a=function(S){if(Object.keys(Bt).length>0){for(var H in de("/Pattern <<"),Bt)Bt.hasOwnProperty(H)&&Bt[H]instanceof m.TilingPattern&&Bt[H].objectNumber>=0&&Bt[H].objectNumber<S&&de("/"+H+" "+Bt[H].objectNumber+" 0 R");Ht.publish("putTilingPatternDict"),de(">>")}},Is=function(){if(Object.keys(dr).length>0){var S;for(S in de("/ExtGState <<"),dr)dr.hasOwnProperty(S)&&dr[S].objectNumber>=0&&de("/"+S+" "+dr[S].objectNumber+" 0 R");Ht.publish("putGStateDict"),de(">>")}},Sr=function(S){V(S.resourcesOid,!0),de("<<"),de("/ProcSet [/PDF /Text /ImageB /ImageC /ImageI]"),Aa(),la(),_a(S.objectOid),Is(),oa(),de(">>"),de("endobj")},bl=function(){var S=[];Ye(),Er(),lt(),$t(S),Ht.publish("putResources"),S.forEach(Sr),Sr({resourcesOid:re,objectOid:Number.MAX_SAFE_INTEGER}),Ht.publish("postPutResources")},wl=function(){Ht.publish("putAdditionalObjects");for(var S=0;S<me.length;S++){var H=me[S];V(H.objId,!0),de(H.content),de("endobj")}Ht.publish("postPutAdditionalObjects")},Nl=function(S){or[S.fontName]=or[S.fontName]||{},or[S.fontName][S.fontStyle]=S.id},co=function(S,H,he,xe,je){var Re={id:"F"+(Object.keys(Vt).length+1).toString(10),postScriptName:S,fontName:H,fontStyle:he,encoding:xe,isStandardFont:je||!1,metadata:{}};return Ht.publish("addFont",{font:Re,instance:this}),Vt[Re.id]=Re,Nl(Re),Re.id},fd=function(S){for(var H=0,he=$e.length;H<he;H++){var xe=co.call(this,S[H][0],S[H][1],S[H][2],$e[H][3],!0);x===!1&&(p[xe]=!0);var je=S[H][0].split("-");Nl({id:xe,fontName:je[0],fontStyle:je[1]||""})}Ht.publish("addFonts",{fonts:Vt,dictionary:or})},ca=function(S){return S.foo=function(){try{return S.apply(this,arguments)}catch(xe){var H=xe.stack||"";~H.indexOf(" at ")&&(H=H.split(" at ")[1]);var he="Error in function "+H.split(`
`)[0].split("<")[0]+": "+xe.message;if(!bt.console)throw new Error(he);bt.console.error(he,xe),bt.alert&&alert(he)}},S.foo.bar=S,S.foo},mi=function(S,H){var he,xe,je,Re,Ge,ct,xt,_t,kt;if(je=(H=H||{}).sourceEncoding||"Unicode",Ge=H.outputEncoding,(H.autoencode||Ge)&&Vt[Ft].metadata&&Vt[Ft].metadata[je]&&Vt[Ft].metadata[je].encoding&&(Re=Vt[Ft].metadata[je].encoding,!Ge&&Vt[Ft].encoding&&(Ge=Vt[Ft].encoding),!Ge&&Re.codePages&&(Ge=Re.codePages[0]),typeof Ge=="string"&&(Ge=Re[Ge]),Ge)){for(xt=!1,ct=[],he=0,xe=S.length;he<xe;he++)(_t=Ge[S.charCodeAt(he)])?ct.push(String.fromCharCode(_t)):ct.push(S[he]),ct[he].charCodeAt(0)>>8&&(xt=!0);S=ct.join("")}for(he=S.length;xt===void 0&&he!==0;)S.charCodeAt(he-1)>>8&&(xt=!0),he--;if(!xt)return S;for(ct=H.noBOM?[]:[254,255],he=0,xe=S.length;he<xe;he++){if((kt=(_t=S.charCodeAt(he))>>8)>>8)throw new Error("Character at position "+he+" of string '"+S+"' exceeds 16bits. Cannot be encoded into UCS-2 BE");ct.push(kt),ct.push(_t-(kt<<8))}return String.fromCharCode.apply(void 0,ct)},js=m.__private__.pdfEscape=m.pdfEscape=function(S,H){return mi(S,H).replace(/\\/g,"\\\\").replace(/\(/g,"\\(").replace(/\)/g,"\\)")},ho=m.__private__.beginPage=function(S){Ne[++sr]=[],jt[sr]={objId:0,contentsObjId:0,userUnit:Number(c),artBox:null,bleedBox:null,cropBox:null,trimBox:null,mediaBox:{bottomLeftX:0,bottomLeftY:0,topRightX:Number(S[0]),topRightY:Number(S[1])}},Sl(sr),Ee(Ne[R])},jl=function(S,H){var he,xe,je;switch(r=H||r,typeof S=="string"&&(he=w(S.toLowerCase()),Array.isArray(he)&&(xe=he[0],je=he[1])),Array.isArray(S)&&(xe=S[0]*it,je=S[1]*it),isNaN(xe)&&(xe=n[0],je=n[1]),(xe>14400||je>14400)&&(nr.warn("A page in a PDF can not be wider or taller than 14400 userUnit. jsPDF limits the width/height to 14400"),xe=Math.min(14400,xe),je=Math.min(14400,je)),n=[xe,je],r.substr(0,1)){case"l":je>xe&&(n=[je,xe]);break;case"p":xe>je&&(n=[je,xe])}ho(n),El(xo),de(da),go!==0&&de(go+" J"),vo!==0&&de(vo+" j"),Ht.publish("addPage",{pageNumber:sr})},md=function(S){S>0&&S<=sr&&(Ne.splice(S,1),jt.splice(S,1),sr--,R>sr&&(R=sr),this.setPage(R))},Sl=function(S){S>0&&S<=sr&&(R=S)},xd=m.__private__.getNumberOfPages=m.getNumberOfPages=function(){return Ne.length-1},kl=function(S,H,he){var xe,je=void 0;return he=he||{},S=S!==void 0?S:Vt[Ft].fontName,H=H!==void 0?H:Vt[Ft].fontStyle,xe=S.toLowerCase(),or[xe]!==void 0&&or[xe][H]!==void 0?je=or[xe][H]:or[S]!==void 0&&or[S][H]!==void 0?je=or[S][H]:he.disableWarning===!1&&nr.warn("Unable to look up font label for font '"+S+"', '"+H+"'. Refer to getFontList() for available fonts."),je||he.noFallback||(je=or.times[H])==null&&(je=or.times.normal),je},pd=m.__private__.putInfo=function(){var S=jr(),H=function(xe){return xe};for(var he in u!==null&&(H=as.encryptor(S,0)),de("<<"),de("/Producer ("+js(H("jsPDF "+vt.version))+")"),yt)yt.hasOwnProperty(he)&&yt[he]&&de("/"+he.substr(0,1).toUpperCase()+he.substr(1)+" ("+js(H(yt[he]))+")");de("/CreationDate ("+js(H(ue))+")"),de(">>"),de("endobj")},uo=m.__private__.putCatalog=function(S){var H=(S=S||{}).rootDictionaryObjId||te;switch(jr(),de("<<"),de("/Type /Catalog"),de("/Pages "+H+" 0 R"),rt||(rt="fullwidth"),rt){case"fullwidth":de("/OpenAction [3 0 R /FitH null]");break;case"fullheight":de("/OpenAction [3 0 R /FitV null]");break;case"fullpage":de("/OpenAction [3 0 R /Fit]");break;case"original":de("/OpenAction [3 0 R /XYZ null null 1]");break;default:var he=""+rt;he.substr(he.length-1)==="%"&&(rt=parseInt(rt)/100),typeof rt=="number"&&de("/OpenAction [3 0 R /XYZ null null "+D(rt)+"]")}switch(Tt||(Tt="continuous"),Tt){case"continuous":de("/PageLayout /OneColumn");break;case"single":de("/PageLayout /SinglePage");break;case"two":case"twoleft":de("/PageLayout /TwoColumnLeft");break;case"tworight":de("/PageLayout /TwoColumnRight")}mt&&de("/PageMode /"+mt),Ht.publish("putCatalog"),de(">>"),de("endobj")},gd=m.__private__.putTrailer=function(){de("trailer"),de("<<"),de("/Size "+(Y+1)),de("/Root "+Y+" 0 R"),de("/Info "+(Y-1)+" 0 R"),u!==null&&de("/Encrypt "+as.oid+" 0 R"),de("/ID [ <"+Q+"> <"+Q+"> ]"),de(">>")},vd=m.__private__.putHeader=function(){de("%PDF-"+y),de("%ÂºÃŸÂ¬Ã ")},yd=m.__private__.putXRef=function(){var S="0000000000";de("xref"),de("0 "+(Y+1)),de("0000000000 65535 f ");for(var H=1;H<=Y;H++)typeof fe[H]=="function"?de((S+fe[H]()).slice(-10)+" 00000 n "):fe[H]!==void 0?de((S+fe[H]).slice(-10)+" 00000 n "):de("0000000000 00000 n ")},za=m.__private__.buildDocument=function(){Ke(),Ee(ae),Ht.publish("buildDocument"),vd(),Ce(),wl(),bl(),u!==null&&qa(),pd(),uo();var S=X;return yd(),gd(),de("startxref"),de(""+S),de("%%EOF"),Ee(Ne[R]),ae.join(`
`)},xi=m.__private__.getBlob=function(S){return new Blob([tt(S)],{type:"application/pdf"})},pi=m.output=m.__private__.output=ca(function(S,H){switch(typeof(H=H||{})=="string"?H={filename:H}:H.filename=H.filename||"generated.pdf",S){case void 0:return za();case"save":m.save(H.filename);break;case"arraybuffer":return tt(za());case"blob":return xi(za());case"bloburi":case"bloburl":if(bt.URL!==void 0&&typeof bt.URL.createObjectURL=="function")return bt.URL&&bt.URL.createObjectURL(xi(za()))||void 0;nr.warn("bloburl is not supported by your system, because URL.createObjectURL is not supported by your browser.");break;case"datauristring":case"dataurlstring":var he="",xe=za();try{he=C0(xe)}catch{he=C0(unescape(encodeURIComponent(xe)))}return"data:application/pdf;filename="+H.filename+";base64,"+he;case"pdfobjectnewwindow":if(Object.prototype.toString.call(bt)==="[object Window]"){var je="https://cdnjs.cloudflare.com/ajax/libs/pdfobject/2.1.1/pdfobject.min.js",Re=' integrity="sha512-4ze/a9/4jqu+tX9dfOqJYSvyYd5M6qum/3HpCLr+/Jqf0whc37VUbkpNGHR7/8pSnCFw47T1fmIpwBV7UySh3g==" crossorigin="anonymous"';H.pdfObjectUrl&&(je=H.pdfObjectUrl,Re="");var Ge='<html><style>html, body { padding: 0; margin: 0; } iframe { width: 100%; height: 100%; border: 0;}  </style><body><script src="'+je+'"'+Re+'><\/script><script >PDFObject.embed("'+this.output("dataurlstring")+'", '+JSON.stringify(H)+");<\/script></body></html>",ct=bt.open();return ct!==null&&ct.document.write(Ge),ct}throw new Error("The option pdfobjectnewwindow just works in a browser-environment.");case"pdfjsnewwindow":if(Object.prototype.toString.call(bt)==="[object Window]"){var xt='<html><style>html, body { padding: 0; margin: 0; } iframe { width: 100%; height: 100%; border: 0;}  </style><body><iframe id="pdfViewer" src="'+(H.pdfJsUrl||"examples/PDF.js/web/viewer.html")+"?file=&downloadName="+H.filename+'" width="500px" height="400px" /></body></html>',_t=bt.open();if(_t!==null){_t.document.write(xt);var kt=this;_t.document.documentElement.querySelector("#pdfViewer").onload=function(){_t.document.title=H.filename,_t.document.documentElement.querySelector("#pdfViewer").contentWindow.PDFViewerApplication.open(kt.output("bloburl"))}}return _t}throw new Error("The option pdfjsnewwindow just works in a browser-environment.");case"dataurlnewwindow":if(Object.prototype.toString.call(bt)!=="[object Window]")throw new Error("The option dataurlnewwindow just works in a browser-environment.");var Mt='<html><style>html, body { padding: 0; margin: 0; } iframe { width: 100%; height: 100%; border: 0;}  </style><body><iframe src="'+this.output("datauristring",H)+'"></iframe></body></html>',fr=bt.open();if(fr!==null&&(fr.document.write(Mt),fr.document.title=H.filename),fr||typeof safari>"u")return fr;break;case"datauri":case"dataurl":return bt.document.location.href=this.output("datauristring",H);default:return null}}),Al=function(S){return Array.isArray(Wa)===!0&&Wa.indexOf(S)>-1};switch(a){case"pt":it=1;break;case"mm":it=72/25.4;break;case"cm":it=72/2.54;break;case"in":it=72;break;case"px":it=Al("px_scaling")==1?.75:96/72;break;case"pc":case"em":it=12;break;case"ex":it=6;break;default:if(typeof a!="number")throw new Error("Invalid unit: "+a);it=a}var as=null;ye(),ie();var bd=function(S){return u!==null?as.encryptor(S,0):function(H){return H}},_l=m.__private__.getPageInfo=m.getPageInfo=function(S){if(isNaN(S)||S%1!=0)throw new Error("Invalid argument passed to jsPDF.getPageInfo");return{objId:jt[S].objId,pageNumber:S,pageContext:jt[S]}},St=m.__private__.getPageInfoByObjId=function(S){if(isNaN(S)||S%1!=0)throw new Error("Invalid argument passed to jsPDF.getPageInfoByObjId");for(var H in jt)if(jt[H].objId===S)break;return _l(H)},wd=m.__private__.getCurrentPageInfo=m.getCurrentPageInfo=function(){return{objId:jt[R].objId,pageNumber:R,pageContext:jt[R]}};m.addPage=function(){return jl.apply(this,arguments),this},m.setPage=function(){return Sl.apply(this,arguments),Ee.call(this,Ne[R]),this},m.insertPage=function(S){return this.addPage(),this.movePage(R,S),this},m.movePage=function(S,H){var he,xe;if(S>H){he=Ne[S],xe=jt[S];for(var je=S;je>H;je--)Ne[je]=Ne[je-1],jt[je]=jt[je-1];Ne[H]=he,jt[H]=xe,this.setPage(H)}else if(S<H){he=Ne[S],xe=jt[S];for(var Re=S;Re<H;Re++)Ne[Re]=Ne[Re+1],jt[Re]=jt[Re+1];Ne[H]=he,jt[H]=xe,this.setPage(H)}return this},m.deletePage=function(){return md.apply(this,arguments),this},m.__private__.text=m.text=function(S,H,he,xe,je){var Re,Ge,ct,xt,_t,kt,Mt,fr,vr,Pr=(xe=xe||{}).scope||this;if(typeof S=="number"&&typeof H=="number"&&(typeof he=="string"||Array.isArray(he))){var ns=he;he=H,H=S,S=ns}if(arguments[3]instanceof pt?(C("The transform parameter of text() with a Matrix value"),vr=je):(ct=arguments[4],xt=arguments[5],ir(Mt=arguments[3])==="object"&&Mt!==null||(typeof ct=="string"&&(xt=ct,ct=null),typeof Mt=="string"&&(xt=Mt,Mt=null),typeof Mt=="number"&&(ct=Mt,Mt=null),xe={flags:Mt,angle:ct,align:xt})),isNaN(H)||isNaN(he)||S==null)throw new Error("Invalid arguments passed to jsPDF.text");if(S.length===0)return Pr;var qr="",ha=!1,Rs=typeof xe.lineHeightFactor=="number"?xe.lineHeightFactor:Bn,Ea=Pr.internal.scaleFactor;function Il(lr){return lr=lr.split("	").join(Array(xe.TabLen||9).join(" ")),js(lr,Mt)}function jo(lr){for(var cr,Ar=lr.concat(),Br=[],Ka=Ar.length;Ka--;)typeof(cr=Ar.shift())=="string"?Br.push(cr):Array.isArray(lr)&&(cr.length===1||cr[1]===void 0&&cr[2]===void 0)?Br.push(cr[0]):Br.push([cr[0],cr[1],cr[2]]);return Br}function So(lr,cr){var Ar;if(typeof lr=="string")Ar=cr(lr)[0];else if(Array.isArray(lr)){for(var Br,Ka,Fo=lr.concat(),Pi=[],Hl=Fo.length;Hl--;)typeof(Br=Fo.shift())=="string"?Pi.push(cr(Br)[0]):Array.isArray(Br)&&typeof Br[0]=="string"&&(Ka=cr(Br[0],Br[1],Br[2]),Pi.push([Ka[0],Ka[1],Ka[2]]));Ar=Pi}return Ar}var Ni=!1,ko=!0;if(typeof S=="string")Ni=!0;else if(Array.isArray(S)){var Ao=S.concat();Ge=[];for(var ji,Kr=Ao.length;Kr--;)(typeof(ji=Ao.shift())!="string"||Array.isArray(ji)&&typeof ji[0]!="string")&&(ko=!1);Ni=ko}if(Ni===!1)throw new Error('Type of text must be string or Array. "'+S+'" is not recognized.');typeof S=="string"&&(S=S.match(/[\r?\n]/)?S.split(/\r\n|\r|\n/g):[S]);var Si=Je/Pr.internal.scaleFactor,ki=Si*(Rs-1);switch(xe.baseline){case"bottom":he-=ki;break;case"top":he+=Si-ki;break;case"hanging":he+=Si-2*ki;break;case"middle":he+=Si/2-ki}if((kt=xe.maxWidth||0)>0&&(typeof S=="string"?S=Pr.splitTextToSize(S,kt):Object.prototype.toString.call(S)==="[object Array]"&&(S=S.reduce(function(lr,cr){return lr.concat(Pr.splitTextToSize(cr,kt))},[]))),Re={text:S,x:H,y:he,options:xe,mutex:{pdfEscape:js,activeFontKey:Ft,fonts:Vt,activeFontSize:Je}},Ht.publish("preProcessText",Re),S=Re.text,ct=(xe=Re.options).angle,!(vr instanceof pt)&&ct&&typeof ct=="number"){ct*=Math.PI/180,xe.rotationDirection===0&&(ct=-ct),j===N.ADVANCED&&(ct=-ct);var Ai=Math.cos(ct),_o=Math.sin(ct);vr=new pt(Ai,_o,-_o,Ai,0,0)}else ct&&ct instanceof pt&&(vr=ct);j!==N.ADVANCED||vr||(vr=Ns),(_t=xe.charSpace||yi)!==void 0&&(qr+=T(P(_t))+` Tc
`,this.setCharSpace(this.getCharSpace()||0)),(fr=xe.horizontalScale)!==void 0&&(qr+=T(100*fr)+` Tz
`),xe.lang;var Ss=-1,Pd=xe.renderingMode!==void 0?xe.renderingMode:xe.stroke,Co=Pr.internal.getCurrentPageInfo().pageContext;switch(Pd){case 0:case!1:case"fill":Ss=0;break;case 1:case!0:case"stroke":Ss=1;break;case 2:case"fillThenStroke":Ss=2;break;case 3:case"invisible":Ss=3;break;case 4:case"fillAndAddForClipping":Ss=4;break;case 5:case"strokeAndAddPathForClipping":Ss=5;break;case 6:case"fillThenStrokeAndAddToPathForClipping":Ss=6;break;case 7:case"addToPathForClipping":Ss=7}var Rl=Co.usedRenderingMode!==void 0?Co.usedRenderingMode:-1;Ss!==-1?qr+=Ss+` Tr
`:Rl!==-1&&(qr+=`0 Tr
`),Ss!==-1&&(Co.usedRenderingMode=Ss),xt=xe.align||"left";var Xs,_i=Je*Rs,Ml=Pr.internal.pageSize.getWidth(),Bl=Vt[Ft];_t=xe.charSpace||yi,kt=xe.maxWidth||0,Mt=Object.assign({autoencode:!0,noBOM:!0},xe.flags);var dn=[],Wn=function(lr){return Pr.getStringUnitWidth(lr,{font:Bl,charSpace:_t,fontSize:Je,doKerning:!1})*Je/Ea};if(Object.prototype.toString.call(S)==="[object Array]"){var ks;Ge=jo(S),xt!=="left"&&(Xs=Ge.map(Wn));var ms,hn=0;if(xt==="right"){H-=Xs[0],S=[],Kr=Ge.length;for(var $a=0;$a<Kr;$a++)$a===0?(ms=Ta(H),ks=Va(he)):(ms=P(hn-Xs[$a]),ks=-_i),S.push([Ge[$a],ms,ks]),hn=Xs[$a]}else if(xt==="center"){H-=Xs[0]/2,S=[],Kr=Ge.length;for(var Ga=0;Ga<Kr;Ga++)Ga===0?(ms=Ta(H),ks=Va(he)):(ms=P((hn-Xs[Ga])/2),ks=-_i),S.push([Ge[Ga],ms,ks]),hn=Xs[Ga]}else if(xt==="left"){S=[],Kr=Ge.length;for(var Ci=0;Ci<Kr;Ci++)S.push(Ge[Ci])}else if(xt==="justify"&&Bl.encoding==="Identity-H"){S=[],Kr=Ge.length,kt=kt!==0?kt:Ml;for(var Ya=0,kr=0;kr<Kr;kr++)if(ks=kr===0?Va(he):-_i,ms=kr===0?Ta(H):Ya,kr<Kr-1){var To=P((kt-Xs[kr])/(Ge[kr].split(" ").length-1)),xs=Ge[kr].split(" ");S.push([xs[0]+" ",ms,ks]),Ya=0;for(var Js=1;Js<xs.length;Js++){var Ti=(Wn(xs[Js-1]+" "+xs[Js])-Wn(xs[Js]))*Ea+To;Js==xs.length-1?S.push([xs[Js],Ti,0]):S.push([xs[Js]+" ",Ti,0]),Ya-=Ti}}else S.push([Ge[kr],ms,ks]);S.push(["",Ya,0])}else{if(xt!=="justify")throw new Error('Unrecognized alignment option, use "left", "center", "right" or "justify".');for(S=[],Kr=Ge.length,kt=kt!==0?kt:Ml,kr=0;kr<Kr;kr++)ks=kr===0?Va(he):-_i,ms=kr===0?Ta(H):0,kr<Kr-1?dn.push(T(P((kt-Xs[kr])/(Ge[kr].split(" ").length-1)))):dn.push(0),S.push([Ge[kr],ms,ks])}}var Ul=typeof xe.R2L=="boolean"?xe.R2L:ft;Ul===!0&&(S=So(S,function(lr,cr,Ar){return[lr.split("").reverse().join(""),cr,Ar]})),Re={text:S,x:H,y:he,options:xe,mutex:{pdfEscape:js,activeFontKey:Ft,fonts:Vt,activeFontSize:Je}},Ht.publish("postProcessText",Re),S=Re.text,ha=Re.mutex.isHex||!1;var Eo=Vt[Ft].encoding;Eo!=="WinAnsiEncoding"&&Eo!=="StandardEncoding"||(S=So(S,function(lr,cr,Ar){return[Il(lr),cr,Ar]})),Ge=jo(S),S=[];for(var qn,zn,un,Vn=0,Ei=1,$n=Array.isArray(Ge[0])?Ei:Vn,fn="",Po=function(lr,cr,Ar){var Br="";return Ar instanceof pt?(Ar=typeof xe.angle=="number"?Ds(Ar,new pt(1,0,0,1,lr,cr)):Ds(new pt(1,0,0,1,lr,cr),Ar),j===N.ADVANCED&&(Ar=Ds(new pt(1,0,0,-1,0,0),Ar)),Br=Ar.join(" ")+` Tm
`):Br=T(lr)+" "+T(cr)+` Td
`,Br},Qs=0;Qs<Ge.length;Qs++){switch(fn="",$n){case Ei:un=(ha?"<":"(")+Ge[Qs][0]+(ha?">":")"),qn=parseFloat(Ge[Qs][1]),zn=parseFloat(Ge[Qs][2]);break;case Vn:un=(ha?"<":"(")+Ge[Qs]+(ha?">":")"),qn=Ta(H),zn=Va(he)}dn!==void 0&&dn[Qs]!==void 0&&(fn=dn[Qs]+` Tw
`),Qs===0?S.push(fn+Po(qn,zn,vr)+un):$n===Vn?S.push(fn+un):$n===Ei&&S.push(fn+Po(qn,zn,vr)+un)}S=$n===Vn?S.join(` Tj
T* `):S.join(` Tj
`),S+=` Tj
`;var Zs=`BT
/`;return Zs+=Ft+" "+Je+` Tf
`,Zs+=T(Je*Rs)+` TL
`,Zs+=Un+`
`,Zs+=qr,Zs+=S,de(Zs+="ET"),p[Ft]=!0,Pr};var Nd=m.__private__.clip=m.clip=function(S){return de(S==="evenodd"?"W*":"W"),this};m.clipEvenOdd=function(){return Nd("evenodd")},m.__private__.discardPath=m.discardPath=function(){return de("n"),this};var Ca=m.__private__.isValidStyle=function(S){var H=!1;return[void 0,null,"S","D","F","DF","FD","f","f*","B","B*","n"].indexOf(S)!==-1&&(H=!0),H};m.__private__.setDefaultPathOperation=m.setDefaultPathOperation=function(S){return Ca(S)&&(h=S),this};var Cl=m.__private__.getStyle=m.getStyle=function(S){var H=h;switch(S){case"D":case"S":H="S";break;case"F":H="f";break;case"FD":case"DF":H="B";break;case"f":case"f*":case"B":case"B*":H=S}return H},Tl=m.close=function(){return de("h"),this};m.stroke=function(){return de("S"),this},m.fill=function(S){return gi("f",S),this},m.fillEvenOdd=function(S){return gi("f*",S),this},m.fillStroke=function(S){return gi("B",S),this},m.fillStrokeEvenOdd=function(S){return gi("B*",S),this};var gi=function(S,H){ir(H)==="object"?Sd(H,S):de(S)},fo=function(S){S===null||j===N.ADVANCED&&S===void 0||(S=Cl(S),de(S))};function jd(S,H,he,xe,je){var Re=new Xn(H||this.boundingBox,he||this.xStep,xe||this.yStep,this.gState,je||this.matrix);Re.stream=this.stream;var Ge=S+"$$"+this.cloneIndex+++"$$";return ss(Ge,Re),Re}var Sd=function(S,H){var he=ka[S.key],xe=Bt[he];if(xe instanceof kn)de("q"),de(kd(H)),xe.gState&&m.setGState(xe.gState),de(S.matrix.toString()+" cm"),de("/"+he+" sh"),de("Q");else if(xe instanceof Xn){var je=new pt(1,0,0,-1,0,cn());S.matrix&&(je=je.multiply(S.matrix||Ns),he=jd.call(xe,S.key,S.boundingBox,S.xStep,S.yStep,je).id),de("q"),de("/Pattern cs"),de("/"+he+" scn"),xe.gState&&m.setGState(xe.gState),de(H),de("Q")}},kd=function(S){switch(S){case"f":case"F":return"W n";case"f*":return"W* n";case"B":return"W S";case"B*":return"W* S";case"S":return"W S";case"n":return"W n"}},mo=m.moveTo=function(S,H){return de(T(P(S))+" "+T(z(H))+" m"),this},Mn=m.lineTo=function(S,H){return de(T(P(S))+" "+T(z(H))+" l"),this},on=m.curveTo=function(S,H,he,xe,je,Re){return de([T(P(S)),T(z(H)),T(P(he)),T(z(xe)),T(P(je)),T(z(Re)),"c"].join(" ")),this};m.__private__.line=m.line=function(S,H,he,xe,je){if(isNaN(S)||isNaN(H)||isNaN(he)||isNaN(xe)||!Ca(je))throw new Error("Invalid arguments passed to jsPDF.line");return j===N.COMPAT?this.lines([[he-S,xe-H]],S,H,[1,1],je||"S"):this.lines([[he-S,xe-H]],S,H,[1,1]).stroke()},m.__private__.lines=m.lines=function(S,H,he,xe,je,Re){var Ge,ct,xt,_t,kt,Mt,fr,vr,Pr,ns,qr,ha;if(typeof S=="number"&&(ha=he,he=H,H=S,S=ha),xe=xe||[1,1],Re=Re||!1,isNaN(H)||isNaN(he)||!Array.isArray(S)||!Array.isArray(xe)||!Ca(je)||typeof Re!="boolean")throw new Error("Invalid arguments passed to jsPDF.lines");for(mo(H,he),Ge=xe[0],ct=xe[1],_t=S.length,ns=H,qr=he,xt=0;xt<_t;xt++)(kt=S[xt]).length===2?(ns=kt[0]*Ge+ns,qr=kt[1]*ct+qr,Mn(ns,qr)):(Mt=kt[0]*Ge+ns,fr=kt[1]*ct+qr,vr=kt[2]*Ge+ns,Pr=kt[3]*ct+qr,ns=kt[4]*Ge+ns,qr=kt[5]*ct+qr,on(Mt,fr,vr,Pr,ns,qr));return Re&&Tl(),fo(je),this},m.path=function(S){for(var H=0;H<S.length;H++){var he=S[H],xe=he.c;switch(he.op){case"m":mo(xe[0],xe[1]);break;case"l":Mn(xe[0],xe[1]);break;case"c":on.apply(this,xe);break;case"h":Tl()}}return this},m.__private__.rect=m.rect=function(S,H,he,xe,je){if(isNaN(S)||isNaN(H)||isNaN(he)||isNaN(xe)||!Ca(je))throw new Error("Invalid arguments passed to jsPDF.rect");return j===N.COMPAT&&(xe=-xe),de([T(P(S)),T(z(H)),T(P(he)),T(P(xe)),"re"].join(" ")),fo(je),this},m.__private__.triangle=m.triangle=function(S,H,he,xe,je,Re,Ge){if(isNaN(S)||isNaN(H)||isNaN(he)||isNaN(xe)||isNaN(je)||isNaN(Re)||!Ca(Ge))throw new Error("Invalid arguments passed to jsPDF.triangle");return this.lines([[he-S,xe-H],[je-he,Re-xe],[S-je,H-Re]],S,H,[1,1],Ge,!0),this},m.__private__.roundedRect=m.roundedRect=function(S,H,he,xe,je,Re,Ge){if(isNaN(S)||isNaN(H)||isNaN(he)||isNaN(xe)||isNaN(je)||isNaN(Re)||!Ca(Ge))throw new Error("Invalid arguments passed to jsPDF.roundedRect");var ct=4/3*(Math.SQRT2-1);return je=Math.min(je,.5*he),Re=Math.min(Re,.5*xe),this.lines([[he-2*je,0],[je*ct,0,je,Re-Re*ct,je,Re],[0,xe-2*Re],[0,Re*ct,-je*ct,Re,-je,Re],[2*je-he,0],[-je*ct,0,-je,-Re*ct,-je,-Re],[0,2*Re-xe],[0,-Re*ct,je*ct,-Re,je,-Re]],S+je,H,[1,1],Ge,!0),this},m.__private__.ellipse=m.ellipse=function(S,H,he,xe,je){if(isNaN(S)||isNaN(H)||isNaN(he)||isNaN(xe)||!Ca(je))throw new Error("Invalid arguments passed to jsPDF.ellipse");var Re=4/3*(Math.SQRT2-1)*he,Ge=4/3*(Math.SQRT2-1)*xe;return mo(S+he,H),on(S+he,H-Ge,S+Re,H-xe,S,H-xe),on(S-Re,H-xe,S-he,H-Ge,S-he,H),on(S-he,H+Ge,S-Re,H+xe,S,H+xe),on(S+Re,H+xe,S+he,H+Ge,S+he,H),fo(je),this},m.__private__.circle=m.circle=function(S,H,he,xe){if(isNaN(S)||isNaN(H)||isNaN(he)||!Ca(xe))throw new Error("Invalid arguments passed to jsPDF.circle");return this.ellipse(S,H,he,he,xe)},m.setFont=function(S,H,he){return he&&(H=F(H,he)),Ft=kl(S,H,{disableWarning:!1}),this};var Ad=m.__private__.getFont=m.getFont=function(){return Vt[kl.apply(m,arguments)]};m.__private__.getFontList=m.getFontList=function(){var S,H,he={};for(S in or)if(or.hasOwnProperty(S))for(H in he[S]=[],or[S])or[S].hasOwnProperty(H)&&he[S].push(H);return he},m.addFont=function(S,H,he,xe,je){var Re=["StandardEncoding","MacRomanEncoding","Identity-H","WinAnsiEncoding"];return arguments[3]&&Re.indexOf(arguments[3])!==-1?je=arguments[3]:arguments[3]&&Re.indexOf(arguments[3])==-1&&(he=F(he,xe)),je=je||"Identity-H",co.call(this,S,H,he,je)};var Bn,xo=t.lineWidth||.200025,vi=m.__private__.getLineWidth=m.getLineWidth=function(){return xo},El=m.__private__.setLineWidth=m.setLineWidth=function(S){return xo=S,de(T(P(S))+" w"),this};m.__private__.setLineDash=vt.API.setLineDash=vt.API.setLineDashPattern=function(S,H){if(S=S||[],H=H||0,isNaN(H)||!Array.isArray(S))throw new Error("Invalid arguments passed to jsPDF.setLineDash");return S=S.map(function(he){return T(P(he))}).join(" "),H=T(P(H)),de("["+S+"] "+H+" d"),this};var Pl=m.__private__.getLineHeight=m.getLineHeight=function(){return Je*Bn};m.__private__.getLineHeight=m.getLineHeight=function(){return Je*Bn};var Fl=m.__private__.setLineHeightFactor=m.setLineHeightFactor=function(S){return typeof(S=S||1.15)=="number"&&(Bn=S),this},Ll=m.__private__.getLineHeightFactor=m.getLineHeightFactor=function(){return Bn};Fl(t.lineHeight);var Ta=m.__private__.getHorizontalCoordinate=function(S){return P(S)},Va=m.__private__.getVerticalCoordinate=function(S){return j===N.ADVANCED?S:jt[R].mediaBox.topRightY-jt[R].mediaBox.bottomLeftY-P(S)},_d=m.__private__.getHorizontalCoordinateString=m.getHorizontalCoordinateString=function(S){return T(Ta(S))},ln=m.__private__.getVerticalCoordinateString=m.getVerticalCoordinateString=function(S){return T(Va(S))},da=t.strokeColor||"0 G";m.__private__.getStrokeColor=m.getDrawColor=function(){return oe(da)},m.__private__.setStrokeColor=m.setDrawColor=function(S,H,he,xe){return da=ce({ch1:S,ch2:H,ch3:he,ch4:xe,pdfColorType:"draw",precision:2}),de(da),this};var po=t.fillColor||"0 g";m.__private__.getFillColor=m.getFillColor=function(){return oe(po)},m.__private__.setFillColor=m.setFillColor=function(S,H,he,xe){return po=ce({ch1:S,ch2:H,ch3:he,ch4:xe,pdfColorType:"fill",precision:2}),de(po),this};var Un=t.textColor||"0 g",Cd=m.__private__.getTextColor=m.getTextColor=function(){return oe(Un)};m.__private__.setTextColor=m.setTextColor=function(S,H,he,xe){return Un=ce({ch1:S,ch2:H,ch3:he,ch4:xe,pdfColorType:"text",precision:3}),this};var yi=t.charSpace,Td=m.__private__.getCharSpace=m.getCharSpace=function(){return parseFloat(yi||0)};m.__private__.setCharSpace=m.setCharSpace=function(S){if(isNaN(S))throw new Error("Invalid argument passed to jsPDF.setCharSpace");return yi=S,this};var go=0;m.CapJoinStyles={0:0,butt:0,but:0,miter:0,1:1,round:1,rounded:1,circle:1,2:2,projecting:2,project:2,square:2,bevel:2},m.__private__.setLineCap=m.setLineCap=function(S){var H=m.CapJoinStyles[S];if(H===void 0)throw new Error("Line cap style of '"+S+"' is not recognized. See or extend .CapJoinStyles property for valid styles");return go=H,de(H+" J"),this};var vo=0;m.__private__.setLineJoin=m.setLineJoin=function(S){var H=m.CapJoinStyles[S];if(H===void 0)throw new Error("Line join style of '"+S+"' is not recognized. See or extend .CapJoinStyles property for valid styles");return vo=H,de(H+" j"),this},m.__private__.setLineMiterLimit=m.__private__.setMiterLimit=m.setLineMiterLimit=m.setMiterLimit=function(S){if(S=S||0,isNaN(S))throw new Error("Invalid argument passed to jsPDF.setLineMiterLimit");return de(T(P(S))+" M"),this},m.GState=rl,m.setGState=function(S){(S=typeof S=="string"?dr[Os[S]]:Ol(null,S)).equals(ia)||(de("/"+S.id+" gs"),ia=S)};var Ol=function(S,H){if(!S||!Os[S]){var he=!1;for(var xe in dr)if(dr.hasOwnProperty(xe)&&dr[xe].equals(H)){he=!0;break}if(he)H=dr[xe];else{var je="GS"+(Object.keys(dr).length+1).toString(10);dr[je]=H,H.id=je}return S&&(Os[S]=H.id),Ht.publish("addGState",H),H}};m.addGState=function(S,H){return Ol(S,H),this},m.saveGraphicsState=function(){return de("q"),Gs.push({key:Ft,size:Je,color:Un}),this},m.restoreGraphicsState=function(){de("Q");var S=Gs.pop();return Ft=S.key,Je=S.size,Un=S.color,ia=null,this},m.setCurrentTransformationMatrix=function(S){return de(S.toString()+" cm"),this},m.comment=function(S){return de("#"+S),this};var bi=function(S,H){var he=S||0;Object.defineProperty(this,"x",{enumerable:!0,get:function(){return he},set:function(Re){isNaN(Re)||(he=parseFloat(Re))}});var xe=H||0;Object.defineProperty(this,"y",{enumerable:!0,get:function(){return xe},set:function(Re){isNaN(Re)||(xe=parseFloat(Re))}});var je="pt";return Object.defineProperty(this,"type",{enumerable:!0,get:function(){return je},set:function(Re){je=Re.toString()}}),this},yo=function(S,H,he,xe){bi.call(this,S,H),this.type="rect";var je=he||0;Object.defineProperty(this,"w",{enumerable:!0,get:function(){return je},set:function(Ge){isNaN(Ge)||(je=parseFloat(Ge))}});var Re=xe||0;return Object.defineProperty(this,"h",{enumerable:!0,get:function(){return Re},set:function(Ge){isNaN(Ge)||(Re=parseFloat(Ge))}}),this},bo=function(){this.page=sr,this.currentPage=R,this.pages=Ne.slice(0),this.pagesContext=jt.slice(0),this.x=Rr,this.y=Rt,this.matrix=ws,this.width=Hn(R),this.height=cn(R),this.outputDestination=Ve,this.id="",this.objectNumber=-1};bo.prototype.restore=function(){sr=this.page,R=this.currentPage,jt=this.pagesContext,Ne=this.pages,Rr=this.x,Rt=this.y,ws=this.matrix,wo(R,this.width),No(R,this.height),Ve=this.outputDestination};var Dl=function(S,H,he,xe,je){Ks.push(new bo),sr=R=0,Ne=[],Rr=S,Rt=H,ws=je,ho([he,xe])},Ed=function(S){if(Ys[S])Ks.pop().restore();else{var H=new bo,he="Xo"+(Object.keys(Mr).length+1).toString(10);H.id=he,Ys[S]=he,Mr[he]=H,Ht.publish("addFormObject",H),Ks.pop().restore()}};for(var wi in m.beginFormObject=function(S,H,he,xe,je){return Dl(S,H,he,xe,je),this},m.endFormObject=function(S){return Ed(S),this},m.doFormObject=function(S,H){var he=Mr[Ys[S]];return de("q"),de(H.toString()+" cm"),de("/"+he.id+" Do"),de("Q"),this},m.getFormObject=function(S){var H=Mr[Ys[S]];return{x:H.x,y:H.y,width:H.width,height:H.height,matrix:H.matrix}},m.save=function(S,H){return S=S||"generated.pdf",(H=H||{}).returnPromise=H.returnPromise||!1,H.returnPromise===!1?(Yn(xi(za()),S),typeof Yn.unload=="function"&&bt.setTimeout&&setTimeout(Yn.unload,911),this):new Promise(function(he,xe){try{var je=Yn(xi(za()),S);typeof Yn.unload=="function"&&bt.setTimeout&&setTimeout(Yn.unload,911),he(je)}catch(Re){xe(Re.message)}})},vt.API)vt.API.hasOwnProperty(wi)&&(wi==="events"&&vt.API.events.length?function(S,H){var he,xe,je;for(je=H.length-1;je!==-1;je--)he=H[je][0],xe=H[je][1],S.subscribe.apply(S,[he].concat(typeof xe=="function"?[xe]:xe))}(Ht,vt.API.events):m[wi]=vt.API[wi]);var Hn=m.getPageWidth=function(S){return(jt[S=S||R].mediaBox.topRightX-jt[S].mediaBox.bottomLeftX)/it},wo=m.setPageWidth=function(S,H){jt[S].mediaBox.topRightX=H*it+jt[S].mediaBox.bottomLeftX},cn=m.getPageHeight=function(S){return(jt[S=S||R].mediaBox.topRightY-jt[S].mediaBox.bottomLeftY)/it},No=m.setPageHeight=function(S,H){jt[S].mediaBox.topRightY=H*it+jt[S].mediaBox.bottomLeftY};return m.internal={pdfEscape:js,getStyle:Cl,getFont:Ad,getFontSize:at,getCharSpace:Td,getTextColor:Cd,getLineHeight:Pl,getLineHeightFactor:Ll,getLineWidth:vi,write:We,getHorizontalCoordinate:Ta,getVerticalCoordinate:Va,getCoordinateString:_d,getVerticalCoordinateString:ln,collections:{},newObject:jr,newAdditionalObject:le,newObjectDeferred:gr,newObjectDeferredBegin:V,getFilters:ke,putStream:Le,events:Ht,scaleFactor:it,pageSize:{getWidth:function(){return Hn(R)},setWidth:function(S){wo(R,S)},getHeight:function(){return cn(R)},setHeight:function(S){No(R,S)}},encryptionOptions:u,encryption:as,getEncryptor:bd,output:pi,getNumberOfPages:xd,pages:Ne,out:de,f2:D,f3:E,getPageInfo:_l,getPageInfoByObjId:St,getCurrentPageInfo:wd,getPDFVersion:g,Point:bi,Rectangle:yo,Matrix:pt,hasHotfix:Al},Object.defineProperty(m.internal.pageSize,"width",{get:function(){return Hn(R)},set:function(S){wo(R,S)},enumerable:!0,configurable:!0}),Object.defineProperty(m.internal.pageSize,"height",{get:function(){return cn(R)},set:function(S){No(R,S)},enumerable:!0,configurable:!0}),fd.call(m,$e),Ft="F1",jl(n,r),Ht.publish("initialized"),m}zi.prototype.lsbFirstWord=function(t){return String.fromCharCode(t>>0&255,t>>8&255,t>>16&255,t>>24&255)},zi.prototype.toHexString=function(t){return t.split("").map(function(s){return("0"+(255&s.charCodeAt(0)).toString(16)).slice(-2)}).join("")},zi.prototype.hexToBytes=function(t){for(var s=[],r=0;r<t.length;r+=2)s.push(String.fromCharCode(parseInt(t.substr(r,2),16)));return s.join("")},zi.prototype.processOwnerPassword=function(t,s){return E0(T0(s).substr(0,5),t)},zi.prototype.encryptor=function(t,s){var r=T0(this.encryptionKey+String.fromCharCode(255&t,t>>8&255,t>>16&255,255&s,s>>8&255)).substr(0,10);return function(a){return E0(r,a)}},rl.prototype.equals=function(t){var s,r="id,objectNumber,equals";if(!t||ir(t)!==ir(this))return!1;var a=0;for(s in this)if(!(r.indexOf(s)>=0)){if(this.hasOwnProperty(s)&&!t.hasOwnProperty(s)||this[s]!==t[s])return!1;a++}for(s in t)t.hasOwnProperty(s)&&r.indexOf(s)<0&&a--;return a===0},vt.API={events:[]},vt.version="2.5.2";var br=vt.API,G0=1,li=function(t){return t.replace(/\\/g,"\\\\").replace(/\(/g,"\\(").replace(/\)/g,"\\)")},Ri=function(t){return t.replace(/\\\\/g,"\\").replace(/\\\(/g,"(").replace(/\\\)/g,")")},At=function(t){return t.toFixed(2)},Nn=function(t){return t.toFixed(5)};br.__acroform__={};var Ls=function(t,s){t.prototype=Object.create(s.prototype),t.prototype.constructor=t},uu=function(t){return t*G0},La=function(t){var s=new Zf,r=ht.internal.getHeight(t)||0,a=ht.internal.getWidth(t)||0;return s.BBox=[0,0,Number(At(a)),Number(At(r))],s},i2=br.__acroform__.setBit=function(t,s){if(t=t||0,s=s||0,isNaN(t)||isNaN(s))throw new Error("Invalid arguments passed to jsPDF.API.__acroform__.setBit");return t|=1<<s},o2=br.__acroform__.clearBit=function(t,s){if(t=t||0,s=s||0,isNaN(t)||isNaN(s))throw new Error("Invalid arguments passed to jsPDF.API.__acroform__.clearBit");return t&=~(1<<s)},l2=br.__acroform__.getBit=function(t,s){if(isNaN(t)||isNaN(s))throw new Error("Invalid arguments passed to jsPDF.API.__acroform__.getBit");return t&1<<s?1:0},_r=br.__acroform__.getBitForPdf=function(t,s){if(isNaN(t)||isNaN(s))throw new Error("Invalid arguments passed to jsPDF.API.__acroform__.getBitForPdf");return l2(t,s-1)},Cr=br.__acroform__.setBitForPdf=function(t,s){if(isNaN(t)||isNaN(s))throw new Error("Invalid arguments passed to jsPDF.API.__acroform__.setBitForPdf");return i2(t,s-1)},Tr=br.__acroform__.clearBitForPdf=function(t,s){if(isNaN(t)||isNaN(s))throw new Error("Invalid arguments passed to jsPDF.API.__acroform__.clearBitForPdf");return o2(t,s-1)},c2=br.__acroform__.calculateCoordinates=function(t,s){var r=s.internal.getHorizontalCoordinate,a=s.internal.getVerticalCoordinate,n=t[0],o=t[1],l=t[2],c=t[3],d={};return d.lowerLeft_X=r(n)||0,d.lowerLeft_Y=a(o+c)||0,d.upperRight_X=r(n+l)||0,d.upperRight_Y=a(o)||0,[Number(At(d.lowerLeft_X)),Number(At(d.lowerLeft_Y)),Number(At(d.upperRight_X)),Number(At(d.upperRight_Y))]},d2=function(t){if(t.appearanceStreamContent)return t.appearanceStreamContent;if(t.V||t.DV){var s=[],r=t._V||t.DV,a=P0(t,r),n=t.scope.internal.getFont(t.fontName,t.fontStyle).id;s.push("/Tx BMC"),s.push("q"),s.push("BT"),s.push(t.scope.__private__.encodeColorString(t.color)),s.push("/"+n+" "+At(a.fontSize)+" Tf"),s.push("1 0 0 1 0 0 Tm"),s.push(a.text),s.push("ET"),s.push("Q"),s.push("EMC");var o=La(t);return o.scope=t.scope,o.stream=s.join(`
`),o}},P0=function(t,s){var r=t.fontSize===0?t.maxFontSize:t.fontSize,a={text:"",fontSize:""},n=(s=(s=s.substr(0,1)=="("?s.substr(1):s).substr(s.length-1)==")"?s.substr(0,s.length-1):s).split(" ");n=t.multiline?n.map(function(E){return E.split(`
`)}):n.map(function(E){return[E]});var o=r,l=ht.internal.getHeight(t)||0;l=l<0?-l:l;var c=ht.internal.getWidth(t)||0;c=c<0?-c:c;var d=function(E,P,W){if(E+1<n.length){var z=P+" "+n[E+1][0];return mc(z,t,W).width<=c-4}return!1};o++;e:for(;o>0;){s="",o--;var h,u,x=mc("3",t,o).height,p=t.multiline?l-o:(l-x)/2,m=p+=2,y=0,g=0,b=0;if(o<=0){s=`(...) Tj
`,s+="% Width of Text: "+mc(s,t,o=12).width+", FieldWidth:"+c+`
`;break}for(var w="",N=0,j=0;j<n.length;j++)if(n.hasOwnProperty(j)){var k=!1;if(n[j].length!==1&&b!==n[j].length-1){if((x+2)*(N+2)+2>l)continue e;w+=n[j][b],k=!0,g=j,j--}else{w=(w+=n[j][b]+" ").substr(w.length-1)==" "?w.substr(0,w.length-1):w;var L=parseInt(j),F=d(L,w,o),T=j>=n.length-1;if(F&&!T){w+=" ",b=0;continue}if(F||T){if(T)g=L;else if(t.multiline&&(x+2)*(N+2)+2>l)continue e}else{if(!t.multiline||(x+2)*(N+2)+2>l)continue e;g=L}}for(var C="",I=y;I<=g;I++){var D=n[I];if(t.multiline){if(I===g){C+=D[b]+" ",b=(b+1)%D.length;continue}if(I===y){C+=D[D.length-1]+" ";continue}}C+=D[0]+" "}switch(C=C.substr(C.length-1)==" "?C.substr(0,C.length-1):C,u=mc(C,t,o).width,t.textAlign){case"right":h=c-u-2;break;case"center":h=(c-u)/2;break;case"left":default:h=2}s+=At(h)+" "+At(m)+` Td
`,s+="("+li(C)+`) Tj
`,s+=-At(h)+` 0 Td
`,m=-(o+2),u=0,y=k?g:g+1,N++,w=""}break}return a.text=s,a.fontSize=o,a},mc=function(t,s,r){var a=s.scope.internal.getFont(s.fontName,s.fontStyle),n=s.scope.getStringUnitWidth(t,{font:a,fontSize:parseFloat(r),charSpace:0})*parseFloat(r);return{height:s.scope.getStringUnitWidth("3",{font:a,fontSize:parseFloat(r),charSpace:0})*parseFloat(r)*1.5,width:n}},h2={fields:[],xForms:[],acroFormDictionaryRoot:null,printedOut:!1,internal:null,isInitialized:!1},u2=function(t,s){var r={type:"reference",object:t};s.internal.getPageInfo(t.page).pageContext.annotations.find(function(a){return a.type===r.type&&a.object===r.object})===void 0&&s.internal.getPageInfo(t.page).pageContext.annotations.push(r)},f2=function(t,s){for(var r in t)if(t.hasOwnProperty(r)){var a=r,n=t[r];s.internal.newObjectDeferredBegin(n.objId,!0),ir(n)==="object"&&typeof n.putStream=="function"&&n.putStream(),delete t[a]}},m2=function(t,s){if(s.scope=t,t.internal!==void 0&&(t.internal.acroformPlugin===void 0||t.internal.acroformPlugin.isInitialized===!1)){if(Na.FieldNum=0,t.internal.acroformPlugin=JSON.parse(JSON.stringify(h2)),t.internal.acroformPlugin.acroFormDictionaryRoot)throw new Error("Exception while creating AcroformDictionary");G0=t.internal.scaleFactor,t.internal.acroformPlugin.acroFormDictionaryRoot=new em,t.internal.acroformPlugin.acroFormDictionaryRoot.scope=t,t.internal.acroformPlugin.acroFormDictionaryRoot._eventID=t.internal.events.subscribe("postPutResources",function(){(function(r){r.internal.events.unsubscribe(r.internal.acroformPlugin.acroFormDictionaryRoot._eventID),delete r.internal.acroformPlugin.acroFormDictionaryRoot._eventID,r.internal.acroformPlugin.printedOut=!0})(t)}),t.internal.events.subscribe("buildDocument",function(){(function(r){r.internal.acroformPlugin.acroFormDictionaryRoot.objId=void 0;var a=r.internal.acroformPlugin.acroFormDictionaryRoot.Fields;for(var n in a)if(a.hasOwnProperty(n)){var o=a[n];o.objId=void 0,o.hasAnnotation&&u2(o,r)}})(t)}),t.internal.events.subscribe("putCatalog",function(){(function(r){if(r.internal.acroformPlugin.acroFormDictionaryRoot===void 0)throw new Error("putCatalogCallback: Root missing.");r.internal.write("/AcroForm "+r.internal.acroformPlugin.acroFormDictionaryRoot.objId+" 0 R")})(t)}),t.internal.events.subscribe("postPutPages",function(r){(function(a,n){var o=!a;for(var l in a||(n.internal.newObjectDeferredBegin(n.internal.acroformPlugin.acroFormDictionaryRoot.objId,!0),n.internal.acroformPlugin.acroFormDictionaryRoot.putStream()),a=a||n.internal.acroformPlugin.acroFormDictionaryRoot.Kids)if(a.hasOwnProperty(l)){var c=a[l],d=[],h=c.Rect;if(c.Rect&&(c.Rect=c2(c.Rect,n)),n.internal.newObjectDeferredBegin(c.objId,!0),c.DA=ht.createDefaultAppearanceStream(c),ir(c)==="object"&&typeof c.getKeyValueListForStream=="function"&&(d=c.getKeyValueListForStream()),c.Rect=h,c.hasAppearanceStream&&!c.appearanceStreamContent){var u=d2(c);d.push({key:"AP",value:"<</N "+u+">>"}),n.internal.acroformPlugin.xForms.push(u)}if(c.appearanceStreamContent){var x="";for(var p in c.appearanceStreamContent)if(c.appearanceStreamContent.hasOwnProperty(p)){var m=c.appearanceStreamContent[p];if(x+="/"+p+" ",x+="<<",Object.keys(m).length>=1||Array.isArray(m)){for(var l in m)if(m.hasOwnProperty(l)){var y=m[l];typeof y=="function"&&(y=y.call(n,c)),x+="/"+l+" "+y+" ",n.internal.acroformPlugin.xForms.indexOf(y)>=0||n.internal.acroformPlugin.xForms.push(y)}}else typeof(y=m)=="function"&&(y=y.call(n,c)),x+="/"+l+" "+y,n.internal.acroformPlugin.xForms.indexOf(y)>=0||n.internal.acroformPlugin.xForms.push(y);x+=">>"}d.push({key:"AP",value:`<<
`+x+">>"})}n.internal.putStream({additionalKeyValues:d,objectId:c.objId}),n.internal.out("endobj")}o&&f2(n.internal.acroformPlugin.xForms,n)})(r,t)}),t.internal.acroformPlugin.isInitialized=!0}},Qf=br.__acroform__.arrayToPdfArray=function(t,s,r){var a=function(l){return l};if(Array.isArray(t)){for(var n="[",o=0;o<t.length;o++)switch(o!==0&&(n+=" "),ir(t[o])){case"boolean":case"number":case"object":n+=t[o].toString();break;case"string":t[o].substr(0,1)!=="/"?(s!==void 0&&r&&(a=r.internal.getEncryptor(s)),n+="("+li(a(t[o].toString()))+")"):n+=t[o].toString()}return n+="]"}throw new Error("Invalid argument passed to jsPDF.__acroform__.arrayToPdfArray")},a0=function(t,s,r){var a=function(n){return n};return s!==void 0&&r&&(a=r.internal.getEncryptor(s)),(t=t||"").toString(),t="("+li(a(t))+")"},Ia=function(){this._objId=void 0,this._scope=void 0,Object.defineProperty(this,"objId",{get:function(){if(this._objId===void 0){if(this.scope===void 0)return;this._objId=this.scope.internal.newObjectDeferred()}return this._objId},set:function(t){this._objId=t}}),Object.defineProperty(this,"scope",{value:this._scope,writable:!0})};Ia.prototype.toString=function(){return this.objId+" 0 R"},Ia.prototype.putStream=function(){var t=this.getKeyValueListForStream();this.scope.internal.putStream({data:this.stream,additionalKeyValues:t,objectId:this.objId}),this.scope.internal.out("endobj")},Ia.prototype.getKeyValueListForStream=function(){var t=[],s=Object.getOwnPropertyNames(this).filter(function(o){return o!="content"&&o!="appearanceStreamContent"&&o!="scope"&&o!="objId"&&o.substring(0,1)!="_"});for(var r in s)if(Object.getOwnPropertyDescriptor(this,s[r]).configurable===!1){var a=s[r],n=this[a];n&&(Array.isArray(n)?t.push({key:a,value:Qf(n,this.objId,this.scope)}):n instanceof Ia?(n.scope=this.scope,t.push({key:a,value:n.objId+" 0 R"})):typeof n!="function"&&t.push({key:a,value:n}))}return t};var Zf=function(){Ia.call(this),Object.defineProperty(this,"Type",{value:"/XObject",configurable:!1,writable:!0}),Object.defineProperty(this,"Subtype",{value:"/Form",configurable:!1,writable:!0}),Object.defineProperty(this,"FormType",{value:1,configurable:!1,writable:!0});var t,s=[];Object.defineProperty(this,"BBox",{configurable:!1,get:function(){return s},set:function(r){s=r}}),Object.defineProperty(this,"Resources",{value:"2 0 R",configurable:!1,writable:!0}),Object.defineProperty(this,"stream",{enumerable:!1,configurable:!0,set:function(r){t=r.trim()},get:function(){return t||null}})};Ls(Zf,Ia);var em=function(){Ia.call(this);var t,s=[];Object.defineProperty(this,"Kids",{enumerable:!1,configurable:!0,get:function(){return s.length>0?s:void 0}}),Object.defineProperty(this,"Fields",{enumerable:!1,configurable:!1,get:function(){return s}}),Object.defineProperty(this,"DA",{enumerable:!1,configurable:!1,get:function(){if(t){var r=function(a){return a};return this.scope&&(r=this.scope.internal.getEncryptor(this.objId)),"("+li(r(t))+")"}},set:function(r){t=r}})};Ls(em,Ia);var Na=function t(){Ia.call(this);var s=4;Object.defineProperty(this,"F",{enumerable:!1,configurable:!1,get:function(){return s},set:function(w){if(isNaN(w))throw new Error('Invalid value "'+w+'" for attribute F supplied.');s=w}}),Object.defineProperty(this,"showWhenPrinted",{enumerable:!0,configurable:!0,get:function(){return!!_r(s,3)},set:function(w){w?this.F=Cr(s,3):this.F=Tr(s,3)}});var r=0;Object.defineProperty(this,"Ff",{enumerable:!1,configurable:!1,get:function(){return r},set:function(w){if(isNaN(w))throw new Error('Invalid value "'+w+'" for attribute Ff supplied.');r=w}});var a=[];Object.defineProperty(this,"Rect",{enumerable:!1,configurable:!1,get:function(){if(a.length!==0)return a},set:function(w){a=w!==void 0?w:[]}}),Object.defineProperty(this,"x",{enumerable:!0,configurable:!0,get:function(){return!a||isNaN(a[0])?0:a[0]},set:function(w){a[0]=w}}),Object.defineProperty(this,"y",{enumerable:!0,configurable:!0,get:function(){return!a||isNaN(a[1])?0:a[1]},set:function(w){a[1]=w}}),Object.defineProperty(this,"width",{enumerable:!0,configurable:!0,get:function(){return!a||isNaN(a[2])?0:a[2]},set:function(w){a[2]=w}}),Object.defineProperty(this,"height",{enumerable:!0,configurable:!0,get:function(){return!a||isNaN(a[3])?0:a[3]},set:function(w){a[3]=w}});var n="";Object.defineProperty(this,"FT",{enumerable:!0,configurable:!1,get:function(){return n},set:function(w){switch(w){case"/Btn":case"/Tx":case"/Ch":case"/Sig":n=w;break;default:throw new Error('Invalid value "'+w+'" for attribute FT supplied.')}}});var o=null;Object.defineProperty(this,"T",{enumerable:!0,configurable:!1,get:function(){if(!o||o.length<1){if(this instanceof Lc)return;o="FieldObject"+t.FieldNum++}var w=function(N){return N};return this.scope&&(w=this.scope.internal.getEncryptor(this.objId)),"("+li(w(o))+")"},set:function(w){o=w.toString()}}),Object.defineProperty(this,"fieldName",{configurable:!0,enumerable:!0,get:function(){return o},set:function(w){o=w}});var l="helvetica";Object.defineProperty(this,"fontName",{enumerable:!0,configurable:!0,get:function(){return l},set:function(w){l=w}});var c="normal";Object.defineProperty(this,"fontStyle",{enumerable:!0,configurable:!0,get:function(){return c},set:function(w){c=w}});var d=0;Object.defineProperty(this,"fontSize",{enumerable:!0,configurable:!0,get:function(){return d},set:function(w){d=w}});var h=void 0;Object.defineProperty(this,"maxFontSize",{enumerable:!0,configurable:!0,get:function(){return h===void 0?50/G0:h},set:function(w){h=w}});var u="black";Object.defineProperty(this,"color",{enumerable:!0,configurable:!0,get:function(){return u},set:function(w){u=w}});var x="/F1 0 Tf 0 g";Object.defineProperty(this,"DA",{enumerable:!0,configurable:!1,get:function(){if(!(!x||this instanceof Lc||this instanceof Tn))return a0(x,this.objId,this.scope)},set:function(w){w=w.toString(),x=w}});var p=null;Object.defineProperty(this,"DV",{enumerable:!1,configurable:!1,get:function(){if(p)return this instanceof Wr?p:a0(p,this.objId,this.scope)},set:function(w){w=w.toString(),p=this instanceof Wr?w:w.substr(0,1)==="("?Ri(w.substr(1,w.length-2)):Ri(w)}}),Object.defineProperty(this,"defaultValue",{enumerable:!0,configurable:!0,get:function(){return this instanceof Wr?Ri(p.substr(1,p.length-1)):p},set:function(w){w=w.toString(),p=this instanceof Wr?"/"+w:w}});var m=null;Object.defineProperty(this,"_V",{enumerable:!1,configurable:!1,get:function(){if(m)return m},set:function(w){this.V=w}}),Object.defineProperty(this,"V",{enumerable:!1,configurable:!1,get:function(){if(m)return this instanceof Wr?m:a0(m,this.objId,this.scope)},set:function(w){w=w.toString(),m=this instanceof Wr?w:w.substr(0,1)==="("?Ri(w.substr(1,w.length-2)):Ri(w)}}),Object.defineProperty(this,"value",{enumerable:!0,configurable:!0,get:function(){return this instanceof Wr?Ri(m.substr(1,m.length-1)):m},set:function(w){w=w.toString(),m=this instanceof Wr?"/"+w:w}}),Object.defineProperty(this,"hasAnnotation",{enumerable:!0,configurable:!0,get:function(){return this.Rect}}),Object.defineProperty(this,"Type",{enumerable:!0,configurable:!1,get:function(){return this.hasAnnotation?"/Annot":null}}),Object.defineProperty(this,"Subtype",{enumerable:!0,configurable:!1,get:function(){return this.hasAnnotation?"/Widget":null}});var y,g=!1;Object.defineProperty(this,"hasAppearanceStream",{enumerable:!0,configurable:!0,get:function(){return g},set:function(w){w=!!w,g=w}}),Object.defineProperty(this,"page",{enumerable:!0,configurable:!0,get:function(){if(y)return y},set:function(w){y=w}}),Object.defineProperty(this,"readOnly",{enumerable:!0,configurable:!0,get:function(){return!!_r(this.Ff,1)},set:function(w){w?this.Ff=Cr(this.Ff,1):this.Ff=Tr(this.Ff,1)}}),Object.defineProperty(this,"required",{enumerable:!0,configurable:!0,get:function(){return!!_r(this.Ff,2)},set:function(w){w?this.Ff=Cr(this.Ff,2):this.Ff=Tr(this.Ff,2)}}),Object.defineProperty(this,"noExport",{enumerable:!0,configurable:!0,get:function(){return!!_r(this.Ff,3)},set:function(w){w?this.Ff=Cr(this.Ff,3):this.Ff=Tr(this.Ff,3)}});var b=null;Object.defineProperty(this,"Q",{enumerable:!0,configurable:!1,get:function(){if(b!==null)return b},set:function(w){if([0,1,2].indexOf(w)===-1)throw new Error('Invalid value "'+w+'" for attribute Q supplied.');b=w}}),Object.defineProperty(this,"textAlign",{get:function(){var w;switch(b){case 0:default:w="left";break;case 1:w="center";break;case 2:w="right"}return w},configurable:!0,enumerable:!0,set:function(w){switch(w){case"right":case 2:b=2;break;case"center":case 1:b=1;break;case"left":case 0:default:b=0}}})};Ls(Na,Ia);var Qn=function(){Na.call(this),this.FT="/Ch",this.V="()",this.fontName="zapfdingbats";var t=0;Object.defineProperty(this,"TI",{enumerable:!0,configurable:!1,get:function(){return t},set:function(r){t=r}}),Object.defineProperty(this,"topIndex",{enumerable:!0,configurable:!0,get:function(){return t},set:function(r){t=r}});var s=[];Object.defineProperty(this,"Opt",{enumerable:!0,configurable:!1,get:function(){return Qf(s,this.objId,this.scope)},set:function(r){var a,n;n=[],typeof(a=r)=="string"&&(n=function(o,l,c){c||(c=1);for(var d,h=[];d=l.exec(o);)h.push(d[c]);return h}(a,/\((.*?)\)/g)),s=n}}),this.getOptions=function(){return s},this.setOptions=function(r){s=r,this.sort&&s.sort()},this.addOption=function(r){r=(r=r||"").toString(),s.push(r),this.sort&&s.sort()},this.removeOption=function(r,a){for(a=a||!1,r=(r=r||"").toString();s.indexOf(r)!==-1&&(s.splice(s.indexOf(r),1),a!==!1););},Object.defineProperty(this,"combo",{enumerable:!0,configurable:!0,get:function(){return!!_r(this.Ff,18)},set:function(r){r?this.Ff=Cr(this.Ff,18):this.Ff=Tr(this.Ff,18)}}),Object.defineProperty(this,"edit",{enumerable:!0,configurable:!0,get:function(){return!!_r(this.Ff,19)},set:function(r){this.combo===!0&&(r?this.Ff=Cr(this.Ff,19):this.Ff=Tr(this.Ff,19))}}),Object.defineProperty(this,"sort",{enumerable:!0,configurable:!0,get:function(){return!!_r(this.Ff,20)},set:function(r){r?(this.Ff=Cr(this.Ff,20),s.sort()):this.Ff=Tr(this.Ff,20)}}),Object.defineProperty(this,"multiSelect",{enumerable:!0,configurable:!0,get:function(){return!!_r(this.Ff,22)},set:function(r){r?this.Ff=Cr(this.Ff,22):this.Ff=Tr(this.Ff,22)}}),Object.defineProperty(this,"doNotSpellCheck",{enumerable:!0,configurable:!0,get:function(){return!!_r(this.Ff,23)},set:function(r){r?this.Ff=Cr(this.Ff,23):this.Ff=Tr(this.Ff,23)}}),Object.defineProperty(this,"commitOnSelChange",{enumerable:!0,configurable:!0,get:function(){return!!_r(this.Ff,27)},set:function(r){r?this.Ff=Cr(this.Ff,27):this.Ff=Tr(this.Ff,27)}}),this.hasAppearanceStream=!1};Ls(Qn,Na);var Zn=function(){Qn.call(this),this.fontName="helvetica",this.combo=!1};Ls(Zn,Qn);var ei=function(){Zn.call(this),this.combo=!0};Ls(ei,Zn);var Vo=function(){ei.call(this),this.edit=!0};Ls(Vo,ei);var Wr=function(){Na.call(this),this.FT="/Btn",Object.defineProperty(this,"noToggleToOff",{enumerable:!0,configurable:!0,get:function(){return!!_r(this.Ff,15)},set:function(r){r?this.Ff=Cr(this.Ff,15):this.Ff=Tr(this.Ff,15)}}),Object.defineProperty(this,"radio",{enumerable:!0,configurable:!0,get:function(){return!!_r(this.Ff,16)},set:function(r){r?this.Ff=Cr(this.Ff,16):this.Ff=Tr(this.Ff,16)}}),Object.defineProperty(this,"pushButton",{enumerable:!0,configurable:!0,get:function(){return!!_r(this.Ff,17)},set:function(r){r?this.Ff=Cr(this.Ff,17):this.Ff=Tr(this.Ff,17)}}),Object.defineProperty(this,"radioIsUnison",{enumerable:!0,configurable:!0,get:function(){return!!_r(this.Ff,26)},set:function(r){r?this.Ff=Cr(this.Ff,26):this.Ff=Tr(this.Ff,26)}});var t,s={};Object.defineProperty(this,"MK",{enumerable:!1,configurable:!1,get:function(){var r=function(o){return o};if(this.scope&&(r=this.scope.internal.getEncryptor(this.objId)),Object.keys(s).length!==0){var a,n=[];for(a in n.push("<<"),s)n.push("/"+a+" ("+li(r(s[a]))+")");return n.push(">>"),n.join(`
`)}},set:function(r){ir(r)==="object"&&(s=r)}}),Object.defineProperty(this,"caption",{enumerable:!0,configurable:!0,get:function(){return s.CA||""},set:function(r){typeof r=="string"&&(s.CA=r)}}),Object.defineProperty(this,"AS",{enumerable:!1,configurable:!1,get:function(){return t},set:function(r){t=r}}),Object.defineProperty(this,"appearanceState",{enumerable:!0,configurable:!0,get:function(){return t.substr(1,t.length-1)},set:function(r){t="/"+r}})};Ls(Wr,Na);var $o=function(){Wr.call(this),this.pushButton=!0};Ls($o,Wr);var ti=function(){Wr.call(this),this.radio=!0,this.pushButton=!1;var t=[];Object.defineProperty(this,"Kids",{enumerable:!0,configurable:!1,get:function(){return t},set:function(s){t=s!==void 0?s:[]}})};Ls(ti,Wr);var Lc=function(){var t,s;Na.call(this),Object.defineProperty(this,"Parent",{enumerable:!1,configurable:!1,get:function(){return t},set:function(n){t=n}}),Object.defineProperty(this,"optionName",{enumerable:!1,configurable:!0,get:function(){return s},set:function(n){s=n}});var r,a={};Object.defineProperty(this,"MK",{enumerable:!1,configurable:!1,get:function(){var n=function(c){return c};this.scope&&(n=this.scope.internal.getEncryptor(this.objId));var o,l=[];for(o in l.push("<<"),a)l.push("/"+o+" ("+li(n(a[o]))+")");return l.push(">>"),l.join(`
`)},set:function(n){ir(n)==="object"&&(a=n)}}),Object.defineProperty(this,"caption",{enumerable:!0,configurable:!0,get:function(){return a.CA||""},set:function(n){typeof n=="string"&&(a.CA=n)}}),Object.defineProperty(this,"AS",{enumerable:!1,configurable:!1,get:function(){return r},set:function(n){r=n}}),Object.defineProperty(this,"appearanceState",{enumerable:!0,configurable:!0,get:function(){return r.substr(1,r.length-1)},set:function(n){r="/"+n}}),this.caption="l",this.appearanceState="Off",this._AppearanceType=ht.RadioButton.Circle,this.appearanceStreamContent=this._AppearanceType.createAppearanceStream(this.optionName)};Ls(Lc,Na),ti.prototype.setAppearance=function(t){if(!("createAppearanceStream"in t)||!("getCA"in t))throw new Error("Couldn't assign Appearance to RadioButton. Appearance was Invalid!");for(var s in this.Kids)if(this.Kids.hasOwnProperty(s)){var r=this.Kids[s];r.appearanceStreamContent=t.createAppearanceStream(r.optionName),r.caption=t.getCA()}},ti.prototype.createOption=function(t){var s=new Lc;return s.Parent=this,s.optionName=t,this.Kids.push(s),x2.call(this.scope,s),s};var Go=function(){Wr.call(this),this.fontName="zapfdingbats",this.caption="3",this.appearanceState="On",this.value="On",this.textAlign="center",this.appearanceStreamContent=ht.CheckBox.createAppearanceStream()};Ls(Go,Wr);var Tn=function(){Na.call(this),this.FT="/Tx",Object.defineProperty(this,"multiline",{enumerable:!0,configurable:!0,get:function(){return!!_r(this.Ff,13)},set:function(s){s?this.Ff=Cr(this.Ff,13):this.Ff=Tr(this.Ff,13)}}),Object.defineProperty(this,"fileSelect",{enumerable:!0,configurable:!0,get:function(){return!!_r(this.Ff,21)},set:function(s){s?this.Ff=Cr(this.Ff,21):this.Ff=Tr(this.Ff,21)}}),Object.defineProperty(this,"doNotSpellCheck",{enumerable:!0,configurable:!0,get:function(){return!!_r(this.Ff,23)},set:function(s){s?this.Ff=Cr(this.Ff,23):this.Ff=Tr(this.Ff,23)}}),Object.defineProperty(this,"doNotScroll",{enumerable:!0,configurable:!0,get:function(){return!!_r(this.Ff,24)},set:function(s){s?this.Ff=Cr(this.Ff,24):this.Ff=Tr(this.Ff,24)}}),Object.defineProperty(this,"comb",{enumerable:!0,configurable:!0,get:function(){return!!_r(this.Ff,25)},set:function(s){s?this.Ff=Cr(this.Ff,25):this.Ff=Tr(this.Ff,25)}}),Object.defineProperty(this,"richText",{enumerable:!0,configurable:!0,get:function(){return!!_r(this.Ff,26)},set:function(s){s?this.Ff=Cr(this.Ff,26):this.Ff=Tr(this.Ff,26)}});var t=null;Object.defineProperty(this,"MaxLen",{enumerable:!0,configurable:!1,get:function(){return t},set:function(s){t=s}}),Object.defineProperty(this,"maxLength",{enumerable:!0,configurable:!0,get:function(){return t},set:function(s){Number.isInteger(s)&&(t=s)}}),Object.defineProperty(this,"hasAppearanceStream",{enumerable:!0,configurable:!0,get:function(){return this.V||this.DV}})};Ls(Tn,Na);var Yo=function(){Tn.call(this),Object.defineProperty(this,"password",{enumerable:!0,configurable:!0,get:function(){return!!_r(this.Ff,14)},set:function(t){t?this.Ff=Cr(this.Ff,14):this.Ff=Tr(this.Ff,14)}}),this.password=!0};Ls(Yo,Tn);var ht={CheckBox:{createAppearanceStream:function(){return{N:{On:ht.CheckBox.YesNormal},D:{On:ht.CheckBox.YesPushDown,Off:ht.CheckBox.OffPushDown}}},YesPushDown:function(t){var s=La(t);s.scope=t.scope;var r=[],a=t.scope.internal.getFont(t.fontName,t.fontStyle).id,n=t.scope.__private__.encodeColorString(t.color),o=P0(t,t.caption);return r.push("0.749023 g"),r.push("0 0 "+At(ht.internal.getWidth(t))+" "+At(ht.internal.getHeight(t))+" re"),r.push("f"),r.push("BMC"),r.push("q"),r.push("0 0 1 rg"),r.push("/"+a+" "+At(o.fontSize)+" Tf "+n),r.push("BT"),r.push(o.text),r.push("ET"),r.push("Q"),r.push("EMC"),s.stream=r.join(`
`),s},YesNormal:function(t){var s=La(t);s.scope=t.scope;var r=t.scope.internal.getFont(t.fontName,t.fontStyle).id,a=t.scope.__private__.encodeColorString(t.color),n=[],o=ht.internal.getHeight(t),l=ht.internal.getWidth(t),c=P0(t,t.caption);return n.push("1 g"),n.push("0 0 "+At(l)+" "+At(o)+" re"),n.push("f"),n.push("q"),n.push("0 0 1 rg"),n.push("0 0 "+At(l-1)+" "+At(o-1)+" re"),n.push("W"),n.push("n"),n.push("0 g"),n.push("BT"),n.push("/"+r+" "+At(c.fontSize)+" Tf "+a),n.push(c.text),n.push("ET"),n.push("Q"),s.stream=n.join(`
`),s},OffPushDown:function(t){var s=La(t);s.scope=t.scope;var r=[];return r.push("0.749023 g"),r.push("0 0 "+At(ht.internal.getWidth(t))+" "+At(ht.internal.getHeight(t))+" re"),r.push("f"),s.stream=r.join(`
`),s}},RadioButton:{Circle:{createAppearanceStream:function(t){var s={D:{Off:ht.RadioButton.Circle.OffPushDown},N:{}};return s.N[t]=ht.RadioButton.Circle.YesNormal,s.D[t]=ht.RadioButton.Circle.YesPushDown,s},getCA:function(){return"l"},YesNormal:function(t){var s=La(t);s.scope=t.scope;var r=[],a=ht.internal.getWidth(t)<=ht.internal.getHeight(t)?ht.internal.getWidth(t)/4:ht.internal.getHeight(t)/4;a=Number((.9*a).toFixed(5));var n=ht.internal.Bezier_C,o=Number((a*n).toFixed(5));return r.push("q"),r.push("1 0 0 1 "+Nn(ht.internal.getWidth(t)/2)+" "+Nn(ht.internal.getHeight(t)/2)+" cm"),r.push(a+" 0 m"),r.push(a+" "+o+" "+o+" "+a+" 0 "+a+" c"),r.push("-"+o+" "+a+" -"+a+" "+o+" -"+a+" 0 c"),r.push("-"+a+" -"+o+" -"+o+" -"+a+" 0 -"+a+" c"),r.push(o+" -"+a+" "+a+" -"+o+" "+a+" 0 c"),r.push("f"),r.push("Q"),s.stream=r.join(`
`),s},YesPushDown:function(t){var s=La(t);s.scope=t.scope;var r=[],a=ht.internal.getWidth(t)<=ht.internal.getHeight(t)?ht.internal.getWidth(t)/4:ht.internal.getHeight(t)/4;a=Number((.9*a).toFixed(5));var n=Number((2*a).toFixed(5)),o=Number((n*ht.internal.Bezier_C).toFixed(5)),l=Number((a*ht.internal.Bezier_C).toFixed(5));return r.push("0.749023 g"),r.push("q"),r.push("1 0 0 1 "+Nn(ht.internal.getWidth(t)/2)+" "+Nn(ht.internal.getHeight(t)/2)+" cm"),r.push(n+" 0 m"),r.push(n+" "+o+" "+o+" "+n+" 0 "+n+" c"),r.push("-"+o+" "+n+" -"+n+" "+o+" -"+n+" 0 c"),r.push("-"+n+" -"+o+" -"+o+" -"+n+" 0 -"+n+" c"),r.push(o+" -"+n+" "+n+" -"+o+" "+n+" 0 c"),r.push("f"),r.push("Q"),r.push("0 g"),r.push("q"),r.push("1 0 0 1 "+Nn(ht.internal.getWidth(t)/2)+" "+Nn(ht.internal.getHeight(t)/2)+" cm"),r.push(a+" 0 m"),r.push(a+" "+l+" "+l+" "+a+" 0 "+a+" c"),r.push("-"+l+" "+a+" -"+a+" "+l+" -"+a+" 0 c"),r.push("-"+a+" -"+l+" -"+l+" -"+a+" 0 -"+a+" c"),r.push(l+" -"+a+" "+a+" -"+l+" "+a+" 0 c"),r.push("f"),r.push("Q"),s.stream=r.join(`
`),s},OffPushDown:function(t){var s=La(t);s.scope=t.scope;var r=[],a=ht.internal.getWidth(t)<=ht.internal.getHeight(t)?ht.internal.getWidth(t)/4:ht.internal.getHeight(t)/4;a=Number((.9*a).toFixed(5));var n=Number((2*a).toFixed(5)),o=Number((n*ht.internal.Bezier_C).toFixed(5));return r.push("0.749023 g"),r.push("q"),r.push("1 0 0 1 "+Nn(ht.internal.getWidth(t)/2)+" "+Nn(ht.internal.getHeight(t)/2)+" cm"),r.push(n+" 0 m"),r.push(n+" "+o+" "+o+" "+n+" 0 "+n+" c"),r.push("-"+o+" "+n+" -"+n+" "+o+" -"+n+" 0 c"),r.push("-"+n+" -"+o+" -"+o+" -"+n+" 0 -"+n+" c"),r.push(o+" -"+n+" "+n+" -"+o+" "+n+" 0 c"),r.push("f"),r.push("Q"),s.stream=r.join(`
`),s}},Cross:{createAppearanceStream:function(t){var s={D:{Off:ht.RadioButton.Cross.OffPushDown},N:{}};return s.N[t]=ht.RadioButton.Cross.YesNormal,s.D[t]=ht.RadioButton.Cross.YesPushDown,s},getCA:function(){return"8"},YesNormal:function(t){var s=La(t);s.scope=t.scope;var r=[],a=ht.internal.calculateCross(t);return r.push("q"),r.push("1 1 "+At(ht.internal.getWidth(t)-2)+" "+At(ht.internal.getHeight(t)-2)+" re"),r.push("W"),r.push("n"),r.push(At(a.x1.x)+" "+At(a.x1.y)+" m"),r.push(At(a.x2.x)+" "+At(a.x2.y)+" l"),r.push(At(a.x4.x)+" "+At(a.x4.y)+" m"),r.push(At(a.x3.x)+" "+At(a.x3.y)+" l"),r.push("s"),r.push("Q"),s.stream=r.join(`
`),s},YesPushDown:function(t){var s=La(t);s.scope=t.scope;var r=ht.internal.calculateCross(t),a=[];return a.push("0.749023 g"),a.push("0 0 "+At(ht.internal.getWidth(t))+" "+At(ht.internal.getHeight(t))+" re"),a.push("f"),a.push("q"),a.push("1 1 "+At(ht.internal.getWidth(t)-2)+" "+At(ht.internal.getHeight(t)-2)+" re"),a.push("W"),a.push("n"),a.push(At(r.x1.x)+" "+At(r.x1.y)+" m"),a.push(At(r.x2.x)+" "+At(r.x2.y)+" l"),a.push(At(r.x4.x)+" "+At(r.x4.y)+" m"),a.push(At(r.x3.x)+" "+At(r.x3.y)+" l"),a.push("s"),a.push("Q"),s.stream=a.join(`
`),s},OffPushDown:function(t){var s=La(t);s.scope=t.scope;var r=[];return r.push("0.749023 g"),r.push("0 0 "+At(ht.internal.getWidth(t))+" "+At(ht.internal.getHeight(t))+" re"),r.push("f"),s.stream=r.join(`
`),s}}},createDefaultAppearanceStream:function(t){var s=t.scope.internal.getFont(t.fontName,t.fontStyle).id,r=t.scope.__private__.encodeColorString(t.color);return"/"+s+" "+t.fontSize+" Tf "+r}};ht.internal={Bezier_C:.551915024494,calculateCross:function(t){var s=ht.internal.getWidth(t),r=ht.internal.getHeight(t),a=Math.min(s,r);return{x1:{x:(s-a)/2,y:(r-a)/2+a},x2:{x:(s-a)/2+a,y:(r-a)/2},x3:{x:(s-a)/2,y:(r-a)/2},x4:{x:(s-a)/2+a,y:(r-a)/2+a}}}},ht.internal.getWidth=function(t){var s=0;return ir(t)==="object"&&(s=uu(t.Rect[2])),s},ht.internal.getHeight=function(t){var s=0;return ir(t)==="object"&&(s=uu(t.Rect[3])),s};var x2=br.addField=function(t){if(m2(this,t),!(t instanceof Na))throw new Error("Invalid argument passed to jsPDF.addField.");var s;return(s=t).scope.internal.acroformPlugin.printedOut&&(s.scope.internal.acroformPlugin.printedOut=!1,s.scope.internal.acroformPlugin.acroFormDictionaryRoot=null),s.scope.internal.acroformPlugin.acroFormDictionaryRoot.Fields.push(s),t.page=t.scope.internal.getCurrentPageInfo().pageNumber,this};br.AcroFormChoiceField=Qn,br.AcroFormListBox=Zn,br.AcroFormComboBox=ei,br.AcroFormEditBox=Vo,br.AcroFormButton=Wr,br.AcroFormPushButton=$o,br.AcroFormRadioButton=ti,br.AcroFormCheckBox=Go,br.AcroFormTextField=Tn,br.AcroFormPasswordField=Yo,br.AcroFormAppearance=ht,br.AcroForm={ChoiceField:Qn,ListBox:Zn,ComboBox:ei,EditBox:Vo,Button:Wr,PushButton:$o,RadioButton:ti,CheckBox:Go,TextField:Tn,PasswordField:Yo,Appearance:ht},vt.AcroForm={ChoiceField:Qn,ListBox:Zn,ComboBox:ei,EditBox:Vo,Button:Wr,PushButton:$o,RadioButton:ti,CheckBox:Go,TextField:Tn,PasswordField:Yo,Appearance:ht};var p2=vt.AcroForm;function tm(t){return t.reduce(function(s,r,a){return s[r]=a,s},{})}(function(t){t.__addimage__={};var s="UNKNOWN",r={PNG:[[137,80,78,71]],TIFF:[[77,77,0,42],[73,73,42,0]],JPEG:[[255,216,255,224,void 0,void 0,74,70,73,70,0],[255,216,255,225,void 0,void 0,69,120,105,102,0,0],[255,216,255,219],[255,216,255,238]],JPEG2000:[[0,0,0,12,106,80,32,32]],GIF87a:[[71,73,70,56,55,97]],GIF89a:[[71,73,70,56,57,97]],WEBP:[[82,73,70,70,void 0,void 0,void 0,void 0,87,69,66,80]],BMP:[[66,77],[66,65],[67,73],[67,80],[73,67],[80,84]]},a=t.__addimage__.getImageFileTypeByImageData=function(E,P){var W,z,ue,Q,ee,ie=s;if((P=P||s)==="RGBA"||E.data!==void 0&&E.data instanceof Uint8ClampedArray&&"height"in E&&"width"in E)return"RGBA";if(F(E))for(ee in r)for(ue=r[ee],W=0;W<ue.length;W+=1){for(Q=!0,z=0;z<ue[W].length;z+=1)if(ue[W][z]!==void 0&&ue[W][z]!==E[z]){Q=!1;break}if(Q===!0){ie=ee;break}}else for(ee in r)for(ue=r[ee],W=0;W<ue.length;W+=1){for(Q=!0,z=0;z<ue[W].length;z+=1)if(ue[W][z]!==void 0&&ue[W][z]!==E.charCodeAt(z)){Q=!1;break}if(Q===!0){ie=ee;break}}return ie===s&&P!==s&&(ie=P),ie},n=function E(P){for(var W=this.internal.write,z=this.internal.putStream,ue=(0,this.internal.getFilters)();ue.indexOf("FlateEncode")!==-1;)ue.splice(ue.indexOf("FlateEncode"),1);P.objectId=this.internal.newObject();var Q=[];if(Q.push({key:"Type",value:"/XObject"}),Q.push({key:"Subtype",value:"/Image"}),Q.push({key:"Width",value:P.width}),Q.push({key:"Height",value:P.height}),P.colorSpace===b.INDEXED?Q.push({key:"ColorSpace",value:"[/Indexed /DeviceRGB "+(P.palette.length/3-1)+" "+("sMask"in P&&P.sMask!==void 0?P.objectId+2:P.objectId+1)+" 0 R]"}):(Q.push({key:"ColorSpace",value:"/"+P.colorSpace}),P.colorSpace===b.DEVICE_CMYK&&Q.push({key:"Decode",value:"[1 0 1 0 1 0 1 0]"})),Q.push({key:"BitsPerComponent",value:P.bitsPerComponent}),"decodeParameters"in P&&P.decodeParameters!==void 0&&Q.push({key:"DecodeParms",value:"<<"+P.decodeParameters+">>"}),"transparency"in P&&Array.isArray(P.transparency)){for(var ee="",ie=0,ne=P.transparency.length;ie<ne;ie++)ee+=P.transparency[ie]+" "+P.transparency[ie]+" ";Q.push({key:"Mask",value:"["+ee+"]"})}P.sMask!==void 0&&Q.push({key:"SMask",value:P.objectId+1+" 0 R"});var pe=P.filter!==void 0?["/"+P.filter]:void 0;if(z({data:P.data,additionalKeyValues:Q,alreadyAppliedFilters:pe,objectId:P.objectId}),W("endobj"),"sMask"in P&&P.sMask!==void 0){var ye="/Predictor "+P.predictor+" /Colors 1 /BitsPerComponent "+P.bitsPerComponent+" /Columns "+P.width,_={width:P.width,height:P.height,colorSpace:"DeviceGray",bitsPerComponent:P.bitsPerComponent,decodeParameters:ye,data:P.sMask};"filter"in P&&(_.filter=P.filter),E.call(this,_)}if(P.colorSpace===b.INDEXED){var R=this.internal.newObject();z({data:C(new Uint8Array(P.palette)),objectId:R}),W("endobj")}},o=function(){var E=this.internal.collections.addImage_images;for(var P in E)n.call(this,E[P])},l=function(){var E,P=this.internal.collections.addImage_images,W=this.internal.write;for(var z in P)W("/I"+(E=P[z]).index,E.objectId,"0","R")},c=function(){this.internal.collections.addImage_images||(this.internal.collections.addImage_images={},this.internal.events.subscribe("putResources",o),this.internal.events.subscribe("putXobjectDict",l))},d=function(){var E=this.internal.collections.addImage_images;return c.call(this),E},h=function(){return Object.keys(this.internal.collections.addImage_images).length},u=function(E){return typeof t["process"+E.toUpperCase()]=="function"},x=function(E){return ir(E)==="object"&&E.nodeType===1},p=function(E,P){if(E.nodeName==="IMG"&&E.hasAttribute("src")){var W=""+E.getAttribute("src");if(W.indexOf("data:image/")===0)return zo(unescape(W).split("base64,").pop());var z=t.loadFile(W,!0);if(z!==void 0)return z}if(E.nodeName==="CANVAS"){if(E.width===0||E.height===0)throw new Error("Given canvas must have data. Canvas width: "+E.width+", height: "+E.height);var ue;switch(P){case"PNG":ue="image/png";break;case"WEBP":ue="image/webp";break;case"JPEG":case"JPG":default:ue="image/jpeg"}return zo(E.toDataURL(ue,1).split("base64,").pop())}},m=function(E){var P=this.internal.collections.addImage_images;if(P){for(var W in P)if(E===P[W].alias)return P[W]}},y=function(E,P,W){return E||P||(E=-96,P=-96),E<0&&(E=-1*W.width*72/E/this.internal.scaleFactor),P<0&&(P=-1*W.height*72/P/this.internal.scaleFactor),E===0&&(E=P*W.width/W.height),P===0&&(P=E*W.height/W.width),[E,P]},g=function(E,P,W,z,ue,Q){var ee=y.call(this,W,z,ue),ie=this.internal.getCoordinateString,ne=this.internal.getVerticalCoordinateString,pe=d.call(this);if(W=ee[0],z=ee[1],pe[ue.index]=ue,Q){Q*=Math.PI/180;var ye=Math.cos(Q),_=Math.sin(Q),R=function(B){return B.toFixed(4)},M=[R(ye),R(_),R(-1*_),R(ye),0,0,"cm"]}this.internal.write("q"),Q?(this.internal.write([1,"0","0",1,ie(E),ne(P+z),"cm"].join(" ")),this.internal.write(M.join(" ")),this.internal.write([ie(W),"0","0",ie(z),"0","0","cm"].join(" "))):this.internal.write([ie(W),"0","0",ie(z),ie(E),ne(P+z),"cm"].join(" ")),this.isAdvancedAPI()&&this.internal.write([1,0,0,-1,0,0,"cm"].join(" ")),this.internal.write("/I"+ue.index+" Do"),this.internal.write("Q")},b=t.color_spaces={DEVICE_RGB:"DeviceRGB",DEVICE_GRAY:"DeviceGray",DEVICE_CMYK:"DeviceCMYK",CAL_GREY:"CalGray",CAL_RGB:"CalRGB",LAB:"Lab",ICC_BASED:"ICCBased",INDEXED:"Indexed",PATTERN:"Pattern",SEPARATION:"Separation",DEVICE_N:"DeviceN"};t.decode={DCT_DECODE:"DCTDecode",FLATE_DECODE:"FlateDecode",LZW_DECODE:"LZWDecode",JPX_DECODE:"JPXDecode",JBIG2_DECODE:"JBIG2Decode",ASCII85_DECODE:"ASCII85Decode",ASCII_HEX_DECODE:"ASCIIHexDecode",RUN_LENGTH_DECODE:"RunLengthDecode",CCITT_FAX_DECODE:"CCITTFaxDecode"};var w=t.image_compression={NONE:"NONE",FAST:"FAST",MEDIUM:"MEDIUM",SLOW:"SLOW"},N=t.__addimage__.sHashCode=function(E){var P,W,z=0;if(typeof E=="string")for(W=E.length,P=0;P<W;P++)z=(z<<5)-z+E.charCodeAt(P),z|=0;else if(F(E))for(W=E.byteLength/2,P=0;P<W;P++)z=(z<<5)-z+E[P],z|=0;return z},j=t.__addimage__.validateStringAsBase64=function(E){(E=E||"").toString().trim();var P=!0;return E.length===0&&(P=!1),E.length%4!=0&&(P=!1),/^[A-Za-z0-9+/]+$/.test(E.substr(0,E.length-2))===!1&&(P=!1),/^[A-Za-z0-9/][A-Za-z0-9+/]|[A-Za-z0-9+/]=|==$/.test(E.substr(-2))===!1&&(P=!1),P},k=t.__addimage__.extractImageFromDataUrl=function(E){var P=(E=E||"").split("base64,"),W=null;if(P.length===2){var z=/^data:(\w*\/\w*);*(charset=(?!charset=)[\w=-]*)*;*$/.exec(P[0]);Array.isArray(z)&&(W={mimeType:z[1],charset:z[2],data:P[1]})}return W},L=t.__addimage__.supportsArrayBuffer=function(){return typeof ArrayBuffer<"u"&&typeof Uint8Array<"u"};t.__addimage__.isArrayBuffer=function(E){return L()&&E instanceof ArrayBuffer};var F=t.__addimage__.isArrayBufferView=function(E){return L()&&typeof Uint32Array<"u"&&(E instanceof Int8Array||E instanceof Uint8Array||typeof Uint8ClampedArray<"u"&&E instanceof Uint8ClampedArray||E instanceof Int16Array||E instanceof Uint16Array||E instanceof Int32Array||E instanceof Uint32Array||E instanceof Float32Array||E instanceof Float64Array)},T=t.__addimage__.binaryStringToUint8Array=function(E){for(var P=E.length,W=new Uint8Array(P),z=0;z<P;z++)W[z]=E.charCodeAt(z);return W},C=t.__addimage__.arrayBufferToBinaryString=function(E){for(var P="",W=F(E)?E:new Uint8Array(E),z=0;z<W.length;z+=8192)P+=String.fromCharCode.apply(null,W.subarray(z,z+8192));return P};t.addImage=function(){var E,P,W,z,ue,Q,ee,ie,ne;if(typeof arguments[1]=="number"?(P=s,W=arguments[1],z=arguments[2],ue=arguments[3],Q=arguments[4],ee=arguments[5],ie=arguments[6],ne=arguments[7]):(P=arguments[1],W=arguments[2],z=arguments[3],ue=arguments[4],Q=arguments[5],ee=arguments[6],ie=arguments[7],ne=arguments[8]),ir(E=arguments[0])==="object"&&!x(E)&&"imageData"in E){var pe=E;E=pe.imageData,P=pe.format||P||s,W=pe.x||W||0,z=pe.y||z||0,ue=pe.w||pe.width||ue,Q=pe.h||pe.height||Q,ee=pe.alias||ee,ie=pe.compression||ie,ne=pe.rotation||pe.angle||ne}var ye=this.internal.getFilters();if(ie===void 0&&ye.indexOf("FlateEncode")!==-1&&(ie="SLOW"),isNaN(W)||isNaN(z))throw new Error("Invalid coordinates passed to jsPDF.addImage");c.call(this);var _=I.call(this,E,P,ee,ie);return g.call(this,W,z,ue,Q,_,ne),this};var I=function(E,P,W,z){var ue,Q,ee;if(typeof E=="string"&&a(E)===s){E=unescape(E);var ie=D(E,!1);(ie!==""||(ie=t.loadFile(E,!0))!==void 0)&&(E=ie)}if(x(E)&&(E=p(E,P)),P=a(E,P),!u(P))throw new Error("addImage does not support files of type '"+P+"', please ensure that a plugin for '"+P+"' support is added.");if(((ee=W)==null||ee.length===0)&&(W=function(ne){return typeof ne=="string"||F(ne)?N(ne):F(ne.data)?N(ne.data):null}(E)),(ue=m.call(this,W))||(L()&&(E instanceof Uint8Array||P==="RGBA"||(Q=E,E=T(E))),ue=this["process"+P.toUpperCase()](E,h.call(this),W,function(ne){return ne&&typeof ne=="string"&&(ne=ne.toUpperCase()),ne in t.image_compression?ne:w.NONE}(z),Q)),!ue)throw new Error("An unknown error occurred whilst processing the image.");return ue},D=t.__addimage__.convertBase64ToBinaryString=function(E,P){var W;P=typeof P!="boolean"||P;var z,ue="";if(typeof E=="string"){z=(W=k(E))!==null?W.data:E;try{ue=zo(z)}catch(Q){if(P)throw j(z)?new Error("atob-Error in jsPDF.convertBase64ToBinaryString "+Q.message):new Error("Supplied Data is not a valid base64-String jsPDF.convertBase64ToBinaryString ")}}return ue};t.getImageProperties=function(E){var P,W,z="";if(x(E)&&(E=p(E)),typeof E=="string"&&a(E)===s&&((z=D(E,!1))===""&&(z=t.loadFile(E)||""),E=z),W=a(E),!u(W))throw new Error("addImage does not support files of type '"+W+"', please ensure that a plugin for '"+W+"' support is added.");if(!L()||E instanceof Uint8Array||(E=T(E)),!(P=this["process"+W.toUpperCase()](E)))throw new Error("An unknown error occurred whilst processing the image");return P.fileType=W,P}})(vt.API),function(t){var s=function(r){if(r!==void 0&&r!="")return!0};vt.API.events.push(["addPage",function(r){this.internal.getPageInfo(r.pageNumber).pageContext.annotations=[]}]),t.events.push(["putPage",function(r){for(var a,n,o,l=this.internal.getCoordinateString,c=this.internal.getVerticalCoordinateString,d=this.internal.getPageInfoByObjId(r.objId),h=r.pageContext.annotations,u=!1,x=0;x<h.length&&!u;x++)switch((a=h[x]).type){case"link":(s(a.options.url)||s(a.options.pageNumber))&&(u=!0);break;case"reference":case"text":case"freetext":u=!0}if(u!=0){this.internal.write("/Annots [");for(var p=0;p<h.length;p++){a=h[p];var m=this.internal.pdfEscape,y=this.internal.getEncryptor(r.objId);switch(a.type){case"reference":this.internal.write(" "+a.object.objId+" 0 R ");break;case"text":var g=this.internal.newAdditionalObject(),b=this.internal.newAdditionalObject(),w=this.internal.getEncryptor(g.objId),N=a.title||"Note";o="<</Type /Annot /Subtype /Text "+(n="/Rect ["+l(a.bounds.x)+" "+c(a.bounds.y+a.bounds.h)+" "+l(a.bounds.x+a.bounds.w)+" "+c(a.bounds.y)+"] ")+"/Contents ("+m(w(a.contents))+")",o+=" /Popup "+b.objId+" 0 R",o+=" /P "+d.objId+" 0 R",o+=" /T ("+m(w(N))+") >>",g.content=o;var j=g.objId+" 0 R";o="<</Type /Annot /Subtype /Popup "+(n="/Rect ["+l(a.bounds.x+30)+" "+c(a.bounds.y+a.bounds.h)+" "+l(a.bounds.x+a.bounds.w+30)+" "+c(a.bounds.y)+"] ")+" /Parent "+j,a.open&&(o+=" /Open true"),o+=" >>",b.content=o,this.internal.write(g.objId,"0 R",b.objId,"0 R");break;case"freetext":n="/Rect ["+l(a.bounds.x)+" "+c(a.bounds.y)+" "+l(a.bounds.x+a.bounds.w)+" "+c(a.bounds.y+a.bounds.h)+"] ";var k=a.color||"#000000";o="<</Type /Annot /Subtype /FreeText "+n+"/Contents ("+m(y(a.contents))+")",o+=" /DS(font: Helvetica,sans-serif 12.0pt; text-align:left; color:#"+k+")",o+=" /Border [0 0 0]",o+=" >>",this.internal.write(o);break;case"link":if(a.options.name){var L=this.annotations._nameMap[a.options.name];a.options.pageNumber=L.page,a.options.top=L.y}else a.options.top||(a.options.top=0);if(n="/Rect ["+a.finalBounds.x+" "+a.finalBounds.y+" "+a.finalBounds.w+" "+a.finalBounds.h+"] ",o="",a.options.url)o="<</Type /Annot /Subtype /Link "+n+"/Border [0 0 0] /A <</S /URI /URI ("+m(y(a.options.url))+") >>";else if(a.options.pageNumber)switch(o="<</Type /Annot /Subtype /Link "+n+"/Border [0 0 0] /Dest ["+this.internal.getPageInfo(a.options.pageNumber).objId+" 0 R",a.options.magFactor=a.options.magFactor||"XYZ",a.options.magFactor){case"Fit":o+=" /Fit]";break;case"FitH":o+=" /FitH "+a.options.top+"]";break;case"FitV":a.options.left=a.options.left||0,o+=" /FitV "+a.options.left+"]";break;case"XYZ":default:var F=c(a.options.top);a.options.left=a.options.left||0,a.options.zoom===void 0&&(a.options.zoom=0),o+=" /XYZ "+a.options.left+" "+F+" "+a.options.zoom+"]"}o!=""&&(o+=" >>",this.internal.write(o))}}this.internal.write("]")}}]),t.createAnnotation=function(r){var a=this.internal.getCurrentPageInfo();switch(r.type){case"link":this.link(r.bounds.x,r.bounds.y,r.bounds.w,r.bounds.h,r);break;case"text":case"freetext":a.pageContext.annotations.push(r)}},t.link=function(r,a,n,o,l){var c=this.internal.getCurrentPageInfo(),d=this.internal.getCoordinateString,h=this.internal.getVerticalCoordinateString;c.pageContext.annotations.push({finalBounds:{x:d(r),y:h(a),w:d(r+n),h:h(a+o)},options:l,type:"link"})},t.textWithLink=function(r,a,n,o){var l,c,d=this.getTextWidth(r),h=this.internal.getLineHeight()/this.internal.scaleFactor;if(o.maxWidth!==void 0){c=o.maxWidth;var u=this.splitTextToSize(r,c).length;l=Math.ceil(h*u)}else c=d,l=h;return this.text(r,a,n,o),n+=.2*h,o.align==="center"&&(a-=d/2),o.align==="right"&&(a-=d),this.link(a,n-h,c,l,o),d},t.getTextWidth=function(r){var a=this.internal.getFontSize();return this.getStringUnitWidth(r)*a/this.internal.scaleFactor}}(vt.API),function(t){var s={1569:[65152],1570:[65153,65154],1571:[65155,65156],1572:[65157,65158],1573:[65159,65160],1574:[65161,65162,65163,65164],1575:[65165,65166],1576:[65167,65168,65169,65170],1577:[65171,65172],1578:[65173,65174,65175,65176],1579:[65177,65178,65179,65180],1580:[65181,65182,65183,65184],1581:[65185,65186,65187,65188],1582:[65189,65190,65191,65192],1583:[65193,65194],1584:[65195,65196],1585:[65197,65198],1586:[65199,65200],1587:[65201,65202,65203,65204],1588:[65205,65206,65207,65208],1589:[65209,65210,65211,65212],1590:[65213,65214,65215,65216],1591:[65217,65218,65219,65220],1592:[65221,65222,65223,65224],1593:[65225,65226,65227,65228],1594:[65229,65230,65231,65232],1601:[65233,65234,65235,65236],1602:[65237,65238,65239,65240],1603:[65241,65242,65243,65244],1604:[65245,65246,65247,65248],1605:[65249,65250,65251,65252],1606:[65253,65254,65255,65256],1607:[65257,65258,65259,65260],1608:[65261,65262],1609:[65263,65264,64488,64489],1610:[65265,65266,65267,65268],1649:[64336,64337],1655:[64477],1657:[64358,64359,64360,64361],1658:[64350,64351,64352,64353],1659:[64338,64339,64340,64341],1662:[64342,64343,64344,64345],1663:[64354,64355,64356,64357],1664:[64346,64347,64348,64349],1667:[64374,64375,64376,64377],1668:[64370,64371,64372,64373],1670:[64378,64379,64380,64381],1671:[64382,64383,64384,64385],1672:[64392,64393],1676:[64388,64389],1677:[64386,64387],1678:[64390,64391],1681:[64396,64397],1688:[64394,64395],1700:[64362,64363,64364,64365],1702:[64366,64367,64368,64369],1705:[64398,64399,64400,64401],1709:[64467,64468,64469,64470],1711:[64402,64403,64404,64405],1713:[64410,64411,64412,64413],1715:[64406,64407,64408,64409],1722:[64414,64415],1723:[64416,64417,64418,64419],1726:[64426,64427,64428,64429],1728:[64420,64421],1729:[64422,64423,64424,64425],1733:[64480,64481],1734:[64473,64474],1735:[64471,64472],1736:[64475,64476],1737:[64482,64483],1739:[64478,64479],1740:[64508,64509,64510,64511],1744:[64484,64485,64486,64487],1746:[64430,64431],1747:[64432,64433]},r={65247:{65154:65269,65156:65271,65160:65273,65166:65275},65248:{65154:65270,65156:65272,65160:65274,65166:65276},65165:{65247:{65248:{65258:65010}}},1617:{1612:64606,1613:64607,1614:64608,1615:64609,1616:64610}},a={1612:64606,1613:64607,1614:64608,1615:64609,1616:64610},n=[1570,1571,1573,1575];t.__arabicParser__={};var o=t.__arabicParser__.isInArabicSubstitutionA=function(g){return s[g.charCodeAt(0)]!==void 0},l=t.__arabicParser__.isArabicLetter=function(g){return typeof g=="string"&&/^[\u0600-\u06FF\u0750-\u077F\u08A0-\u08FF\uFB50-\uFDFF\uFE70-\uFEFF]+$/.test(g)},c=t.__arabicParser__.isArabicEndLetter=function(g){return l(g)&&o(g)&&s[g.charCodeAt(0)].length<=2},d=t.__arabicParser__.isArabicAlfLetter=function(g){return l(g)&&n.indexOf(g.charCodeAt(0))>=0};t.__arabicParser__.arabicLetterHasIsolatedForm=function(g){return l(g)&&o(g)&&s[g.charCodeAt(0)].length>=1};var h=t.__arabicParser__.arabicLetterHasFinalForm=function(g){return l(g)&&o(g)&&s[g.charCodeAt(0)].length>=2};t.__arabicParser__.arabicLetterHasInitialForm=function(g){return l(g)&&o(g)&&s[g.charCodeAt(0)].length>=3};var u=t.__arabicParser__.arabicLetterHasMedialForm=function(g){return l(g)&&o(g)&&s[g.charCodeAt(0)].length==4},x=t.__arabicParser__.resolveLigatures=function(g){var b=0,w=r,N="",j=0;for(b=0;b<g.length;b+=1)w[g.charCodeAt(b)]!==void 0?(j++,typeof(w=w[g.charCodeAt(b)])=="number"&&(N+=String.fromCharCode(w),w=r,j=0),b===g.length-1&&(w=r,N+=g.charAt(b-(j-1)),b-=j-1,j=0)):(w=r,N+=g.charAt(b-j),b-=j,j=0);return N};t.__arabicParser__.isArabicDiacritic=function(g){return g!==void 0&&a[g.charCodeAt(0)]!==void 0};var p=t.__arabicParser__.getCorrectForm=function(g,b,w){return l(g)?o(g)===!1?-1:!h(g)||!l(b)&&!l(w)||!l(w)&&c(b)||c(g)&&!l(b)||c(g)&&d(b)||c(g)&&c(b)?0:u(g)&&l(b)&&!c(b)&&l(w)&&h(w)?3:c(g)||!l(w)?1:2:-1},m=function(g){var b=0,w=0,N=0,j="",k="",L="",F=(g=g||"").split("\\s+"),T=[];for(b=0;b<F.length;b+=1){for(T.push(""),w=0;w<F[b].length;w+=1)j=F[b][w],k=F[b][w-1],L=F[b][w+1],l(j)?(N=p(j,k,L),T[b]+=N!==-1?String.fromCharCode(s[j.charCodeAt(0)][N]):j):T[b]+=j;T[b]=x(T[b])}return T.join(" ")},y=t.__arabicParser__.processArabic=t.processArabic=function(){var g,b=typeof arguments[0]=="string"?arguments[0]:arguments[0].text,w=[];if(Array.isArray(b)){var N=0;for(w=[],N=0;N<b.length;N+=1)Array.isArray(b[N])?w.push([m(b[N][0]),b[N][1],b[N][2]]):w.push([m(b[N])]);g=w}else g=m(b);return typeof arguments[0]=="string"?g:(arguments[0].text=g,arguments[0])};t.events.push(["preProcessText",y])}(vt.API),vt.API.autoPrint=function(t){var s;switch((t=t||{}).variant=t.variant||"non-conform",t.variant){case"javascript":this.addJS("print({});");break;case"non-conform":default:this.internal.events.subscribe("postPutResources",function(){s=this.internal.newObject(),this.internal.out("<<"),this.internal.out("/S /Named"),this.internal.out("/Type /Action"),this.internal.out("/N /Print"),this.internal.out(">>"),this.internal.out("endobj")}),this.internal.events.subscribe("putCatalog",function(){this.internal.out("/OpenAction "+s+" 0 R")})}return this},function(t){var s=function(){var r=void 0;Object.defineProperty(this,"pdf",{get:function(){return r},set:function(c){r=c}});var a=150;Object.defineProperty(this,"width",{get:function(){return a},set:function(c){a=isNaN(c)||Number.isInteger(c)===!1||c<0?150:c,this.getContext("2d").pageWrapXEnabled&&(this.getContext("2d").pageWrapX=a+1)}});var n=300;Object.defineProperty(this,"height",{get:function(){return n},set:function(c){n=isNaN(c)||Number.isInteger(c)===!1||c<0?300:c,this.getContext("2d").pageWrapYEnabled&&(this.getContext("2d").pageWrapY=n+1)}});var o=[];Object.defineProperty(this,"childNodes",{get:function(){return o},set:function(c){o=c}});var l={};Object.defineProperty(this,"style",{get:function(){return l},set:function(c){l=c}}),Object.defineProperty(this,"parentNode",{})};s.prototype.getContext=function(r,a){var n;if((r=r||"2d")!=="2d")return null;for(n in a)this.pdf.context2d.hasOwnProperty(n)&&(this.pdf.context2d[n]=a[n]);return this.pdf.context2d._canvas=this,this.pdf.context2d},s.prototype.toDataURL=function(){throw new Error("toDataURL is not implemented.")},t.events.push(["initialized",function(){this.canvas=new s,this.canvas.pdf=this}])}(vt.API),function(t){var s={left:0,top:0,bottom:0,right:0},r=!1,a=function(){this.internal.__cell__===void 0&&(this.internal.__cell__={},this.internal.__cell__.padding=3,this.internal.__cell__.headerFunction=void 0,this.internal.__cell__.margins=Object.assign({},s),this.internal.__cell__.margins.width=this.getPageWidth(),n.call(this))},n=function(){this.internal.__cell__.lastCell=new o,this.internal.__cell__.pages=1},o=function(){var d=arguments[0];Object.defineProperty(this,"x",{enumerable:!0,get:function(){return d},set:function(g){d=g}});var h=arguments[1];Object.defineProperty(this,"y",{enumerable:!0,get:function(){return h},set:function(g){h=g}});var u=arguments[2];Object.defineProperty(this,"width",{enumerable:!0,get:function(){return u},set:function(g){u=g}});var x=arguments[3];Object.defineProperty(this,"height",{enumerable:!0,get:function(){return x},set:function(g){x=g}});var p=arguments[4];Object.defineProperty(this,"text",{enumerable:!0,get:function(){return p},set:function(g){p=g}});var m=arguments[5];Object.defineProperty(this,"lineNumber",{enumerable:!0,get:function(){return m},set:function(g){m=g}});var y=arguments[6];return Object.defineProperty(this,"align",{enumerable:!0,get:function(){return y},set:function(g){y=g}}),this};o.prototype.clone=function(){return new o(this.x,this.y,this.width,this.height,this.text,this.lineNumber,this.align)},o.prototype.toArray=function(){return[this.x,this.y,this.width,this.height,this.text,this.lineNumber,this.align]},t.setHeaderFunction=function(d){return a.call(this),this.internal.__cell__.headerFunction=typeof d=="function"?d:void 0,this},t.getTextDimensions=function(d,h){a.call(this);var u=(h=h||{}).fontSize||this.getFontSize(),x=h.font||this.getFont(),p=h.scaleFactor||this.internal.scaleFactor,m=0,y=0,g=0,b=this;if(!Array.isArray(d)&&typeof d!="string"){if(typeof d!="number")throw new Error("getTextDimensions expects text-parameter to be of type String or type Number or an Array of Strings.");d=String(d)}var w=h.maxWidth;w>0?typeof d=="string"?d=this.splitTextToSize(d,w):Object.prototype.toString.call(d)==="[object Array]"&&(d=d.reduce(function(j,k){return j.concat(b.splitTextToSize(k,w))},[])):d=Array.isArray(d)?d:[d];for(var N=0;N<d.length;N++)m<(g=this.getStringUnitWidth(d[N],{font:x})*u)&&(m=g);return m!==0&&(y=d.length),{w:m/=p,h:Math.max((y*u*this.getLineHeightFactor()-u*(this.getLineHeightFactor()-1))/p,0)}},t.cellAddPage=function(){a.call(this),this.addPage();var d=this.internal.__cell__.margins||s;return this.internal.__cell__.lastCell=new o(d.left,d.top,void 0,void 0),this.internal.__cell__.pages+=1,this};var l=t.cell=function(){var d;d=arguments[0]instanceof o?arguments[0]:new o(arguments[0],arguments[1],arguments[2],arguments[3],arguments[4],arguments[5]),a.call(this);var h=this.internal.__cell__.lastCell,u=this.internal.__cell__.padding,x=this.internal.__cell__.margins||s,p=this.internal.__cell__.tableHeaderRow,m=this.internal.__cell__.printHeaders;return h.lineNumber!==void 0&&(h.lineNumber===d.lineNumber?(d.x=(h.x||0)+(h.width||0),d.y=h.y||0):h.y+h.height+d.height+x.bottom>this.getPageHeight()?(this.cellAddPage(),d.y=x.top,m&&p&&(this.printHeaderRow(d.lineNumber,!0),d.y+=p[0].height)):d.y=h.y+h.height||d.y),d.text[0]!==void 0&&(this.rect(d.x,d.y,d.width,d.height,r===!0?"FD":void 0),d.align==="right"?this.text(d.text,d.x+d.width-u,d.y+u,{align:"right",baseline:"top"}):d.align==="center"?this.text(d.text,d.x+d.width/2,d.y+u,{align:"center",baseline:"top",maxWidth:d.width-u-u}):this.text(d.text,d.x+u,d.y+u,{align:"left",baseline:"top",maxWidth:d.width-u-u})),this.internal.__cell__.lastCell=d,this};t.table=function(d,h,u,x,p){if(a.call(this),!u)throw new Error("No data for PDF table.");var m,y,g,b,w=[],N=[],j=[],k={},L={},F=[],T=[],C=(p=p||{}).autoSize||!1,I=p.printHeaders!==!1,D=p.css&&p.css["font-size"]!==void 0?16*p.css["font-size"]:p.fontSize||12,E=p.margins||Object.assign({width:this.getPageWidth()},s),P=typeof p.padding=="number"?p.padding:3,W=p.headerBackgroundColor||"#c8c8c8",z=p.headerTextColor||"#000";if(n.call(this),this.internal.__cell__.printHeaders=I,this.internal.__cell__.margins=E,this.internal.__cell__.table_font_size=D,this.internal.__cell__.padding=P,this.internal.__cell__.headerBackgroundColor=W,this.internal.__cell__.headerTextColor=z,this.setFontSize(D),x==null)N=w=Object.keys(u[0]),j=w.map(function(){return"left"});else if(Array.isArray(x)&&ir(x[0])==="object")for(w=x.map(function(pe){return pe.name}),N=x.map(function(pe){return pe.prompt||pe.name||""}),j=x.map(function(pe){return pe.align||"left"}),m=0;m<x.length;m+=1)L[x[m].name]=x[m].width*(19.049976/25.4);else Array.isArray(x)&&typeof x[0]=="string"&&(N=w=x,j=w.map(function(){return"left"}));if(C||Array.isArray(x)&&typeof x[0]=="string")for(m=0;m<w.length;m+=1){for(k[b=w[m]]=u.map(function(pe){return pe[b]}),this.setFont(void 0,"bold"),F.push(this.getTextDimensions(N[m],{fontSize:this.internal.__cell__.table_font_size,scaleFactor:this.internal.scaleFactor}).w),y=k[b],this.setFont(void 0,"normal"),g=0;g<y.length;g+=1)F.push(this.getTextDimensions(y[g],{fontSize:this.internal.__cell__.table_font_size,scaleFactor:this.internal.scaleFactor}).w);L[b]=Math.max.apply(null,F)+P+P,F=[]}if(I){var ue={};for(m=0;m<w.length;m+=1)ue[w[m]]={},ue[w[m]].text=N[m],ue[w[m]].align=j[m];var Q=c.call(this,ue,L);T=w.map(function(pe){return new o(d,h,L[pe],Q,ue[pe].text,void 0,ue[pe].align)}),this.setTableHeaderRow(T),this.printHeaderRow(1,!1)}var ee=x.reduce(function(pe,ye){return pe[ye.name]=ye.align,pe},{});for(m=0;m<u.length;m+=1){"rowStart"in p&&p.rowStart instanceof Function&&p.rowStart({row:m,data:u[m]},this);var ie=c.call(this,u[m],L);for(g=0;g<w.length;g+=1){var ne=u[m][w[g]];"cellStart"in p&&p.cellStart instanceof Function&&p.cellStart({row:m,col:g,data:ne},this),l.call(this,new o(d,h,L[w[g]],ie,ne,m+2,ee[w[g]]))}}return this.internal.__cell__.table_x=d,this.internal.__cell__.table_y=h,this};var c=function(d,h){var u=this.internal.__cell__.padding,x=this.internal.__cell__.table_font_size,p=this.internal.scaleFactor;return Object.keys(d).map(function(m){var y=d[m];return this.splitTextToSize(y.hasOwnProperty("text")?y.text:y,h[m]-u-u)},this).map(function(m){return this.getLineHeightFactor()*m.length*x/p+u+u},this).reduce(function(m,y){return Math.max(m,y)},0)};t.setTableHeaderRow=function(d){a.call(this),this.internal.__cell__.tableHeaderRow=d},t.printHeaderRow=function(d,h){if(a.call(this),!this.internal.__cell__.tableHeaderRow)throw new Error("Property tableHeaderRow does not exist.");var u;if(r=!0,typeof this.internal.__cell__.headerFunction=="function"){var x=this.internal.__cell__.headerFunction(this,this.internal.__cell__.pages);this.internal.__cell__.lastCell=new o(x[0],x[1],x[2],x[3],void 0,-1)}this.setFont(void 0,"bold");for(var p=[],m=0;m<this.internal.__cell__.tableHeaderRow.length;m+=1){u=this.internal.__cell__.tableHeaderRow[m].clone(),h&&(u.y=this.internal.__cell__.margins.top||0,p.push(u)),u.lineNumber=d;var y=this.getTextColor();this.setTextColor(this.internal.__cell__.headerTextColor),this.setFillColor(this.internal.__cell__.headerBackgroundColor),l.call(this,u),this.setTextColor(y)}p.length>0&&this.setTableHeaderRow(p),this.setFont(void 0,"normal"),r=!1}}(vt.API);var rm={italic:["italic","oblique","normal"],oblique:["oblique","italic","normal"],normal:["normal","oblique","italic"]},sm=["ultra-condensed","extra-condensed","condensed","semi-condensed","normal","semi-expanded","expanded","extra-expanded","ultra-expanded"],F0=tm(sm),am=[100,200,300,400,500,600,700,800,900],g2=tm(am);function L0(t){var s=t.family.replace(/"|'/g,"").toLowerCase(),r=function(o){return rm[o=o||"normal"]?o:"normal"}(t.style),a=function(o){if(!o)return 400;if(typeof o=="number")return o>=100&&o<=900&&o%100==0?o:400;if(/^\d00$/.test(o))return parseInt(o);switch(o){case"bold":return 700;case"normal":default:return 400}}(t.weight),n=function(o){return typeof F0[o=o||"normal"]=="number"?o:"normal"}(t.stretch);return{family:s,style:r,weight:a,stretch:n,src:t.src||[],ref:t.ref||{name:s,style:[n,r,a].join(" ")}}}function fu(t,s,r,a){var n;for(n=r;n>=0&&n<s.length;n+=a)if(t[s[n]])return t[s[n]];for(n=r;n>=0&&n<s.length;n-=a)if(t[s[n]])return t[s[n]]}var v2={"sans-serif":"helvetica",fixed:"courier",monospace:"courier",terminal:"courier",cursive:"times",fantasy:"times",serif:"times"},mu={caption:"times",icon:"times",menu:"times","message-box":"times","small-caption":"times","status-bar":"times"};function xu(t){return[t.stretch,t.style,t.weight,t.family].join(" ")}function y2(t,s,r){for(var a=(r=r||{}).defaultFontFamily||"times",n=Object.assign({},v2,r.genericFontFamilies||{}),o=null,l=null,c=0;c<s.length;++c)if(n[(o=L0(s[c])).family]&&(o.family=n[o.family]),t.hasOwnProperty(o.family)){l=t[o.family];break}if(!(l=l||t[a]))throw new Error("Could not find a font-family for the rule '"+xu(o)+"' and default family '"+a+"'.");if(l=function(d,h){if(h[d])return h[d];var u=F0[d],x=u<=F0.normal?-1:1,p=fu(h,sm,u,x);if(!p)throw new Error("Could not find a matching font-stretch value for "+d);return p}(o.stretch,l),l=function(d,h){if(h[d])return h[d];for(var u=rm[d],x=0;x<u.length;++x)if(h[u[x]])return h[u[x]];throw new Error("Could not find a matching font-style for "+d)}(o.style,l),!(l=function(d,h){if(h[d])return h[d];if(d===400&&h[500])return h[500];if(d===500&&h[400])return h[400];var u=g2[d],x=fu(h,am,u,d<400?-1:1);if(!x)throw new Error("Could not find a matching font-weight for value "+d);return x}(o.weight,l)))throw new Error("Failed to resolve a font for the rule '"+xu(o)+"'.");return l}function pu(t){return t.trimLeft()}function b2(t,s){for(var r=0;r<t.length;){if(t.charAt(r)===s)return[t.substring(0,r),t.substring(r+1)];r+=1}return null}function w2(t){var s=t.match(/^(-[a-z_]|[a-z_])[a-z0-9_-]*/i);return s===null?null:[s[0],t.substring(s[0].length)]}var xc,gu,vu,n0=["times"];(function(t){var s,r,a,n,o,l,c,d,h,u=function(_){return _=_||{},this.isStrokeTransparent=_.isStrokeTransparent||!1,this.strokeOpacity=_.strokeOpacity||1,this.strokeStyle=_.strokeStyle||"#000000",this.fillStyle=_.fillStyle||"#000000",this.isFillTransparent=_.isFillTransparent||!1,this.fillOpacity=_.fillOpacity||1,this.font=_.font||"10px sans-serif",this.textBaseline=_.textBaseline||"alphabetic",this.textAlign=_.textAlign||"left",this.lineWidth=_.lineWidth||1,this.lineJoin=_.lineJoin||"miter",this.lineCap=_.lineCap||"butt",this.path=_.path||[],this.transform=_.transform!==void 0?_.transform.clone():new d,this.globalCompositeOperation=_.globalCompositeOperation||"normal",this.globalAlpha=_.globalAlpha||1,this.clip_path=_.clip_path||[],this.currentPoint=_.currentPoint||new l,this.miterLimit=_.miterLimit||10,this.lastPoint=_.lastPoint||new l,this.lineDashOffset=_.lineDashOffset||0,this.lineDash=_.lineDash||[],this.margin=_.margin||[0,0,0,0],this.prevPageLastElemOffset=_.prevPageLastElemOffset||0,this.ignoreClearRect=typeof _.ignoreClearRect!="boolean"||_.ignoreClearRect,this};t.events.push(["initialized",function(){this.context2d=new x(this),s=this.internal.f2,r=this.internal.getCoordinateString,a=this.internal.getVerticalCoordinateString,n=this.internal.getHorizontalCoordinate,o=this.internal.getVerticalCoordinate,l=this.internal.Point,c=this.internal.Rectangle,d=this.internal.Matrix,h=new u}]);var x=function(_){Object.defineProperty(this,"canvas",{get:function(){return{parentNode:!1,style:!1}}});var R=_;Object.defineProperty(this,"pdf",{get:function(){return R}});var M=!1;Object.defineProperty(this,"pageWrapXEnabled",{get:function(){return M},set:function(Ee){M=!!Ee}});var B=!1;Object.defineProperty(this,"pageWrapYEnabled",{get:function(){return B},set:function(Ee){B=!!Ee}});var Y=0;Object.defineProperty(this,"posX",{get:function(){return Y},set:function(Ee){isNaN(Ee)||(Y=Ee)}});var fe=0;Object.defineProperty(this,"posY",{get:function(){return fe},set:function(Ee){isNaN(Ee)||(fe=Ee)}}),Object.defineProperty(this,"margin",{get:function(){return h.margin},set:function(Ee){var de;typeof Ee=="number"?de=[Ee,Ee,Ee,Ee]:((de=new Array(4))[0]=Ee[0],de[1]=Ee.length>=2?Ee[1]:de[0],de[2]=Ee.length>=3?Ee[2]:de[0],de[3]=Ee.length>=4?Ee[3]:de[1]),h.margin=de}});var ae=!1;Object.defineProperty(this,"autoPaging",{get:function(){return ae},set:function(Ee){ae=Ee}});var X=0;Object.defineProperty(this,"lastBreak",{get:function(){return X},set:function(Ee){X=Ee}});var me=[];Object.defineProperty(this,"pageBreaks",{get:function(){return me},set:function(Ee){me=Ee}}),Object.defineProperty(this,"ctx",{get:function(){return h},set:function(Ee){Ee instanceof u&&(h=Ee)}}),Object.defineProperty(this,"path",{get:function(){return h.path},set:function(Ee){h.path=Ee}});var Ne=[];Object.defineProperty(this,"ctxStack",{get:function(){return Ne},set:function(Ee){Ne=Ee}}),Object.defineProperty(this,"fillStyle",{get:function(){return this.ctx.fillStyle},set:function(Ee){var de;de=p(Ee),this.ctx.fillStyle=de.style,this.ctx.isFillTransparent=de.a===0,this.ctx.fillOpacity=de.a,this.pdf.setFillColor(de.r,de.g,de.b,{a:de.a}),this.pdf.setTextColor(de.r,de.g,de.b,{a:de.a})}}),Object.defineProperty(this,"strokeStyle",{get:function(){return this.ctx.strokeStyle},set:function(Ee){var de=p(Ee);this.ctx.strokeStyle=de.style,this.ctx.isStrokeTransparent=de.a===0,this.ctx.strokeOpacity=de.a,de.a===0?this.pdf.setDrawColor(255,255,255):(de.a,this.pdf.setDrawColor(de.r,de.g,de.b))}}),Object.defineProperty(this,"lineCap",{get:function(){return this.ctx.lineCap},set:function(Ee){["butt","round","square"].indexOf(Ee)!==-1&&(this.ctx.lineCap=Ee,this.pdf.setLineCap(Ee))}}),Object.defineProperty(this,"lineWidth",{get:function(){return this.ctx.lineWidth},set:function(Ee){isNaN(Ee)||(this.ctx.lineWidth=Ee,this.pdf.setLineWidth(Ee))}}),Object.defineProperty(this,"lineJoin",{get:function(){return this.ctx.lineJoin},set:function(Ee){["bevel","round","miter"].indexOf(Ee)!==-1&&(this.ctx.lineJoin=Ee,this.pdf.setLineJoin(Ee))}}),Object.defineProperty(this,"miterLimit",{get:function(){return this.ctx.miterLimit},set:function(Ee){isNaN(Ee)||(this.ctx.miterLimit=Ee,this.pdf.setMiterLimit(Ee))}}),Object.defineProperty(this,"textBaseline",{get:function(){return this.ctx.textBaseline},set:function(Ee){this.ctx.textBaseline=Ee}}),Object.defineProperty(this,"textAlign",{get:function(){return this.ctx.textAlign},set:function(Ee){["right","end","center","left","start"].indexOf(Ee)!==-1&&(this.ctx.textAlign=Ee)}});var De=null;function Ve(Ee,de){if(De===null){var We=function(tt){var $e=[];return Object.keys(tt).forEach(function(Je){tt[Je].forEach(function(rt){var at=null;switch(rt){case"bold":at={family:Je,weight:"bold"};break;case"italic":at={family:Je,style:"italic"};break;case"bolditalic":at={family:Je,weight:"bold",style:"italic"};break;case"":case"normal":at={family:Je}}at!==null&&(at.ref={name:Je,style:rt},$e.push(at))})}),$e}(Ee.getFontList());De=function(tt){for(var $e={},Je=0;Je<tt.length;++Je){var rt=L0(tt[Je]),at=rt.family,ft=rt.stretch,mt=rt.style,Nt=rt.weight;$e[at]=$e[at]||{},$e[at][ft]=$e[at][ft]||{},$e[at][ft][mt]=$e[at][ft][mt]||{},$e[at][ft][mt][Nt]=rt}return $e}(We.concat(de))}return De}var Ke=null;Object.defineProperty(this,"fontFaces",{get:function(){return Ke},set:function(Ee){De=null,Ke=Ee}}),Object.defineProperty(this,"font",{get:function(){return this.ctx.font},set:function(Ee){var de;if(this.ctx.font=Ee,(de=/^\s*(?=(?:(?:[-a-z]+\s*){0,2}(italic|oblique))?)(?=(?:(?:[-a-z]+\s*){0,2}(small-caps))?)(?=(?:(?:[-a-z]+\s*){0,2}(bold(?:er)?|lighter|[1-9]00))?)(?:(?:normal|\1|\2|\3)\s*){0,3}((?:xx?-)?(?:small|large)|medium|smaller|larger|[.\d]+(?:\%|in|[cem]m|ex|p[ctx]))(?:\s*\/\s*(normal|[.\d]+(?:\%|in|[cem]m|ex|p[ctx])))?\s*([-_,\"\'\sa-z]+?)\s*$/i.exec(Ee))!==null){var We=de[1],tt=(de[2],de[3]),$e=de[4],Je=(de[5],de[6]),rt=/^([.\d]+)((?:%|in|[cem]m|ex|p[ctx]))$/i.exec($e)[2];$e=Math.floor(rt==="px"?parseFloat($e)*this.pdf.internal.scaleFactor:rt==="em"?parseFloat($e)*this.pdf.getFontSize():parseFloat($e)*this.pdf.internal.scaleFactor),this.pdf.setFontSize($e);var at=function(yt){var Ft,it,Rr=[],Rt=yt.trim();if(Rt==="")return n0;if(Rt in mu)return[mu[Rt]];for(;Rt!=="";){switch(it=null,Ft=(Rt=pu(Rt)).charAt(0)){case'"':case"'":it=b2(Rt.substring(1),Ft);break;default:it=w2(Rt)}if(it===null||(Rr.push(it[0]),(Rt=pu(it[1]))!==""&&Rt.charAt(0)!==","))return n0;Rt=Rt.replace(/^,/,"")}return Rr}(Je);if(this.fontFaces){var ft=y2(Ve(this.pdf,this.fontFaces),at.map(function(yt){return{family:yt,stretch:"normal",weight:tt,style:We}}));this.pdf.setFont(ft.ref.name,ft.ref.style)}else{var mt="";(tt==="bold"||parseInt(tt,10)>=700||We==="bold")&&(mt="bold"),We==="italic"&&(mt+="italic"),mt.length===0&&(mt="normal");for(var Nt="",Tt={arial:"Helvetica",Arial:"Helvetica",verdana:"Helvetica",Verdana:"Helvetica",helvetica:"Helvetica",Helvetica:"Helvetica","sans-serif":"Helvetica",fixed:"Courier",monospace:"Courier",terminal:"Courier",cursive:"Times",fantasy:"Times",serif:"Times"},Ot=0;Ot<at.length;Ot++){if(this.pdf.internal.getFont(at[Ot],mt,{noFallback:!0,disableWarning:!0})!==void 0){Nt=at[Ot];break}if(mt==="bolditalic"&&this.pdf.internal.getFont(at[Ot],"bold",{noFallback:!0,disableWarning:!0})!==void 0)Nt=at[Ot],mt="bold";else if(this.pdf.internal.getFont(at[Ot],"normal",{noFallback:!0,disableWarning:!0})!==void 0){Nt=at[Ot],mt="normal";break}}if(Nt===""){for(var Dt=0;Dt<at.length;Dt++)if(Tt[at[Dt]]){Nt=Tt[at[Dt]];break}}Nt=Nt===""?"Times":Nt,this.pdf.setFont(Nt,mt)}}}}),Object.defineProperty(this,"globalCompositeOperation",{get:function(){return this.ctx.globalCompositeOperation},set:function(Ee){this.ctx.globalCompositeOperation=Ee}}),Object.defineProperty(this,"globalAlpha",{get:function(){return this.ctx.globalAlpha},set:function(Ee){this.ctx.globalAlpha=Ee}}),Object.defineProperty(this,"lineDashOffset",{get:function(){return this.ctx.lineDashOffset},set:function(Ee){this.ctx.lineDashOffset=Ee,ye.call(this)}}),Object.defineProperty(this,"lineDash",{get:function(){return this.ctx.lineDash},set:function(Ee){this.ctx.lineDash=Ee,ye.call(this)}}),Object.defineProperty(this,"ignoreClearRect",{get:function(){return this.ctx.ignoreClearRect},set:function(Ee){this.ctx.ignoreClearRect=!!Ee}})};x.prototype.setLineDash=function(_){this.lineDash=_},x.prototype.getLineDash=function(){return this.lineDash.length%2?this.lineDash.concat(this.lineDash):this.lineDash.slice()},x.prototype.fill=function(){k.call(this,"fill",!1)},x.prototype.stroke=function(){k.call(this,"stroke",!1)},x.prototype.beginPath=function(){this.path=[{type:"begin"}]},x.prototype.moveTo=function(_,R){if(isNaN(_)||isNaN(R))throw nr.error("jsPDF.context2d.moveTo: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.moveTo");var M=this.ctx.transform.applyToPoint(new l(_,R));this.path.push({type:"mt",x:M.x,y:M.y}),this.ctx.lastPoint=new l(_,R)},x.prototype.closePath=function(){var _=new l(0,0),R=0;for(R=this.path.length-1;R!==-1;R--)if(this.path[R].type==="begin"&&ir(this.path[R+1])==="object"&&typeof this.path[R+1].x=="number"){_=new l(this.path[R+1].x,this.path[R+1].y);break}this.path.push({type:"close"}),this.ctx.lastPoint=new l(_.x,_.y)},x.prototype.lineTo=function(_,R){if(isNaN(_)||isNaN(R))throw nr.error("jsPDF.context2d.lineTo: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.lineTo");var M=this.ctx.transform.applyToPoint(new l(_,R));this.path.push({type:"lt",x:M.x,y:M.y}),this.ctx.lastPoint=new l(M.x,M.y)},x.prototype.clip=function(){this.ctx.clip_path=JSON.parse(JSON.stringify(this.path)),k.call(this,null,!0)},x.prototype.quadraticCurveTo=function(_,R,M,B){if(isNaN(M)||isNaN(B)||isNaN(_)||isNaN(R))throw nr.error("jsPDF.context2d.quadraticCurveTo: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.quadraticCurveTo");var Y=this.ctx.transform.applyToPoint(new l(M,B)),fe=this.ctx.transform.applyToPoint(new l(_,R));this.path.push({type:"qct",x1:fe.x,y1:fe.y,x:Y.x,y:Y.y}),this.ctx.lastPoint=new l(Y.x,Y.y)},x.prototype.bezierCurveTo=function(_,R,M,B,Y,fe){if(isNaN(Y)||isNaN(fe)||isNaN(_)||isNaN(R)||isNaN(M)||isNaN(B))throw nr.error("jsPDF.context2d.bezierCurveTo: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.bezierCurveTo");var ae=this.ctx.transform.applyToPoint(new l(Y,fe)),X=this.ctx.transform.applyToPoint(new l(_,R)),me=this.ctx.transform.applyToPoint(new l(M,B));this.path.push({type:"bct",x1:X.x,y1:X.y,x2:me.x,y2:me.y,x:ae.x,y:ae.y}),this.ctx.lastPoint=new l(ae.x,ae.y)},x.prototype.arc=function(_,R,M,B,Y,fe){if(isNaN(_)||isNaN(R)||isNaN(M)||isNaN(B)||isNaN(Y))throw nr.error("jsPDF.context2d.arc: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.arc");if(fe=!!fe,!this.ctx.transform.isIdentity){var ae=this.ctx.transform.applyToPoint(new l(_,R));_=ae.x,R=ae.y;var X=this.ctx.transform.applyToPoint(new l(0,M)),me=this.ctx.transform.applyToPoint(new l(0,0));M=Math.sqrt(Math.pow(X.x-me.x,2)+Math.pow(X.y-me.y,2))}Math.abs(Y-B)>=2*Math.PI&&(B=0,Y=2*Math.PI),this.path.push({type:"arc",x:_,y:R,radius:M,startAngle:B,endAngle:Y,counterclockwise:fe})},x.prototype.arcTo=function(_,R,M,B,Y){throw new Error("arcTo not implemented.")},x.prototype.rect=function(_,R,M,B){if(isNaN(_)||isNaN(R)||isNaN(M)||isNaN(B))throw nr.error("jsPDF.context2d.rect: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.rect");this.moveTo(_,R),this.lineTo(_+M,R),this.lineTo(_+M,R+B),this.lineTo(_,R+B),this.lineTo(_,R),this.lineTo(_+M,R),this.lineTo(_,R)},x.prototype.fillRect=function(_,R,M,B){if(isNaN(_)||isNaN(R)||isNaN(M)||isNaN(B))throw nr.error("jsPDF.context2d.fillRect: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.fillRect");if(!m.call(this)){var Y={};this.lineCap!=="butt"&&(Y.lineCap=this.lineCap,this.lineCap="butt"),this.lineJoin!=="miter"&&(Y.lineJoin=this.lineJoin,this.lineJoin="miter"),this.beginPath(),this.rect(_,R,M,B),this.fill(),Y.hasOwnProperty("lineCap")&&(this.lineCap=Y.lineCap),Y.hasOwnProperty("lineJoin")&&(this.lineJoin=Y.lineJoin)}},x.prototype.strokeRect=function(_,R,M,B){if(isNaN(_)||isNaN(R)||isNaN(M)||isNaN(B))throw nr.error("jsPDF.context2d.strokeRect: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.strokeRect");y.call(this)||(this.beginPath(),this.rect(_,R,M,B),this.stroke())},x.prototype.clearRect=function(_,R,M,B){if(isNaN(_)||isNaN(R)||isNaN(M)||isNaN(B))throw nr.error("jsPDF.context2d.clearRect: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.clearRect");this.ignoreClearRect||(this.fillStyle="#ffffff",this.fillRect(_,R,M,B))},x.prototype.save=function(_){_=typeof _!="boolean"||_;for(var R=this.pdf.internal.getCurrentPageInfo().pageNumber,M=0;M<this.pdf.internal.getNumberOfPages();M++)this.pdf.setPage(M+1),this.pdf.internal.out("q");if(this.pdf.setPage(R),_){this.ctx.fontSize=this.pdf.internal.getFontSize();var B=new u(this.ctx);this.ctxStack.push(this.ctx),this.ctx=B}},x.prototype.restore=function(_){_=typeof _!="boolean"||_;for(var R=this.pdf.internal.getCurrentPageInfo().pageNumber,M=0;M<this.pdf.internal.getNumberOfPages();M++)this.pdf.setPage(M+1),this.pdf.internal.out("Q");this.pdf.setPage(R),_&&this.ctxStack.length!==0&&(this.ctx=this.ctxStack.pop(),this.fillStyle=this.ctx.fillStyle,this.strokeStyle=this.ctx.strokeStyle,this.font=this.ctx.font,this.lineCap=this.ctx.lineCap,this.lineWidth=this.ctx.lineWidth,this.lineJoin=this.ctx.lineJoin,this.lineDash=this.ctx.lineDash,this.lineDashOffset=this.ctx.lineDashOffset)},x.prototype.toDataURL=function(){throw new Error("toDataUrl not implemented.")};var p=function(_){var R,M,B,Y;if(_.isCanvasGradient===!0&&(_=_.getColor()),!_)return{r:0,g:0,b:0,a:0,style:_};if(/transparent|rgba\s*\(\s*(\d+)\s*,\s*(\d+)\s*,\s*(\d+)\s*,\s*0+\s*\)/.test(_))R=0,M=0,B=0,Y=0;else{var fe=/rgb\s*\(\s*(\d+)\s*,\s*(\d+)\s*,\s*(\d+)\s*\)/.exec(_);if(fe!==null)R=parseInt(fe[1]),M=parseInt(fe[2]),B=parseInt(fe[3]),Y=1;else if((fe=/rgba\s*\(\s*(\d+)\s*,\s*(\d+)\s*,\s*(\d+)\s*,\s*([\d.]+)\s*\)/.exec(_))!==null)R=parseInt(fe[1]),M=parseInt(fe[2]),B=parseInt(fe[3]),Y=parseFloat(fe[4]);else{if(Y=1,typeof _=="string"&&_.charAt(0)!=="#"){var ae=new Kf(_);_=ae.ok?ae.toHex():"#000000"}_.length===4?(R=_.substring(1,2),R+=R,M=_.substring(2,3),M+=M,B=_.substring(3,4),B+=B):(R=_.substring(1,3),M=_.substring(3,5),B=_.substring(5,7)),R=parseInt(R,16),M=parseInt(M,16),B=parseInt(B,16)}}return{r:R,g:M,b:B,a:Y,style:_}},m=function(){return this.ctx.isFillTransparent||this.globalAlpha==0},y=function(){return!!(this.ctx.isStrokeTransparent||this.globalAlpha==0)};x.prototype.fillText=function(_,R,M,B){if(isNaN(R)||isNaN(M)||typeof _!="string")throw nr.error("jsPDF.context2d.fillText: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.fillText");if(B=isNaN(B)?void 0:B,!m.call(this)){var Y=ie(this.ctx.transform.rotation),fe=this.ctx.transform.scaleX;P.call(this,{text:_,x:R,y:M,scale:fe,angle:Y,align:this.textAlign,maxWidth:B})}},x.prototype.strokeText=function(_,R,M,B){if(isNaN(R)||isNaN(M)||typeof _!="string")throw nr.error("jsPDF.context2d.strokeText: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.strokeText");if(!y.call(this)){B=isNaN(B)?void 0:B;var Y=ie(this.ctx.transform.rotation),fe=this.ctx.transform.scaleX;P.call(this,{text:_,x:R,y:M,scale:fe,renderingMode:"stroke",angle:Y,align:this.textAlign,maxWidth:B})}},x.prototype.measureText=function(_){if(typeof _!="string")throw nr.error("jsPDF.context2d.measureText: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.measureText");var R=this.pdf,M=this.pdf.internal.scaleFactor,B=R.internal.getFontSize(),Y=R.getStringUnitWidth(_)*B/R.internal.scaleFactor,fe=function(ae){var X=(ae=ae||{}).width||0;return Object.defineProperty(this,"width",{get:function(){return X}}),this};return new fe({width:Y*=Math.round(96*M/72*1e4)/1e4})},x.prototype.scale=function(_,R){if(isNaN(_)||isNaN(R))throw nr.error("jsPDF.context2d.scale: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.scale");var M=new d(_,0,0,R,0,0);this.ctx.transform=this.ctx.transform.multiply(M)},x.prototype.rotate=function(_){if(isNaN(_))throw nr.error("jsPDF.context2d.rotate: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.rotate");var R=new d(Math.cos(_),Math.sin(_),-Math.sin(_),Math.cos(_),0,0);this.ctx.transform=this.ctx.transform.multiply(R)},x.prototype.translate=function(_,R){if(isNaN(_)||isNaN(R))throw nr.error("jsPDF.context2d.translate: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.translate");var M=new d(1,0,0,1,_,R);this.ctx.transform=this.ctx.transform.multiply(M)},x.prototype.transform=function(_,R,M,B,Y,fe){if(isNaN(_)||isNaN(R)||isNaN(M)||isNaN(B)||isNaN(Y)||isNaN(fe))throw nr.error("jsPDF.context2d.transform: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.transform");var ae=new d(_,R,M,B,Y,fe);this.ctx.transform=this.ctx.transform.multiply(ae)},x.prototype.setTransform=function(_,R,M,B,Y,fe){_=isNaN(_)?1:_,R=isNaN(R)?0:R,M=isNaN(M)?0:M,B=isNaN(B)?1:B,Y=isNaN(Y)?0:Y,fe=isNaN(fe)?0:fe,this.ctx.transform=new d(_,R,M,B,Y,fe)};var g=function(){return this.margin[0]>0||this.margin[1]>0||this.margin[2]>0||this.margin[3]>0};x.prototype.drawImage=function(_,R,M,B,Y,fe,ae,X,me){var Ne=this.pdf.getImageProperties(_),De=1,Ve=1,Ke=1,Ee=1;B!==void 0&&X!==void 0&&(Ke=X/B,Ee=me/Y,De=Ne.width/B*X/B,Ve=Ne.height/Y*me/Y),fe===void 0&&(fe=R,ae=M,R=0,M=0),B!==void 0&&X===void 0&&(X=B,me=Y),B===void 0&&X===void 0&&(X=Ne.width,me=Ne.height);for(var de,We=this.ctx.transform.decompose(),tt=ie(We.rotate.shx),$e=new d,Je=($e=($e=($e=$e.multiply(We.translate)).multiply(We.skew)).multiply(We.scale)).applyToRectangle(new c(fe-R*Ke,ae-M*Ee,B*De,Y*Ve)),rt=b.call(this,Je),at=[],ft=0;ft<rt.length;ft+=1)at.indexOf(rt[ft])===-1&&at.push(rt[ft]);if(j(at),this.autoPaging)for(var mt=at[0],Nt=at[at.length-1],Tt=mt;Tt<Nt+1;Tt++){this.pdf.setPage(Tt);var Ot=this.pdf.internal.pageSize.width-this.margin[3]-this.margin[1],Dt=Tt===1?this.posY+this.margin[0]:this.margin[0],yt=this.pdf.internal.pageSize.height-this.posY-this.margin[0]-this.margin[2],Ft=this.pdf.internal.pageSize.height-this.margin[0]-this.margin[2],it=Tt===1?0:yt+(Tt-2)*Ft;if(this.ctx.clip_path.length!==0){var Rr=this.path;de=JSON.parse(JSON.stringify(this.ctx.clip_path)),this.path=N(de,this.posX+this.margin[3],-it+Dt+this.ctx.prevPageLastElemOffset),L.call(this,"fill",!0),this.path=Rr}var Rt=JSON.parse(JSON.stringify(Je));Rt=N([Rt],this.posX+this.margin[3],-it+Dt+this.ctx.prevPageLastElemOffset)[0];var ws=(Tt>mt||Tt<Nt)&&g.call(this);ws&&(this.pdf.saveGraphicsState(),this.pdf.rect(this.margin[3],this.margin[0],Ot,Ft,null).clip().discardPath()),this.pdf.addImage(_,"JPEG",Rt.x,Rt.y,Rt.w,Rt.h,null,null,tt),ws&&this.pdf.restoreGraphicsState()}else this.pdf.addImage(_,"JPEG",Je.x,Je.y,Je.w,Je.h,null,null,tt)};var b=function(_,R,M){var B=[];R=R||this.pdf.internal.pageSize.width,M=M||this.pdf.internal.pageSize.height-this.margin[0]-this.margin[2];var Y=this.posY+this.ctx.prevPageLastElemOffset;switch(_.type){default:case"mt":case"lt":B.push(Math.floor((_.y+Y)/M)+1);break;case"arc":B.push(Math.floor((_.y+Y-_.radius)/M)+1),B.push(Math.floor((_.y+Y+_.radius)/M)+1);break;case"qct":var fe=ne(this.ctx.lastPoint.x,this.ctx.lastPoint.y,_.x1,_.y1,_.x,_.y);B.push(Math.floor((fe.y+Y)/M)+1),B.push(Math.floor((fe.y+fe.h+Y)/M)+1);break;case"bct":var ae=pe(this.ctx.lastPoint.x,this.ctx.lastPoint.y,_.x1,_.y1,_.x2,_.y2,_.x,_.y);B.push(Math.floor((ae.y+Y)/M)+1),B.push(Math.floor((ae.y+ae.h+Y)/M)+1);break;case"rect":B.push(Math.floor((_.y+Y)/M)+1),B.push(Math.floor((_.y+_.h+Y)/M)+1)}for(var X=0;X<B.length;X+=1)for(;this.pdf.internal.getNumberOfPages()<B[X];)w.call(this);return B},w=function(){var _=this.fillStyle,R=this.strokeStyle,M=this.font,B=this.lineCap,Y=this.lineWidth,fe=this.lineJoin;this.pdf.addPage(),this.fillStyle=_,this.strokeStyle=R,this.font=M,this.lineCap=B,this.lineWidth=Y,this.lineJoin=fe},N=function(_,R,M){for(var B=0;B<_.length;B++)switch(_[B].type){case"bct":_[B].x2+=R,_[B].y2+=M;case"qct":_[B].x1+=R,_[B].y1+=M;case"mt":case"lt":case"arc":default:_[B].x+=R,_[B].y+=M}return _},j=function(_){return _.sort(function(R,M){return R-M})},k=function(_,R){for(var M,B,Y=this.fillStyle,fe=this.strokeStyle,ae=this.lineCap,X=this.lineWidth,me=Math.abs(X*this.ctx.transform.scaleX),Ne=this.lineJoin,De=JSON.parse(JSON.stringify(this.path)),Ve=JSON.parse(JSON.stringify(this.path)),Ke=[],Ee=0;Ee<Ve.length;Ee++)if(Ve[Ee].x!==void 0)for(var de=b.call(this,Ve[Ee]),We=0;We<de.length;We+=1)Ke.indexOf(de[We])===-1&&Ke.push(de[We]);for(var tt=0;tt<Ke.length;tt++)for(;this.pdf.internal.getNumberOfPages()<Ke[tt];)w.call(this);if(j(Ke),this.autoPaging)for(var $e=Ke[0],Je=Ke[Ke.length-1],rt=$e;rt<Je+1;rt++){this.pdf.setPage(rt),this.fillStyle=Y,this.strokeStyle=fe,this.lineCap=ae,this.lineWidth=me,this.lineJoin=Ne;var at=this.pdf.internal.pageSize.width-this.margin[3]-this.margin[1],ft=rt===1?this.posY+this.margin[0]:this.margin[0],mt=this.pdf.internal.pageSize.height-this.posY-this.margin[0]-this.margin[2],Nt=this.pdf.internal.pageSize.height-this.margin[0]-this.margin[2],Tt=rt===1?0:mt+(rt-2)*Nt;if(this.ctx.clip_path.length!==0){var Ot=this.path;M=JSON.parse(JSON.stringify(this.ctx.clip_path)),this.path=N(M,this.posX+this.margin[3],-Tt+ft+this.ctx.prevPageLastElemOffset),L.call(this,_,!0),this.path=Ot}if(B=JSON.parse(JSON.stringify(De)),this.path=N(B,this.posX+this.margin[3],-Tt+ft+this.ctx.prevPageLastElemOffset),R===!1||rt===0){var Dt=(rt>$e||rt<Je)&&g.call(this);Dt&&(this.pdf.saveGraphicsState(),this.pdf.rect(this.margin[3],this.margin[0],at,Nt,null).clip().discardPath()),L.call(this,_,R),Dt&&this.pdf.restoreGraphicsState()}this.lineWidth=X}else this.lineWidth=me,L.call(this,_,R),this.lineWidth=X;this.path=De},L=function(_,R){if((_!=="stroke"||R||!y.call(this))&&(_==="stroke"||R||!m.call(this))){for(var M,B,Y=[],fe=this.path,ae=0;ae<fe.length;ae++){var X=fe[ae];switch(X.type){case"begin":Y.push({begin:!0});break;case"close":Y.push({close:!0});break;case"mt":Y.push({start:X,deltas:[],abs:[]});break;case"lt":var me=Y.length;if(fe[ae-1]&&!isNaN(fe[ae-1].x)&&(M=[X.x-fe[ae-1].x,X.y-fe[ae-1].y],me>0)){for(;me>=0;me--)if(Y[me-1].close!==!0&&Y[me-1].begin!==!0){Y[me-1].deltas.push(M),Y[me-1].abs.push(X);break}}break;case"bct":M=[X.x1-fe[ae-1].x,X.y1-fe[ae-1].y,X.x2-fe[ae-1].x,X.y2-fe[ae-1].y,X.x-fe[ae-1].x,X.y-fe[ae-1].y],Y[Y.length-1].deltas.push(M);break;case"qct":var Ne=fe[ae-1].x+2/3*(X.x1-fe[ae-1].x),De=fe[ae-1].y+2/3*(X.y1-fe[ae-1].y),Ve=X.x+2/3*(X.x1-X.x),Ke=X.y+2/3*(X.y1-X.y),Ee=X.x,de=X.y;M=[Ne-fe[ae-1].x,De-fe[ae-1].y,Ve-fe[ae-1].x,Ke-fe[ae-1].y,Ee-fe[ae-1].x,de-fe[ae-1].y],Y[Y.length-1].deltas.push(M);break;case"arc":Y.push({deltas:[],abs:[],arc:!0}),Array.isArray(Y[Y.length-1].abs)&&Y[Y.length-1].abs.push(X)}}B=R?null:_==="stroke"?"stroke":"fill";for(var We=!1,tt=0;tt<Y.length;tt++)if(Y[tt].arc)for(var $e=Y[tt].abs,Je=0;Je<$e.length;Je++){var rt=$e[Je];rt.type==="arc"?C.call(this,rt.x,rt.y,rt.radius,rt.startAngle,rt.endAngle,rt.counterclockwise,void 0,R,!We):W.call(this,rt.x,rt.y),We=!0}else if(Y[tt].close===!0)this.pdf.internal.out("h"),We=!1;else if(Y[tt].begin!==!0){var at=Y[tt].start.x,ft=Y[tt].start.y;z.call(this,Y[tt].deltas,at,ft),We=!0}B&&I.call(this,B),R&&D.call(this)}},F=function(_){var R=this.pdf.internal.getFontSize()/this.pdf.internal.scaleFactor,M=R*(this.pdf.internal.getLineHeightFactor()-1);switch(this.ctx.textBaseline){case"bottom":return _-M;case"top":return _+R-M;case"hanging":return _+R-2*M;case"middle":return _+R/2-M;case"ideographic":return _;case"alphabetic":default:return _}},T=function(_){return _+this.pdf.internal.getFontSize()/this.pdf.internal.scaleFactor*(this.pdf.internal.getLineHeightFactor()-1)};x.prototype.createLinearGradient=function(){var _=function(){};return _.colorStops=[],_.addColorStop=function(R,M){this.colorStops.push([R,M])},_.getColor=function(){return this.colorStops.length===0?"#000000":this.colorStops[0][1]},_.isCanvasGradient=!0,_},x.prototype.createPattern=function(){return this.createLinearGradient()},x.prototype.createRadialGradient=function(){return this.createLinearGradient()};var C=function(_,R,M,B,Y,fe,ae,X,me){for(var Ne=Q.call(this,M,B,Y,fe),De=0;De<Ne.length;De++){var Ve=Ne[De];De===0&&(me?E.call(this,Ve.x1+_,Ve.y1+R):W.call(this,Ve.x1+_,Ve.y1+R)),ue.call(this,_,R,Ve.x2,Ve.y2,Ve.x3,Ve.y3,Ve.x4,Ve.y4)}X?D.call(this):I.call(this,ae)},I=function(_){switch(_){case"stroke":this.pdf.internal.out("S");break;case"fill":this.pdf.internal.out("f")}},D=function(){this.pdf.clip(),this.pdf.discardPath()},E=function(_,R){this.pdf.internal.out(r(_)+" "+a(R)+" m")},P=function(_){var R;switch(_.align){case"right":case"end":R="right";break;case"center":R="center";break;case"left":case"start":default:R="left"}var M=this.pdf.getTextDimensions(_.text),B=F.call(this,_.y),Y=T.call(this,B)-M.h,fe=this.ctx.transform.applyToPoint(new l(_.x,B)),ae=this.ctx.transform.decompose(),X=new d;X=(X=(X=X.multiply(ae.translate)).multiply(ae.skew)).multiply(ae.scale);for(var me,Ne,De,Ve=this.ctx.transform.applyToRectangle(new c(_.x,B,M.w,M.h)),Ke=X.applyToRectangle(new c(_.x,Y,M.w,M.h)),Ee=b.call(this,Ke),de=[],We=0;We<Ee.length;We+=1)de.indexOf(Ee[We])===-1&&de.push(Ee[We]);if(j(de),this.autoPaging)for(var tt=de[0],$e=de[de.length-1],Je=tt;Je<$e+1;Je++){this.pdf.setPage(Je);var rt=Je===1?this.posY+this.margin[0]:this.margin[0],at=this.pdf.internal.pageSize.height-this.posY-this.margin[0]-this.margin[2],ft=this.pdf.internal.pageSize.height-this.margin[2],mt=ft-this.margin[0],Nt=this.pdf.internal.pageSize.width-this.margin[1],Tt=Nt-this.margin[3],Ot=Je===1?0:at+(Je-2)*mt;if(this.ctx.clip_path.length!==0){var Dt=this.path;me=JSON.parse(JSON.stringify(this.ctx.clip_path)),this.path=N(me,this.posX+this.margin[3],-1*Ot+rt),L.call(this,"fill",!0),this.path=Dt}var yt=N([JSON.parse(JSON.stringify(Ke))],this.posX+this.margin[3],-Ot+rt+this.ctx.prevPageLastElemOffset)[0];_.scale>=.01&&(Ne=this.pdf.internal.getFontSize(),this.pdf.setFontSize(Ne*_.scale),De=this.lineWidth,this.lineWidth=De*_.scale);var Ft=this.autoPaging!=="text";if(Ft||yt.y+yt.h<=ft){if(Ft||yt.y>=rt&&yt.x<=Nt){var it=Ft?_.text:this.pdf.splitTextToSize(_.text,_.maxWidth||Nt-yt.x)[0],Rr=N([JSON.parse(JSON.stringify(Ve))],this.posX+this.margin[3],-Ot+rt+this.ctx.prevPageLastElemOffset)[0],Rt=Ft&&(Je>tt||Je<$e)&&g.call(this);Rt&&(this.pdf.saveGraphicsState(),this.pdf.rect(this.margin[3],this.margin[0],Tt,mt,null).clip().discardPath()),this.pdf.text(it,Rr.x,Rr.y,{angle:_.angle,align:R,renderingMode:_.renderingMode}),Rt&&this.pdf.restoreGraphicsState()}}else yt.y<ft&&(this.ctx.prevPageLastElemOffset+=ft-yt.y);_.scale>=.01&&(this.pdf.setFontSize(Ne),this.lineWidth=De)}else _.scale>=.01&&(Ne=this.pdf.internal.getFontSize(),this.pdf.setFontSize(Ne*_.scale),De=this.lineWidth,this.lineWidth=De*_.scale),this.pdf.text(_.text,fe.x+this.posX,fe.y+this.posY,{angle:_.angle,align:R,renderingMode:_.renderingMode,maxWidth:_.maxWidth}),_.scale>=.01&&(this.pdf.setFontSize(Ne),this.lineWidth=De)},W=function(_,R,M,B){M=M||0,B=B||0,this.pdf.internal.out(r(_+M)+" "+a(R+B)+" l")},z=function(_,R,M){return this.pdf.lines(_,R,M,null,null)},ue=function(_,R,M,B,Y,fe,ae,X){this.pdf.internal.out([s(n(M+_)),s(o(B+R)),s(n(Y+_)),s(o(fe+R)),s(n(ae+_)),s(o(X+R)),"c"].join(" "))},Q=function(_,R,M,B){for(var Y=2*Math.PI,fe=Math.PI/2;R>M;)R-=Y;var ae=Math.abs(M-R);ae<Y&&B&&(ae=Y-ae);for(var X=[],me=B?-1:1,Ne=R;ae>1e-5;){var De=Ne+me*Math.min(ae,fe);X.push(ee.call(this,_,Ne,De)),ae-=Math.abs(De-Ne),Ne=De}return X},ee=function(_,R,M){var B=(M-R)/2,Y=_*Math.cos(B),fe=_*Math.sin(B),ae=Y,X=-fe,me=ae*ae+X*X,Ne=me+ae*Y+X*fe,De=4/3*(Math.sqrt(2*me*Ne)-Ne)/(ae*fe-X*Y),Ve=ae-De*X,Ke=X+De*ae,Ee=Ve,de=-Ke,We=B+R,tt=Math.cos(We),$e=Math.sin(We);return{x1:_*Math.cos(R),y1:_*Math.sin(R),x2:Ve*tt-Ke*$e,y2:Ve*$e+Ke*tt,x3:Ee*tt-de*$e,y3:Ee*$e+de*tt,x4:_*Math.cos(M),y4:_*Math.sin(M)}},ie=function(_){return 180*_/Math.PI},ne=function(_,R,M,B,Y,fe){var ae=_+.5*(M-_),X=R+.5*(B-R),me=Y+.5*(M-Y),Ne=fe+.5*(B-fe),De=Math.min(_,Y,ae,me),Ve=Math.max(_,Y,ae,me),Ke=Math.min(R,fe,X,Ne),Ee=Math.max(R,fe,X,Ne);return new c(De,Ke,Ve-De,Ee-Ke)},pe=function(_,R,M,B,Y,fe,ae,X){var me,Ne,De,Ve,Ke,Ee,de,We,tt,$e,Je,rt,at,ft,mt=M-_,Nt=B-R,Tt=Y-M,Ot=fe-B,Dt=ae-Y,yt=X-fe;for(Ne=0;Ne<41;Ne++)tt=(de=(De=_+(me=Ne/40)*mt)+me*((Ke=M+me*Tt)-De))+me*(Ke+me*(Y+me*Dt-Ke)-de),$e=(We=(Ve=R+me*Nt)+me*((Ee=B+me*Ot)-Ve))+me*(Ee+me*(fe+me*yt-Ee)-We),Ne==0?(Je=tt,rt=$e,at=tt,ft=$e):(Je=Math.min(Je,tt),rt=Math.min(rt,$e),at=Math.max(at,tt),ft=Math.max(ft,$e));return new c(Math.round(Je),Math.round(rt),Math.round(at-Je),Math.round(ft-rt))},ye=function(){if(this.prevLineDash||this.ctx.lineDash.length||this.ctx.lineDashOffset){var _,R,M=(_=this.ctx.lineDash,R=this.ctx.lineDashOffset,JSON.stringify({lineDash:_,lineDashOffset:R}));this.prevLineDash!==M&&(this.pdf.setLineDash(this.ctx.lineDash,this.ctx.lineDashOffset),this.prevLineDash=M)}}})(vt.API),function(t){var s=function(o){var l,c,d,h,u,x,p,m,y,g;for(c=[],d=0,h=(o+=l="\0\0\0\0".slice(o.length%4||4)).length;h>d;d+=4)(u=(o.charCodeAt(d)<<24)+(o.charCodeAt(d+1)<<16)+(o.charCodeAt(d+2)<<8)+o.charCodeAt(d+3))!==0?(x=(u=((u=((u=((u=(u-(g=u%85))/85)-(y=u%85))/85)-(m=u%85))/85)-(p=u%85))/85)%85,c.push(x+33,p+33,m+33,y+33,g+33)):c.push(122);return function(b,w){for(var N=w;N>0;N--)b.pop()}(c,l.length),String.fromCharCode.apply(String,c)+"~>"},r=function(o){var l,c,d,h,u,x=String,p="length",m=255,y="charCodeAt",g="slice",b="replace";for(o[g](-2),o=o[g](0,-2)[b](/\s/g,"")[b]("z","!!!!!"),d=[],h=0,u=(o+=l="uuuuu"[g](o[p]%5||5))[p];u>h;h+=5)c=52200625*(o[y](h)-33)+614125*(o[y](h+1)-33)+7225*(o[y](h+2)-33)+85*(o[y](h+3)-33)+(o[y](h+4)-33),d.push(m&c>>24,m&c>>16,m&c>>8,m&c);return function(w,N){for(var j=N;j>0;j--)w.pop()}(d,l[p]),x.fromCharCode.apply(x,d)},a=function(o){var l=new RegExp(/^([0-9A-Fa-f]{2})+$/);if((o=o.replace(/\s/g,"")).indexOf(">")!==-1&&(o=o.substr(0,o.indexOf(">"))),o.length%2&&(o+="0"),l.test(o)===!1)return"";for(var c="",d=0;d<o.length;d+=2)c+=String.fromCharCode("0x"+(o[d]+o[d+1]));return c},n=function(o){for(var l=new Uint8Array(o.length),c=o.length;c--;)l[c]=o.charCodeAt(c);return o=(l=_0(l)).reduce(function(d,h){return d+String.fromCharCode(h)},"")};t.processDataByFilters=function(o,l){var c=0,d=o||"",h=[];for(typeof(l=l||[])=="string"&&(l=[l]),c=0;c<l.length;c+=1)switch(l[c]){case"ASCII85Decode":case"/ASCII85Decode":d=r(d),h.push("/ASCII85Encode");break;case"ASCII85Encode":case"/ASCII85Encode":d=s(d),h.push("/ASCII85Decode");break;case"ASCIIHexDecode":case"/ASCIIHexDecode":d=a(d),h.push("/ASCIIHexEncode");break;case"ASCIIHexEncode":case"/ASCIIHexEncode":d=d.split("").map(function(u){return("0"+u.charCodeAt().toString(16)).slice(-2)}).join("")+">",h.push("/ASCIIHexDecode");break;case"FlateEncode":case"/FlateEncode":d=n(d),h.push("/FlateDecode");break;default:throw new Error('The filter: "'+l[c]+'" is not implemented')}return{data:d,reverseChain:h.reverse().join(" ")}}}(vt.API),function(t){t.loadFile=function(s,r,a){return function(n,o,l){o=o!==!1,l=typeof l=="function"?l:function(){};var c=void 0;try{c=function(d,h,u){var x=new XMLHttpRequest,p=0,m=function(y){var g=y.length,b=[],w=String.fromCharCode;for(p=0;p<g;p+=1)b.push(w(255&y.charCodeAt(p)));return b.join("")};if(x.open("GET",d,!h),x.overrideMimeType("text/plain; charset=x-user-defined"),h===!1&&(x.onload=function(){x.status===200?u(m(this.responseText)):u(void 0)}),x.send(null),h&&x.status===200)return m(x.responseText)}(n,o,l)}catch{}return c}(s,r,a)},t.loadImageFile=t.loadFile}(vt.API),function(t){function s(){return(bt.html2canvas?Promise.resolve(bt.html2canvas):N0(()=>import("./html2canvas.esm-CBrSDip1.js"),[])).catch(function(l){return Promise.reject(new Error("Could not load html2canvas: "+l))}).then(function(l){return l.default?l.default:l})}function r(){return(bt.DOMPurify?Promise.resolve(bt.DOMPurify):N0(()=>import("./purify.es-C_uT9hQ1.js"),[])).catch(function(l){return Promise.reject(new Error("Could not load dompurify: "+l))}).then(function(l){return l.default?l.default:l})}var a=function(l){var c=ir(l);return c==="undefined"?"undefined":c==="string"||l instanceof String?"string":c==="number"||l instanceof Number?"number":c==="function"||l instanceof Function?"function":l&&l.constructor===Array?"array":l&&l.nodeType===1?"element":c==="object"?"object":"unknown"},n=function(l,c){var d=document.createElement(l);for(var h in c.className&&(d.className=c.className),c.innerHTML&&c.dompurify&&(d.innerHTML=c.dompurify.sanitize(c.innerHTML)),c.style)d.style[h]=c.style[h];return d},o=function l(c){var d=Object.assign(l.convert(Promise.resolve()),JSON.parse(JSON.stringify(l.template))),h=l.convert(Promise.resolve(),d);return h=(h=h.setProgress(1,l,1,[l])).set(c)};(o.prototype=Object.create(Promise.prototype)).constructor=o,o.convert=function(l,c){return l.__proto__=c||o.prototype,l},o.template={prop:{src:null,container:null,overlay:null,canvas:null,img:null,pdf:null,pageSize:null,callback:function(){}},progress:{val:0,state:null,n:0,stack:[]},opt:{filename:"file.pdf",margin:[0,0,0,0],enableLinks:!0,x:0,y:0,html2canvas:{},jsPDF:{},backgroundColor:"transparent"}},o.prototype.from=function(l,c){return this.then(function(){switch(c=c||function(d){switch(a(d)){case"string":return"string";case"element":return d.nodeName.toLowerCase()==="canvas"?"canvas":"element";default:return"unknown"}}(l)){case"string":return this.then(r).then(function(d){return this.set({src:n("div",{innerHTML:l,dompurify:d})})});case"element":return this.set({src:l});case"canvas":return this.set({canvas:l});case"img":return this.set({img:l});default:return this.error("Unknown source type.")}})},o.prototype.to=function(l){switch(l){case"container":return this.toContainer();case"canvas":return this.toCanvas();case"img":return this.toImg();case"pdf":return this.toPdf();default:return this.error("Invalid target.")}},o.prototype.toContainer=function(){return this.thenList([function(){return this.prop.src||this.error("Cannot duplicate - no source HTML.")},function(){return this.prop.pageSize||this.setPageSize()}]).then(function(){var l={position:"relative",display:"inline-block",width:(typeof this.opt.width!="number"||isNaN(this.opt.width)||typeof this.opt.windowWidth!="number"||isNaN(this.opt.windowWidth)?Math.max(this.prop.src.clientWidth,this.prop.src.scrollWidth,this.prop.src.offsetWidth):this.opt.windowWidth)+"px",left:0,right:0,top:0,margin:"auto",backgroundColor:this.opt.backgroundColor},c=function d(h,u){for(var x=h.nodeType===3?document.createTextNode(h.nodeValue):h.cloneNode(!1),p=h.firstChild;p;p=p.nextSibling)u!==!0&&p.nodeType===1&&p.nodeName==="SCRIPT"||x.appendChild(d(p,u));return h.nodeType===1&&(h.nodeName==="CANVAS"?(x.width=h.width,x.height=h.height,x.getContext("2d").drawImage(h,0,0)):h.nodeName!=="TEXTAREA"&&h.nodeName!=="SELECT"||(x.value=h.value),x.addEventListener("load",function(){x.scrollTop=h.scrollTop,x.scrollLeft=h.scrollLeft},!0)),x}(this.prop.src,this.opt.html2canvas.javascriptEnabled);c.tagName==="BODY"&&(l.height=Math.max(document.body.scrollHeight,document.body.offsetHeight,document.documentElement.clientHeight,document.documentElement.scrollHeight,document.documentElement.offsetHeight)+"px"),this.prop.overlay=n("div",{className:"html2pdf__overlay",style:{position:"fixed",overflow:"hidden",zIndex:1e3,left:"-100000px",right:0,bottom:0,top:0}}),this.prop.container=n("div",{className:"html2pdf__container",style:l}),this.prop.container.appendChild(c),this.prop.container.firstChild.appendChild(n("div",{style:{clear:"both",border:"0 none transparent",margin:0,padding:0,height:0}})),this.prop.container.style.float="none",this.prop.overlay.appendChild(this.prop.container),document.body.appendChild(this.prop.overlay),this.prop.container.firstChild.style.position="relative",this.prop.container.height=Math.max(this.prop.container.firstChild.clientHeight,this.prop.container.firstChild.scrollHeight,this.prop.container.firstChild.offsetHeight)+"px"})},o.prototype.toCanvas=function(){var l=[function(){return document.body.contains(this.prop.container)||this.toContainer()}];return this.thenList(l).then(s).then(function(c){var d=Object.assign({},this.opt.html2canvas);return delete d.onrendered,c(this.prop.container,d)}).then(function(c){(this.opt.html2canvas.onrendered||function(){})(c),this.prop.canvas=c,document.body.removeChild(this.prop.overlay)})},o.prototype.toContext2d=function(){var l=[function(){return document.body.contains(this.prop.container)||this.toContainer()}];return this.thenList(l).then(s).then(function(c){var d=this.opt.jsPDF,h=this.opt.fontFaces,u=typeof this.opt.width!="number"||isNaN(this.opt.width)||typeof this.opt.windowWidth!="number"||isNaN(this.opt.windowWidth)?1:this.opt.width/this.opt.windowWidth,x=Object.assign({async:!0,allowTaint:!0,scale:u,scrollX:this.opt.scrollX||0,scrollY:this.opt.scrollY||0,backgroundColor:"#ffffff",imageTimeout:15e3,logging:!0,proxy:null,removeContainer:!0,foreignObjectRendering:!1,useCORS:!1},this.opt.html2canvas);if(delete x.onrendered,d.context2d.autoPaging=this.opt.autoPaging===void 0||this.opt.autoPaging,d.context2d.posX=this.opt.x,d.context2d.posY=this.opt.y,d.context2d.margin=this.opt.margin,d.context2d.fontFaces=h,h)for(var p=0;p<h.length;++p){var m=h[p],y=m.src.find(function(g){return g.format==="truetype"});y&&d.addFont(y.url,m.ref.name,m.ref.style)}return x.windowHeight=x.windowHeight||0,x.windowHeight=x.windowHeight==0?Math.max(this.prop.container.clientHeight,this.prop.container.scrollHeight,this.prop.container.offsetHeight):x.windowHeight,d.context2d.save(!0),c(this.prop.container,x)}).then(function(c){this.opt.jsPDF.context2d.restore(!0),(this.opt.html2canvas.onrendered||function(){})(c),this.prop.canvas=c,document.body.removeChild(this.prop.overlay)})},o.prototype.toImg=function(){return this.thenList([function(){return this.prop.canvas||this.toCanvas()}]).then(function(){var l=this.prop.canvas.toDataURL("image/"+this.opt.image.type,this.opt.image.quality);this.prop.img=document.createElement("img"),this.prop.img.src=l})},o.prototype.toPdf=function(){return this.thenList([function(){return this.toContext2d()}]).then(function(){this.prop.pdf=this.prop.pdf||this.opt.jsPDF})},o.prototype.output=function(l,c,d){return(d=d||"pdf").toLowerCase()==="img"||d.toLowerCase()==="image"?this.outputImg(l,c):this.outputPdf(l,c)},o.prototype.outputPdf=function(l,c){return this.thenList([function(){return this.prop.pdf||this.toPdf()}]).then(function(){return this.prop.pdf.output(l,c)})},o.prototype.outputImg=function(l){return this.thenList([function(){return this.prop.img||this.toImg()}]).then(function(){switch(l){case void 0:case"img":return this.prop.img;case"datauristring":case"dataurlstring":return this.prop.img.src;case"datauri":case"dataurl":return document.location.href=this.prop.img.src;default:throw'Image output type "'+l+'" is not supported.'}})},o.prototype.save=function(l){return this.thenList([function(){return this.prop.pdf||this.toPdf()}]).set(l?{filename:l}:null).then(function(){this.prop.pdf.save(this.opt.filename)})},o.prototype.doCallback=function(){return this.thenList([function(){return this.prop.pdf||this.toPdf()}]).then(function(){this.prop.callback(this.prop.pdf)})},o.prototype.set=function(l){if(a(l)!=="object")return this;var c=Object.keys(l||{}).map(function(d){if(d in o.template.prop)return function(){this.prop[d]=l[d]};switch(d){case"margin":return this.setMargin.bind(this,l.margin);case"jsPDF":return function(){return this.opt.jsPDF=l.jsPDF,this.setPageSize()};case"pageSize":return this.setPageSize.bind(this,l.pageSize);default:return function(){this.opt[d]=l[d]}}},this);return this.then(function(){return this.thenList(c)})},o.prototype.get=function(l,c){return this.then(function(){var d=l in o.template.prop?this.prop[l]:this.opt[l];return c?c(d):d})},o.prototype.setMargin=function(l){return this.then(function(){switch(a(l)){case"number":l=[l,l,l,l];case"array":if(l.length===2&&(l=[l[0],l[1],l[0],l[1]]),l.length===4)break;default:return this.error("Invalid margin array.")}this.opt.margin=l}).then(this.setPageSize)},o.prototype.setPageSize=function(l){function c(d,h){return Math.floor(d*h/72*96)}return this.then(function(){(l=l||vt.getPageSize(this.opt.jsPDF)).hasOwnProperty("inner")||(l.inner={width:l.width-this.opt.margin[1]-this.opt.margin[3],height:l.height-this.opt.margin[0]-this.opt.margin[2]},l.inner.px={width:c(l.inner.width,l.k),height:c(l.inner.height,l.k)},l.inner.ratio=l.inner.height/l.inner.width),this.prop.pageSize=l})},o.prototype.setProgress=function(l,c,d,h){return l!=null&&(this.progress.val=l),c!=null&&(this.progress.state=c),d!=null&&(this.progress.n=d),h!=null&&(this.progress.stack=h),this.progress.ratio=this.progress.val/this.progress.state,this},o.prototype.updateProgress=function(l,c,d,h){return this.setProgress(l?this.progress.val+l:null,c||null,d?this.progress.n+d:null,h?this.progress.stack.concat(h):null)},o.prototype.then=function(l,c){var d=this;return this.thenCore(l,c,function(h,u){return d.updateProgress(null,null,1,[h]),Promise.prototype.then.call(this,function(x){return d.updateProgress(null,h),x}).then(h,u).then(function(x){return d.updateProgress(1),x})})},o.prototype.thenCore=function(l,c,d){d=d||Promise.prototype.then,l&&(l=l.bind(this)),c&&(c=c.bind(this));var h=Promise.toString().indexOf("[native code]")!==-1&&Promise.name==="Promise"?this:o.convert(Object.assign({},this),Promise.prototype),u=d.call(h,l,c);return o.convert(u,this.__proto__)},o.prototype.thenExternal=function(l,c){return Promise.prototype.then.call(this,l,c)},o.prototype.thenList=function(l){var c=this;return l.forEach(function(d){c=c.thenCore(d)}),c},o.prototype.catch=function(l){l&&(l=l.bind(this));var c=Promise.prototype.catch.call(this,l);return o.convert(c,this)},o.prototype.catchExternal=function(l){return Promise.prototype.catch.call(this,l)},o.prototype.error=function(l){return this.then(function(){throw new Error(l)})},o.prototype.using=o.prototype.set,o.prototype.saveAs=o.prototype.save,o.prototype.export=o.prototype.output,o.prototype.run=o.prototype.then,vt.getPageSize=function(l,c,d){if(ir(l)==="object"){var h=l;l=h.orientation,c=h.unit||c,d=h.format||d}c=c||"mm",d=d||"a4",l=(""+(l||"P")).toLowerCase();var u,x=(""+d).toLowerCase(),p={a0:[2383.94,3370.39],a1:[1683.78,2383.94],a2:[1190.55,1683.78],a3:[841.89,1190.55],a4:[595.28,841.89],a5:[419.53,595.28],a6:[297.64,419.53],a7:[209.76,297.64],a8:[147.4,209.76],a9:[104.88,147.4],a10:[73.7,104.88],b0:[2834.65,4008.19],b1:[2004.09,2834.65],b2:[1417.32,2004.09],b3:[1000.63,1417.32],b4:[708.66,1000.63],b5:[498.9,708.66],b6:[354.33,498.9],b7:[249.45,354.33],b8:[175.75,249.45],b9:[124.72,175.75],b10:[87.87,124.72],c0:[2599.37,3676.54],c1:[1836.85,2599.37],c2:[1298.27,1836.85],c3:[918.43,1298.27],c4:[649.13,918.43],c5:[459.21,649.13],c6:[323.15,459.21],c7:[229.61,323.15],c8:[161.57,229.61],c9:[113.39,161.57],c10:[79.37,113.39],dl:[311.81,623.62],letter:[612,792],"government-letter":[576,756],legal:[612,1008],"junior-legal":[576,360],ledger:[1224,792],tabloid:[792,1224],"credit-card":[153,243]};switch(c){case"pt":u=1;break;case"mm":u=72/25.4;break;case"cm":u=72/2.54;break;case"in":u=72;break;case"px":u=.75;break;case"pc":case"em":u=12;break;case"ex":u=6;break;default:throw"Invalid unit: "+c}var m,y=0,g=0;if(p.hasOwnProperty(x))y=p[x][1]/u,g=p[x][0]/u;else try{y=d[1],g=d[0]}catch{throw new Error("Invalid format: "+d)}if(l==="p"||l==="portrait")l="p",g>y&&(m=g,g=y,y=m);else{if(l!=="l"&&l!=="landscape")throw"Invalid orientation: "+l;l="l",y>g&&(m=g,g=y,y=m)}return{width:g,height:y,unit:c,k:u,orientation:l}},t.html=function(l,c){(c=c||{}).callback=c.callback||function(){},c.html2canvas=c.html2canvas||{},c.html2canvas.canvas=c.html2canvas.canvas||this.canvas,c.jsPDF=c.jsPDF||this,c.fontFaces=c.fontFaces?c.fontFaces.map(L0):null;var d=new o(c);return c.worker?d:d.from(l).doCallback()}}(vt.API),vt.API.addJS=function(t){return vu=t,this.internal.events.subscribe("postPutResources",function(){xc=this.internal.newObject(),this.internal.out("<<"),this.internal.out("/Names [(EmbeddedJS) "+(xc+1)+" 0 R]"),this.internal.out(">>"),this.internal.out("endobj"),gu=this.internal.newObject(),this.internal.out("<<"),this.internal.out("/S /JavaScript"),this.internal.out("/JS ("+vu+")"),this.internal.out(">>"),this.internal.out("endobj")}),this.internal.events.subscribe("putCatalog",function(){xc!==void 0&&gu!==void 0&&this.internal.out("/Names <</JavaScript "+xc+" 0 R>>")}),this},function(t){var s;t.events.push(["postPutResources",function(){var r=this,a=/^(\d+) 0 obj$/;if(this.outline.root.children.length>0)for(var n=r.outline.render().split(/\r\n/),o=0;o<n.length;o++){var l=n[o],c=a.exec(l);if(c!=null){var d=c[1];r.internal.newObjectDeferredBegin(d,!1)}r.internal.write(l)}if(this.outline.createNamedDestinations){var h=this.internal.pages.length,u=[];for(o=0;o<h;o++){var x=r.internal.newObject();u.push(x);var p=r.internal.getPageInfo(o+1);r.internal.write("<< /D["+p.objId+" 0 R /XYZ null null null]>> endobj")}var m=r.internal.newObject();for(r.internal.write("<< /Names [ "),o=0;o<u.length;o++)r.internal.write("(page_"+(o+1)+")"+u[o]+" 0 R");r.internal.write(" ] >>","endobj"),s=r.internal.newObject(),r.internal.write("<< /Dests "+m+" 0 R"),r.internal.write(">>","endobj")}}]),t.events.push(["putCatalog",function(){this.outline.root.children.length>0&&(this.internal.write("/Outlines",this.outline.makeRef(this.outline.root)),this.outline.createNamedDestinations&&this.internal.write("/Names "+s+" 0 R"))}]),t.events.push(["initialized",function(){var r=this;r.outline={createNamedDestinations:!1,root:{children:[]}},r.outline.add=function(a,n,o){var l={title:n,options:o,children:[]};return a==null&&(a=this.root),a.children.push(l),l},r.outline.render=function(){return this.ctx={},this.ctx.val="",this.ctx.pdf=r,this.genIds_r(this.root),this.renderRoot(this.root),this.renderItems(this.root),this.ctx.val},r.outline.genIds_r=function(a){a.id=r.internal.newObjectDeferred();for(var n=0;n<a.children.length;n++)this.genIds_r(a.children[n])},r.outline.renderRoot=function(a){this.objStart(a),this.line("/Type /Outlines"),a.children.length>0&&(this.line("/First "+this.makeRef(a.children[0])),this.line("/Last "+this.makeRef(a.children[a.children.length-1]))),this.line("/Count "+this.count_r({count:0},a)),this.objEnd()},r.outline.renderItems=function(a){for(var n=this.ctx.pdf.internal.getVerticalCoordinateString,o=0;o<a.children.length;o++){var l=a.children[o];this.objStart(l),this.line("/Title "+this.makeString(l.title)),this.line("/Parent "+this.makeRef(a)),o>0&&this.line("/Prev "+this.makeRef(a.children[o-1])),o<a.children.length-1&&this.line("/Next "+this.makeRef(a.children[o+1])),l.children.length>0&&(this.line("/First "+this.makeRef(l.children[0])),this.line("/Last "+this.makeRef(l.children[l.children.length-1])));var c=this.count=this.count_r({count:0},l);if(c>0&&this.line("/Count "+c),l.options&&l.options.pageNumber){var d=r.internal.getPageInfo(l.options.pageNumber);this.line("/Dest ["+d.objId+" 0 R /XYZ 0 "+n(0)+" 0]")}this.objEnd()}for(var h=0;h<a.children.length;h++)this.renderItems(a.children[h])},r.outline.line=function(a){this.ctx.val+=a+`\r
`},r.outline.makeRef=function(a){return a.id+" 0 R"},r.outline.makeString=function(a){return"("+r.internal.pdfEscape(a)+")"},r.outline.objStart=function(a){this.ctx.val+=`\r
`+a.id+` 0 obj\r
<<\r
`},r.outline.objEnd=function(){this.ctx.val+=`>> \r
endobj\r
`},r.outline.count_r=function(a,n){for(var o=0;o<n.children.length;o++)a.count++,this.count_r(a,n.children[o]);return a.count}}])}(vt.API),function(t){var s=[192,193,194,195,196,197,198,199];t.processJPEG=function(r,a,n,o,l,c){var d,h=this.decode.DCT_DECODE,u=null;if(typeof r=="string"||this.__addimage__.isArrayBuffer(r)||this.__addimage__.isArrayBufferView(r)){switch(r=l||r,r=this.__addimage__.isArrayBuffer(r)?new Uint8Array(r):r,(d=function(x){for(var p,m=256*x.charCodeAt(4)+x.charCodeAt(5),y=x.length,g={width:0,height:0,numcomponents:1},b=4;b<y;b+=2){if(b+=m,s.indexOf(x.charCodeAt(b+1))!==-1){p=256*x.charCodeAt(b+5)+x.charCodeAt(b+6),g={width:256*x.charCodeAt(b+7)+x.charCodeAt(b+8),height:p,numcomponents:x.charCodeAt(b+9)};break}m=256*x.charCodeAt(b+2)+x.charCodeAt(b+3)}return g}(r=this.__addimage__.isArrayBufferView(r)?this.__addimage__.arrayBufferToBinaryString(r):r)).numcomponents){case 1:c=this.color_spaces.DEVICE_GRAY;break;case 4:c=this.color_spaces.DEVICE_CMYK;break;case 3:c=this.color_spaces.DEVICE_RGB}u={data:r,width:d.width,height:d.height,colorSpace:c,bitsPerComponent:8,filter:h,index:a,alias:n}}return u}}(vt.API);var Mi,pc,yu,bu,wu,N2=function(){var t,s,r;function a(o){var l,c,d,h,u,x,p,m,y,g,b,w,N,j;for(this.data=o,this.pos=8,this.palette=[],this.imgData=[],this.transparency={},this.animation=null,this.text={},x=null;;){switch(l=this.readUInt32(),y=(function(){var k,L;for(L=[],k=0;k<4;++k)L.push(String.fromCharCode(this.data[this.pos++]));return L}).call(this).join("")){case"IHDR":this.width=this.readUInt32(),this.height=this.readUInt32(),this.bits=this.data[this.pos++],this.colorType=this.data[this.pos++],this.compressionMethod=this.data[this.pos++],this.filterMethod=this.data[this.pos++],this.interlaceMethod=this.data[this.pos++];break;case"acTL":this.animation={numFrames:this.readUInt32(),numPlays:this.readUInt32()||1/0,frames:[]};break;case"PLTE":this.palette=this.read(l);break;case"fcTL":x&&this.animation.frames.push(x),this.pos+=4,x={width:this.readUInt32(),height:this.readUInt32(),xOffset:this.readUInt32(),yOffset:this.readUInt32()},u=this.readUInt16(),h=this.readUInt16()||100,x.delay=1e3*u/h,x.disposeOp=this.data[this.pos++],x.blendOp=this.data[this.pos++],x.data=[];break;case"IDAT":case"fdAT":for(y==="fdAT"&&(this.pos+=4,l-=4),o=(x!=null?x.data:void 0)||this.imgData,w=0;0<=l?w<l:w>l;0<=l?++w:--w)o.push(this.data[this.pos++]);break;case"tRNS":switch(this.transparency={},this.colorType){case 3:if(d=this.palette.length/3,this.transparency.indexed=this.read(l),this.transparency.indexed.length>d)throw new Error("More transparent colors than palette size");if((g=d-this.transparency.indexed.length)>0)for(N=0;0<=g?N<g:N>g;0<=g?++N:--N)this.transparency.indexed.push(255);break;case 0:this.transparency.grayscale=this.read(l)[0];break;case 2:this.transparency.rgb=this.read(l)}break;case"tEXt":p=(b=this.read(l)).indexOf(0),m=String.fromCharCode.apply(String,b.slice(0,p)),this.text[m]=String.fromCharCode.apply(String,b.slice(p+1));break;case"IEND":return x&&this.animation.frames.push(x),this.colors=(function(){switch(this.colorType){case 0:case 3:case 4:return 1;case 2:case 6:return 3}}).call(this),this.hasAlphaChannel=(j=this.colorType)===4||j===6,c=this.colors+(this.hasAlphaChannel?1:0),this.pixelBitlength=this.bits*c,this.colorSpace=(function(){switch(this.colors){case 1:return"DeviceGray";case 3:return"DeviceRGB"}}).call(this),void(this.imgData=new Uint8Array(this.imgData));default:this.pos+=l}if(this.pos+=4,this.pos>this.data.length)throw new Error("Incomplete or corrupt PNG file")}}a.prototype.read=function(o){var l,c;for(c=[],l=0;0<=o?l<o:l>o;0<=o?++l:--l)c.push(this.data[this.pos++]);return c},a.prototype.readUInt32=function(){return this.data[this.pos++]<<24|this.data[this.pos++]<<16|this.data[this.pos++]<<8|this.data[this.pos++]},a.prototype.readUInt16=function(){return this.data[this.pos++]<<8|this.data[this.pos++]},a.prototype.decodePixels=function(o){var l=this.pixelBitlength/8,c=new Uint8Array(this.width*this.height*l),d=0,h=this;if(o==null&&(o=this.imgData),o.length===0)return new Uint8Array(0);function u(x,p,m,y){var g,b,w,N,j,k,L,F,T,C,I,D,E,P,W,z,ue,Q,ee,ie,ne,pe=Math.ceil((h.width-x)/m),ye=Math.ceil((h.height-p)/y),_=h.width==pe&&h.height==ye;for(P=l*pe,D=_?c:new Uint8Array(P*ye),k=o.length,E=0,b=0;E<ye&&d<k;){switch(o[d++]){case 0:for(N=ue=0;ue<P;N=ue+=1)D[b++]=o[d++];break;case 1:for(N=Q=0;Q<P;N=Q+=1)g=o[d++],j=N<l?0:D[b-l],D[b++]=(g+j)%256;break;case 2:for(N=ee=0;ee<P;N=ee+=1)g=o[d++],w=(N-N%l)/l,W=E&&D[(E-1)*P+w*l+N%l],D[b++]=(W+g)%256;break;case 3:for(N=ie=0;ie<P;N=ie+=1)g=o[d++],w=(N-N%l)/l,j=N<l?0:D[b-l],W=E&&D[(E-1)*P+w*l+N%l],D[b++]=(g+Math.floor((j+W)/2))%256;break;case 4:for(N=ne=0;ne<P;N=ne+=1)g=o[d++],w=(N-N%l)/l,j=N<l?0:D[b-l],E===0?W=z=0:(W=D[(E-1)*P+w*l+N%l],z=w&&D[(E-1)*P+(w-1)*l+N%l]),L=j+W-z,F=Math.abs(L-j),C=Math.abs(L-W),I=Math.abs(L-z),T=F<=C&&F<=I?j:C<=I?W:z,D[b++]=(g+T)%256;break;default:throw new Error("Invalid filter algorithm: "+o[d-1])}if(!_){var R=((p+E*y)*h.width+x)*l,M=E*P;for(N=0;N<pe;N+=1){for(var B=0;B<l;B+=1)c[R++]=D[M++];R+=(m-1)*l}}E++}}return o=Z1(o),h.interlaceMethod==1?(u(0,0,8,8),u(4,0,8,8),u(0,4,4,8),u(2,0,4,4),u(0,2,2,4),u(1,0,2,2),u(0,1,1,2)):u(0,0,1,1),c},a.prototype.decodePalette=function(){var o,l,c,d,h,u,x,p,m;for(c=this.palette,u=this.transparency.indexed||[],h=new Uint8Array((u.length||0)+c.length),d=0,o=0,l=x=0,p=c.length;x<p;l=x+=3)h[d++]=c[l],h[d++]=c[l+1],h[d++]=c[l+2],h[d++]=(m=u[o++])!=null?m:255;return h},a.prototype.copyToImageData=function(o,l){var c,d,h,u,x,p,m,y,g,b,w;if(d=this.colors,g=null,c=this.hasAlphaChannel,this.palette.length&&(g=(w=this._decodedPalette)!=null?w:this._decodedPalette=this.decodePalette(),d=4,c=!0),y=(h=o.data||o).length,x=g||l,u=p=0,d===1)for(;u<y;)m=g?4*l[u/4]:p,b=x[m++],h[u++]=b,h[u++]=b,h[u++]=b,h[u++]=c?x[m++]:255,p=m;else for(;u<y;)m=g?4*l[u/4]:p,h[u++]=x[m++],h[u++]=x[m++],h[u++]=x[m++],h[u++]=c?x[m++]:255,p=m},a.prototype.decode=function(){var o;return o=new Uint8Array(this.width*this.height*4),this.copyToImageData(o,this.decodePixels()),o};var n=function(){if(Object.prototype.toString.call(bt)==="[object Window]"){try{s=bt.document.createElement("canvas"),r=s.getContext("2d")}catch{return!1}return!0}return!1};return n(),t=function(o){var l;if(n()===!0)return r.width=o.width,r.height=o.height,r.clearRect(0,0,o.width,o.height),r.putImageData(o,0,0),(l=new Image).src=s.toDataURL(),l;throw new Error("This method requires a Browser with Canvas-capability.")},a.prototype.decodeFrames=function(o){var l,c,d,h,u,x,p,m;if(this.animation){for(m=[],c=u=0,x=(p=this.animation.frames).length;u<x;c=++u)l=p[c],d=o.createImageData(l.width,l.height),h=this.decodePixels(new Uint8Array(l.data)),this.copyToImageData(d,h),l.imageData=d,m.push(l.image=t(d));return m}},a.prototype.renderFrame=function(o,l){var c,d,h;return c=(d=this.animation.frames)[l],h=d[l-1],l===0&&o.clearRect(0,0,this.width,this.height),(h!=null?h.disposeOp:void 0)===1?o.clearRect(h.xOffset,h.yOffset,h.width,h.height):(h!=null?h.disposeOp:void 0)===2&&o.putImageData(h.imageData,h.xOffset,h.yOffset),c.blendOp===0&&o.clearRect(c.xOffset,c.yOffset,c.width,c.height),o.drawImage(c.image,c.xOffset,c.yOffset)},a.prototype.animate=function(o){var l,c,d,h,u,x,p=this;return c=0,x=this.animation,h=x.numFrames,d=x.frames,u=x.numPlays,(l=function(){var m,y;if(m=c++%h,y=d[m],p.renderFrame(o,m),h>1&&c/h<u)return p.animation._timeout=setTimeout(l,y.delay)})()},a.prototype.stopAnimation=function(){var o;return clearTimeout((o=this.animation)!=null?o._timeout:void 0)},a.prototype.render=function(o){var l,c;return o._png&&o._png.stopAnimation(),o._png=this,o.width=this.width,o.height=this.height,l=o.getContext("2d"),this.animation?(this.decodeFrames(l),this.animate(l)):(c=l.createImageData(this.width,this.height),this.copyToImageData(c,this.decodePixels()),l.putImageData(c,0,0))},a}();/**
 * @license
 *
 * Copyright (c) 2014 James Robb, https://github.com/jamesbrobb
 *
 * Permission is hereby granted, free of charge, to any person obtaining
 * a copy of this software and associated documentation files (the
 * "Software"), to deal in the Software without restriction, including
 * without limitation the rights to use, copy, modify, merge, publish,
 * distribute, sublicense, and/or sell copies of the Software, and to
 * permit persons to whom the Software is furnished to do so, subject to
 * the following conditions:
 *
 * The above copyright notice and this permission notice shall be
 * included in all copies or substantial portions of the Software.
 *
 * THE SOFTWARE IS PROVIDED "AS IS", WITHOUT WARRANTY OF ANY KIND,
 * EXPRESS OR IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF
 * MERCHANTABILITY, FITNESS FOR A PARTICULAR PURPOSE AND
 * NONINFRINGEMENT. IN NO EVENT SHALL THE AUTHORS OR COPYRIGHT HOLDERS BE
 * LIABLE FOR ANY CLAIM, DAMAGES OR OTHER LIABILITY, WHETHER IN AN ACTION
 * OF CONTRACT, TORT OR OTHERWISE, ARISING FROM, OUT OF OR IN CONNECTION
 * WITH THE SOFTWARE OR THE USE OR OTHER DEALINGS IN THE SOFTWARE.
 * ====================================================================
 *//**
 * @license
 * (c) Dean McNamee <dean@gmail.com>, 2013.
 *
 * https://github.com/deanm/omggif
 *
 * Permission is hereby granted, free of charge, to any person obtaining a copy
 * of this software and associated documentation files (the "Software"), to
 * deal in the Software without restriction, including without limitation the
 * rights to use, copy, modify, merge, publish, distribute, sublicense, and/or
 * sell copies of the Software, and to permit persons to whom the Software is
 * furnished to do so, subject to the following conditions:
 *
 * The above copyright notice and this permission notice shall be included in
 * all copies or substantial portions of the Software.
 *
 * THE SOFTWARE IS PROVIDED "AS IS", WITHOUT WARRANTY OF ANY KIND, EXPRESS OR
 * IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF MERCHANTABILITY,
 * FITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT. IN NO EVENT SHALL THE
 * AUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM, DAMAGES OR OTHER
 * LIABILITY, WHETHER IN AN ACTION OF CONTRACT, TORT OR OTHERWISE, ARISING
 * FROM, OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE USE OR OTHER DEALINGS
 * IN THE SOFTWARE.
 *
 * omggif is a JavaScript implementation of a GIF 89a encoder and decoder,
 * including animation and compression.  It does not rely on any specific
 * underlying system, so should run in the browser, Node, or Plask.
 */function j2(t){var s=0;if(t[s++]!==71||t[s++]!==73||t[s++]!==70||t[s++]!==56||(t[s++]+1&253)!=56||t[s++]!==97)throw new Error("Invalid GIF 87a/89a header.");var r=t[s++]|t[s++]<<8,a=t[s++]|t[s++]<<8,n=t[s++],o=n>>7,l=1<<(7&n)+1;t[s++],t[s++];var c=null,d=null;o&&(c=s,d=l,s+=3*l);var h=!0,u=[],x=0,p=null,m=0,y=null;for(this.width=r,this.height=a;h&&s<t.length;)switch(t[s++]){case 33:switch(t[s++]){case 255:if(t[s]!==11||t[s+1]==78&&t[s+2]==69&&t[s+3]==84&&t[s+4]==83&&t[s+5]==67&&t[s+6]==65&&t[s+7]==80&&t[s+8]==69&&t[s+9]==50&&t[s+10]==46&&t[s+11]==48&&t[s+12]==3&&t[s+13]==1&&t[s+16]==0)s+=14,y=t[s++]|t[s++]<<8,s++;else for(s+=12;;){if(!((E=t[s++])>=0))throw Error("Invalid block size");if(E===0)break;s+=E}break;case 249:if(t[s++]!==4||t[s+4]!==0)throw new Error("Invalid graphics extension block.");var g=t[s++];x=t[s++]|t[s++]<<8,p=t[s++],!(1&g)&&(p=null),m=g>>2&7,s++;break;case 254:for(;;){if(!((E=t[s++])>=0))throw Error("Invalid block size");if(E===0)break;s+=E}break;default:throw new Error("Unknown graphic control label: 0x"+t[s-1].toString(16))}break;case 44:var b=t[s++]|t[s++]<<8,w=t[s++]|t[s++]<<8,N=t[s++]|t[s++]<<8,j=t[s++]|t[s++]<<8,k=t[s++],L=k>>6&1,F=1<<(7&k)+1,T=c,C=d,I=!1;k>>7&&(I=!0,T=s,C=F,s+=3*F);var D=s;for(s++;;){var E;if(!((E=t[s++])>=0))throw Error("Invalid block size");if(E===0)break;s+=E}u.push({x:b,y:w,width:N,height:j,has_local_palette:I,palette_offset:T,palette_size:C,data_offset:D,data_length:s-D,transparent_index:p,interlaced:!!L,delay:x,disposal:m});break;case 59:h=!1;break;default:throw new Error("Unknown gif block: 0x"+t[s-1].toString(16))}this.numFrames=function(){return u.length},this.loopCount=function(){return y},this.frameInfo=function(P){if(P<0||P>=u.length)throw new Error("Frame index out of range.");return u[P]},this.decodeAndBlitFrameBGRA=function(P,W){var z=this.frameInfo(P),ue=z.width*z.height,Q=new Uint8Array(ue);Nu(t,z.data_offset,Q,ue);var ee=z.palette_offset,ie=z.transparent_index;ie===null&&(ie=256);var ne=z.width,pe=r-ne,ye=ne,_=4*(z.y*r+z.x),R=4*((z.y+z.height)*r+z.x),M=_,B=4*pe;z.interlaced===!0&&(B+=4*r*7);for(var Y=8,fe=0,ae=Q.length;fe<ae;++fe){var X=Q[fe];if(ye===0&&(ye=ne,(M+=B)>=R&&(B=4*pe+4*r*(Y-1),M=_+(ne+pe)*(Y<<1),Y>>=1)),X===ie)M+=4;else{var me=t[ee+3*X],Ne=t[ee+3*X+1],De=t[ee+3*X+2];W[M++]=De,W[M++]=Ne,W[M++]=me,W[M++]=255}--ye}},this.decodeAndBlitFrameRGBA=function(P,W){var z=this.frameInfo(P),ue=z.width*z.height,Q=new Uint8Array(ue);Nu(t,z.data_offset,Q,ue);var ee=z.palette_offset,ie=z.transparent_index;ie===null&&(ie=256);var ne=z.width,pe=r-ne,ye=ne,_=4*(z.y*r+z.x),R=4*((z.y+z.height)*r+z.x),M=_,B=4*pe;z.interlaced===!0&&(B+=4*r*7);for(var Y=8,fe=0,ae=Q.length;fe<ae;++fe){var X=Q[fe];if(ye===0&&(ye=ne,(M+=B)>=R&&(B=4*pe+4*r*(Y-1),M=_+(ne+pe)*(Y<<1),Y>>=1)),X===ie)M+=4;else{var me=t[ee+3*X],Ne=t[ee+3*X+1],De=t[ee+3*X+2];W[M++]=me,W[M++]=Ne,W[M++]=De,W[M++]=255}--ye}}}function Nu(t,s,r,a){for(var n=t[s++],o=1<<n,l=o+1,c=l+1,d=n+1,h=(1<<d)-1,u=0,x=0,p=0,m=t[s++],y=new Int32Array(4096),g=null;;){for(;u<16&&m!==0;)x|=t[s++]<<u,u+=8,m===1?m=t[s++]:--m;if(u<d)break;var b=x&h;if(x>>=d,u-=d,b!==o){if(b===l)break;for(var w=b<c?b:g,N=0,j=w;j>o;)j=y[j]>>8,++N;var k=j;if(p+N+(w!==b?1:0)>a)return void nr.log("Warning, gif stream longer than expected.");r[p++]=k;var L=p+=N;for(w!==b&&(r[p++]=k),j=w;N--;)j=y[j],r[--L]=255&j,j>>=8;g!==null&&c<4096&&(y[c++]=g<<8|k,c>=h+1&&d<12&&(++d,h=h<<1|1)),g=b}else c=l+1,h=(1<<(d=n+1))-1,g=null}return p!==a&&nr.log("Warning, gif stream shorter than expected."),r}/**
 * @license
  Copyright (c) 2008, Adobe Systems Incorporated
  All rights reserved.

  Redistribution and use in source and binary forms, with or without 
  modification, are permitted provided that the following conditions are
  met:

  * Redistributions of source code must retain the above copyright notice, 
    this list of conditions and the following disclaimer.
  
  * Redistributions in binary form must reproduce the above copyright
    notice, this list of conditions and the following disclaimer in the 
    documentation and/or other materials provided with the distribution.
  
  * Neither the name of Adobe Systems Incorporated nor the names of its 
    contributors may be used to endorse or promote products derived from 
    this software without specific prior written permission.

  THIS SOFTWARE IS PROVIDED BY THE COPYRIGHT HOLDERS AND CONTRIBUTORS "AS
  IS" AND ANY EXPRESS OR IMPLIED WARRANTIES, INCLUDING, BUT NOT LIMITED TO,
  THE IMPLIED WARRANTIES OF MERCHANTABILITY AND FITNESS FOR A PARTICULAR
  PURPOSE ARE DISCLAIMED. IN NO EVENT SHALL THE COPYRIGHT OWNER OR 
  CONTRIBUTORS BE LIABLE FOR ANY DIRECT, INDIRECT, INCIDENTAL, SPECIAL,
  EXEMPLARY, OR CONSEQUENTIAL DAMAGES (INCLUDING, BUT NOT LIMITED TO,
  PROCUREMENT OF SUBSTITUTE GOODS OR SERVICES; LOSS OF USE, DATA, OR
  PROFITS; OR BUSINESS INTERRUPTION) HOWEVER CAUSED AND ON ANY THEORY OF
  LIABILITY, WHETHER IN CONTRACT, STRICT LIABILITY, OR TORT (INCLUDING
  NEGLIGENCE OR OTHERWISE) ARISING IN ANY WAY OUT OF THE USE OF THIS
  SOFTWARE, EVEN IF ADVISED OF THE POSSIBILITY OF SUCH DAMAGE.
*/function i0(t){var s,r,a,n,o,l=Math.floor,c=new Array(64),d=new Array(64),h=new Array(64),u=new Array(64),x=new Array(65535),p=new Array(65535),m=new Array(64),y=new Array(64),g=[],b=0,w=7,N=new Array(64),j=new Array(64),k=new Array(64),L=new Array(256),F=new Array(2048),T=[0,1,5,6,14,15,27,28,2,4,7,13,16,26,29,42,3,8,12,17,25,30,41,43,9,11,18,24,31,40,44,53,10,19,23,32,39,45,52,54,20,22,33,38,46,51,55,60,21,34,37,47,50,56,59,61,35,36,48,49,57,58,62,63],C=[0,0,1,5,1,1,1,1,1,1,0,0,0,0,0,0,0],I=[0,1,2,3,4,5,6,7,8,9,10,11],D=[0,0,2,1,3,3,2,4,3,5,5,4,4,0,0,1,125],E=[1,2,3,0,4,17,5,18,33,49,65,6,19,81,97,7,34,113,20,50,129,145,161,8,35,66,177,193,21,82,209,240,36,51,98,114,130,9,10,22,23,24,25,26,37,38,39,40,41,42,52,53,54,55,56,57,58,67,68,69,70,71,72,73,74,83,84,85,86,87,88,89,90,99,100,101,102,103,104,105,106,115,116,117,118,119,120,121,122,131,132,133,134,135,136,137,138,146,147,148,149,150,151,152,153,154,162,163,164,165,166,167,168,169,170,178,179,180,181,182,183,184,185,186,194,195,196,197,198,199,200,201,202,210,211,212,213,214,215,216,217,218,225,226,227,228,229,230,231,232,233,234,241,242,243,244,245,246,247,248,249,250],P=[0,0,3,1,1,1,1,1,1,1,1,1,0,0,0,0,0],W=[0,1,2,3,4,5,6,7,8,9,10,11],z=[0,0,2,1,2,4,4,3,4,7,5,4,4,0,1,2,119],ue=[0,1,2,3,17,4,5,33,49,6,18,65,81,7,97,113,19,34,50,129,8,20,66,145,161,177,193,9,35,51,82,240,21,98,114,209,10,22,36,52,225,37,241,23,24,25,26,38,39,40,41,42,53,54,55,56,57,58,67,68,69,70,71,72,73,74,83,84,85,86,87,88,89,90,99,100,101,102,103,104,105,106,115,116,117,118,119,120,121,122,130,131,132,133,134,135,136,137,138,146,147,148,149,150,151,152,153,154,162,163,164,165,166,167,168,169,170,178,179,180,181,182,183,184,185,186,194,195,196,197,198,199,200,201,202,210,211,212,213,214,215,216,217,218,226,227,228,229,230,231,232,233,234,242,243,244,245,246,247,248,249,250];function Q(_,R){for(var M=0,B=0,Y=new Array,fe=1;fe<=16;fe++){for(var ae=1;ae<=_[fe];ae++)Y[R[B]]=[],Y[R[B]][0]=M,Y[R[B]][1]=fe,B++,M++;M*=2}return Y}function ee(_){for(var R=_[0],M=_[1]-1;M>=0;)R&1<<M&&(b|=1<<w),M--,--w<0&&(b==255?(ie(255),ie(0)):ie(b),w=7,b=0)}function ie(_){g.push(_)}function ne(_){ie(_>>8&255),ie(255&_)}function pe(_,R,M,B,Y){for(var fe,ae=Y[0],X=Y[240],me=function($e,Je){var rt,at,ft,mt,Nt,Tt,Ot,Dt,yt,Ft,it=0;for(yt=0;yt<8;++yt){rt=$e[it],at=$e[it+1],ft=$e[it+2],mt=$e[it+3],Nt=$e[it+4],Tt=$e[it+5],Ot=$e[it+6];var Rr=rt+(Dt=$e[it+7]),Rt=rt-Dt,ws=at+Ot,Vt=at-Ot,or=ft+Tt,Gs=ft-Tt,Bt=mt+Nt,ka=mt-Nt,dr=Rr+Bt,Os=Rr-Bt,ia=ws+or,sr=ws-or;$e[it]=dr+ia,$e[it+4]=dr-ia;var jt=.707106781*(sr+Os);$e[it+2]=Os+jt,$e[it+6]=Os-jt;var Ht=.382683433*((dr=ka+Gs)-(sr=Vt+Rt)),Wa=.5411961*dr+Ht,Mr=1.306562965*sr+Ht,Ys=.707106781*(ia=Gs+Vt),Ks=Rt+Ys,pt=Rt-Ys;$e[it+5]=pt+Wa,$e[it+3]=pt-Wa,$e[it+1]=Ks+Mr,$e[it+7]=Ks-Mr,it+=8}for(it=0,yt=0;yt<8;++yt){rt=$e[it],at=$e[it+8],ft=$e[it+16],mt=$e[it+24],Nt=$e[it+32],Tt=$e[it+40],Ot=$e[it+48];var Ds=rt+(Dt=$e[it+56]),Ns=rt-Dt,ss=at+Ot,jr=at-Ot,gr=ft+Tt,V=ft-Tt,le=mt+Nt,te=mt-Nt,re=Ds+le,oe=Ds-le,ce=ss+gr,ke=ss-gr;$e[it]=re+ce,$e[it+32]=re-ce;var Le=.707106781*(ke+oe);$e[it+16]=oe+Le,$e[it+48]=oe-Le;var Se=.382683433*((re=te+V)-(ke=jr+Ns)),Ce=.5411961*re+Se,Te=1.306562965*ke+Se,Ye=.707106781*(ce=V+jr),Qe=Ns+Ye,lt=Ns-Ye;$e[it+40]=lt+Ce,$e[it+24]=lt-Ce,$e[it+8]=Qe+Te,$e[it+56]=Qe-Te,it++}for(yt=0;yt<64;++yt)Ft=$e[yt]*Je[yt],m[yt]=Ft>0?Ft+.5|0:Ft-.5|0;return m}(_,R),Ne=0;Ne<64;++Ne)y[T[Ne]]=me[Ne];var De=y[0]-M;M=y[0],De==0?ee(B[0]):(ee(B[p[fe=32767+De]]),ee(x[fe]));for(var Ve=63;Ve>0&&y[Ve]==0;)Ve--;if(Ve==0)return ee(ae),M;for(var Ke,Ee=1;Ee<=Ve;){for(var de=Ee;y[Ee]==0&&Ee<=Ve;)++Ee;var We=Ee-de;if(We>=16){Ke=We>>4;for(var tt=1;tt<=Ke;++tt)ee(X);We&=15}fe=32767+y[Ee],ee(Y[(We<<4)+p[fe]]),ee(x[fe]),Ee++}return Ve!=63&&ee(ae),M}function ye(_){_=Math.min(Math.max(_,1),100),o!=_&&(function(R){for(var M=[16,11,10,16,24,40,51,61,12,12,14,19,26,58,60,55,14,13,16,24,40,57,69,56,14,17,22,29,51,87,80,62,18,22,37,56,68,109,103,77,24,35,55,64,81,104,113,92,49,64,78,87,103,121,120,101,72,92,95,98,112,100,103,99],B=0;B<64;B++){var Y=l((M[B]*R+50)/100);Y=Math.min(Math.max(Y,1),255),c[T[B]]=Y}for(var fe=[17,18,24,47,99,99,99,99,18,21,26,66,99,99,99,99,24,26,56,99,99,99,99,99,47,66,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99],ae=0;ae<64;ae++){var X=l((fe[ae]*R+50)/100);X=Math.min(Math.max(X,1),255),d[T[ae]]=X}for(var me=[1,1.387039845,1.306562965,1.175875602,1,.785694958,.5411961,.275899379],Ne=0,De=0;De<8;De++)for(var Ve=0;Ve<8;Ve++)h[Ne]=1/(c[T[Ne]]*me[De]*me[Ve]*8),u[Ne]=1/(d[T[Ne]]*me[De]*me[Ve]*8),Ne++}(_<50?Math.floor(5e3/_):Math.floor(200-2*_)),o=_)}this.encode=function(_,R){R&&ye(R),g=new Array,b=0,w=7,ne(65496),ne(65504),ne(16),ie(74),ie(70),ie(73),ie(70),ie(0),ie(1),ie(1),ie(0),ne(1),ne(1),ie(0),ie(0),function(){ne(65499),ne(132),ie(0);for(var at=0;at<64;at++)ie(c[at]);ie(1);for(var ft=0;ft<64;ft++)ie(d[ft])}(),function(at,ft){ne(65472),ne(17),ie(8),ne(ft),ne(at),ie(3),ie(1),ie(17),ie(0),ie(2),ie(17),ie(1),ie(3),ie(17),ie(1)}(_.width,_.height),function(){ne(65476),ne(418),ie(0);for(var at=0;at<16;at++)ie(C[at+1]);for(var ft=0;ft<=11;ft++)ie(I[ft]);ie(16);for(var mt=0;mt<16;mt++)ie(D[mt+1]);for(var Nt=0;Nt<=161;Nt++)ie(E[Nt]);ie(1);for(var Tt=0;Tt<16;Tt++)ie(P[Tt+1]);for(var Ot=0;Ot<=11;Ot++)ie(W[Ot]);ie(17);for(var Dt=0;Dt<16;Dt++)ie(z[Dt+1]);for(var yt=0;yt<=161;yt++)ie(ue[yt])}(),ne(65498),ne(12),ie(3),ie(1),ie(0),ie(2),ie(17),ie(3),ie(17),ie(0),ie(63),ie(0);var M=0,B=0,Y=0;b=0,w=7,this.encode.displayName="_encode_";for(var fe,ae,X,me,Ne,De,Ve,Ke,Ee,de=_.data,We=_.width,tt=_.height,$e=4*We,Je=0;Je<tt;){for(fe=0;fe<$e;){for(Ne=$e*Je+fe,Ve=-1,Ke=0,Ee=0;Ee<64;Ee++)De=Ne+(Ke=Ee>>3)*$e+(Ve=4*(7&Ee)),Je+Ke>=tt&&(De-=$e*(Je+1+Ke-tt)),fe+Ve>=$e&&(De-=fe+Ve-$e+4),ae=de[De++],X=de[De++],me=de[De++],N[Ee]=(F[ae]+F[X+256>>0]+F[me+512>>0]>>16)-128,j[Ee]=(F[ae+768>>0]+F[X+1024>>0]+F[me+1280>>0]>>16)-128,k[Ee]=(F[ae+1280>>0]+F[X+1536>>0]+F[me+1792>>0]>>16)-128;M=pe(N,h,M,s,a),B=pe(j,u,B,r,n),Y=pe(k,u,Y,r,n),fe+=32}Je+=8}if(w>=0){var rt=[];rt[1]=w+1,rt[0]=(1<<w+1)-1,ee(rt)}return ne(65497),new Uint8Array(g)},t=t||50,function(){for(var _=String.fromCharCode,R=0;R<256;R++)L[R]=_(R)}(),s=Q(C,I),r=Q(P,W),a=Q(D,E),n=Q(z,ue),function(){for(var _=1,R=2,M=1;M<=15;M++){for(var B=_;B<R;B++)p[32767+B]=M,x[32767+B]=[],x[32767+B][1]=M,x[32767+B][0]=B;for(var Y=-(R-1);Y<=-_;Y++)p[32767+Y]=M,x[32767+Y]=[],x[32767+Y][1]=M,x[32767+Y][0]=R-1+Y;_<<=1,R<<=1}}(),function(){for(var _=0;_<256;_++)F[_]=19595*_,F[_+256>>0]=38470*_,F[_+512>>0]=7471*_+32768,F[_+768>>0]=-11059*_,F[_+1024>>0]=-21709*_,F[_+1280>>0]=32768*_+8421375,F[_+1536>>0]=-27439*_,F[_+1792>>0]=-5329*_}(),ye(t)}/**
 * @license
 * Copyright (c) 2017 Aras Abbasi
 *
 * Licensed under the MIT License.
 * http://opensource.org/licenses/mit-license
 */function xa(t,s){if(this.pos=0,this.buffer=t,this.datav=new DataView(t.buffer),this.is_with_alpha=!!s,this.bottom_up=!0,this.flag=String.fromCharCode(this.buffer[0])+String.fromCharCode(this.buffer[1]),this.pos+=2,["BM","BA","CI","CP","IC","PT"].indexOf(this.flag)===-1)throw new Error("Invalid BMP File");this.parseHeader(),this.parseBGR()}function ju(t){function s(C){if(!C)throw Error("assert :P")}function r(C,I,D){for(var E=0;4>E;E++)if(C[I+E]!=D.charCodeAt(E))return!0;return!1}function a(C,I,D,E,P){for(var W=0;W<P;W++)C[I+W]=D[E+W]}function n(C,I,D,E){for(var P=0;P<E;P++)C[I+P]=D}function o(C){return new Int32Array(C)}function l(C,I){for(var D=[],E=0;E<C;E++)D.push(new I);return D}function c(C,I){var D=[];return function E(P,W,z){for(var ue=z[W],Q=0;Q<ue&&(P.push(z.length>W+1?[]:new I),!(z.length<W+1));Q++)E(P[Q],W+1,z)}(D,0,C),D}var d=function(){var C=this;function I(f,v){for(var A=1<<v-1>>>0;f&A;)A>>>=1;return A?(f&A-1)+A:f}function D(f,v,A,O,U){s(!(O%A));do f[v+(O-=A)]=U;while(0<O)}function E(f,v,A,O,U){if(s(2328>=U),512>=U)var q=o(512);else if((q=o(U))==null)return 0;return function(G,K,Z,se,ge,Ae){var _e,we,He=K,Oe=1<<Z,ve=o(16),be=o(16);for(s(ge!=0),s(se!=null),s(G!=null),s(0<Z),we=0;we<ge;++we){if(15<se[we])return 0;++ve[se[we]]}if(ve[0]==ge)return 0;for(be[1]=0,_e=1;15>_e;++_e){if(ve[_e]>1<<_e)return 0;be[_e+1]=be[_e]+ve[_e]}for(we=0;we<ge;++we)_e=se[we],0<se[we]&&(Ae[be[_e]++]=we);if(be[15]==1)return(se=new P).g=0,se.value=Ae[0],D(G,He,1,Oe,se),Oe;var Be,ze=-1,Ue=Oe-1,dt=0,st=1,gt=1,nt=1<<Z;for(we=0,_e=1,ge=2;_e<=Z;++_e,ge<<=1){if(st+=gt<<=1,0>(gt-=ve[_e]))return 0;for(;0<ve[_e];--ve[_e])(se=new P).g=_e,se.value=Ae[we++],D(G,He+dt,ge,nt,se),dt=I(dt,_e)}for(_e=Z+1,ge=2;15>=_e;++_e,ge<<=1){if(st+=gt<<=1,0>(gt-=ve[_e]))return 0;for(;0<ve[_e];--ve[_e]){if(se=new P,(dt&Ue)!=ze){for(He+=nt,Be=1<<(ze=_e)-Z;15>ze&&!(0>=(Be-=ve[ze]));)++ze,Be<<=1;Oe+=nt=1<<(Be=ze-Z),G[K+(ze=dt&Ue)].g=Be+Z,G[K+ze].value=He-K-ze}se.g=_e-Z,se.value=Ae[we++],D(G,He+(dt>>Z),ge,nt,se),dt=I(dt,_e)}}return st!=2*be[15]-1?0:Oe}(f,v,A,O,U,q)}function P(){this.value=this.g=0}function W(){this.value=this.g=0}function z(){this.G=l(5,P),this.H=o(5),this.jc=this.Qb=this.qb=this.nd=0,this.pd=l(Kr,W)}function ue(f,v,A,O){s(f!=null),s(v!=null),s(2147483648>O),f.Ca=254,f.I=0,f.b=-8,f.Ka=0,f.oa=v,f.pa=A,f.Jd=v,f.Yc=A+O,f.Zc=4<=O?A+O-4+1:A,fe(f)}function Q(f,v){for(var A=0;0<v--;)A|=X(f,128)<<v;return A}function ee(f,v){var A=Q(f,v);return ae(f)?-A:A}function ie(f,v,A,O){var U,q=0;for(s(f!=null),s(v!=null),s(4294967288>O),f.Sb=O,f.Ra=0,f.u=0,f.h=0,4<O&&(O=4),U=0;U<O;++U)q+=v[A+U]<<8*U;f.Ra=q,f.bb=O,f.oa=v,f.pa=A}function ne(f){for(;8<=f.u&&f.bb<f.Sb;)f.Ra>>>=8,f.Ra+=f.oa[f.pa+f.bb]<<Ai-8>>>0,++f.bb,f.u-=8;M(f)&&(f.h=1,f.u=0)}function pe(f,v){if(s(0<=v),!f.h&&v<=ki){var A=R(f)&Si[v];return f.u+=v,ne(f),A}return f.h=1,f.u=0}function ye(){this.b=this.Ca=this.I=0,this.oa=[],this.pa=0,this.Jd=[],this.Yc=0,this.Zc=[],this.Ka=0}function _(){this.Ra=0,this.oa=[],this.h=this.u=this.bb=this.Sb=this.pa=0}function R(f){return f.Ra>>>(f.u&Ai-1)>>>0}function M(f){return s(f.bb<=f.Sb),f.h||f.bb==f.Sb&&f.u>Ai}function B(f,v){f.u=v,f.h=M(f)}function Y(f){f.u>=_o&&(s(f.u>=_o),ne(f))}function fe(f){s(f!=null&&f.oa!=null),f.pa<f.Zc?(f.I=(f.oa[f.pa++]|f.I<<8)>>>0,f.b+=8):(s(f!=null&&f.oa!=null),f.pa<f.Yc?(f.b+=8,f.I=f.oa[f.pa++]|f.I<<8):f.Ka?f.b=0:(f.I<<=8,f.b+=8,f.Ka=1))}function ae(f){return Q(f,1)}function X(f,v){var A=f.Ca;0>f.b&&fe(f);var O=f.b,U=A*v>>>8,q=(f.I>>>O>U)+0;for(q?(A-=U,f.I-=U+1<<O>>>0):A=U+1,O=A,U=0;256<=O;)U+=8,O>>=8;return O=7^U+Ss[O],f.b-=O,f.Ca=(A<<O)-1,q}function me(f,v,A){f[v+0]=A>>24&255,f[v+1]=A>>16&255,f[v+2]=A>>8&255,f[v+3]=A>>0&255}function Ne(f,v){return f[v+0]<<0|f[v+1]<<8}function De(f,v){return Ne(f,v)|f[v+2]<<16}function Ve(f,v){return Ne(f,v)|Ne(f,v+2)<<16}function Ke(f,v){var A=1<<v;return s(f!=null),s(0<v),f.X=o(A),f.X==null?0:(f.Mb=32-v,f.Xa=v,1)}function Ee(f,v){s(f!=null),s(v!=null),s(f.Xa==v.Xa),a(v.X,0,f.X,0,1<<v.Xa)}function de(){this.X=[],this.Xa=this.Mb=0}function We(f,v,A,O){s(A!=null),s(O!=null);var U=A[0],q=O[0];return U==0&&(U=(f*q+v/2)/v),q==0&&(q=(v*U+f/2)/f),0>=U||0>=q?0:(A[0]=U,O[0]=q,1)}function tt(f,v){return f+(1<<v)-1>>>v}function $e(f,v){return((4278255360&f)+(4278255360&v)>>>0&4278255360)+((16711935&f)+(16711935&v)>>>0&16711935)>>>0}function Je(f,v){C[v]=function(A,O,U,q,G,K,Z){var se;for(se=0;se<G;++se){var ge=C[f](K[Z+se-1],U,q+se);K[Z+se]=$e(A[O+se],ge)}}}function rt(){this.ud=this.hd=this.jd=0}function at(f,v){return((4278124286&(f^v))>>>1)+(f&v)>>>0}function ft(f){return 0<=f&&256>f?f:0>f?0:255<f?255:void 0}function mt(f,v){return ft(f+(f-v+.5>>1))}function Nt(f,v,A){return Math.abs(v-A)-Math.abs(f-A)}function Tt(f,v,A,O,U,q,G){for(O=q[G-1],A=0;A<U;++A)q[G+A]=O=$e(f[v+A],O)}function Ot(f,v,A,O,U){var q;for(q=0;q<A;++q){var G=f[v+q],K=G>>8&255,Z=16711935&(Z=(Z=16711935&G)+((K<<16)+K));O[U+q]=(4278255360&G)+Z>>>0}}function Dt(f,v){v.jd=f>>0&255,v.hd=f>>8&255,v.ud=f>>16&255}function yt(f,v,A,O,U,q){var G;for(G=0;G<O;++G){var K=v[A+G],Z=K>>>8,se=K,ge=255&(ge=(ge=K>>>16)+((f.jd<<24>>24)*(Z<<24>>24)>>>5));se=255&(se=(se=se+((f.hd<<24>>24)*(Z<<24>>24)>>>5))+((f.ud<<24>>24)*(ge<<24>>24)>>>5)),U[q+G]=(4278255360&K)+(ge<<16)+se}}function Ft(f,v,A,O,U){C[v]=function(q,G,K,Z,se,ge,Ae,_e,we){for(Z=Ae;Z<_e;++Z)for(Ae=0;Ae<we;++Ae)se[ge++]=U(K[O(q[G++])])},C[f]=function(q,G,K,Z,se,ge,Ae){var _e=8>>q.b,we=q.Ea,He=q.K[0],Oe=q.w;if(8>_e)for(q=(1<<q.b)-1,Oe=(1<<_e)-1;G<K;++G){var ve,be=0;for(ve=0;ve<we;++ve)ve&q||(be=O(Z[se++])),ge[Ae++]=U(He[be&Oe]),be>>=_e}else C["VP8LMapColor"+A](Z,se,He,Oe,ge,Ae,G,K,we)}}function it(f,v,A,O,U){for(A=v+A;v<A;){var q=f[v++];O[U++]=q>>16&255,O[U++]=q>>8&255,O[U++]=q>>0&255}}function Rr(f,v,A,O,U){for(A=v+A;v<A;){var q=f[v++];O[U++]=q>>16&255,O[U++]=q>>8&255,O[U++]=q>>0&255,O[U++]=q>>24&255}}function Rt(f,v,A,O,U){for(A=v+A;v<A;){var q=(G=f[v++])>>16&240|G>>12&15,G=G>>0&240|G>>28&15;O[U++]=q,O[U++]=G}}function ws(f,v,A,O,U){for(A=v+A;v<A;){var q=(G=f[v++])>>16&248|G>>13&7,G=G>>5&224|G>>3&31;O[U++]=q,O[U++]=G}}function Vt(f,v,A,O,U){for(A=v+A;v<A;){var q=f[v++];O[U++]=q>>0&255,O[U++]=q>>8&255,O[U++]=q>>16&255}}function or(f,v,A,O,U,q){if(q==0)for(A=v+A;v<A;)me(O,((q=f[v++])[0]>>24|q[1]>>8&65280|q[2]<<8&16711680|q[3]<<24)>>>0),U+=32;else a(O,U,f,v,A)}function Gs(f,v){C[v][0]=C[f+"0"],C[v][1]=C[f+"1"],C[v][2]=C[f+"2"],C[v][3]=C[f+"3"],C[v][4]=C[f+"4"],C[v][5]=C[f+"5"],C[v][6]=C[f+"6"],C[v][7]=C[f+"7"],C[v][8]=C[f+"8"],C[v][9]=C[f+"9"],C[v][10]=C[f+"10"],C[v][11]=C[f+"11"],C[v][12]=C[f+"12"],C[v][13]=C[f+"13"],C[v][14]=C[f+"0"],C[v][15]=C[f+"0"]}function Bt(f){return f==Od||f==Dd||f==Gl||f==Id}function ka(){this.eb=[],this.size=this.A=this.fb=0}function dr(){this.y=[],this.f=[],this.ea=[],this.F=[],this.Tc=this.Ed=this.Cd=this.Fd=this.lb=this.Db=this.Ab=this.fa=this.J=this.W=this.N=this.O=0}function Os(){this.Rd=this.height=this.width=this.S=0,this.f={},this.f.RGBA=new ka,this.f.kb=new dr,this.sd=null}function ia(){this.width=[0],this.height=[0],this.Pd=[0],this.Qd=[0],this.format=[0]}function sr(){this.Id=this.fd=this.Md=this.hb=this.ib=this.da=this.bd=this.cd=this.j=this.v=this.Da=this.Sd=this.ob=0}function jt(f){return alert("todo:WebPSamplerProcessPlane"),f.T}function Ht(f,v){var A=f.T,O=v.ba.f.RGBA,U=O.eb,q=O.fb+f.ka*O.A,G=ta[v.ba.S],K=f.y,Z=f.O,se=f.f,ge=f.N,Ae=f.ea,_e=f.W,we=v.cc,He=v.dc,Oe=v.Mc,ve=v.Nc,be=f.ka,Be=f.ka+f.T,ze=f.U,Ue=ze+1>>1;for(be==0?G(K,Z,null,null,se,ge,Ae,_e,se,ge,Ae,_e,U,q,null,null,ze):(G(v.ec,v.fc,K,Z,we,He,Oe,ve,se,ge,Ae,_e,U,q-O.A,U,q,ze),++A);be+2<Be;be+=2)we=se,He=ge,Oe=Ae,ve=_e,ge+=f.Rc,_e+=f.Rc,q+=2*O.A,G(K,(Z+=2*f.fa)-f.fa,K,Z,we,He,Oe,ve,se,ge,Ae,_e,U,q-O.A,U,q,ze);return Z+=f.fa,f.j+Be<f.o?(a(v.ec,v.fc,K,Z,ze),a(v.cc,v.dc,se,ge,Ue),a(v.Mc,v.Nc,Ae,_e,Ue),A--):1&Be||G(K,Z,null,null,se,ge,Ae,_e,se,ge,Ae,_e,U,q+O.A,null,null,ze),A}function Wa(f,v,A){var O=f.F,U=[f.J];if(O!=null){var q=f.U,G=v.ba.S,K=G==$l||G==Gl;v=v.ba.f.RGBA;var Z=[0],se=f.ka;Z[0]=f.T,f.Kb&&(se==0?--Z[0]:(--se,U[0]-=f.width),f.j+f.ka+f.T==f.o&&(Z[0]=f.o-f.j-se));var ge=v.eb;se=v.fb+se*v.A,f=cr(O,U[0],f.width,q,Z,ge,se+(K?0:3),v.A),s(A==Z),f&&Bt(G)&&Zs(ge,se,K,q,Z,v.A)}return 0}function Mr(f){var v=f.ma,A=v.ba.S,O=11>A,U=A==zl||A==Vl||A==$l||A==Ld||A==12||Bt(A);if(v.memory=null,v.Ib=null,v.Jb=null,v.Nd=null,!ko(v.Oa,f,U?11:12))return 0;if(U&&Bt(A)&&Ge(),f.da)alert("todo:use_scaling");else{if(O){if(v.Ib=jt,f.Kb){if(A=f.U+1>>1,v.memory=o(f.U+2*A),v.memory==null)return 0;v.ec=v.memory,v.fc=0,v.cc=v.ec,v.dc=v.fc+f.U,v.Mc=v.cc,v.Nc=v.dc+A,v.Ib=Ht,Ge()}}else alert("todo:EmitYUV");U&&(v.Jb=Wa,O&&je())}if(O&&!Ch){for(f=0;256>f;++f)Pp[f]=89858*(f-128)+Kl>>Yl,Op[f]=-22014*(f-128)+Kl,Lp[f]=-45773*(f-128),Fp[f]=113618*(f-128)+Kl>>Yl;for(f=Oo;f<Bd;++f)v=76283*(f-16)+Kl>>Yl,Dp[f-Oo]=Rs(v,255),Ip[f-Oo]=Rs(v+8>>4,15);Ch=1}return 1}function Ys(f){var v=f.ma,A=f.U,O=f.T;return s(!(1&f.ka)),0>=A||0>=O?0:(A=v.Ib(f,v),v.Jb!=null&&v.Jb(f,v,A),v.Dc+=A,1)}function Ks(f){f.ma.memory=null}function pt(f,v,A,O){return pe(f,8)!=47?0:(v[0]=pe(f,14)+1,A[0]=pe(f,14)+1,O[0]=pe(f,1),pe(f,3)!=0?0:!f.h)}function Ds(f,v){if(4>f)return f+1;var A=f-2>>1;return(2+(1&f)<<A)+pe(v,A)+1}function Ns(f,v){return 120<v?v-120:1<=(A=((A=gp[v-1])>>4)*f+(8-(15&A)))?A:1;var A}function ss(f,v,A){var O=R(A),U=f[v+=255&O].g-8;return 0<U&&(B(A,A.u+8),O=R(A),v+=f[v].value,v+=O&(1<<U)-1),B(A,A.u+f[v].g),f[v].value}function jr(f,v,A){return A.g+=f.g,A.value+=f.value<<v>>>0,s(8>=A.g),f.g}function gr(f,v,A){var O=f.xc;return s((v=O==0?0:f.vc[f.md*(A>>O)+(v>>O)])<f.Wb),f.Ya[v]}function V(f,v,A,O){var U=f.ab,q=f.c*v,G=f.C;v=G+v;var K=A,Z=O;for(O=f.Ta,A=f.Ua;0<U--;){var se=f.gc[U],ge=G,Ae=v,_e=K,we=Z,He=(Z=O,K=A,se.Ea);switch(s(ge<Ae),s(Ae<=se.nc),se.hc){case 2:Rl(_e,we,(Ae-ge)*He,Z,K);break;case 0:var Oe=ge,ve=Ae,be=Z,Be=K,ze=(nt=se).Ea;Oe==0&&(Pd(_e,we,null,null,1,be,Be),Tt(_e,we+1,0,0,ze-1,be,Be+1),we+=ze,Be+=ze,++Oe);for(var Ue=1<<nt.b,dt=Ue-1,st=tt(ze,nt.b),gt=nt.K,nt=nt.w+(Oe>>nt.b)*st;Oe<ve;){var qt=gt,Gt=nt,Ut=1;for(Co(_e,we,be,Be-ze,1,be,Be);Ut<ze;){var It=(Ut&~dt)+Ue;It>ze&&(It=ze),(0,dn[qt[Gt++]>>8&15])(_e,we+ +Ut,be,Be+Ut-ze,It-Ut,be,Be+Ut),Ut=It}we+=ze,Be+=ze,++Oe&dt||(nt+=st)}Ae!=se.nc&&a(Z,K-He,Z,K+(Ae-ge-1)*He,He);break;case 1:for(He=_e,ve=we,ze=(_e=se.Ea)-(Be=_e&~(be=(we=1<<se.b)-1)),Oe=tt(_e,se.b),Ue=se.K,se=se.w+(ge>>se.b)*Oe;ge<Ae;){for(dt=Ue,st=se,gt=new rt,nt=ve+Be,qt=ve+_e;ve<nt;)Dt(dt[st++],gt),Wn(gt,He,ve,we,Z,K),ve+=we,K+=we;ve<qt&&(Dt(dt[st++],gt),Wn(gt,He,ve,ze,Z,K),ve+=ze,K+=ze),++ge&be||(se+=Oe)}break;case 3:if(_e==Z&&we==K&&0<se.b){for(ve=Z,_e=He=K+(Ae-ge)*He-(Be=(Ae-ge)*tt(se.Ea,se.b)),we=Z,be=K,Oe=[],Be=(ze=Be)-1;0<=Be;--Be)Oe[Be]=we[be+Be];for(Be=ze-1;0<=Be;--Be)ve[_e+Be]=Oe[Be];Xs(se,ge,Ae,Z,He,Z,K)}else Xs(se,ge,Ae,_e,we,Z,K)}K=O,Z=A}Z!=A&&a(O,A,K,Z,q)}function le(f,v){var A=f.V,O=f.Ba+f.c*f.C,U=v-f.C;if(s(v<=f.l.o),s(16>=U),0<U){var q=f.l,G=f.Ta,K=f.Ua,Z=q.width;if(V(f,U,A,O),U=K=[K],s((A=f.C)<(O=v)),s(q.v<q.va),O>q.o&&(O=q.o),A<q.j){var se=q.j-A;A=q.j,U[0]+=se*Z}if(A>=O?A=0:(U[0]+=4*q.v,q.ka=A-q.j,q.U=q.va-q.v,q.T=O-A,A=1),A){if(K=K[0],11>(A=f.ca).S){var ge=A.f.RGBA,Ae=(O=A.S,U=q.U,q=q.T,se=ge.eb,ge.A),_e=q;for(ge=ge.fb+f.Ma*ge.A;0<_e--;){var we=G,He=K,Oe=U,ve=se,be=ge;switch(O){case ql:ks(we,He,Oe,ve,be);break;case zl:ms(we,He,Oe,ve,be);break;case Od:ms(we,He,Oe,ve,be),Zs(ve,be,0,Oe,1,0);break;case yh:Ga(we,He,Oe,ve,be);break;case Vl:or(we,He,Oe,ve,be,1);break;case Dd:or(we,He,Oe,ve,be,1),Zs(ve,be,0,Oe,1,0);break;case $l:or(we,He,Oe,ve,be,0);break;case Gl:or(we,He,Oe,ve,be,0),Zs(ve,be,1,Oe,1,0);break;case Ld:hn(we,He,Oe,ve,be);break;case Id:hn(we,He,Oe,ve,be),lr(ve,be,Oe,1,0);break;case bh:$a(we,He,Oe,ve,be);break;default:s(0)}K+=Z,ge+=Ae}f.Ma+=q}else alert("todo:EmitRescaledRowsYUVA");s(f.Ma<=A.height)}}f.C=v,s(f.C<=f.i)}function te(f){var v;if(0<f.ua)return 0;for(v=0;v<f.Wb;++v){var A=f.Ya[v].G,O=f.Ya[v].H;if(0<A[1][O[1]+0].g||0<A[2][O[2]+0].g||0<A[3][O[3]+0].g)return 0}return 1}function re(f,v,A,O,U,q){if(f.Z!=0){var G=f.qd,K=f.rd;for(s(xn[f.Z]!=null);v<A;++v)xn[f.Z](G,K,O,U,O,U,q),G=O,K=U,U+=q;f.qd=G,f.rd=K}}function oe(f,v){var A=f.l.ma,O=A.Z==0||A.Z==1?f.l.j:f.C;if(O=f.C<O?O:f.C,s(v<=f.l.o),v>O){var U=f.l.width,q=A.ca,G=A.tb+U*O,K=f.V,Z=f.Ba+f.c*O,se=f.gc;s(f.ab==1),s(se[0].hc==3),Ml(se[0],O,v,K,Z,q,G),re(A,O,v,q,G,U)}f.C=f.Ma=v}function ce(f,v,A,O,U,q,G){var K=f.$/O,Z=f.$%O,se=f.m,ge=f.s,Ae=A+f.$,_e=Ae;U=A+O*U;var we=A+O*q,He=280+ge.ua,Oe=f.Pb?K:16777216,ve=0<ge.ua?ge.Wa:null,be=ge.wc,Be=Ae<we?gr(ge,Z,K):null;s(f.C<q),s(we<=U);var ze=!1;e:for(;;){for(;ze||Ae<we;){var Ue=0;if(K>=Oe){var dt=Ae-A;s((Oe=f).Pb),Oe.wd=Oe.m,Oe.xd=dt,0<Oe.s.ua&&Ee(Oe.s.Wa,Oe.s.vb),Oe=K+yp}if(Z&be||(Be=gr(ge,Z,K)),s(Be!=null),Be.Qb&&(v[Ae]=Be.qb,ze=!0),!ze)if(Y(se),Be.jc){Ue=se,dt=v;var st=Ae,gt=Be.pd[R(Ue)&Kr-1];s(Be.jc),256>gt.g?(B(Ue,Ue.u+gt.g),dt[st]=gt.value,Ue=0):(B(Ue,Ue.u+gt.g-256),s(256<=gt.value),Ue=gt.value),Ue==0&&(ze=!0)}else Ue=ss(Be.G[0],Be.H[0],se);if(se.h)break;if(ze||256>Ue){if(!ze)if(Be.nd)v[Ae]=(Be.qb|Ue<<8)>>>0;else{if(Y(se),ze=ss(Be.G[1],Be.H[1],se),Y(se),dt=ss(Be.G[2],Be.H[2],se),st=ss(Be.G[3],Be.H[3],se),se.h)break;v[Ae]=(st<<24|ze<<16|Ue<<8|dt)>>>0}if(ze=!1,++Ae,++Z>=O&&(Z=0,++K,G!=null&&K<=q&&!(K%16)&&G(f,K),ve!=null))for(;_e<Ae;)Ue=v[_e++],ve.X[(506832829*Ue&4294967295)>>>ve.Mb]=Ue}else if(280>Ue){if(Ue=Ds(Ue-256,se),dt=ss(Be.G[4],Be.H[4],se),Y(se),dt=Ns(O,dt=Ds(dt,se)),se.h)break;if(Ae-A<dt||U-Ae<Ue)break e;for(st=0;st<Ue;++st)v[Ae+st]=v[Ae+st-dt];for(Ae+=Ue,Z+=Ue;Z>=O;)Z-=O,++K,G!=null&&K<=q&&!(K%16)&&G(f,K);if(s(Ae<=U),Z&be&&(Be=gr(ge,Z,K)),ve!=null)for(;_e<Ae;)Ue=v[_e++],ve.X[(506832829*Ue&4294967295)>>>ve.Mb]=Ue}else{if(!(Ue<He))break e;for(ze=Ue-280,s(ve!=null);_e<Ae;)Ue=v[_e++],ve.X[(506832829*Ue&4294967295)>>>ve.Mb]=Ue;Ue=Ae,s(!(ze>>>(dt=ve).Xa)),v[Ue]=dt.X[ze],ze=!0}ze||s(se.h==M(se))}if(f.Pb&&se.h&&Ae<U)s(f.m.h),f.a=5,f.m=f.wd,f.$=f.xd,0<f.s.ua&&Ee(f.s.vb,f.s.Wa);else{if(se.h)break e;G!=null&&G(f,K>q?q:K),f.a=0,f.$=Ae-A}return 1}return f.a=3,0}function ke(f){s(f!=null),f.vc=null,f.yc=null,f.Ya=null;var v=f.Wa;v!=null&&(v.X=null),f.vb=null,s(f!=null)}function Le(){var f=new Ed;return f==null?null:(f.a=0,f.xb=jh,Gs("Predictor","VP8LPredictors"),Gs("Predictor","VP8LPredictors_C"),Gs("PredictorAdd","VP8LPredictorsAdd"),Gs("PredictorAdd","VP8LPredictorsAdd_C"),Rl=Ot,Wn=yt,ks=it,ms=Rr,hn=Rt,$a=ws,Ga=Vt,C.VP8LMapColor32b=_i,C.VP8LMapColor8b=Bl,f)}function Se(f,v,A,O,U){var q=1,G=[f],K=[v],Z=O.m,se=O.s,ge=null,Ae=0;e:for(;;){if(A)for(;q&&pe(Z,1);){var _e=G,we=K,He=O,Oe=1,ve=He.m,be=He.gc[He.ab],Be=pe(ve,2);if(He.Oc&1<<Be)q=0;else{switch(He.Oc|=1<<Be,be.hc=Be,be.Ea=_e[0],be.nc=we[0],be.K=[null],++He.ab,s(4>=He.ab),Be){case 0:case 1:be.b=pe(ve,3)+2,Oe=Se(tt(be.Ea,be.b),tt(be.nc,be.b),0,He,be.K),be.K=be.K[0];break;case 3:var ze,Ue=pe(ve,8)+1,dt=16<Ue?0:4<Ue?1:2<Ue?2:3;if(_e[0]=tt(be.Ea,dt),be.b=dt,ze=Oe=Se(Ue,1,0,He,be.K)){var st,gt=Ue,nt=be,qt=1<<(8>>nt.b),Gt=o(qt);if(Gt==null)ze=0;else{var Ut=nt.K[0],It=nt.w;for(Gt[0]=nt.K[0][0],st=1;st<1*gt;++st)Gt[st]=$e(Ut[It+st],Gt[st-1]);for(;st<4*qt;++st)Gt[st]=0;nt.K[0]=null,nt.K[0]=Gt,ze=1}}Oe=ze;break;case 2:break;default:s(0)}q=Oe}}if(G=G[0],K=K[0],q&&pe(Z,1)&&!(q=1<=(Ae=pe(Z,4))&&11>=Ae)){O.a=3;break e}var ar;if(ar=q)t:{var tr,Et,Fr,As=O,Lr=G,_s=K,Yt=Ae,Bs=A,Us=As.m,zr=As.s,Xr=[null],ps=1,ra=0,Pa=vp[Yt];r:for(;;){if(Bs&&pe(Us,1)){var Vr=pe(Us,3)+2,Ja=tt(Lr,Vr),Gn=tt(_s,Vr),Fi=Ja*Gn;if(!Se(Ja,Gn,0,As,Xr))break r;for(Xr=Xr[0],zr.xc=Vr,tr=0;tr<Fi;++tr){var pn=Xr[tr]>>8&65535;Xr[tr]=pn,pn>=ps&&(ps=pn+1)}}if(Us.h)break r;for(Et=0;5>Et;++Et){var yr=wh[Et];!Et&&0<Yt&&(yr+=1<<Yt),ra<yr&&(ra=yr)}var Ud=l(ps*Pa,P),Ph=ps,Fh=l(Ph,z);if(Fh==null)var Jl=null;else s(65536>=Ph),Jl=Fh;var Do=o(ra);if(Jl==null||Do==null||Ud==null){As.a=1;break r}var Ql=Ud;for(tr=Fr=0;tr<ps;++tr){var fa=Jl[tr],Li=fa.G,Oi=fa.H,Lh=0,Zl=1,Oh=0;for(Et=0;5>Et;++Et){yr=wh[Et],Li[Et]=Ql,Oi[Et]=Fr,!Et&&0<Yt&&(yr+=1<<Yt);a:{var ec,Hd=yr,tc=As,Io=Do,Bp=Ql,Up=Fr,Wd=0,gn=tc.m,Hp=pe(gn,1);if(n(Io,0,0,Hd),Hp){var Wp=pe(gn,1)+1,qp=pe(gn,1),Dh=pe(gn,qp==0?1:8);Io[Dh]=1,Wp==2&&(Io[Dh=pe(gn,8)]=1);var rc=1}else{var Ih=o(19),Rh=pe(gn,4)+4;if(19<Rh){tc.a=3;var sc=0;break a}for(ec=0;ec<Rh;++ec)Ih[pp[ec]]=pe(gn,3);var qd=void 0,Ro=void 0,Mh=tc,zp=Ih,ac=Hd,Bh=Io,zd=0,vn=Mh.m,Uh=8,Hh=l(128,P);s:for(;E(Hh,0,7,zp,19);){if(pe(vn,1)){var Vp=2+2*pe(vn,3);if((qd=2+pe(vn,Vp))>ac)break s}else qd=ac;for(Ro=0;Ro<ac&&qd--;){Y(vn);var Wh=Hh[0+(127&R(vn))];B(vn,vn.u+Wh.g);var Di=Wh.value;if(16>Di)Bh[Ro++]=Di,Di!=0&&(Uh=Di);else{var $p=Di==16,qh=Di-16,Gp=mp[qh],zh=pe(vn,fp[qh])+Gp;if(Ro+zh>ac)break s;for(var Yp=$p?Uh:0;0<zh--;)Bh[Ro++]=Yp}}zd=1;break s}zd||(Mh.a=3),rc=zd}(rc=rc&&!gn.h)&&(Wd=E(Bp,Up,8,Io,Hd)),rc&&Wd!=0?sc=Wd:(tc.a=3,sc=0)}if(sc==0)break r;if(Zl&&xp[Et]==1&&(Zl=Ql[Fr].g==0),Lh+=Ql[Fr].g,Fr+=sc,3>=Et){var Mo,Vd=Do[0];for(Mo=1;Mo<yr;++Mo)Do[Mo]>Vd&&(Vd=Do[Mo]);Oh+=Vd}}if(fa.nd=Zl,fa.Qb=0,Zl&&(fa.qb=(Li[3][Oi[3]+0].value<<24|Li[1][Oi[1]+0].value<<16|Li[2][Oi[2]+0].value)>>>0,Lh==0&&256>Li[0][Oi[0]+0].value&&(fa.Qb=1,fa.qb+=Li[0][Oi[0]+0].value<<8)),fa.jc=!fa.Qb&&6>Oh,fa.jc){var nc,Qa=fa;for(nc=0;nc<Kr;++nc){var yn=nc,bn=Qa.pd[yn],ic=Qa.G[0][Qa.H[0]+yn];256<=ic.value?(bn.g=ic.g+256,bn.value=ic.value):(bn.g=0,bn.value=0,yn>>=jr(ic,8,bn),yn>>=jr(Qa.G[1][Qa.H[1]+yn],16,bn),yn>>=jr(Qa.G[2][Qa.H[2]+yn],0,bn),jr(Qa.G[3][Qa.H[3]+yn],24,bn))}}}zr.vc=Xr,zr.Wb=ps,zr.Ya=Jl,zr.yc=Ud,ar=1;break t}ar=0}if(!(q=ar)){O.a=3;break e}if(0<Ae){if(se.ua=1<<Ae,!Ke(se.Wa,Ae)){O.a=1,q=0;break e}}else se.ua=0;var $d=O,Vh=G,Kp=K,Gd=$d.s,Yd=Gd.xc;if($d.c=Vh,$d.i=Kp,Gd.md=tt(Vh,Yd),Gd.wc=Yd==0?-1:(1<<Yd)-1,A){O.xb=Ap;break e}if((ge=o(G*K))==null){O.a=1,q=0;break e}q=(q=ce(O,ge,0,G,K,K,null))&&!Z.h;break e}return q?(U!=null?U[0]=ge:(s(ge==null),s(A)),O.$=0,A||ke(se)):ke(se),q}function Ce(f,v){var A=f.c*f.i,O=A+v+16*v;return s(f.c<=v),f.V=o(O),f.V==null?(f.Ta=null,f.Ua=0,f.a=1,0):(f.Ta=f.V,f.Ua=f.Ba+A+v,1)}function Te(f,v){var A=f.C,O=v-A,U=f.V,q=f.Ba+f.c*A;for(s(v<=f.l.o);0<O;){var G=16<O?16:O,K=f.l.ma,Z=f.l.width,se=Z*G,ge=K.ca,Ae=K.tb+Z*A,_e=f.Ta,we=f.Ua;V(f,G,U,q),Ar(_e,we,ge,Ae,se),re(K,A,A+G,ge,Ae,Z),O-=G,U+=G*f.c,A+=G}s(A==v),f.C=f.Ma=v}function Ye(){this.ub=this.yd=this.td=this.Rb=0}function Qe(){this.Kd=this.Ld=this.Ud=this.Td=this.i=this.c=0}function lt(){this.Fb=this.Bb=this.Cb=0,this.Zb=o(4),this.Lb=o(4)}function Xe(){this.Yb=function(){var f=[];return function v(A,O,U){for(var q=U[O],G=0;G<q&&(A.push(U.length>O+1?[]:0),!(U.length<O+1));G++)v(A[G],O+1,U)}(f,0,[3,11]),f}()}function ot(){this.jb=o(3),this.Wc=c([4,8],Xe),this.Xc=c([4,17],Xe)}function wt(){this.Pc=this.wb=this.Tb=this.zd=0,this.vd=new o(4),this.od=new o(4)}function $t(){this.ld=this.La=this.dd=this.tc=0}function er(){this.Na=this.la=0}function Er(){this.Sc=[0,0],this.Eb=[0,0],this.Qc=[0,0],this.ia=this.lc=0}function oa(){this.ad=o(384),this.Za=0,this.Ob=o(16),this.$b=this.Ad=this.ia=this.Gc=this.Hc=this.Dd=0}function qa(){this.uc=this.M=this.Nb=0,this.wa=Array(new $t),this.Y=0,this.ya=Array(new oa),this.aa=0,this.l=new _a}function Aa(){this.y=o(16),this.f=o(8),this.ea=o(8)}function la(){this.cb=this.a=0,this.sc="",this.m=new ye,this.Od=new Ye,this.Kc=new Qe,this.ed=new wt,this.Qa=new lt,this.Ic=this.$c=this.Aa=0,this.D=new qa,this.Xb=this.Va=this.Hb=this.zb=this.yb=this.Ub=this.za=0,this.Jc=l(8,ye),this.ia=0,this.pb=l(4,Er),this.Pa=new ot,this.Bd=this.kc=0,this.Ac=[],this.Bc=0,this.zc=[0,0,0,0],this.Gd=Array(new Aa),this.Hd=0,this.rb=Array(new er),this.sb=0,this.wa=Array(new $t),this.Y=0,this.oc=[],this.pc=0,this.sa=[],this.ta=0,this.qa=[],this.ra=0,this.Ha=[],this.B=this.R=this.Ia=0,this.Ec=[],this.M=this.ja=this.Vb=this.Fc=0,this.ya=Array(new oa),this.L=this.aa=0,this.gd=c([4,2],$t),this.ga=null,this.Fa=[],this.Cc=this.qc=this.P=0,this.Gb=[],this.Uc=0,this.mb=[],this.nb=0,this.rc=[],this.Ga=this.Vc=0}function _a(){this.T=this.U=this.ka=this.height=this.width=0,this.y=[],this.f=[],this.ea=[],this.Rc=this.fa=this.W=this.N=this.O=0,this.ma="void",this.put="VP8IoPutHook",this.ac="VP8IoSetupHook",this.bc="VP8IoTeardownHook",this.ha=this.Kb=0,this.data=[],this.hb=this.ib=this.da=this.o=this.j=this.va=this.v=this.Da=this.ob=this.w=0,this.F=[],this.J=0}function Is(){var f=new la;return f!=null&&(f.a=0,f.sc="OK",f.cb=0,f.Xb=0,Lo||(Lo=Nl)),f}function Sr(f,v,A){return f.a==0&&(f.a=v,f.sc=A,f.cb=0),0}function bl(f,v,A){return 3<=A&&f[v+0]==157&&f[v+1]==1&&f[v+2]==42}function wl(f,v){if(f==null)return 0;if(f.a=0,f.sc="OK",v==null)return Sr(f,2,"null VP8Io passed to VP8GetHeaders()");var A=v.data,O=v.w,U=v.ha;if(4>U)return Sr(f,7,"Truncated header.");var q=A[O+0]|A[O+1]<<8|A[O+2]<<16,G=f.Od;if(G.Rb=!(1&q),G.td=q>>1&7,G.yd=q>>4&1,G.ub=q>>5,3<G.td)return Sr(f,3,"Incorrect keyframe parameters.");if(!G.yd)return Sr(f,4,"Frame not displayable.");O+=3,U-=3;var K=f.Kc;if(G.Rb){if(7>U)return Sr(f,7,"cannot parse picture header");if(!bl(A,O,U))return Sr(f,3,"Bad code word");K.c=16383&(A[O+4]<<8|A[O+3]),K.Td=A[O+4]>>6,K.i=16383&(A[O+6]<<8|A[O+5]),K.Ud=A[O+6]>>6,O+=7,U-=7,f.za=K.c+15>>4,f.Ub=K.i+15>>4,v.width=K.c,v.height=K.i,v.Da=0,v.j=0,v.v=0,v.va=v.width,v.o=v.height,v.da=0,v.ib=v.width,v.hb=v.height,v.U=v.width,v.T=v.height,n((q=f.Pa).jb,0,255,q.jb.length),s((q=f.Qa)!=null),q.Cb=0,q.Bb=0,q.Fb=1,n(q.Zb,0,0,q.Zb.length),n(q.Lb,0,0,q.Lb)}if(G.ub>U)return Sr(f,7,"bad partition length");ue(q=f.m,A,O,G.ub),O+=G.ub,U-=G.ub,G.Rb&&(K.Ld=ae(q),K.Kd=ae(q)),K=f.Qa;var Z,se=f.Pa;if(s(q!=null),s(K!=null),K.Cb=ae(q),K.Cb){if(K.Bb=ae(q),ae(q)){for(K.Fb=ae(q),Z=0;4>Z;++Z)K.Zb[Z]=ae(q)?ee(q,7):0;for(Z=0;4>Z;++Z)K.Lb[Z]=ae(q)?ee(q,6):0}if(K.Bb)for(Z=0;3>Z;++Z)se.jb[Z]=ae(q)?Q(q,8):255}else K.Bb=0;if(q.Ka)return Sr(f,3,"cannot parse segment header");if((K=f.ed).zd=ae(q),K.Tb=Q(q,6),K.wb=Q(q,3),K.Pc=ae(q),K.Pc&&ae(q)){for(se=0;4>se;++se)ae(q)&&(K.vd[se]=ee(q,6));for(se=0;4>se;++se)ae(q)&&(K.od[se]=ee(q,6))}if(f.L=K.Tb==0?0:K.zd?1:2,q.Ka)return Sr(f,3,"cannot parse filter header");var ge=U;if(U=Z=O,O=Z+ge,K=ge,f.Xb=(1<<Q(f.m,2))-1,ge<3*(se=f.Xb))A=7;else{for(Z+=3*se,K-=3*se,ge=0;ge<se;++ge){var Ae=A[U+0]|A[U+1]<<8|A[U+2]<<16;Ae>K&&(Ae=K),ue(f.Jc[+ge],A,Z,Ae),Z+=Ae,K-=Ae,U+=3}ue(f.Jc[+se],A,Z,K),A=Z<O?0:5}if(A!=0)return Sr(f,A,"cannot parse partitions");for(A=Q(Z=f.m,7),U=ae(Z)?ee(Z,4):0,O=ae(Z)?ee(Z,4):0,K=ae(Z)?ee(Z,4):0,se=ae(Z)?ee(Z,4):0,Z=ae(Z)?ee(Z,4):0,ge=f.Qa,Ae=0;4>Ae;++Ae){if(ge.Cb){var _e=ge.Zb[Ae];ge.Fb||(_e+=A)}else{if(0<Ae){f.pb[Ae]=f.pb[0];continue}_e=A}var we=f.pb[Ae];we.Sc[0]=Rd[Rs(_e+U,127)],we.Sc[1]=Md[Rs(_e+0,127)],we.Eb[0]=2*Rd[Rs(_e+O,127)],we.Eb[1]=101581*Md[Rs(_e+K,127)]>>16,8>we.Eb[1]&&(we.Eb[1]=8),we.Qc[0]=Rd[Rs(_e+se,117)],we.Qc[1]=Md[Rs(_e+Z,127)],we.lc=_e+Z}if(!G.Rb)return Sr(f,4,"Not a key frame.");for(ae(q),G=f.Pa,A=0;4>A;++A){for(U=0;8>U;++U)for(O=0;3>O;++O)for(K=0;11>K;++K)se=X(q,Sp[A][U][O][K])?Q(q,8):Np[A][U][O][K],G.Wc[A][U].Yb[O][K]=se;for(U=0;17>U;++U)G.Xc[A][U]=G.Wc[A][kp[U]]}return f.kc=ae(q),f.kc&&(f.Bd=Q(q,8)),f.cb=1}function Nl(f,v,A,O,U,q,G){var K=v[U].Yb[A];for(A=0;16>U;++U){if(!X(f,K[A+0]))return U;for(;!X(f,K[A+1]);)if(K=v[++U].Yb[0],A=0,U==16)return 16;var Z=v[U+1].Yb;if(X(f,K[A+2])){var se=f,ge=0;if(X(se,(_e=K)[(Ae=A)+3]))if(X(se,_e[Ae+6])){for(K=0,Ae=2*(ge=X(se,_e[Ae+8]))+(_e=X(se,_e[Ae+9+ge])),ge=0,_e=bp[Ae];_e[K];++K)ge+=ge+X(se,_e[K]);ge+=3+(8<<Ae)}else X(se,_e[Ae+7])?(ge=7+2*X(se,165),ge+=X(se,145)):ge=5+X(se,159);else ge=X(se,_e[Ae+4])?3+X(se,_e[Ae+5]):2;K=Z[2]}else ge=1,K=Z[1];Z=G+wp[U],0>(se=f).b&&fe(se);var Ae,_e=se.b,we=(Ae=se.Ca>>1)-(se.I>>_e)>>31;--se.b,se.Ca+=we,se.Ca|=1,se.I-=(Ae+1&we)<<_e,q[Z]=((ge^we)-we)*O[(0<U)+0]}return 16}function co(f){var v=f.rb[f.sb-1];v.la=0,v.Na=0,n(f.zc,0,0,f.zc.length),f.ja=0}function fd(f,v){if(f==null)return 0;if(v==null)return Sr(f,2,"NULL VP8Io parameter in VP8Decode().");if(!f.cb&&!wl(f,v))return 0;if(s(f.cb),v.ac==null||v.ac(v)){v.ob&&(f.L=0);var A=Xl[f.L];if(f.L==2?(f.yb=0,f.zb=0):(f.yb=v.v-A>>4,f.zb=v.j-A>>4,0>f.yb&&(f.yb=0),0>f.zb&&(f.zb=0)),f.Va=v.o+15+A>>4,f.Hb=v.va+15+A>>4,f.Hb>f.za&&(f.Hb=f.za),f.Va>f.Ub&&(f.Va=f.Ub),0<f.L){var O=f.ed;for(A=0;4>A;++A){var U;if(f.Qa.Cb){var q=f.Qa.Lb[A];f.Qa.Fb||(q+=O.Tb)}else q=O.Tb;for(U=0;1>=U;++U){var G=f.gd[A][U],K=q;if(O.Pc&&(K+=O.vd[0],U&&(K+=O.od[0])),0<(K=0>K?0:63<K?63:K)){var Z=K;0<O.wb&&(Z=4<O.wb?Z>>2:Z>>1)>9-O.wb&&(Z=9-O.wb),1>Z&&(Z=1),G.dd=Z,G.tc=2*K+Z,G.ld=40<=K?2:15<=K?1:0}else G.tc=0;G.La=U}}}A=0}else Sr(f,6,"Frame setup failed"),A=f.a;if(A=A==0){if(A){f.$c=0,0<f.Aa||(f.Ic=Mp);e:{A=f.Ic,O=4*(Z=f.za);var se=32*Z,ge=Z+1,Ae=0<f.L?Z*(0<f.Aa?2:1):0,_e=(f.Aa==2?2:1)*Z;if((G=O+832+(U=3*(16*A+Xl[f.L])/2*se)+(q=f.Fa!=null&&0<f.Fa.length?f.Kc.c*f.Kc.i:0))!=G)A=0;else{if(G>f.Vb){if(f.Vb=0,f.Ec=o(G),f.Fc=0,f.Ec==null){A=Sr(f,1,"no memory during frame initialization.");break e}f.Vb=G}G=f.Ec,K=f.Fc,f.Ac=G,f.Bc=K,K+=O,f.Gd=l(se,Aa),f.Hd=0,f.rb=l(ge+1,er),f.sb=1,f.wa=Ae?l(Ae,$t):null,f.Y=0,f.D.Nb=0,f.D.wa=f.wa,f.D.Y=f.Y,0<f.Aa&&(f.D.Y+=Z),s(!0),f.oc=G,f.pc=K,K+=832,f.ya=l(_e,oa),f.aa=0,f.D.ya=f.ya,f.D.aa=f.aa,f.Aa==2&&(f.D.aa+=Z),f.R=16*Z,f.B=8*Z,Z=(se=Xl[f.L])*f.R,se=se/2*f.B,f.sa=G,f.ta=K+Z,f.qa=f.sa,f.ra=f.ta+16*A*f.R+se,f.Ha=f.qa,f.Ia=f.ra+8*A*f.B+se,f.$c=0,K+=U,f.mb=q?G:null,f.nb=q?K:null,s(K+q<=f.Fc+f.Vb),co(f),n(f.Ac,f.Bc,0,O),A=1}}if(A){if(v.ka=0,v.y=f.sa,v.O=f.ta,v.f=f.qa,v.N=f.ra,v.ea=f.Ha,v.Vd=f.Ia,v.fa=f.R,v.Rc=f.B,v.F=null,v.J=0,!Hl){for(A=-255;255>=A;++A)Br[255+A]=0>A?-A:A;for(A=-1020;1020>=A;++A)Ka[1020+A]=-128>A?-128:127<A?127:A;for(A=-112;112>=A;++A)Fo[112+A]=-16>A?-16:15<A?15:A;for(A=-255;510>=A;++A)Pi[255+A]=0>A?0:255<A?255:A;Hl=1}Ci=pd,Ya=md,To=Sl,xs=xd,Js=kl,kr=jl,Ti=po,Ul=Un,Eo=Td,qn=go,zn=Cd,un=yi,Vn=vo,Ei=Ol,$n=Ll,fn=Ta,Po=Va,Qs=_d,ua[0]=Ca,ua[1]=gd,ua[2]=wd,ua[3]=Nd,ua[4]=Cl,ua[5]=gi,ua[6]=Tl,ua[7]=fo,ua[8]=Sd,ua[9]=jd,mn[0]=Al,mn[1]=yd,mn[2]=za,mn[3]=xi,mn[4]=as,mn[5]=bd,mn[6]=_l,Xa[0]=on,Xa[1]=vd,Xa[2]=kd,Xa[3]=mo,Xa[4]=Bn,Xa[5]=Ad,Xa[6]=xo,A=1}else A=0}A&&(A=function(we,He){for(we.M=0;we.M<we.Va;++we.M){var Oe,ve=we.Jc[we.M&we.Xb],be=we.m,Be=we;for(Oe=0;Oe<Be.za;++Oe){var ze=be,Ue=Be,dt=Ue.Ac,st=Ue.Bc+4*Oe,gt=Ue.zc,nt=Ue.ya[Ue.aa+Oe];if(Ue.Qa.Bb?nt.$b=X(ze,Ue.Pa.jb[0])?2+X(ze,Ue.Pa.jb[2]):X(ze,Ue.Pa.jb[1]):nt.$b=0,Ue.kc&&(nt.Ad=X(ze,Ue.Bd)),nt.Za=!X(ze,145)+0,nt.Za){var qt=nt.Ob,Gt=0;for(Ue=0;4>Ue;++Ue){var Ut,It=gt[0+Ue];for(Ut=0;4>Ut;++Ut){It=jp[dt[st+Ut]][It];for(var ar=Nh[X(ze,It[0])];0<ar;)ar=Nh[2*ar+X(ze,It[ar])];It=-ar,dt[st+Ut]=It}a(qt,Gt,dt,st,4),Gt+=4,gt[0+Ue]=It}}else It=X(ze,156)?X(ze,128)?1:3:X(ze,163)?2:0,nt.Ob[0]=It,n(dt,st,It,4),n(gt,0,It,4);nt.Dd=X(ze,142)?X(ze,114)?X(ze,183)?1:3:2:0}if(Be.m.Ka)return Sr(we,7,"Premature end-of-partition0 encountered.");for(;we.ja<we.za;++we.ja){if(Be=ve,ze=(be=we).rb[be.sb-1],dt=be.rb[be.sb+be.ja],Oe=be.ya[be.aa+be.ja],st=be.kc?Oe.Ad:0)ze.la=dt.la=0,Oe.Za||(ze.Na=dt.Na=0),Oe.Hc=0,Oe.Gc=0,Oe.ia=0;else{var tr,Et;if(ze=dt,dt=Be,st=be.Pa.Xc,gt=be.ya[be.aa+be.ja],nt=be.pb[gt.$b],Ue=gt.ad,qt=0,Gt=be.rb[be.sb-1],It=Ut=0,n(Ue,qt,0,384),gt.Za)var Fr=0,As=st[3];else{ar=o(16);var Lr=ze.Na+Gt.Na;if(Lr=Lo(dt,st[1],Lr,nt.Eb,0,ar,0),ze.Na=Gt.Na=(0<Lr)+0,1<Lr)Ci(ar,0,Ue,qt);else{var _s=ar[0]+3>>3;for(ar=0;256>ar;ar+=16)Ue[qt+ar]=_s}Fr=1,As=st[0]}var Yt=15&ze.la,Bs=15&Gt.la;for(ar=0;4>ar;++ar){var Us=1&Bs;for(_s=Et=0;4>_s;++_s)Yt=Yt>>1|(Us=(Lr=Lo(dt,As,Lr=Us+(1&Yt),nt.Sc,Fr,Ue,qt))>Fr)<<7,Et=Et<<2|(3<Lr?3:1<Lr?2:Ue[qt+0]!=0),qt+=16;Yt>>=4,Bs=Bs>>1|Us<<7,Ut=(Ut<<8|Et)>>>0}for(As=Yt,Fr=Bs>>4,tr=0;4>tr;tr+=2){for(Et=0,Yt=ze.la>>4+tr,Bs=Gt.la>>4+tr,ar=0;2>ar;++ar){for(Us=1&Bs,_s=0;2>_s;++_s)Lr=Us+(1&Yt),Yt=Yt>>1|(Us=0<(Lr=Lo(dt,st[2],Lr,nt.Qc,0,Ue,qt)))<<3,Et=Et<<2|(3<Lr?3:1<Lr?2:Ue[qt+0]!=0),qt+=16;Yt>>=2,Bs=Bs>>1|Us<<5}It|=Et<<4*tr,As|=Yt<<4<<tr,Fr|=(240&Bs)<<tr}ze.la=As,Gt.la=Fr,gt.Hc=Ut,gt.Gc=It,gt.ia=43690&It?0:nt.ia,st=!(Ut|It)}if(0<be.L&&(be.wa[be.Y+be.ja]=be.gd[Oe.$b][Oe.Za],be.wa[be.Y+be.ja].La|=!st),Be.Ka)return Sr(we,7,"Premature end-of-file encountered.")}if(co(we),be=He,Be=1,Oe=(ve=we).D,ze=0<ve.L&&ve.M>=ve.zb&&ve.M<=ve.Va,ve.Aa==0)e:{if(Oe.M=ve.M,Oe.uc=ze,So(ve,Oe),Be=1,Oe=(Et=ve.D).Nb,ze=(It=Xl[ve.L])*ve.R,dt=It/2*ve.B,ar=16*Oe*ve.R,_s=8*Oe*ve.B,st=ve.sa,gt=ve.ta-ze+ar,nt=ve.qa,Ue=ve.ra-dt+_s,qt=ve.Ha,Gt=ve.Ia-dt+_s,Bs=(Yt=Et.M)==0,Ut=Yt>=ve.Va-1,ve.Aa==2&&So(ve,Et),Et.uc)for(Us=(Lr=ve).D.M,s(Lr.D.uc),Et=Lr.yb;Et<Lr.Hb;++Et){Fr=Et,As=Us;var zr=(Xr=(yr=Lr).D).Nb;tr=yr.R;var Xr=Xr.wa[Xr.Y+Fr],ps=yr.sa,ra=yr.ta+16*zr*tr+16*Fr,Pa=Xr.dd,Vr=Xr.tc;if(Vr!=0)if(s(3<=Vr),yr.L==1)0<Fr&&fn(ps,ra,tr,Vr+4),Xr.La&&Qs(ps,ra,tr,Vr),0<As&&$n(ps,ra,tr,Vr+4),Xr.La&&Po(ps,ra,tr,Vr);else{var Ja=yr.B,Gn=yr.qa,Fi=yr.ra+8*zr*Ja+8*Fr,pn=yr.Ha,yr=yr.Ia+8*zr*Ja+8*Fr;zr=Xr.ld,0<Fr&&(Ul(ps,ra,tr,Vr+4,Pa,zr),qn(Gn,Fi,pn,yr,Ja,Vr+4,Pa,zr)),Xr.La&&(un(ps,ra,tr,Vr,Pa,zr),Ei(Gn,Fi,pn,yr,Ja,Vr,Pa,zr)),0<As&&(Ti(ps,ra,tr,Vr+4,Pa,zr),Eo(Gn,Fi,pn,yr,Ja,Vr+4,Pa,zr)),Xr.La&&(zn(ps,ra,tr,Vr,Pa,zr),Vn(Gn,Fi,pn,yr,Ja,Vr,Pa,zr))}}if(ve.ia&&alert("todo:DitherRow"),be.put!=null){if(Et=16*Yt,Yt=16*(Yt+1),Bs?(be.y=ve.sa,be.O=ve.ta+ar,be.f=ve.qa,be.N=ve.ra+_s,be.ea=ve.Ha,be.W=ve.Ia+_s):(Et-=It,be.y=st,be.O=gt,be.f=nt,be.N=Ue,be.ea=qt,be.W=Gt),Ut||(Yt-=It),Yt>be.o&&(Yt=be.o),be.F=null,be.J=null,ve.Fa!=null&&0<ve.Fa.length&&Et<Yt&&(be.J=No(ve,be,Et,Yt-Et),be.F=ve.mb,be.F==null&&be.F.length==0)){Be=Sr(ve,3,"Could not decode alpha data.");break e}Et<be.j&&(It=be.j-Et,Et=be.j,s(!(1&It)),be.O+=ve.R*It,be.N+=ve.B*(It>>1),be.W+=ve.B*(It>>1),be.F!=null&&(be.J+=be.width*It)),Et<Yt&&(be.O+=be.v,be.N+=be.v>>1,be.W+=be.v>>1,be.F!=null&&(be.J+=be.v),be.ka=Et-be.j,be.U=be.va-be.v,be.T=Yt-Et,Be=be.put(be))}Oe+1!=ve.Ic||Ut||(a(ve.sa,ve.ta-ze,st,gt+16*ve.R,ze),a(ve.qa,ve.ra-dt,nt,Ue+8*ve.B,dt),a(ve.Ha,ve.Ia-dt,qt,Gt+8*ve.B,dt))}if(!Be)return Sr(we,6,"Output aborted.")}return 1}(f,v)),v.bc!=null&&v.bc(v),A&=1}return A?(f.cb=0,A):0}function ca(f,v,A,O,U){U=f[v+A+32*O]+(U>>3),f[v+A+32*O]=-256&U?0>U?0:255:U}function mi(f,v,A,O,U,q){ca(f,v,0,A,O+U),ca(f,v,1,A,O+q),ca(f,v,2,A,O-q),ca(f,v,3,A,O-U)}function js(f){return(20091*f>>16)+f}function ho(f,v,A,O){var U,q=0,G=o(16);for(U=0;4>U;++U){var K=f[v+0]+f[v+8],Z=f[v+0]-f[v+8],se=(35468*f[v+4]>>16)-js(f[v+12]),ge=js(f[v+4])+(35468*f[v+12]>>16);G[q+0]=K+ge,G[q+1]=Z+se,G[q+2]=Z-se,G[q+3]=K-ge,q+=4,v++}for(U=q=0;4>U;++U)K=(f=G[q+0]+4)+G[q+8],Z=f-G[q+8],se=(35468*G[q+4]>>16)-js(G[q+12]),ca(A,O,0,0,K+(ge=js(G[q+4])+(35468*G[q+12]>>16))),ca(A,O,1,0,Z+se),ca(A,O,2,0,Z-se),ca(A,O,3,0,K-ge),q++,O+=32}function jl(f,v,A,O){var U=f[v+0]+4,q=35468*f[v+4]>>16,G=js(f[v+4]),K=35468*f[v+1]>>16;mi(A,O,0,U+G,f=js(f[v+1]),K),mi(A,O,1,U+q,f,K),mi(A,O,2,U-q,f,K),mi(A,O,3,U-G,f,K)}function md(f,v,A,O,U){ho(f,v,A,O),U&&ho(f,v+16,A,O+4)}function Sl(f,v,A,O){Ya(f,v+0,A,O,1),Ya(f,v+32,A,O+128,1)}function xd(f,v,A,O){var U;for(f=f[v+0]+4,U=0;4>U;++U)for(v=0;4>v;++v)ca(A,O,v,U,f)}function kl(f,v,A,O){f[v+0]&&xs(f,v+0,A,O),f[v+16]&&xs(f,v+16,A,O+4),f[v+32]&&xs(f,v+32,A,O+128),f[v+48]&&xs(f,v+48,A,O+128+4)}function pd(f,v,A,O){var U,q=o(16);for(U=0;4>U;++U){var G=f[v+0+U]+f[v+12+U],K=f[v+4+U]+f[v+8+U],Z=f[v+4+U]-f[v+8+U],se=f[v+0+U]-f[v+12+U];q[0+U]=G+K,q[8+U]=G-K,q[4+U]=se+Z,q[12+U]=se-Z}for(U=0;4>U;++U)G=(f=q[0+4*U]+3)+q[3+4*U],K=q[1+4*U]+q[2+4*U],Z=q[1+4*U]-q[2+4*U],se=f-q[3+4*U],A[O+0]=G+K>>3,A[O+16]=se+Z>>3,A[O+32]=G-K>>3,A[O+48]=se-Z>>3,O+=64}function uo(f,v,A){var O,U=v-32,q=Ms,G=255-f[U-1];for(O=0;O<A;++O){var K,Z=q,se=G+f[v-1];for(K=0;K<A;++K)f[v+K]=Z[se+f[U+K]];v+=32}}function gd(f,v){uo(f,v,4)}function vd(f,v){uo(f,v,8)}function yd(f,v){uo(f,v,16)}function za(f,v){var A;for(A=0;16>A;++A)a(f,v+32*A,f,v-32,16)}function xi(f,v){var A;for(A=16;0<A;--A)n(f,v,f[v-1],16),v+=32}function pi(f,v,A){var O;for(O=0;16>O;++O)n(v,A+32*O,f,16)}function Al(f,v){var A,O=16;for(A=0;16>A;++A)O+=f[v-1+32*A]+f[v+A-32];pi(O>>5,f,v)}function as(f,v){var A,O=8;for(A=0;16>A;++A)O+=f[v-1+32*A];pi(O>>4,f,v)}function bd(f,v){var A,O=8;for(A=0;16>A;++A)O+=f[v+A-32];pi(O>>4,f,v)}function _l(f,v){pi(128,f,v)}function St(f,v,A){return f+2*v+A+2>>2}function wd(f,v){var A,O=v-32;for(O=new Uint8Array([St(f[O-1],f[O+0],f[O+1]),St(f[O+0],f[O+1],f[O+2]),St(f[O+1],f[O+2],f[O+3]),St(f[O+2],f[O+3],f[O+4])]),A=0;4>A;++A)a(f,v+32*A,O,0,O.length)}function Nd(f,v){var A=f[v-1],O=f[v-1+32],U=f[v-1+64],q=f[v-1+96];me(f,v+0,16843009*St(f[v-1-32],A,O)),me(f,v+32,16843009*St(A,O,U)),me(f,v+64,16843009*St(O,U,q)),me(f,v+96,16843009*St(U,q,q))}function Ca(f,v){var A,O=4;for(A=0;4>A;++A)O+=f[v+A-32]+f[v-1+32*A];for(O>>=3,A=0;4>A;++A)n(f,v+32*A,O,4)}function Cl(f,v){var A=f[v-1+0],O=f[v-1+32],U=f[v-1+64],q=f[v-1-32],G=f[v+0-32],K=f[v+1-32],Z=f[v+2-32],se=f[v+3-32];f[v+0+96]=St(O,U,f[v-1+96]),f[v+1+96]=f[v+0+64]=St(A,O,U),f[v+2+96]=f[v+1+64]=f[v+0+32]=St(q,A,O),f[v+3+96]=f[v+2+64]=f[v+1+32]=f[v+0+0]=St(G,q,A),f[v+3+64]=f[v+2+32]=f[v+1+0]=St(K,G,q),f[v+3+32]=f[v+2+0]=St(Z,K,G),f[v+3+0]=St(se,Z,K)}function Tl(f,v){var A=f[v+1-32],O=f[v+2-32],U=f[v+3-32],q=f[v+4-32],G=f[v+5-32],K=f[v+6-32],Z=f[v+7-32];f[v+0+0]=St(f[v+0-32],A,O),f[v+1+0]=f[v+0+32]=St(A,O,U),f[v+2+0]=f[v+1+32]=f[v+0+64]=St(O,U,q),f[v+3+0]=f[v+2+32]=f[v+1+64]=f[v+0+96]=St(U,q,G),f[v+3+32]=f[v+2+64]=f[v+1+96]=St(q,G,K),f[v+3+64]=f[v+2+96]=St(G,K,Z),f[v+3+96]=St(K,Z,Z)}function gi(f,v){var A=f[v-1+0],O=f[v-1+32],U=f[v-1+64],q=f[v-1-32],G=f[v+0-32],K=f[v+1-32],Z=f[v+2-32],se=f[v+3-32];f[v+0+0]=f[v+1+64]=q+G+1>>1,f[v+1+0]=f[v+2+64]=G+K+1>>1,f[v+2+0]=f[v+3+64]=K+Z+1>>1,f[v+3+0]=Z+se+1>>1,f[v+0+96]=St(U,O,A),f[v+0+64]=St(O,A,q),f[v+0+32]=f[v+1+96]=St(A,q,G),f[v+1+32]=f[v+2+96]=St(q,G,K),f[v+2+32]=f[v+3+96]=St(G,K,Z),f[v+3+32]=St(K,Z,se)}function fo(f,v){var A=f[v+0-32],O=f[v+1-32],U=f[v+2-32],q=f[v+3-32],G=f[v+4-32],K=f[v+5-32],Z=f[v+6-32],se=f[v+7-32];f[v+0+0]=A+O+1>>1,f[v+1+0]=f[v+0+64]=O+U+1>>1,f[v+2+0]=f[v+1+64]=U+q+1>>1,f[v+3+0]=f[v+2+64]=q+G+1>>1,f[v+0+32]=St(A,O,U),f[v+1+32]=f[v+0+96]=St(O,U,q),f[v+2+32]=f[v+1+96]=St(U,q,G),f[v+3+32]=f[v+2+96]=St(q,G,K),f[v+3+64]=St(G,K,Z),f[v+3+96]=St(K,Z,se)}function jd(f,v){var A=f[v-1+0],O=f[v-1+32],U=f[v-1+64],q=f[v-1+96];f[v+0+0]=A+O+1>>1,f[v+2+0]=f[v+0+32]=O+U+1>>1,f[v+2+32]=f[v+0+64]=U+q+1>>1,f[v+1+0]=St(A,O,U),f[v+3+0]=f[v+1+32]=St(O,U,q),f[v+3+32]=f[v+1+64]=St(U,q,q),f[v+3+64]=f[v+2+64]=f[v+0+96]=f[v+1+96]=f[v+2+96]=f[v+3+96]=q}function Sd(f,v){var A=f[v-1+0],O=f[v-1+32],U=f[v-1+64],q=f[v-1+96],G=f[v-1-32],K=f[v+0-32],Z=f[v+1-32],se=f[v+2-32];f[v+0+0]=f[v+2+32]=A+G+1>>1,f[v+0+32]=f[v+2+64]=O+A+1>>1,f[v+0+64]=f[v+2+96]=U+O+1>>1,f[v+0+96]=q+U+1>>1,f[v+3+0]=St(K,Z,se),f[v+2+0]=St(G,K,Z),f[v+1+0]=f[v+3+32]=St(A,G,K),f[v+1+32]=f[v+3+64]=St(O,A,G),f[v+1+64]=f[v+3+96]=St(U,O,A),f[v+1+96]=St(q,U,O)}function kd(f,v){var A;for(A=0;8>A;++A)a(f,v+32*A,f,v-32,8)}function mo(f,v){var A;for(A=0;8>A;++A)n(f,v,f[v-1],8),v+=32}function Mn(f,v,A){var O;for(O=0;8>O;++O)n(v,A+32*O,f,8)}function on(f,v){var A,O=8;for(A=0;8>A;++A)O+=f[v+A-32]+f[v-1+32*A];Mn(O>>4,f,v)}function Ad(f,v){var A,O=4;for(A=0;8>A;++A)O+=f[v+A-32];Mn(O>>3,f,v)}function Bn(f,v){var A,O=4;for(A=0;8>A;++A)O+=f[v-1+32*A];Mn(O>>3,f,v)}function xo(f,v){Mn(128,f,v)}function vi(f,v,A){var O=f[v-A],U=f[v+0],q=3*(U-O)+Fd[1020+f[v-2*A]-f[v+A]],G=Wl[112+(q+4>>3)];f[v-A]=Ms[255+O+Wl[112+(q+3>>3)]],f[v+0]=Ms[255+U-G]}function El(f,v,A,O){var U=f[v+0],q=f[v+A];return ea[255+f[v-2*A]-f[v-A]]>O||ea[255+q-U]>O}function Pl(f,v,A,O){return 4*ea[255+f[v-A]-f[v+0]]+ea[255+f[v-2*A]-f[v+A]]<=O}function Fl(f,v,A,O,U){var q=f[v-3*A],G=f[v-2*A],K=f[v-A],Z=f[v+0],se=f[v+A],ge=f[v+2*A],Ae=f[v+3*A];return 4*ea[255+K-Z]+ea[255+G-se]>O?0:ea[255+f[v-4*A]-q]<=U&&ea[255+q-G]<=U&&ea[255+G-K]<=U&&ea[255+Ae-ge]<=U&&ea[255+ge-se]<=U&&ea[255+se-Z]<=U}function Ll(f,v,A,O){var U=2*O+1;for(O=0;16>O;++O)Pl(f,v+O,A,U)&&vi(f,v+O,A)}function Ta(f,v,A,O){var U=2*O+1;for(O=0;16>O;++O)Pl(f,v+O*A,1,U)&&vi(f,v+O*A,1)}function Va(f,v,A,O){var U;for(U=3;0<U;--U)Ll(f,v+=4*A,A,O)}function _d(f,v,A,O){var U;for(U=3;0<U;--U)Ta(f,v+=4,A,O)}function ln(f,v,A,O,U,q,G,K){for(q=2*q+1;0<U--;){if(Fl(f,v,A,q,G))if(El(f,v,A,K))vi(f,v,A);else{var Z=f,se=v,ge=A,Ae=Z[se-2*ge],_e=Z[se-ge],we=Z[se+0],He=Z[se+ge],Oe=Z[se+2*ge],ve=27*(Be=Fd[1020+3*(we-_e)+Fd[1020+Ae-He]])+63>>7,be=18*Be+63>>7,Be=9*Be+63>>7;Z[se-3*ge]=Ms[255+Z[se-3*ge]+Be],Z[se-2*ge]=Ms[255+Ae+be],Z[se-ge]=Ms[255+_e+ve],Z[se+0]=Ms[255+we-ve],Z[se+ge]=Ms[255+He-be],Z[se+2*ge]=Ms[255+Oe-Be]}v+=O}}function da(f,v,A,O,U,q,G,K){for(q=2*q+1;0<U--;){if(Fl(f,v,A,q,G))if(El(f,v,A,K))vi(f,v,A);else{var Z=f,se=v,ge=A,Ae=Z[se-ge],_e=Z[se+0],we=Z[se+ge],He=Wl[112+((Oe=3*(_e-Ae))+4>>3)],Oe=Wl[112+(Oe+3>>3)],ve=He+1>>1;Z[se-2*ge]=Ms[255+Z[se-2*ge]+ve],Z[se-ge]=Ms[255+Ae+Oe],Z[se+0]=Ms[255+_e-He],Z[se+ge]=Ms[255+we-ve]}v+=O}}function po(f,v,A,O,U,q){ln(f,v,A,1,16,O,U,q)}function Un(f,v,A,O,U,q){ln(f,v,1,A,16,O,U,q)}function Cd(f,v,A,O,U,q){var G;for(G=3;0<G;--G)da(f,v+=4*A,A,1,16,O,U,q)}function yi(f,v,A,O,U,q){var G;for(G=3;0<G;--G)da(f,v+=4,1,A,16,O,U,q)}function Td(f,v,A,O,U,q,G,K){ln(f,v,U,1,8,q,G,K),ln(A,O,U,1,8,q,G,K)}function go(f,v,A,O,U,q,G,K){ln(f,v,1,U,8,q,G,K),ln(A,O,1,U,8,q,G,K)}function vo(f,v,A,O,U,q,G,K){da(f,v+4*U,U,1,8,q,G,K),da(A,O+4*U,U,1,8,q,G,K)}function Ol(f,v,A,O,U,q,G,K){da(f,v+4,1,U,8,q,G,K),da(A,O+4,1,U,8,q,G,K)}function bi(){this.ba=new Os,this.ec=[],this.cc=[],this.Mc=[],this.Dc=this.Nc=this.dc=this.fc=0,this.Oa=new sr,this.memory=0,this.Ib="OutputFunc",this.Jb="OutputAlphaFunc",this.Nd="OutputRowFunc"}function yo(){this.data=[],this.offset=this.kd=this.ha=this.w=0,this.na=[],this.xa=this.gb=this.Ja=this.Sa=this.P=0}function bo(){this.nc=this.Ea=this.b=this.hc=0,this.K=[],this.w=0}function Dl(){this.ua=0,this.Wa=new de,this.vb=new de,this.md=this.xc=this.wc=0,this.vc=[],this.Wb=0,this.Ya=new z,this.yc=new P}function Ed(){this.xb=this.a=0,this.l=new _a,this.ca=new Os,this.V=[],this.Ba=0,this.Ta=[],this.Ua=0,this.m=new _,this.Pb=0,this.wd=new _,this.Ma=this.$=this.C=this.i=this.c=this.xd=0,this.s=new Dl,this.ab=0,this.gc=l(4,bo),this.Oc=0}function wi(){this.Lc=this.Z=this.$a=this.i=this.c=0,this.l=new _a,this.ic=0,this.ca=[],this.tb=0,this.qd=null,this.rd=0}function Hn(f,v,A,O,U,q,G){for(f=f==null?0:f[v+0],v=0;v<G;++v)U[q+v]=f+A[O+v]&255,f=U[q+v]}function wo(f,v,A,O,U,q,G){var K;if(f==null)Hn(null,null,A,O,U,q,G);else for(K=0;K<G;++K)U[q+K]=f[v+K]+A[O+K]&255}function cn(f,v,A,O,U,q,G){if(f==null)Hn(null,null,A,O,U,q,G);else{var K,Z=f[v+0],se=Z,ge=Z;for(K=0;K<G;++K)se=ge+(Z=f[v+K])-se,ge=A[O+K]+(-256&se?0>se?0:255:se)&255,se=Z,U[q+K]=ge}}function No(f,v,A,O){var U=v.width,q=v.o;if(s(f!=null&&v!=null),0>A||0>=O||A+O>q)return null;if(!f.Cc){if(f.ga==null){var G;if(f.ga=new wi,(G=f.ga==null)||(G=v.width*v.o,s(f.Gb.length==0),f.Gb=o(G),f.Uc=0,f.Gb==null?G=0:(f.mb=f.Gb,f.nb=f.Uc,f.rc=null,G=1),G=!G),!G){G=f.ga;var K=f.Fa,Z=f.P,se=f.qc,ge=f.mb,Ae=f.nb,_e=Z+1,we=se-1,He=G.l;if(s(K!=null&&ge!=null&&v!=null),xn[0]=null,xn[1]=Hn,xn[2]=wo,xn[3]=cn,G.ca=ge,G.tb=Ae,G.c=v.width,G.i=v.height,s(0<G.c&&0<G.i),1>=se)v=0;else if(G.$a=K[Z+0]>>0&3,G.Z=K[Z+0]>>2&3,G.Lc=K[Z+0]>>4&3,Z=K[Z+0]>>6&3,0>G.$a||1<G.$a||4<=G.Z||1<G.Lc||Z)v=0;else if(He.put=Ys,He.ac=Mr,He.bc=Ks,He.ma=G,He.width=v.width,He.height=v.height,He.Da=v.Da,He.v=v.v,He.va=v.va,He.j=v.j,He.o=v.o,G.$a)e:{s(G.$a==1),v=Le();t:for(;;){if(v==null){v=0;break e}if(s(G!=null),G.mc=v,v.c=G.c,v.i=G.i,v.l=G.l,v.l.ma=G,v.l.width=G.c,v.l.height=G.i,v.a=0,ie(v.m,K,_e,we),!Se(G.c,G.i,1,v,null)||(v.ab==1&&v.gc[0].hc==3&&te(v.s)?(G.ic=1,K=v.c*v.i,v.Ta=null,v.Ua=0,v.V=o(K),v.Ba=0,v.V==null?(v.a=1,v=0):v=1):(G.ic=0,v=Ce(v,G.c)),!v))break t;v=1;break e}G.mc=null,v=0}else v=we>=G.c*G.i;G=!v}if(G)return null;f.ga.Lc!=1?f.Ga=0:O=q-A}s(f.ga!=null),s(A+O<=q);e:{if(v=(K=f.ga).c,q=K.l.o,K.$a==0){if(_e=f.rc,we=f.Vc,He=f.Fa,Z=f.P+1+A*v,se=f.mb,ge=f.nb+A*v,s(Z<=f.P+f.qc),K.Z!=0)for(s(xn[K.Z]!=null),G=0;G<O;++G)xn[K.Z](_e,we,He,Z,se,ge,v),_e=se,we=ge,ge+=v,Z+=v;else for(G=0;G<O;++G)a(se,ge,He,Z,v),_e=se,we=ge,ge+=v,Z+=v;f.rc=_e,f.Vc=we}else{if(s(K.mc!=null),v=A+O,s((G=K.mc)!=null),s(v<=G.i),G.C>=v)v=1;else if(K.ic||je(),K.ic){K=G.V,_e=G.Ba,we=G.c;var Oe=G.i,ve=(He=1,Z=G.$/we,se=G.$%we,ge=G.m,Ae=G.s,G.$),be=we*Oe,Be=we*v,ze=Ae.wc,Ue=ve<Be?gr(Ae,se,Z):null;s(ve<=be),s(v<=Oe),s(te(Ae));t:for(;;){for(;!ge.h&&ve<Be;){if(se&ze||(Ue=gr(Ae,se,Z)),s(Ue!=null),Y(ge),256>(Oe=ss(Ue.G[0],Ue.H[0],ge)))K[_e+ve]=Oe,++ve,++se>=we&&(se=0,++Z<=v&&!(Z%16)&&oe(G,Z));else{if(!(280>Oe)){He=0;break t}Oe=Ds(Oe-256,ge);var dt,st=ss(Ue.G[4],Ue.H[4],ge);if(Y(ge),!(ve>=(st=Ns(we,st=Ds(st,ge)))&&be-ve>=Oe)){He=0;break t}for(dt=0;dt<Oe;++dt)K[_e+ve+dt]=K[_e+ve+dt-st];for(ve+=Oe,se+=Oe;se>=we;)se-=we,++Z<=v&&!(Z%16)&&oe(G,Z);ve<Be&&se&ze&&(Ue=gr(Ae,se,Z))}s(ge.h==M(ge))}oe(G,Z>v?v:Z);break t}!He||ge.h&&ve<be?(He=0,G.a=ge.h?5:3):G.$=ve,v=He}else v=ce(G,G.V,G.Ba,G.c,G.i,v,Te);if(!v){O=0;break e}}A+O>=q&&(f.Cc=1),O=1}if(!O)return null;if(f.Cc&&((O=f.ga)!=null&&(O.mc=null),f.ga=null,0<f.Ga))return alert("todo:WebPDequantizeLevels"),null}return f.nb+A*U}function S(f,v,A,O,U,q){for(;0<U--;){var G,K=f,Z=v+(A?1:0),se=f,ge=v+(A?0:3);for(G=0;G<O;++G){var Ae=se[ge+4*G];Ae!=255&&(Ae*=32897,K[Z+4*G+0]=K[Z+4*G+0]*Ae>>23,K[Z+4*G+1]=K[Z+4*G+1]*Ae>>23,K[Z+4*G+2]=K[Z+4*G+2]*Ae>>23)}v+=q}}function H(f,v,A,O,U){for(;0<O--;){var q;for(q=0;q<A;++q){var G=f[v+2*q+0],K=15&(se=f[v+2*q+1]),Z=4369*K,se=(240&se|se>>4)*Z>>16;f[v+2*q+0]=(240&G|G>>4)*Z>>16&240|(15&G|G<<4)*Z>>16>>4&15,f[v+2*q+1]=240&se|K}v+=U}}function he(f,v,A,O,U,q,G,K){var Z,se,ge=255;for(se=0;se<U;++se){for(Z=0;Z<O;++Z){var Ae=f[v+Z];q[G+4*Z]=Ae,ge&=Ae}v+=A,G+=K}return ge!=255}function xe(f,v,A,O,U){var q;for(q=0;q<U;++q)A[O+q]=f[v+q]>>8}function je(){Zs=S,lr=H,cr=he,Ar=xe}function Re(f,v,A){C[f]=function(O,U,q,G,K,Z,se,ge,Ae,_e,we,He,Oe,ve,be,Be,ze){var Ue,dt=ze-1>>1,st=K[Z+0]|se[ge+0]<<16,gt=Ae[_e+0]|we[He+0]<<16;s(O!=null);var nt=3*st+gt+131074>>2;for(v(O[U+0],255&nt,nt>>16,Oe,ve),q!=null&&(nt=3*gt+st+131074>>2,v(q[G+0],255&nt,nt>>16,be,Be)),Ue=1;Ue<=dt;++Ue){var qt=K[Z+Ue]|se[ge+Ue]<<16,Gt=Ae[_e+Ue]|we[He+Ue]<<16,Ut=st+qt+gt+Gt+524296,It=Ut+2*(qt+gt)>>3;nt=It+st>>1,st=(Ut=Ut+2*(st+Gt)>>3)+qt>>1,v(O[U+2*Ue-1],255&nt,nt>>16,Oe,ve+(2*Ue-1)*A),v(O[U+2*Ue-0],255&st,st>>16,Oe,ve+(2*Ue-0)*A),q!=null&&(nt=Ut+gt>>1,st=It+Gt>>1,v(q[G+2*Ue-1],255&nt,nt>>16,be,Be+(2*Ue-1)*A),v(q[G+2*Ue+0],255&st,st>>16,be,Be+(2*Ue+0)*A)),st=qt,gt=Gt}1&ze||(nt=3*st+gt+131074>>2,v(O[U+ze-1],255&nt,nt>>16,Oe,ve+(ze-1)*A),q!=null&&(nt=3*gt+st+131074>>2,v(q[G+ze-1],255&nt,nt>>16,be,Be+(ze-1)*A)))}}function Ge(){ta[ql]=_p,ta[zl]=Sh,ta[yh]=Cp,ta[Vl]=kh,ta[$l]=Ah,ta[Ld]=_h,ta[bh]=Tp,ta[Od]=Sh,ta[Dd]=kh,ta[Gl]=Ah,ta[Id]=_h}function ct(f){return f&-16384?0>f?0:255:f>>Ep}function xt(f,v){return ct((19077*f>>8)+(26149*v>>8)-14234)}function _t(f,v,A){return ct((19077*f>>8)-(6419*v>>8)-(13320*A>>8)+8708)}function kt(f,v){return ct((19077*f>>8)+(33050*v>>8)-17685)}function Mt(f,v,A,O,U){O[U+0]=xt(f,A),O[U+1]=_t(f,v,A),O[U+2]=kt(f,v)}function fr(f,v,A,O,U){O[U+0]=kt(f,v),O[U+1]=_t(f,v,A),O[U+2]=xt(f,A)}function vr(f,v,A,O,U){var q=_t(f,v,A);v=q<<3&224|kt(f,v)>>3,O[U+0]=248&xt(f,A)|q>>5,O[U+1]=v}function Pr(f,v,A,O,U){var q=240&kt(f,v)|15;O[U+0]=240&xt(f,A)|_t(f,v,A)>>4,O[U+1]=q}function ns(f,v,A,O,U){O[U+0]=255,Mt(f,v,A,O,U+1)}function qr(f,v,A,O,U){fr(f,v,A,O,U),O[U+3]=255}function ha(f,v,A,O,U){Mt(f,v,A,O,U),O[U+3]=255}function Rs(f,v){return 0>f?0:f>v?v:f}function Ea(f,v,A){C[f]=function(O,U,q,G,K,Z,se,ge,Ae){for(var _e=ge+(-2&Ae)*A;ge!=_e;)v(O[U+0],q[G+0],K[Z+0],se,ge),v(O[U+1],q[G+0],K[Z+0],se,ge+A),U+=2,++G,++Z,ge+=2*A;1&Ae&&v(O[U+0],q[G+0],K[Z+0],se,ge)}}function Il(f,v,A){return A==0?f==0?v==0?6:5:v==0?4:0:A}function jo(f,v,A,O,U){switch(f>>>30){case 3:Ya(v,A,O,U,0);break;case 2:kr(v,A,O,U);break;case 1:xs(v,A,O,U)}}function So(f,v){var A,O,U=v.M,q=v.Nb,G=f.oc,K=f.pc+40,Z=f.oc,se=f.pc+584,ge=f.oc,Ae=f.pc+600;for(A=0;16>A;++A)G[K+32*A-1]=129;for(A=0;8>A;++A)Z[se+32*A-1]=129,ge[Ae+32*A-1]=129;for(0<U?G[K-1-32]=Z[se-1-32]=ge[Ae-1-32]=129:(n(G,K-32-1,127,21),n(Z,se-32-1,127,9),n(ge,Ae-32-1,127,9)),O=0;O<f.za;++O){var _e=v.ya[v.aa+O];if(0<O){for(A=-1;16>A;++A)a(G,K+32*A-4,G,K+32*A+12,4);for(A=-1;8>A;++A)a(Z,se+32*A-4,Z,se+32*A+4,4),a(ge,Ae+32*A-4,ge,Ae+32*A+4,4)}var we=f.Gd,He=f.Hd+O,Oe=_e.ad,ve=_e.Hc;if(0<U&&(a(G,K-32,we[He].y,0,16),a(Z,se-32,we[He].f,0,8),a(ge,Ae-32,we[He].ea,0,8)),_e.Za){var be=G,Be=K-32+16;for(0<U&&(O>=f.za-1?n(be,Be,we[He].y[15],4):a(be,Be,we[He+1].y,0,4)),A=0;4>A;A++)be[Be+128+A]=be[Be+256+A]=be[Be+384+A]=be[Be+0+A];for(A=0;16>A;++A,ve<<=2)be=G,Be=K+Th[A],ua[_e.Ob[A]](be,Be),jo(ve,Oe,16*+A,be,Be)}else if(be=Il(O,U,_e.Ob[0]),mn[be](G,K),ve!=0)for(A=0;16>A;++A,ve<<=2)jo(ve,Oe,16*+A,G,K+Th[A]);for(A=_e.Gc,be=Il(O,U,_e.Dd),Xa[be](Z,se),Xa[be](ge,Ae),ve=Oe,be=Z,Be=se,255&(_e=A>>0)&&(170&_e?To(ve,256,be,Be):Js(ve,256,be,Be)),_e=ge,ve=Ae,255&(A>>=8)&&(170&A?To(Oe,320,_e,ve):Js(Oe,320,_e,ve)),U<f.Ub-1&&(a(we[He].y,0,G,K+480,16),a(we[He].f,0,Z,se+224,8),a(we[He].ea,0,ge,Ae+224,8)),A=8*q*f.B,we=f.sa,He=f.ta+16*O+16*q*f.R,Oe=f.qa,_e=f.ra+8*O+A,ve=f.Ha,be=f.Ia+8*O+A,A=0;16>A;++A)a(we,He+A*f.R,G,K+32*A,16);for(A=0;8>A;++A)a(Oe,_e+A*f.B,Z,se+32*A,8),a(ve,be+A*f.B,ge,Ae+32*A,8)}}function Ni(f,v,A,O,U,q,G,K,Z){var se=[0],ge=[0],Ae=0,_e=Z!=null?Z.kd:0,we=Z??new yo;if(f==null||12>A)return 7;we.data=f,we.w=v,we.ha=A,v=[v],A=[A],we.gb=[we.gb];e:{var He=v,Oe=A,ve=we.gb;if(s(f!=null),s(Oe!=null),s(ve!=null),ve[0]=0,12<=Oe[0]&&!r(f,He[0],"RIFF")){if(r(f,He[0]+8,"WEBP")){ve=3;break e}var be=Ve(f,He[0]+4);if(12>be||4294967286<be){ve=3;break e}if(_e&&be>Oe[0]-8){ve=7;break e}ve[0]=be,He[0]+=12,Oe[0]-=12}ve=0}if(ve!=0)return ve;for(be=0<we.gb[0],A=A[0];;){e:{var Be=f;Oe=v,ve=A;var ze=se,Ue=ge,dt=He=[0];if((nt=Ae=[Ae])[0]=0,8>ve[0])ve=7;else{if(!r(Be,Oe[0],"VP8X")){if(Ve(Be,Oe[0]+4)!=10){ve=3;break e}if(18>ve[0]){ve=7;break e}var st=Ve(Be,Oe[0]+8),gt=1+De(Be,Oe[0]+12);if(2147483648<=gt*(Be=1+De(Be,Oe[0]+15))){ve=3;break e}dt!=null&&(dt[0]=st),ze!=null&&(ze[0]=gt),Ue!=null&&(Ue[0]=Be),Oe[0]+=18,ve[0]-=18,nt[0]=1}ve=0}}if(Ae=Ae[0],He=He[0],ve!=0)return ve;if(Oe=!!(2&He),!be&&Ae)return 3;if(q!=null&&(q[0]=!!(16&He)),G!=null&&(G[0]=Oe),K!=null&&(K[0]=0),G=se[0],He=ge[0],Ae&&Oe&&Z==null){ve=0;break}if(4>A){ve=7;break}if(be&&Ae||!be&&!Ae&&!r(f,v[0],"ALPH")){A=[A],we.na=[we.na],we.P=[we.P],we.Sa=[we.Sa];e:{st=f,ve=v,be=A;var nt=we.gb;ze=we.na,Ue=we.P,dt=we.Sa,gt=22,s(st!=null),s(be!=null),Be=ve[0];var qt=be[0];for(s(ze!=null),s(dt!=null),ze[0]=null,Ue[0]=null,dt[0]=0;;){if(ve[0]=Be,be[0]=qt,8>qt){ve=7;break e}var Gt=Ve(st,Be+4);if(4294967286<Gt){ve=3;break e}var Ut=8+Gt+1&-2;if(gt+=Ut,0<nt&&gt>nt){ve=3;break e}if(!r(st,Be,"VP8 ")||!r(st,Be,"VP8L")){ve=0;break e}if(qt[0]<Ut){ve=7;break e}r(st,Be,"ALPH")||(ze[0]=st,Ue[0]=Be+8,dt[0]=Gt),Be+=Ut,qt-=Ut}}if(A=A[0],we.na=we.na[0],we.P=we.P[0],we.Sa=we.Sa[0],ve!=0)break}A=[A],we.Ja=[we.Ja],we.xa=[we.xa];e:if(nt=f,ve=v,be=A,ze=we.gb[0],Ue=we.Ja,dt=we.xa,st=ve[0],Be=!r(nt,st,"VP8 "),gt=!r(nt,st,"VP8L"),s(nt!=null),s(be!=null),s(Ue!=null),s(dt!=null),8>be[0])ve=7;else{if(Be||gt){if(nt=Ve(nt,st+4),12<=ze&&nt>ze-12){ve=3;break e}if(_e&&nt>be[0]-8){ve=7;break e}Ue[0]=nt,ve[0]+=8,be[0]-=8,dt[0]=gt}else dt[0]=5<=be[0]&&nt[st+0]==47&&!(nt[st+4]>>5),Ue[0]=be[0];ve=0}if(A=A[0],we.Ja=we.Ja[0],we.xa=we.xa[0],v=v[0],ve!=0)break;if(4294967286<we.Ja)return 3;if(K==null||Oe||(K[0]=we.xa?2:1),G=[G],He=[He],we.xa){if(5>A){ve=7;break}K=G,_e=He,Oe=q,f==null||5>A?f=0:5<=A&&f[v+0]==47&&!(f[v+4]>>5)?(be=[0],nt=[0],ze=[0],ie(Ue=new _,f,v,A),pt(Ue,be,nt,ze)?(K!=null&&(K[0]=be[0]),_e!=null&&(_e[0]=nt[0]),Oe!=null&&(Oe[0]=ze[0]),f=1):f=0):f=0}else{if(10>A){ve=7;break}K=He,f==null||10>A||!bl(f,v+3,A-3)?f=0:(_e=f[v+0]|f[v+1]<<8|f[v+2]<<16,Oe=16383&(f[v+7]<<8|f[v+6]),f=16383&(f[v+9]<<8|f[v+8]),1&_e||3<(_e>>1&7)||!(_e>>4&1)||_e>>5>=we.Ja||!Oe||!f?f=0:(G&&(G[0]=Oe),K&&(K[0]=f),f=1))}if(!f||(G=G[0],He=He[0],Ae&&(se[0]!=G||ge[0]!=He)))return 3;Z!=null&&(Z[0]=we,Z.offset=v-Z.w,s(4294967286>v-Z.w),s(Z.offset==Z.ha-A));break}return ve==0||ve==7&&Ae&&Z==null?(q!=null&&(q[0]|=we.na!=null&&0<we.na.length),O!=null&&(O[0]=G),U!=null&&(U[0]=He),0):ve}function ko(f,v,A){var O=v.width,U=v.height,q=0,G=0,K=O,Z=U;if(v.Da=f!=null&&0<f.Da,v.Da&&(K=f.cd,Z=f.bd,q=f.v,G=f.j,11>A||(q&=-2,G&=-2),0>q||0>G||0>=K||0>=Z||q+K>O||G+Z>U))return 0;if(v.v=q,v.j=G,v.va=q+K,v.o=G+Z,v.U=K,v.T=Z,v.da=f!=null&&0<f.da,v.da){if(!We(K,Z,A=[f.ib],q=[f.hb]))return 0;v.ib=A[0],v.hb=q[0]}return v.ob=f!=null&&f.ob,v.Kb=f==null||!f.Sd,v.da&&(v.ob=v.ib<3*O/4&&v.hb<3*U/4,v.Kb=0),1}function Ao(f){if(f==null)return 2;if(11>f.S){var v=f.f.RGBA;v.fb+=(f.height-1)*v.A,v.A=-v.A}else v=f.f.kb,f=f.height,v.O+=(f-1)*v.fa,v.fa=-v.fa,v.N+=(f-1>>1)*v.Ab,v.Ab=-v.Ab,v.W+=(f-1>>1)*v.Db,v.Db=-v.Db,v.F!=null&&(v.J+=(f-1)*v.lb,v.lb=-v.lb);return 0}function ji(f,v,A,O){if(O==null||0>=f||0>=v)return 2;if(A!=null){if(A.Da){var U=A.cd,q=A.bd,G=-2&A.v,K=-2&A.j;if(0>G||0>K||0>=U||0>=q||G+U>f||K+q>v)return 2;f=U,v=q}if(A.da){if(!We(f,v,U=[A.ib],q=[A.hb]))return 2;f=U[0],v=q[0]}}O.width=f,O.height=v;e:{var Z=O.width,se=O.height;if(f=O.S,0>=Z||0>=se||!(f>=ql&&13>f))f=2;else{if(0>=O.Rd&&O.sd==null){G=q=U=v=0;var ge=(K=Z*Eh[f])*se;if(11>f||(q=(se+1)/2*(v=(Z+1)/2),f==12&&(G=(U=Z)*se)),(se=o(ge+2*q+G))==null){f=1;break e}O.sd=se,11>f?((Z=O.f.RGBA).eb=se,Z.fb=0,Z.A=K,Z.size=ge):((Z=O.f.kb).y=se,Z.O=0,Z.fa=K,Z.Fd=ge,Z.f=se,Z.N=0+ge,Z.Ab=v,Z.Cd=q,Z.ea=se,Z.W=0+ge+q,Z.Db=v,Z.Ed=q,f==12&&(Z.F=se,Z.J=0+ge+2*q),Z.Tc=G,Z.lb=U)}if(v=1,U=O.S,q=O.width,G=O.height,U>=ql&&13>U)if(11>U)f=O.f.RGBA,v&=(K=Math.abs(f.A))*(G-1)+q<=f.size,v&=K>=q*Eh[U],v&=f.eb!=null;else{f=O.f.kb,K=(q+1)/2,ge=(G+1)/2,Z=Math.abs(f.fa),se=Math.abs(f.Ab);var Ae=Math.abs(f.Db),_e=Math.abs(f.lb),we=_e*(G-1)+q;v&=Z*(G-1)+q<=f.Fd,v&=se*(ge-1)+K<=f.Cd,v=(v&=Ae*(ge-1)+K<=f.Ed)&Z>=q&se>=K&Ae>=K,v&=f.y!=null,v&=f.f!=null,v&=f.ea!=null,U==12&&(v&=_e>=q,v&=we<=f.Tc,v&=f.F!=null)}else v=0;f=v?0:2}}return f!=0||A!=null&&A.fd&&(f=Ao(O)),f}var Kr=64,Si=[0,1,3,7,15,31,63,127,255,511,1023,2047,4095,8191,16383,32767,65535,131071,262143,524287,1048575,2097151,4194303,8388607,16777215],ki=24,Ai=32,_o=8,Ss=[0,0,1,1,2,2,2,2,3,3,3,3,3,3,3,3,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7];Je("Predictor0","PredictorAdd0"),C.Predictor0=function(){return 4278190080},C.Predictor1=function(f){return f},C.Predictor2=function(f,v,A){return v[A+0]},C.Predictor3=function(f,v,A){return v[A+1]},C.Predictor4=function(f,v,A){return v[A-1]},C.Predictor5=function(f,v,A){return at(at(f,v[A+1]),v[A+0])},C.Predictor6=function(f,v,A){return at(f,v[A-1])},C.Predictor7=function(f,v,A){return at(f,v[A+0])},C.Predictor8=function(f,v,A){return at(v[A-1],v[A+0])},C.Predictor9=function(f,v,A){return at(v[A+0],v[A+1])},C.Predictor10=function(f,v,A){return at(at(f,v[A-1]),at(v[A+0],v[A+1]))},C.Predictor11=function(f,v,A){var O=v[A+0];return 0>=Nt(O>>24&255,f>>24&255,(v=v[A-1])>>24&255)+Nt(O>>16&255,f>>16&255,v>>16&255)+Nt(O>>8&255,f>>8&255,v>>8&255)+Nt(255&O,255&f,255&v)?O:f},C.Predictor12=function(f,v,A){var O=v[A+0];return(ft((f>>24&255)+(O>>24&255)-((v=v[A-1])>>24&255))<<24|ft((f>>16&255)+(O>>16&255)-(v>>16&255))<<16|ft((f>>8&255)+(O>>8&255)-(v>>8&255))<<8|ft((255&f)+(255&O)-(255&v)))>>>0},C.Predictor13=function(f,v,A){var O=v[A-1];return(mt((f=at(f,v[A+0]))>>24&255,O>>24&255)<<24|mt(f>>16&255,O>>16&255)<<16|mt(f>>8&255,O>>8&255)<<8|mt(f>>0&255,O>>0&255))>>>0};var Pd=C.PredictorAdd0;C.PredictorAdd1=Tt,Je("Predictor2","PredictorAdd2"),Je("Predictor3","PredictorAdd3"),Je("Predictor4","PredictorAdd4"),Je("Predictor5","PredictorAdd5"),Je("Predictor6","PredictorAdd6"),Je("Predictor7","PredictorAdd7"),Je("Predictor8","PredictorAdd8"),Je("Predictor9","PredictorAdd9"),Je("Predictor10","PredictorAdd10"),Je("Predictor11","PredictorAdd11"),Je("Predictor12","PredictorAdd12"),Je("Predictor13","PredictorAdd13");var Co=C.PredictorAdd2;Ft("ColorIndexInverseTransform","MapARGB","32b",function(f){return f>>8&255},function(f){return f}),Ft("VP8LColorIndexInverseTransformAlpha","MapAlpha","8b",function(f){return f},function(f){return f>>8&255});var Rl,Xs=C.ColorIndexInverseTransform,_i=C.MapARGB,Ml=C.VP8LColorIndexInverseTransformAlpha,Bl=C.MapAlpha,dn=C.VP8LPredictorsAdd=[];dn.length=16,(C.VP8LPredictors=[]).length=16,(C.VP8LPredictorsAdd_C=[]).length=16,(C.VP8LPredictors_C=[]).length=16;var Wn,ks,ms,hn,$a,Ga,Ci,Ya,kr,To,xs,Js,Ti,Ul,Eo,qn,zn,un,Vn,Ei,$n,fn,Po,Qs,Zs,lr,cr,Ar,Br=o(511),Ka=o(2041),Fo=o(225),Pi=o(767),Hl=0,Fd=Ka,Wl=Fo,Ms=Pi,ea=Br,ql=0,zl=1,yh=2,Vl=3,$l=4,Ld=5,bh=6,Od=7,Dd=8,Gl=9,Id=10,fp=[2,3,7],mp=[3,3,11],wh=[280,256,256,256,40],xp=[0,1,1,1,0],pp=[17,18,0,1,2,3,4,5,16,6,7,8,9,10,11,12,13,14,15],gp=[24,7,23,25,40,6,39,41,22,26,38,42,56,5,55,57,21,27,54,58,37,43,72,4,71,73,20,28,53,59,70,74,36,44,88,69,75,52,60,3,87,89,19,29,86,90,35,45,68,76,85,91,51,61,104,2,103,105,18,30,102,106,34,46,84,92,67,77,101,107,50,62,120,1,119,121,83,93,17,31,100,108,66,78,118,122,33,47,117,123,49,63,99,109,82,94,0,116,124,65,79,16,32,98,110,48,115,125,81,95,64,114,126,97,111,80,113,127,96,112],vp=[2954,2956,2958,2962,2970,2986,3018,3082,3212,3468,3980,5004],yp=8,Rd=[4,5,6,7,8,9,10,10,11,12,13,14,15,16,17,17,18,19,20,20,21,21,22,22,23,23,24,25,25,26,27,28,29,30,31,32,33,34,35,36,37,37,38,39,40,41,42,43,44,45,46,46,47,48,49,50,51,52,53,54,55,56,57,58,59,60,61,62,63,64,65,66,67,68,69,70,71,72,73,74,75,76,76,77,78,79,80,81,82,83,84,85,86,87,88,89,91,93,95,96,98,100,101,102,104,106,108,110,112,114,116,118,122,124,126,128,130,132,134,136,138,140,143,145,148,151,154,157],Md=[4,5,6,7,8,9,10,11,12,13,14,15,16,17,18,19,20,21,22,23,24,25,26,27,28,29,30,31,32,33,34,35,36,37,38,39,40,41,42,43,44,45,46,47,48,49,50,51,52,53,54,55,56,57,58,60,62,64,66,68,70,72,74,76,78,80,82,84,86,88,90,92,94,96,98,100,102,104,106,108,110,112,114,116,119,122,125,128,131,134,137,140,143,146,149,152,155,158,161,164,167,170,173,177,181,185,189,193,197,201,205,209,213,217,221,225,229,234,239,245,249,254,259,264,269,274,279,284],Lo=null,bp=[[173,148,140,0],[176,155,140,135,0],[180,157,141,134,130,0],[254,254,243,230,196,177,153,140,133,130,129,0]],wp=[0,1,4,8,5,2,3,6,9,12,13,10,7,11,14,15],Nh=[-0,1,-1,2,-2,3,4,6,-3,5,-4,-5,-6,7,-7,8,-8,-9],Np=[[[[128,128,128,128,128,128,128,128,128,128,128],[128,128,128,128,128,128,128,128,128,128,128],[128,128,128,128,128,128,128,128,128,128,128]],[[253,136,254,255,228,219,128,128,128,128,128],[189,129,242,255,227,213,255,219,128,128,128],[106,126,227,252,214,209,255,255,128,128,128]],[[1,98,248,255,236,226,255,255,128,128,128],[181,133,238,254,221,234,255,154,128,128,128],[78,134,202,247,198,180,255,219,128,128,128]],[[1,185,249,255,243,255,128,128,128,128,128],[184,150,247,255,236,224,128,128,128,128,128],[77,110,216,255,236,230,128,128,128,128,128]],[[1,101,251,255,241,255,128,128,128,128,128],[170,139,241,252,236,209,255,255,128,128,128],[37,116,196,243,228,255,255,255,128,128,128]],[[1,204,254,255,245,255,128,128,128,128,128],[207,160,250,255,238,128,128,128,128,128,128],[102,103,231,255,211,171,128,128,128,128,128]],[[1,152,252,255,240,255,128,128,128,128,128],[177,135,243,255,234,225,128,128,128,128,128],[80,129,211,255,194,224,128,128,128,128,128]],[[1,1,255,128,128,128,128,128,128,128,128],[246,1,255,128,128,128,128,128,128,128,128],[255,128,128,128,128,128,128,128,128,128,128]]],[[[198,35,237,223,193,187,162,160,145,155,62],[131,45,198,221,172,176,220,157,252,221,1],[68,47,146,208,149,167,221,162,255,223,128]],[[1,149,241,255,221,224,255,255,128,128,128],[184,141,234,253,222,220,255,199,128,128,128],[81,99,181,242,176,190,249,202,255,255,128]],[[1,129,232,253,214,197,242,196,255,255,128],[99,121,210,250,201,198,255,202,128,128,128],[23,91,163,242,170,187,247,210,255,255,128]],[[1,200,246,255,234,255,128,128,128,128,128],[109,178,241,255,231,245,255,255,128,128,128],[44,130,201,253,205,192,255,255,128,128,128]],[[1,132,239,251,219,209,255,165,128,128,128],[94,136,225,251,218,190,255,255,128,128,128],[22,100,174,245,186,161,255,199,128,128,128]],[[1,182,249,255,232,235,128,128,128,128,128],[124,143,241,255,227,234,128,128,128,128,128],[35,77,181,251,193,211,255,205,128,128,128]],[[1,157,247,255,236,231,255,255,128,128,128],[121,141,235,255,225,227,255,255,128,128,128],[45,99,188,251,195,217,255,224,128,128,128]],[[1,1,251,255,213,255,128,128,128,128,128],[203,1,248,255,255,128,128,128,128,128,128],[137,1,177,255,224,255,128,128,128,128,128]]],[[[253,9,248,251,207,208,255,192,128,128,128],[175,13,224,243,193,185,249,198,255,255,128],[73,17,171,221,161,179,236,167,255,234,128]],[[1,95,247,253,212,183,255,255,128,128,128],[239,90,244,250,211,209,255,255,128,128,128],[155,77,195,248,188,195,255,255,128,128,128]],[[1,24,239,251,218,219,255,205,128,128,128],[201,51,219,255,196,186,128,128,128,128,128],[69,46,190,239,201,218,255,228,128,128,128]],[[1,191,251,255,255,128,128,128,128,128,128],[223,165,249,255,213,255,128,128,128,128,128],[141,124,248,255,255,128,128,128,128,128,128]],[[1,16,248,255,255,128,128,128,128,128,128],[190,36,230,255,236,255,128,128,128,128,128],[149,1,255,128,128,128,128,128,128,128,128]],[[1,226,255,128,128,128,128,128,128,128,128],[247,192,255,128,128,128,128,128,128,128,128],[240,128,255,128,128,128,128,128,128,128,128]],[[1,134,252,255,255,128,128,128,128,128,128],[213,62,250,255,255,128,128,128,128,128,128],[55,93,255,128,128,128,128,128,128,128,128]],[[128,128,128,128,128,128,128,128,128,128,128],[128,128,128,128,128,128,128,128,128,128,128],[128,128,128,128,128,128,128,128,128,128,128]]],[[[202,24,213,235,186,191,220,160,240,175,255],[126,38,182,232,169,184,228,174,255,187,128],[61,46,138,219,151,178,240,170,255,216,128]],[[1,112,230,250,199,191,247,159,255,255,128],[166,109,228,252,211,215,255,174,128,128,128],[39,77,162,232,172,180,245,178,255,255,128]],[[1,52,220,246,198,199,249,220,255,255,128],[124,74,191,243,183,193,250,221,255,255,128],[24,71,130,219,154,170,243,182,255,255,128]],[[1,182,225,249,219,240,255,224,128,128,128],[149,150,226,252,216,205,255,171,128,128,128],[28,108,170,242,183,194,254,223,255,255,128]],[[1,81,230,252,204,203,255,192,128,128,128],[123,102,209,247,188,196,255,233,128,128,128],[20,95,153,243,164,173,255,203,128,128,128]],[[1,222,248,255,216,213,128,128,128,128,128],[168,175,246,252,235,205,255,255,128,128,128],[47,116,215,255,211,212,255,255,128,128,128]],[[1,121,236,253,212,214,255,255,128,128,128],[141,84,213,252,201,202,255,219,128,128,128],[42,80,160,240,162,185,255,205,128,128,128]],[[1,1,255,128,128,128,128,128,128,128,128],[244,1,255,128,128,128,128,128,128,128,128],[238,1,255,128,128,128,128,128,128,128,128]]]],jp=[[[231,120,48,89,115,113,120,152,112],[152,179,64,126,170,118,46,70,95],[175,69,143,80,85,82,72,155,103],[56,58,10,171,218,189,17,13,152],[114,26,17,163,44,195,21,10,173],[121,24,80,195,26,62,44,64,85],[144,71,10,38,171,213,144,34,26],[170,46,55,19,136,160,33,206,71],[63,20,8,114,114,208,12,9,226],[81,40,11,96,182,84,29,16,36]],[[134,183,89,137,98,101,106,165,148],[72,187,100,130,157,111,32,75,80],[66,102,167,99,74,62,40,234,128],[41,53,9,178,241,141,26,8,107],[74,43,26,146,73,166,49,23,157],[65,38,105,160,51,52,31,115,128],[104,79,12,27,217,255,87,17,7],[87,68,71,44,114,51,15,186,23],[47,41,14,110,182,183,21,17,194],[66,45,25,102,197,189,23,18,22]],[[88,88,147,150,42,46,45,196,205],[43,97,183,117,85,38,35,179,61],[39,53,200,87,26,21,43,232,171],[56,34,51,104,114,102,29,93,77],[39,28,85,171,58,165,90,98,64],[34,22,116,206,23,34,43,166,73],[107,54,32,26,51,1,81,43,31],[68,25,106,22,64,171,36,225,114],[34,19,21,102,132,188,16,76,124],[62,18,78,95,85,57,50,48,51]],[[193,101,35,159,215,111,89,46,111],[60,148,31,172,219,228,21,18,111],[112,113,77,85,179,255,38,120,114],[40,42,1,196,245,209,10,25,109],[88,43,29,140,166,213,37,43,154],[61,63,30,155,67,45,68,1,209],[100,80,8,43,154,1,51,26,71],[142,78,78,16,255,128,34,197,171],[41,40,5,102,211,183,4,1,221],[51,50,17,168,209,192,23,25,82]],[[138,31,36,171,27,166,38,44,229],[67,87,58,169,82,115,26,59,179],[63,59,90,180,59,166,93,73,154],[40,40,21,116,143,209,34,39,175],[47,15,16,183,34,223,49,45,183],[46,17,33,183,6,98,15,32,183],[57,46,22,24,128,1,54,17,37],[65,32,73,115,28,128,23,128,205],[40,3,9,115,51,192,18,6,223],[87,37,9,115,59,77,64,21,47]],[[104,55,44,218,9,54,53,130,226],[64,90,70,205,40,41,23,26,57],[54,57,112,184,5,41,38,166,213],[30,34,26,133,152,116,10,32,134],[39,19,53,221,26,114,32,73,255],[31,9,65,234,2,15,1,118,73],[75,32,12,51,192,255,160,43,51],[88,31,35,67,102,85,55,186,85],[56,21,23,111,59,205,45,37,192],[55,38,70,124,73,102,1,34,98]],[[125,98,42,88,104,85,117,175,82],[95,84,53,89,128,100,113,101,45],[75,79,123,47,51,128,81,171,1],[57,17,5,71,102,57,53,41,49],[38,33,13,121,57,73,26,1,85],[41,10,67,138,77,110,90,47,114],[115,21,2,10,102,255,166,23,6],[101,29,16,10,85,128,101,196,26],[57,18,10,102,102,213,34,20,43],[117,20,15,36,163,128,68,1,26]],[[102,61,71,37,34,53,31,243,192],[69,60,71,38,73,119,28,222,37],[68,45,128,34,1,47,11,245,171],[62,17,19,70,146,85,55,62,70],[37,43,37,154,100,163,85,160,1],[63,9,92,136,28,64,32,201,85],[75,15,9,9,64,255,184,119,16],[86,6,28,5,64,255,25,248,1],[56,8,17,132,137,255,55,116,128],[58,15,20,82,135,57,26,121,40]],[[164,50,31,137,154,133,25,35,218],[51,103,44,131,131,123,31,6,158],[86,40,64,135,148,224,45,183,128],[22,26,17,131,240,154,14,1,209],[45,16,21,91,64,222,7,1,197],[56,21,39,155,60,138,23,102,213],[83,12,13,54,192,255,68,47,28],[85,26,85,85,128,128,32,146,171],[18,11,7,63,144,171,4,4,246],[35,27,10,146,174,171,12,26,128]],[[190,80,35,99,180,80,126,54,45],[85,126,47,87,176,51,41,20,32],[101,75,128,139,118,146,116,128,85],[56,41,15,176,236,85,37,9,62],[71,30,17,119,118,255,17,18,138],[101,38,60,138,55,70,43,26,142],[146,36,19,30,171,255,97,27,20],[138,45,61,62,219,1,81,188,64],[32,41,20,117,151,142,20,21,163],[112,19,12,61,195,128,48,4,24]]],Sp=[[[[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[176,246,255,255,255,255,255,255,255,255,255],[223,241,252,255,255,255,255,255,255,255,255],[249,253,253,255,255,255,255,255,255,255,255]],[[255,244,252,255,255,255,255,255,255,255,255],[234,254,254,255,255,255,255,255,255,255,255],[253,255,255,255,255,255,255,255,255,255,255]],[[255,246,254,255,255,255,255,255,255,255,255],[239,253,254,255,255,255,255,255,255,255,255],[254,255,254,255,255,255,255,255,255,255,255]],[[255,248,254,255,255,255,255,255,255,255,255],[251,255,254,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,253,254,255,255,255,255,255,255,255,255],[251,254,254,255,255,255,255,255,255,255,255],[254,255,254,255,255,255,255,255,255,255,255]],[[255,254,253,255,254,255,255,255,255,255,255],[250,255,254,255,254,255,255,255,255,255,255],[254,255,255,255,255,255,255,255,255,255,255]],[[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]]],[[[217,255,255,255,255,255,255,255,255,255,255],[225,252,241,253,255,255,254,255,255,255,255],[234,250,241,250,253,255,253,254,255,255,255]],[[255,254,255,255,255,255,255,255,255,255,255],[223,254,254,255,255,255,255,255,255,255,255],[238,253,254,254,255,255,255,255,255,255,255]],[[255,248,254,255,255,255,255,255,255,255,255],[249,254,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,253,255,255,255,255,255,255,255,255,255],[247,254,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,253,254,255,255,255,255,255,255,255,255],[252,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,254,254,255,255,255,255,255,255,255,255],[253,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,254,253,255,255,255,255,255,255,255,255],[250,255,255,255,255,255,255,255,255,255,255],[254,255,255,255,255,255,255,255,255,255,255]],[[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]]],[[[186,251,250,255,255,255,255,255,255,255,255],[234,251,244,254,255,255,255,255,255,255,255],[251,251,243,253,254,255,254,255,255,255,255]],[[255,253,254,255,255,255,255,255,255,255,255],[236,253,254,255,255,255,255,255,255,255,255],[251,253,253,254,254,255,255,255,255,255,255]],[[255,254,254,255,255,255,255,255,255,255,255],[254,254,254,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,254,255,255,255,255,255,255,255,255,255],[254,254,255,255,255,255,255,255,255,255,255],[254,255,255,255,255,255,255,255,255,255,255]],[[255,255,255,255,255,255,255,255,255,255,255],[254,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]]],[[[248,255,255,255,255,255,255,255,255,255,255],[250,254,252,254,255,255,255,255,255,255,255],[248,254,249,253,255,255,255,255,255,255,255]],[[255,253,253,255,255,255,255,255,255,255,255],[246,253,253,255,255,255,255,255,255,255,255],[252,254,251,254,254,255,255,255,255,255,255]],[[255,254,252,255,255,255,255,255,255,255,255],[248,254,253,255,255,255,255,255,255,255,255],[253,255,254,254,255,255,255,255,255,255,255]],[[255,251,254,255,255,255,255,255,255,255,255],[245,251,254,255,255,255,255,255,255,255,255],[253,253,254,255,255,255,255,255,255,255,255]],[[255,251,253,255,255,255,255,255,255,255,255],[252,253,254,255,255,255,255,255,255,255,255],[255,254,255,255,255,255,255,255,255,255,255]],[[255,252,255,255,255,255,255,255,255,255,255],[249,255,254,255,255,255,255,255,255,255,255],[255,255,254,255,255,255,255,255,255,255,255]],[[255,255,253,255,255,255,255,255,255,255,255],[250,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,255,255,255,255,255,255,255,255,255,255],[254,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]]]],kp=[0,1,2,3,6,4,5,6,6,6,6,6,6,6,6,7,0],mn=[],ua=[],Xa=[],Ap=1,jh=2,xn=[],ta=[];Re("UpsampleRgbLinePair",Mt,3),Re("UpsampleBgrLinePair",fr,3),Re("UpsampleRgbaLinePair",ha,4),Re("UpsampleBgraLinePair",qr,4),Re("UpsampleArgbLinePair",ns,4),Re("UpsampleRgba4444LinePair",Pr,2),Re("UpsampleRgb565LinePair",vr,2);var _p=C.UpsampleRgbLinePair,Cp=C.UpsampleBgrLinePair,Sh=C.UpsampleRgbaLinePair,kh=C.UpsampleBgraLinePair,Ah=C.UpsampleArgbLinePair,_h=C.UpsampleRgba4444LinePair,Tp=C.UpsampleRgb565LinePair,Yl=16,Kl=1<<Yl-1,Oo=-227,Bd=482,Ep=6,Ch=0,Pp=o(256),Fp=o(256),Lp=o(256),Op=o(256),Dp=o(Bd-Oo),Ip=o(Bd-Oo);Ea("YuvToRgbRow",Mt,3),Ea("YuvToBgrRow",fr,3),Ea("YuvToRgbaRow",ha,4),Ea("YuvToBgraRow",qr,4),Ea("YuvToArgbRow",ns,4),Ea("YuvToRgba4444Row",Pr,2),Ea("YuvToRgb565Row",vr,2);var Th=[0,4,8,12,128,132,136,140,256,260,264,268,384,388,392,396],Xl=[0,2,8],Rp=[8,7,6,4,4,2,2,2,1,1,1,1],Mp=1;this.WebPDecodeRGBA=function(f,v,A,O,U){var q=zl,G=new bi,K=new Os;G.ba=K,K.S=q,K.width=[K.width],K.height=[K.height];var Z=K.width,se=K.height,ge=new ia;if(ge==null||f==null)var Ae=2;else s(ge!=null),Ae=Ni(f,v,A,ge.width,ge.height,ge.Pd,ge.Qd,ge.format,null);if(Ae!=0?Z=0:(Z!=null&&(Z[0]=ge.width[0]),se!=null&&(se[0]=ge.height[0]),Z=1),Z){K.width=K.width[0],K.height=K.height[0],O!=null&&(O[0]=K.width),U!=null&&(U[0]=K.height);e:{if(O=new _a,(U=new yo).data=f,U.w=v,U.ha=A,U.kd=1,v=[0],s(U!=null),((f=Ni(U.data,U.w,U.ha,null,null,null,v,null,U))==0||f==7)&&v[0]&&(f=4),(v=f)==0){if(s(G!=null),O.data=U.data,O.w=U.w+U.offset,O.ha=U.ha-U.offset,O.put=Ys,O.ac=Mr,O.bc=Ks,O.ma=G,U.xa){if((f=Le())==null){G=1;break e}if(function(_e,we){var He=[0],Oe=[0],ve=[0];t:for(;;){if(_e==null)return 0;if(we==null)return _e.a=2,0;if(_e.l=we,_e.a=0,ie(_e.m,we.data,we.w,we.ha),!pt(_e.m,He,Oe,ve)){_e.a=3;break t}if(_e.xb=jh,we.width=He[0],we.height=Oe[0],!Se(He[0],Oe[0],1,_e,null))break t;return 1}return s(_e.a!=0),0}(f,O)){if(O=(v=ji(O.width,O.height,G.Oa,G.ba))==0){t:{O=f;r:for(;;){if(O==null){O=0;break t}if(s(O.s.yc!=null),s(O.s.Ya!=null),s(0<O.s.Wb),s((A=O.l)!=null),s((U=A.ma)!=null),O.xb!=0){if(O.ca=U.ba,O.tb=U.tb,s(O.ca!=null),!ko(U.Oa,A,Vl)){O.a=2;break r}if(!Ce(O,A.width)||A.da)break r;if((A.da||Bt(O.ca.S))&&je(),11>O.ca.S||(alert("todo:WebPInitConvertARGBToYUV"),O.ca.f.kb.F!=null&&je()),O.Pb&&0<O.s.ua&&O.s.vb.X==null&&!Ke(O.s.vb,O.s.Wa.Xa)){O.a=1;break r}O.xb=0}if(!ce(O,O.V,O.Ba,O.c,O.i,A.o,le))break r;U.Dc=O.Ma,O=1;break t}s(O.a!=0),O=0}O=!O}O&&(v=f.a)}else v=f.a}else{if((f=new Is)==null){G=1;break e}if(f.Fa=U.na,f.P=U.P,f.qc=U.Sa,wl(f,O)){if((v=ji(O.width,O.height,G.Oa,G.ba))==0){if(f.Aa=0,A=G.Oa,s((U=f)!=null),A!=null){if(0<(Z=0>(Z=A.Md)?0:100<Z?255:255*Z/100)){for(se=ge=0;4>se;++se)12>(Ae=U.pb[se]).lc&&(Ae.ia=Z*Rp[0>Ae.lc?0:Ae.lc]>>3),ge|=Ae.ia;ge&&(alert("todo:VP8InitRandom"),U.ia=1)}U.Ga=A.Id,100<U.Ga?U.Ga=100:0>U.Ga&&(U.Ga=0)}fd(f,O)||(v=f.a)}}else v=f.a}v==0&&G.Oa!=null&&G.Oa.fd&&(v=Ao(G.ba))}G=v}q=G!=0?null:11>q?K.f.RGBA.eb:K.f.kb.y}else q=null;return q};var Eh=[3,4,3,4,4,2,2,4,4,4,2,1,1]};function h(C,I){for(var D="",E=0;E<4;E++)D+=String.fromCharCode(C[I++]);return D}function u(C,I){return(C[I+0]<<0|C[I+1]<<8|C[I+2]<<16)>>>0}function x(C,I){return(C[I+0]<<0|C[I+1]<<8|C[I+2]<<16|C[I+3]<<24)>>>0}new d;var p=[0],m=[0],y=[],g=new d,b=t,w=function(C,I){var D={},E=0,P=!1,W=0,z=0;if(D.frames=[],!function(R,M,B,Y){for(var fe=0;fe<Y;fe++)if(R[M+fe]!=B.charCodeAt(fe))return!0;return!1}(C,I,"RIFF",4)){var ue,Q;for(x(C,I+=4),I+=8;I<C.length;){var ee=h(C,I),ie=x(C,I+=4);I+=4;var ne=ie+(1&ie);switch(ee){case"VP8 ":case"VP8L":D.frames[E]===void 0&&(D.frames[E]={}),(_=D.frames[E]).src_off=P?z:I-8,_.src_size=W+ie+8,E++,P&&(P=!1,W=0,z=0);break;case"VP8X":(_=D.header={}).feature_flags=C[I];var pe=I+4;_.canvas_width=1+u(C,pe),pe+=3,_.canvas_height=1+u(C,pe),pe+=3;break;case"ALPH":P=!0,W=ne+8,z=I-8;break;case"ANIM":(_=D.header).bgcolor=x(C,I),pe=I+4,_.loop_count=(ue=C)[(Q=pe)+0]<<0|ue[Q+1]<<8,pe+=2;break;case"ANMF":var ye,_;(_=D.frames[E]={}).offset_x=2*u(C,I),I+=3,_.offset_y=2*u(C,I),I+=3,_.width=1+u(C,I),I+=3,_.height=1+u(C,I),I+=3,_.duration=u(C,I),I+=3,ye=C[I++],_.dispose=1&ye,_.blend=ye>>1&1}ee!="ANMF"&&(I+=ne)}return D}}(b,0);w.response=b,w.rgbaoutput=!0,w.dataurl=!1;var N=w.header?w.header:null,j=w.frames?w.frames:null;if(N){N.loop_counter=N.loop_count,p=[N.canvas_height],m=[N.canvas_width];for(var k=0;k<j.length&&j[k].blend!=0;k++);}var L=j[0],F=g.WebPDecodeRGBA(b,L.src_off,L.src_size,m,p);L.rgba=F,L.imgwidth=m[0],L.imgheight=p[0];for(var T=0;T<m[0]*p[0]*4;T++)y[T]=F[T];return this.width=m,this.height=p,this.data=y,this}(function(t){var s=function(){return typeof _0=="function"},r=function(p,m,y,g){var b=4,w=l;switch(g){case t.image_compression.FAST:b=1,w=o;break;case t.image_compression.MEDIUM:b=6,w=c;break;case t.image_compression.SLOW:b=9,w=d}p=a(p,m,y,w);var N=_0(p,{level:b});return t.__addimage__.arrayBufferToBinaryString(N)},a=function(p,m,y,g){for(var b,w,N,j=p.length/m,k=new Uint8Array(p.length+j),L=u(),F=0;F<j;F+=1){if(N=F*m,b=p.subarray(N,N+m),g)k.set(g(b,y,w),N+F);else{for(var T,C=L.length,I=[];T<C;T+=1)I[T]=L[T](b,y,w);var D=x(I.concat());k.set(I[D],N+F)}w=b}return k},n=function(p){var m=Array.apply([],p);return m.unshift(0),m},o=function(p,m){var y,g=[],b=p.length;g[0]=1;for(var w=0;w<b;w+=1)y=p[w-m]||0,g[w+1]=p[w]-y+256&255;return g},l=function(p,m,y){var g,b=[],w=p.length;b[0]=2;for(var N=0;N<w;N+=1)g=y&&y[N]||0,b[N+1]=p[N]-g+256&255;return b},c=function(p,m,y){var g,b,w=[],N=p.length;w[0]=3;for(var j=0;j<N;j+=1)g=p[j-m]||0,b=y&&y[j]||0,w[j+1]=p[j]+256-(g+b>>>1)&255;return w},d=function(p,m,y){var g,b,w,N,j=[],k=p.length;j[0]=4;for(var L=0;L<k;L+=1)g=p[L-m]||0,b=y&&y[L]||0,w=y&&y[L-m]||0,N=h(g,b,w),j[L+1]=p[L]-N+256&255;return j},h=function(p,m,y){if(p===m&&m===y)return p;var g=Math.abs(m-y),b=Math.abs(p-y),w=Math.abs(p+m-y-y);return g<=b&&g<=w?p:b<=w?m:y},u=function(){return[n,o,l,c,d]},x=function(p){var m=p.map(function(y){return y.reduce(function(g,b){return g+Math.abs(b)},0)});return m.indexOf(Math.min.apply(null,m))};t.processPNG=function(p,m,y,g){var b,w,N,j,k,L,F,T,C,I,D,E,P,W,z,ue=this.decode.FLATE_DECODE,Q="";if(this.__addimage__.isArrayBuffer(p)&&(p=new Uint8Array(p)),this.__addimage__.isArrayBufferView(p)){if(p=(N=new N2(p)).imgData,w=N.bits,b=N.colorSpace,k=N.colors,[4,6].indexOf(N.colorType)!==-1){if(N.bits===8){C=(T=N.pixelBitlength==32?new Uint32Array(N.decodePixels().buffer):N.pixelBitlength==16?new Uint16Array(N.decodePixels().buffer):new Uint8Array(N.decodePixels().buffer)).length,D=new Uint8Array(C*N.colors),I=new Uint8Array(C);var ee,ie=N.pixelBitlength-N.bits;for(W=0,z=0;W<C;W++){for(P=T[W],ee=0;ee<ie;)D[z++]=P>>>ee&255,ee+=N.bits;I[W]=P>>>ee&255}}if(N.bits===16){C=(T=new Uint32Array(N.decodePixels().buffer)).length,D=new Uint8Array(C*(32/N.pixelBitlength)*N.colors),I=new Uint8Array(C*(32/N.pixelBitlength)),E=N.colors>1,W=0,z=0;for(var ne=0;W<C;)P=T[W++],D[z++]=P>>>0&255,E&&(D[z++]=P>>>16&255,P=T[W++],D[z++]=P>>>0&255),I[ne++]=P>>>16&255;w=8}g!==t.image_compression.NONE&&s()?(p=r(D,N.width*N.colors,N.colors,g),F=r(I,N.width,1,g)):(p=D,F=I,ue=void 0)}if(N.colorType===3&&(b=this.color_spaces.INDEXED,L=N.palette,N.transparency.indexed)){var pe=N.transparency.indexed,ye=0;for(W=0,C=pe.length;W<C;++W)ye+=pe[W];if((ye/=255)===C-1&&pe.indexOf(0)!==-1)j=[pe.indexOf(0)];else if(ye!==C){for(T=N.decodePixels(),I=new Uint8Array(T.length),W=0,C=T.length;W<C;W++)I[W]=pe[T[W]];F=r(I,N.width,1)}}var _=function(R){var M;switch(R){case t.image_compression.FAST:M=11;break;case t.image_compression.MEDIUM:M=13;break;case t.image_compression.SLOW:M=14;break;default:M=12}return M}(g);return ue===this.decode.FLATE_DECODE&&(Q="/Predictor "+_+" "),Q+="/Colors "+k+" /BitsPerComponent "+w+" /Columns "+N.width,(this.__addimage__.isArrayBuffer(p)||this.__addimage__.isArrayBufferView(p))&&(p=this.__addimage__.arrayBufferToBinaryString(p)),(F&&this.__addimage__.isArrayBuffer(F)||this.__addimage__.isArrayBufferView(F))&&(F=this.__addimage__.arrayBufferToBinaryString(F)),{alias:y,data:p,index:m,filter:ue,decodeParameters:Q,transparency:j,palette:L,sMask:F,predictor:_,width:N.width,height:N.height,bitsPerComponent:w,colorSpace:b}}}})(vt.API),function(t){t.processGIF89A=function(s,r,a,n){var o=new j2(s),l=o.width,c=o.height,d=[];o.decodeAndBlitFrameRGBA(0,d);var h={data:d,width:l,height:c},u=new i0(100).encode(h,100);return t.processJPEG.call(this,u,r,a,n)},t.processGIF87A=t.processGIF89A}(vt.API),xa.prototype.parseHeader=function(){if(this.fileSize=this.datav.getUint32(this.pos,!0),this.pos+=4,this.reserved=this.datav.getUint32(this.pos,!0),this.pos+=4,this.offset=this.datav.getUint32(this.pos,!0),this.pos+=4,this.headerSize=this.datav.getUint32(this.pos,!0),this.pos+=4,this.width=this.datav.getUint32(this.pos,!0),this.pos+=4,this.height=this.datav.getInt32(this.pos,!0),this.pos+=4,this.planes=this.datav.getUint16(this.pos,!0),this.pos+=2,this.bitPP=this.datav.getUint16(this.pos,!0),this.pos+=2,this.compress=this.datav.getUint32(this.pos,!0),this.pos+=4,this.rawSize=this.datav.getUint32(this.pos,!0),this.pos+=4,this.hr=this.datav.getUint32(this.pos,!0),this.pos+=4,this.vr=this.datav.getUint32(this.pos,!0),this.pos+=4,this.colors=this.datav.getUint32(this.pos,!0),this.pos+=4,this.importantColors=this.datav.getUint32(this.pos,!0),this.pos+=4,this.bitPP===16&&this.is_with_alpha&&(this.bitPP=15),this.bitPP<15){var t=this.colors===0?1<<this.bitPP:this.colors;this.palette=new Array(t);for(var s=0;s<t;s++){var r=this.datav.getUint8(this.pos++,!0),a=this.datav.getUint8(this.pos++,!0),n=this.datav.getUint8(this.pos++,!0),o=this.datav.getUint8(this.pos++,!0);this.palette[s]={red:n,green:a,blue:r,quad:o}}}this.height<0&&(this.height*=-1,this.bottom_up=!1)},xa.prototype.parseBGR=function(){this.pos=this.offset;try{var t="bit"+this.bitPP,s=this.width*this.height*4;this.data=new Uint8Array(s),this[t]()}catch(r){nr.log("bit decode error:"+r)}},xa.prototype.bit1=function(){var t,s=Math.ceil(this.width/8),r=s%4;for(t=this.height-1;t>=0;t--){for(var a=this.bottom_up?t:this.height-1-t,n=0;n<s;n++)for(var o=this.datav.getUint8(this.pos++,!0),l=a*this.width*4+8*n*4,c=0;c<8&&8*n+c<this.width;c++){var d=this.palette[o>>7-c&1];this.data[l+4*c]=d.blue,this.data[l+4*c+1]=d.green,this.data[l+4*c+2]=d.red,this.data[l+4*c+3]=255}r!==0&&(this.pos+=4-r)}},xa.prototype.bit4=function(){for(var t=Math.ceil(this.width/2),s=t%4,r=this.height-1;r>=0;r--){for(var a=this.bottom_up?r:this.height-1-r,n=0;n<t;n++){var o=this.datav.getUint8(this.pos++,!0),l=a*this.width*4+2*n*4,c=o>>4,d=15&o,h=this.palette[c];if(this.data[l]=h.blue,this.data[l+1]=h.green,this.data[l+2]=h.red,this.data[l+3]=255,2*n+1>=this.width)break;h=this.palette[d],this.data[l+4]=h.blue,this.data[l+4+1]=h.green,this.data[l+4+2]=h.red,this.data[l+4+3]=255}s!==0&&(this.pos+=4-s)}},xa.prototype.bit8=function(){for(var t=this.width%4,s=this.height-1;s>=0;s--){for(var r=this.bottom_up?s:this.height-1-s,a=0;a<this.width;a++){var n=this.datav.getUint8(this.pos++,!0),o=r*this.width*4+4*a;if(n<this.palette.length){var l=this.palette[n];this.data[o]=l.red,this.data[o+1]=l.green,this.data[o+2]=l.blue,this.data[o+3]=255}else this.data[o]=255,this.data[o+1]=255,this.data[o+2]=255,this.data[o+3]=255}t!==0&&(this.pos+=4-t)}},xa.prototype.bit15=function(){for(var t=this.width%3,s=parseInt("11111",2),r=this.height-1;r>=0;r--){for(var a=this.bottom_up?r:this.height-1-r,n=0;n<this.width;n++){var o=this.datav.getUint16(this.pos,!0);this.pos+=2;var l=(o&s)/s*255|0,c=(o>>5&s)/s*255|0,d=(o>>10&s)/s*255|0,h=o>>15?255:0,u=a*this.width*4+4*n;this.data[u]=d,this.data[u+1]=c,this.data[u+2]=l,this.data[u+3]=h}this.pos+=t}},xa.prototype.bit16=function(){for(var t=this.width%3,s=parseInt("11111",2),r=parseInt("111111",2),a=this.height-1;a>=0;a--){for(var n=this.bottom_up?a:this.height-1-a,o=0;o<this.width;o++){var l=this.datav.getUint16(this.pos,!0);this.pos+=2;var c=(l&s)/s*255|0,d=(l>>5&r)/r*255|0,h=(l>>11)/s*255|0,u=n*this.width*4+4*o;this.data[u]=h,this.data[u+1]=d,this.data[u+2]=c,this.data[u+3]=255}this.pos+=t}},xa.prototype.bit24=function(){for(var t=this.height-1;t>=0;t--){for(var s=this.bottom_up?t:this.height-1-t,r=0;r<this.width;r++){var a=this.datav.getUint8(this.pos++,!0),n=this.datav.getUint8(this.pos++,!0),o=this.datav.getUint8(this.pos++,!0),l=s*this.width*4+4*r;this.data[l]=o,this.data[l+1]=n,this.data[l+2]=a,this.data[l+3]=255}this.pos+=this.width%4}},xa.prototype.bit32=function(){for(var t=this.height-1;t>=0;t--)for(var s=this.bottom_up?t:this.height-1-t,r=0;r<this.width;r++){var a=this.datav.getUint8(this.pos++,!0),n=this.datav.getUint8(this.pos++,!0),o=this.datav.getUint8(this.pos++,!0),l=this.datav.getUint8(this.pos++,!0),c=s*this.width*4+4*r;this.data[c]=o,this.data[c+1]=n,this.data[c+2]=a,this.data[c+3]=l}},xa.prototype.getData=function(){return this.data},function(t){t.processBMP=function(s,r,a,n){var o=new xa(s,!1),l=o.width,c=o.height,d={data:o.getData(),width:l,height:c},h=new i0(100).encode(d,100);return t.processJPEG.call(this,h,r,a,n)}}(vt.API),ju.prototype.getData=function(){return this.data},function(t){t.processWEBP=function(s,r,a,n){var o=new ju(s),l=o.width,c=o.height,d={data:o.getData(),width:l,height:c},h=new i0(100).encode(d,100);return t.processJPEG.call(this,h,r,a,n)}}(vt.API),vt.API.processRGBA=function(t,s,r){for(var a=t.data,n=a.length,o=new Uint8Array(n/4*3),l=new Uint8Array(n/4),c=0,d=0,h=0;h<n;h+=4){var u=a[h],x=a[h+1],p=a[h+2],m=a[h+3];o[c++]=u,o[c++]=x,o[c++]=p,l[d++]=m}var y=this.__addimage__.arrayBufferToBinaryString(o);return{alpha:this.__addimage__.arrayBufferToBinaryString(l),data:y,index:s,alias:r,colorSpace:"DeviceRGB",bitsPerComponent:8,width:t.width,height:t.height}},vt.API.setLanguage=function(t){return this.internal.languageSettings===void 0&&(this.internal.languageSettings={},this.internal.languageSettings.isSubscribed=!1),{af:"Afrikaans",sq:"Albanian",ar:"Arabic (Standard)","ar-DZ":"Arabic (Algeria)","ar-BH":"Arabic (Bahrain)","ar-EG":"Arabic (Egypt)","ar-IQ":"Arabic (Iraq)","ar-JO":"Arabic (Jordan)","ar-KW":"Arabic (Kuwait)","ar-LB":"Arabic (Lebanon)","ar-LY":"Arabic (Libya)","ar-MA":"Arabic (Morocco)","ar-OM":"Arabic (Oman)","ar-QA":"Arabic (Qatar)","ar-SA":"Arabic (Saudi Arabia)","ar-SY":"Arabic (Syria)","ar-TN":"Arabic (Tunisia)","ar-AE":"Arabic (U.A.E.)","ar-YE":"Arabic (Yemen)",an:"Aragonese",hy:"Armenian",as:"Assamese",ast:"Asturian",az:"Azerbaijani",eu:"Basque",be:"Belarusian",bn:"Bengali",bs:"Bosnian",br:"Breton",bg:"Bulgarian",my:"Burmese",ca:"Catalan",ch:"Chamorro",ce:"Chechen",zh:"Chinese","zh-HK":"Chinese (Hong Kong)","zh-CN":"Chinese (PRC)","zh-SG":"Chinese (Singapore)","zh-TW":"Chinese (Taiwan)",cv:"Chuvash",co:"Corsican",cr:"Cree",hr:"Croatian",cs:"Czech",da:"Danish",nl:"Dutch (Standard)","nl-BE":"Dutch (Belgian)",en:"English","en-AU":"English (Australia)","en-BZ":"English (Belize)","en-CA":"English (Canada)","en-IE":"English (Ireland)","en-JM":"English (Jamaica)","en-NZ":"English (New Zealand)","en-PH":"English (Philippines)","en-ZA":"English (South Africa)","en-TT":"English (Trinidad & Tobago)","en-GB":"English (United Kingdom)","en-US":"English (United States)","en-ZW":"English (Zimbabwe)",eo:"Esperanto",et:"Estonian",fo:"Faeroese",fj:"Fijian",fi:"Finnish",fr:"French (Standard)","fr-BE":"French (Belgium)","fr-CA":"French (Canada)","fr-FR":"French (France)","fr-LU":"French (Luxembourg)","fr-MC":"French (Monaco)","fr-CH":"French (Switzerland)",fy:"Frisian",fur:"Friulian",gd:"Gaelic (Scots)","gd-IE":"Gaelic (Irish)",gl:"Galacian",ka:"Georgian",de:"German (Standard)","de-AT":"German (Austria)","de-DE":"German (Germany)","de-LI":"German (Liechtenstein)","de-LU":"German (Luxembourg)","de-CH":"German (Switzerland)",el:"Greek",gu:"Gujurati",ht:"Haitian",he:"Hebrew",hi:"Hindi",hu:"Hungarian",is:"Icelandic",id:"Indonesian",iu:"Inuktitut",ga:"Irish",it:"Italian (Standard)","it-CH":"Italian (Switzerland)",ja:"Japanese",kn:"Kannada",ks:"Kashmiri",kk:"Kazakh",km:"Khmer",ky:"Kirghiz",tlh:"Klingon",ko:"Korean","ko-KP":"Korean (North Korea)","ko-KR":"Korean (South Korea)",la:"Latin",lv:"Latvian",lt:"Lithuanian",lb:"Luxembourgish",mk:"North Macedonia",ms:"Malay",ml:"Malayalam",mt:"Maltese",mi:"Maori",mr:"Marathi",mo:"Moldavian",nv:"Navajo",ng:"Ndonga",ne:"Nepali",no:"Norwegian",nb:"Norwegian (Bokmal)",nn:"Norwegian (Nynorsk)",oc:"Occitan",or:"Oriya",om:"Oromo",fa:"Persian","fa-IR":"Persian/Iran",pl:"Polish",pt:"Portuguese","pt-BR":"Portuguese (Brazil)",pa:"Punjabi","pa-IN":"Punjabi (India)","pa-PK":"Punjabi (Pakistan)",qu:"Quechua",rm:"Rhaeto-Romanic",ro:"Romanian","ro-MO":"Romanian (Moldavia)",ru:"Russian","ru-MO":"Russian (Moldavia)",sz:"Sami (Lappish)",sg:"Sango",sa:"Sanskrit",sc:"Sardinian",sd:"Sindhi",si:"Singhalese",sr:"Serbian",sk:"Slovak",sl:"Slovenian",so:"Somani",sb:"Sorbian",es:"Spanish","es-AR":"Spanish (Argentina)","es-BO":"Spanish (Bolivia)","es-CL":"Spanish (Chile)","es-CO":"Spanish (Colombia)","es-CR":"Spanish (Costa Rica)","es-DO":"Spanish (Dominican Republic)","es-EC":"Spanish (Ecuador)","es-SV":"Spanish (El Salvador)","es-GT":"Spanish (Guatemala)","es-HN":"Spanish (Honduras)","es-MX":"Spanish (Mexico)","es-NI":"Spanish (Nicaragua)","es-PA":"Spanish (Panama)","es-PY":"Spanish (Paraguay)","es-PE":"Spanish (Peru)","es-PR":"Spanish (Puerto Rico)","es-ES":"Spanish (Spain)","es-UY":"Spanish (Uruguay)","es-VE":"Spanish (Venezuela)",sx:"Sutu",sw:"Swahili",sv:"Swedish","sv-FI":"Swedish (Finland)","sv-SV":"Swedish (Sweden)",ta:"Tamil",tt:"Tatar",te:"Teluga",th:"Thai",tig:"Tigre",ts:"Tsonga",tn:"Tswana",tr:"Turkish",tk:"Turkmen",uk:"Ukrainian",hsb:"Upper Sorbian",ur:"Urdu",ve:"Venda",vi:"Vietnamese",vo:"Volapuk",wa:"Walloon",cy:"Welsh",xh:"Xhosa",ji:"Yiddish",zu:"Zulu"}[t]!==void 0&&(this.internal.languageSettings.languageCode=t,this.internal.languageSettings.isSubscribed===!1&&(this.internal.events.subscribe("putCatalog",function(){this.internal.write("/Lang ("+this.internal.languageSettings.languageCode+")")}),this.internal.languageSettings.isSubscribed=!0)),this},Mi=vt.API,pc=Mi.getCharWidthsArray=function(t,s){var r,a,n=(s=s||{}).font||this.internal.getFont(),o=s.fontSize||this.internal.getFontSize(),l=s.charSpace||this.internal.getCharSpace(),c=s.widths?s.widths:n.metadata.Unicode.widths,d=c.fof?c.fof:1,h=s.kerning?s.kerning:n.metadata.Unicode.kerning,u=h.fof?h.fof:1,x=s.doKerning!==!1,p=0,m=t.length,y=0,g=c[0]||d,b=[];for(r=0;r<m;r++)a=t.charCodeAt(r),typeof n.metadata.widthOfString=="function"?b.push((n.metadata.widthOfGlyph(n.metadata.characterToGlyph(a))+l*(1e3/o)||0)/1e3):(p=x&&ir(h[a])==="object"&&!isNaN(parseInt(h[a][y],10))?h[a][y]/u:0,b.push((c[a]||g)/d+p)),y=a;return b},yu=Mi.getStringUnitWidth=function(t,s){var r=(s=s||{}).fontSize||this.internal.getFontSize(),a=s.font||this.internal.getFont(),n=s.charSpace||this.internal.getCharSpace();return Mi.processArabic&&(t=Mi.processArabic(t)),typeof a.metadata.widthOfString=="function"?a.metadata.widthOfString(t,r,n)/r:pc.apply(this,arguments).reduce(function(o,l){return o+l},0)},bu=function(t,s,r,a){for(var n=[],o=0,l=t.length,c=0;o!==l&&c+s[o]<r;)c+=s[o],o++;n.push(t.slice(0,o));var d=o;for(c=0;o!==l;)c+s[o]>a&&(n.push(t.slice(d,o)),c=0,d=o),c+=s[o],o++;return d!==o&&n.push(t.slice(d,o)),n},wu=function(t,s,r){r||(r={});var a,n,o,l,c,d,h,u=[],x=[u],p=r.textIndent||0,m=0,y=0,g=t.split(" "),b=pc.apply(this,[" ",r])[0];if(d=r.lineIndent===-1?g[0].length+2:r.lineIndent||0){var w=Array(d).join(" "),N=[];g.map(function(k){(k=k.split(/\s*\n/)).length>1?N=N.concat(k.map(function(L,F){return(F&&L.length?`
`:"")+L})):N.push(k[0])}),g=N,d=yu.apply(this,[w,r])}for(o=0,l=g.length;o<l;o++){var j=0;if(a=g[o],d&&a[0]==`
`&&(a=a.substr(1),j=1),p+m+(y=(n=pc.apply(this,[a,r])).reduce(function(k,L){return k+L},0))>s||j){if(y>s){for(c=bu.apply(this,[a,n,s-(p+m),s]),u.push(c.shift()),u=[c.pop()];c.length;)x.push([c.shift()]);y=n.slice(a.length-(u[0]?u[0].length:0)).reduce(function(k,L){return k+L},0)}else u=[a];x.push(u),p=y+d,m=b}else u.push(a),p+=m+y,m=b}return h=d?function(k,L){return(L?w:"")+k.join(" ")}:function(k){return k.join(" ")},x.map(h)},Mi.splitTextToSize=function(t,s,r){var a,n=(r=r||{}).fontSize||this.internal.getFontSize(),o=(function(u){if(u.widths&&u.kerning)return{widths:u.widths,kerning:u.kerning};var x=this.internal.getFont(u.fontName,u.fontStyle);return x.metadata.Unicode?{widths:x.metadata.Unicode.widths||{0:1},kerning:x.metadata.Unicode.kerning||{}}:{font:x.metadata,fontSize:this.internal.getFontSize(),charSpace:this.internal.getCharSpace()}}).call(this,r);a=Array.isArray(t)?t:String(t).split(/\r?\n/);var l=1*this.internal.scaleFactor*s/n;o.textIndent=r.textIndent?1*r.textIndent*this.internal.scaleFactor/n:0,o.lineIndent=r.lineIndent;var c,d,h=[];for(c=0,d=a.length;c<d;c++)h=h.concat(wu.apply(this,[a[c],l,o]));return h},function(t){t.__fontmetrics__=t.__fontmetrics__||{};for(var s="klmnopqrstuvwxyz",r={},a={},n=0;n<s.length;n++)r[s[n]]="0123456789abcdef"[n],a["0123456789abcdef"[n]]=s[n];var o=function(x){return"0x"+parseInt(x,10).toString(16)},l=t.__fontmetrics__.compress=function(x){var p,m,y,g,b=["{"];for(var w in x){if(p=x[w],isNaN(parseInt(w,10))?m="'"+w+"'":(w=parseInt(w,10),m=(m=o(w).slice(2)).slice(0,-1)+a[m.slice(-1)]),typeof p=="number")p<0?(y=o(p).slice(3),g="-"):(y=o(p).slice(2),g=""),y=g+y.slice(0,-1)+a[y.slice(-1)];else{if(ir(p)!=="object")throw new Error("Don't know what to do with value type "+ir(p)+".");y=l(p)}b.push(m+y)}return b.push("}"),b.join("")},c=t.__fontmetrics__.uncompress=function(x){if(typeof x!="string")throw new Error("Invalid argument passed to uncompress.");for(var p,m,y,g,b={},w=1,N=b,j=[],k="",L="",F=x.length-1,T=1;T<F;T+=1)(g=x[T])=="'"?p?(y=p.join(""),p=void 0):p=[]:p?p.push(g):g=="{"?(j.push([N,y]),N={},y=void 0):g=="}"?((m=j.pop())[0][m[1]]=N,y=void 0,N=m[0]):g=="-"?w=-1:y===void 0?r.hasOwnProperty(g)?(k+=r[g],y=parseInt(k,16)*w,w=1,k=""):k+=g:r.hasOwnProperty(g)?(L+=r[g],N[y]=parseInt(L,16)*w,w=1,y=void 0,L=""):L+=g;return b},d={codePages:["WinAnsiEncoding"],WinAnsiEncoding:c("{19m8n201n9q201o9r201s9l201t9m201u8m201w9n201x9o201y8o202k8q202l8r202m9p202q8p20aw8k203k8t203t8v203u9v2cq8s212m9t15m8w15n9w2dw9s16k8u16l9u17s9z17x8y17y9y}")},h={Unicode:{Courier:d,"Courier-Bold":d,"Courier-BoldOblique":d,"Courier-Oblique":d,Helvetica:d,"Helvetica-Bold":d,"Helvetica-BoldOblique":d,"Helvetica-Oblique":d,"Times-Roman":d,"Times-Bold":d,"Times-BoldItalic":d,"Times-Italic":d}},u={Unicode:{"Courier-Oblique":c("{'widths'{k3w'fof'6o}'kerning'{'fof'-6o}}"),"Times-BoldItalic":c("{'widths'{k3o2q4ycx2r201n3m201o6o201s2l201t2l201u2l201w3m201x3m201y3m2k1t2l2r202m2n2n3m2o3m2p5n202q6o2r1w2s2l2t2l2u3m2v3t2w1t2x2l2y1t2z1w3k3m3l3m3m3m3n3m3o3m3p3m3q3m3r3m3s3m203t2l203u2l3v2l3w3t3x3t3y3t3z3m4k5n4l4m4m4m4n4m4o4s4p4m4q4m4r4s4s4y4t2r4u3m4v4m4w3x4x5t4y4s4z4s5k3x5l4s5m4m5n3r5o3x5p4s5q4m5r5t5s4m5t3x5u3x5v2l5w1w5x2l5y3t5z3m6k2l6l3m6m3m6n2w6o3m6p2w6q2l6r3m6s3r6t1w6u1w6v3m6w1w6x4y6y3r6z3m7k3m7l3m7m2r7n2r7o1w7p3r7q2w7r4m7s3m7t2w7u2r7v2n7w1q7x2n7y3t202l3mcl4mal2ram3man3mao3map3mar3mas2lat4uau1uav3maw3way4uaz2lbk2sbl3t'fof'6obo2lbp3tbq3mbr1tbs2lbu1ybv3mbz3mck4m202k3mcm4mcn4mco4mcp4mcq5ycr4mcs4mct4mcu4mcv4mcw2r2m3rcy2rcz2rdl4sdm4sdn4sdo4sdp4sdq4sds4sdt4sdu4sdv4sdw4sdz3mek3mel3mem3men3meo3mep3meq4ser2wes2wet2weu2wev2wew1wex1wey1wez1wfl3rfm3mfn3mfo3mfp3mfq3mfr3tfs3mft3rfu3rfv3rfw3rfz2w203k6o212m6o2dw2l2cq2l3t3m3u2l17s3x19m3m}'kerning'{cl{4qu5kt5qt5rs17ss5ts}201s{201ss}201t{cks4lscmscnscoscpscls2wu2yu201ts}201x{2wu2yu}2k{201ts}2w{4qx5kx5ou5qx5rs17su5tu}2x{17su5tu5ou}2y{4qx5kx5ou5qx5rs17ss5ts}'fof'-6ofn{17sw5tw5ou5qw5rs}7t{cksclscmscnscoscps4ls}3u{17su5tu5os5qs}3v{17su5tu5os5qs}7p{17su5tu}ck{4qu5kt5qt5rs17ss5ts}4l{4qu5kt5qt5rs17ss5ts}cm{4qu5kt5qt5rs17ss5ts}cn{4qu5kt5qt5rs17ss5ts}co{4qu5kt5qt5rs17ss5ts}cp{4qu5kt5qt5rs17ss5ts}6l{4qu5ou5qw5rt17su5tu}5q{ckuclucmucnucoucpu4lu}5r{ckuclucmucnucoucpu4lu}7q{cksclscmscnscoscps4ls}6p{4qu5ou5qw5rt17sw5tw}ek{4qu5ou5qw5rt17su5tu}el{4qu5ou5qw5rt17su5tu}em{4qu5ou5qw5rt17su5tu}en{4qu5ou5qw5rt17su5tu}eo{4qu5ou5qw5rt17su5tu}ep{4qu5ou5qw5rt17su5tu}es{17ss5ts5qs4qu}et{4qu5ou5qw5rt17sw5tw}eu{4qu5ou5qw5rt17ss5ts}ev{17ss5ts5qs4qu}6z{17sw5tw5ou5qw5rs}fm{17sw5tw5ou5qw5rs}7n{201ts}fo{17sw5tw5ou5qw5rs}fp{17sw5tw5ou5qw5rs}fq{17sw5tw5ou5qw5rs}7r{cksclscmscnscoscps4ls}fs{17sw5tw5ou5qw5rs}ft{17su5tu}fu{17su5tu}fv{17su5tu}fw{17su5tu}fz{cksclscmscnscoscps4ls}}}"),"Helvetica-Bold":c("{'widths'{k3s2q4scx1w201n3r201o6o201s1w201t1w201u1w201w3m201x3m201y3m2k1w2l2l202m2n2n3r2o3r2p5t202q6o2r1s2s2l2t2l2u2r2v3u2w1w2x2l2y1w2z1w3k3r3l3r3m3r3n3r3o3r3p3r3q3r3r3r3s3r203t2l203u2l3v2l3w3u3x3u3y3u3z3x4k6l4l4s4m4s4n4s4o4s4p4m4q3x4r4y4s4s4t1w4u3r4v4s4w3x4x5n4y4s4z4y5k4m5l4y5m4s5n4m5o3x5p4s5q4m5r5y5s4m5t4m5u3x5v2l5w1w5x2l5y3u5z3r6k2l6l3r6m3x6n3r6o3x6p3r6q2l6r3x6s3x6t1w6u1w6v3r6w1w6x5t6y3x6z3x7k3x7l3x7m2r7n3r7o2l7p3x7q3r7r4y7s3r7t3r7u3m7v2r7w1w7x2r7y3u202l3rcl4sal2lam3ran3rao3rap3rar3ras2lat4tau2pav3raw3uay4taz2lbk2sbl3u'fof'6obo2lbp3xbq3rbr1wbs2lbu2obv3rbz3xck4s202k3rcm4scn4sco4scp4scq6ocr4scs4mct4mcu4mcv4mcw1w2m2zcy1wcz1wdl4sdm4ydn4ydo4ydp4ydq4yds4ydt4sdu4sdv4sdw4sdz3xek3rel3rem3ren3reo3rep3req5ter3res3ret3reu3rev3rew1wex1wey1wez1wfl3xfm3xfn3xfo3xfp3xfq3xfr3ufs3xft3xfu3xfv3xfw3xfz3r203k6o212m6o2dw2l2cq2l3t3r3u2l17s4m19m3r}'kerning'{cl{4qs5ku5ot5qs17sv5tv}201t{2ww4wy2yw}201w{2ks}201x{2ww4wy2yw}2k{201ts201xs}2w{7qs4qu5kw5os5qw5rs17su5tu7tsfzs}2x{5ow5qs}2y{7qs4qu5kw5os5qw5rs17su5tu7tsfzs}'fof'-6o7p{17su5tu5ot}ck{4qs5ku5ot5qs17sv5tv}4l{4qs5ku5ot5qs17sv5tv}cm{4qs5ku5ot5qs17sv5tv}cn{4qs5ku5ot5qs17sv5tv}co{4qs5ku5ot5qs17sv5tv}cp{4qs5ku5ot5qs17sv5tv}6l{17st5tt5os}17s{2kwclvcmvcnvcovcpv4lv4wwckv}5o{2kucltcmtcntcotcpt4lt4wtckt}5q{2ksclscmscnscoscps4ls4wvcks}5r{2ks4ws}5t{2kwclvcmvcnvcovcpv4lv4wwckv}eo{17st5tt5os}fu{17su5tu5ot}6p{17ss5ts}ek{17st5tt5os}el{17st5tt5os}em{17st5tt5os}en{17st5tt5os}6o{201ts}ep{17st5tt5os}es{17ss5ts}et{17ss5ts}eu{17ss5ts}ev{17ss5ts}6z{17su5tu5os5qt}fm{17su5tu5os5qt}fn{17su5tu5os5qt}fo{17su5tu5os5qt}fp{17su5tu5os5qt}fq{17su5tu5os5qt}fs{17su5tu5os5qt}ft{17su5tu5ot}7m{5os}fv{17su5tu5ot}fw{17su5tu5ot}}}"),Courier:c("{'widths'{k3w'fof'6o}'kerning'{'fof'-6o}}"),"Courier-BoldOblique":c("{'widths'{k3w'fof'6o}'kerning'{'fof'-6o}}"),"Times-Bold":c("{'widths'{k3q2q5ncx2r201n3m201o6o201s2l201t2l201u2l201w3m201x3m201y3m2k1t2l2l202m2n2n3m2o3m2p6o202q6o2r1w2s2l2t2l2u3m2v3t2w1t2x2l2y1t2z1w3k3m3l3m3m3m3n3m3o3m3p3m3q3m3r3m3s3m203t2l203u2l3v2l3w3t3x3t3y3t3z3m4k5x4l4s4m4m4n4s4o4s4p4m4q3x4r4y4s4y4t2r4u3m4v4y4w4m4x5y4y4s4z4y5k3x5l4y5m4s5n3r5o4m5p4s5q4s5r6o5s4s5t4s5u4m5v2l5w1w5x2l5y3u5z3m6k2l6l3m6m3r6n2w6o3r6p2w6q2l6r3m6s3r6t1w6u2l6v3r6w1w6x5n6y3r6z3m7k3r7l3r7m2w7n2r7o2l7p3r7q3m7r4s7s3m7t3m7u2w7v2r7w1q7x2r7y3o202l3mcl4sal2lam3man3mao3map3mar3mas2lat4uau1yav3maw3tay4uaz2lbk2sbl3t'fof'6obo2lbp3rbr1tbs2lbu2lbv3mbz3mck4s202k3mcm4scn4sco4scp4scq6ocr4scs4mct4mcu4mcv4mcw2r2m3rcy2rcz2rdl4sdm4ydn4ydo4ydp4ydq4yds4ydt4sdu4sdv4sdw4sdz3rek3mel3mem3men3meo3mep3meq4ser2wes2wet2weu2wev2wew1wex1wey1wez1wfl3rfm3mfn3mfo3mfp3mfq3mfr3tfs3mft3rfu3rfv3rfw3rfz3m203k6o212m6o2dw2l2cq2l3t3m3u2l17s4s19m3m}'kerning'{cl{4qt5ks5ot5qy5rw17sv5tv}201t{cks4lscmscnscoscpscls4wv}2k{201ts}2w{4qu5ku7mu5os5qx5ru17su5tu}2x{17su5tu5ou5qs}2y{4qv5kv7mu5ot5qz5ru17su5tu}'fof'-6o7t{cksclscmscnscoscps4ls}3u{17su5tu5os5qu}3v{17su5tu5os5qu}fu{17su5tu5ou5qu}7p{17su5tu5ou5qu}ck{4qt5ks5ot5qy5rw17sv5tv}4l{4qt5ks5ot5qy5rw17sv5tv}cm{4qt5ks5ot5qy5rw17sv5tv}cn{4qt5ks5ot5qy5rw17sv5tv}co{4qt5ks5ot5qy5rw17sv5tv}cp{4qt5ks5ot5qy5rw17sv5tv}6l{17st5tt5ou5qu}17s{ckuclucmucnucoucpu4lu4wu}5o{ckuclucmucnucoucpu4lu4wu}5q{ckzclzcmzcnzcozcpz4lz4wu}5r{ckxclxcmxcnxcoxcpx4lx4wu}5t{ckuclucmucnucoucpu4lu4wu}7q{ckuclucmucnucoucpu4lu}6p{17sw5tw5ou5qu}ek{17st5tt5qu}el{17st5tt5ou5qu}em{17st5tt5qu}en{17st5tt5qu}eo{17st5tt5qu}ep{17st5tt5ou5qu}es{17ss5ts5qu}et{17sw5tw5ou5qu}eu{17sw5tw5ou5qu}ev{17ss5ts5qu}6z{17sw5tw5ou5qu5rs}fm{17sw5tw5ou5qu5rs}fn{17sw5tw5ou5qu5rs}fo{17sw5tw5ou5qu5rs}fp{17sw5tw5ou5qu5rs}fq{17sw5tw5ou5qu5rs}7r{cktcltcmtcntcotcpt4lt5os}fs{17sw5tw5ou5qu5rs}ft{17su5tu5ou5qu}7m{5os}fv{17su5tu5ou5qu}fw{17su5tu5ou5qu}fz{cksclscmscnscoscps4ls}}}"),Symbol:c("{'widths'{k3uaw4r19m3m2k1t2l2l202m2y2n3m2p5n202q6o3k3m2s2l2t2l2v3r2w1t3m3m2y1t2z1wbk2sbl3r'fof'6o3n3m3o3m3p3m3q3m3r3m3s3m3t3m3u1w3v1w3w3r3x3r3y3r3z2wbp3t3l3m5v2l5x2l5z3m2q4yfr3r7v3k7w1o7x3k}'kerning'{'fof'-6o}}"),Helvetica:c("{'widths'{k3p2q4mcx1w201n3r201o6o201s1q201t1q201u1q201w2l201x2l201y2l2k1w2l1w202m2n2n3r2o3r2p5t202q6o2r1n2s2l2t2l2u2r2v3u2w1w2x2l2y1w2z1w3k3r3l3r3m3r3n3r3o3r3p3r3q3r3r3r3s3r203t2l203u2l3v1w3w3u3x3u3y3u3z3r4k6p4l4m4m4m4n4s4o4s4p4m4q3x4r4y4s4s4t1w4u3m4v4m4w3r4x5n4y4s4z4y5k4m5l4y5m4s5n4m5o3x5p4s5q4m5r5y5s4m5t4m5u3x5v1w5w1w5x1w5y2z5z3r6k2l6l3r6m3r6n3m6o3r6p3r6q1w6r3r6s3r6t1q6u1q6v3m6w1q6x5n6y3r6z3r7k3r7l3r7m2l7n3m7o1w7p3r7q3m7r4s7s3m7t3m7u3m7v2l7w1u7x2l7y3u202l3rcl4mal2lam3ran3rao3rap3rar3ras2lat4tau2pav3raw3uay4taz2lbk2sbl3u'fof'6obo2lbp3rbr1wbs2lbu2obv3rbz3xck4m202k3rcm4mcn4mco4mcp4mcq6ocr4scs4mct4mcu4mcv4mcw1w2m2ncy1wcz1wdl4sdm4ydn4ydo4ydp4ydq4yds4ydt4sdu4sdv4sdw4sdz3xek3rel3rem3ren3reo3rep3req5ter3mes3ret3reu3rev3rew1wex1wey1wez1wfl3rfm3rfn3rfo3rfp3rfq3rfr3ufs3xft3rfu3rfv3rfw3rfz3m203k6o212m6o2dw2l2cq2l3t3r3u1w17s4m19m3r}'kerning'{5q{4wv}cl{4qs5kw5ow5qs17sv5tv}201t{2wu4w1k2yu}201x{2wu4wy2yu}17s{2ktclucmucnu4otcpu4lu4wycoucku}2w{7qs4qz5k1m17sy5ow5qx5rsfsu5ty7tufzu}2x{17sy5ty5oy5qs}2y{7qs4qz5k1m17sy5ow5qx5rsfsu5ty7tufzu}'fof'-6o7p{17sv5tv5ow}ck{4qs5kw5ow5qs17sv5tv}4l{4qs5kw5ow5qs17sv5tv}cm{4qs5kw5ow5qs17sv5tv}cn{4qs5kw5ow5qs17sv5tv}co{4qs5kw5ow5qs17sv5tv}cp{4qs5kw5ow5qs17sv5tv}6l{17sy5ty5ow}do{17st5tt}4z{17st5tt}7s{fst}dm{17st5tt}dn{17st5tt}5o{ckwclwcmwcnwcowcpw4lw4wv}dp{17st5tt}dq{17st5tt}7t{5ow}ds{17st5tt}5t{2ktclucmucnu4otcpu4lu4wycoucku}fu{17sv5tv5ow}6p{17sy5ty5ow5qs}ek{17sy5ty5ow}el{17sy5ty5ow}em{17sy5ty5ow}en{5ty}eo{17sy5ty5ow}ep{17sy5ty5ow}es{17sy5ty5qs}et{17sy5ty5ow5qs}eu{17sy5ty5ow5qs}ev{17sy5ty5ow5qs}6z{17sy5ty5ow5qs}fm{17sy5ty5ow5qs}fn{17sy5ty5ow5qs}fo{17sy5ty5ow5qs}fp{17sy5ty5qs}fq{17sy5ty5ow5qs}7r{5ow}fs{17sy5ty5ow5qs}ft{17sv5tv5ow}7m{5ow}fv{17sv5tv5ow}fw{17sv5tv5ow}}}"),"Helvetica-BoldOblique":c("{'widths'{k3s2q4scx1w201n3r201o6o201s1w201t1w201u1w201w3m201x3m201y3m2k1w2l2l202m2n2n3r2o3r2p5t202q6o2r1s2s2l2t2l2u2r2v3u2w1w2x2l2y1w2z1w3k3r3l3r3m3r3n3r3o3r3p3r3q3r3r3r3s3r203t2l203u2l3v2l3w3u3x3u3y3u3z3x4k6l4l4s4m4s4n4s4o4s4p4m4q3x4r4y4s4s4t1w4u3r4v4s4w3x4x5n4y4s4z4y5k4m5l4y5m4s5n4m5o3x5p4s5q4m5r5y5s4m5t4m5u3x5v2l5w1w5x2l5y3u5z3r6k2l6l3r6m3x6n3r6o3x6p3r6q2l6r3x6s3x6t1w6u1w6v3r6w1w6x5t6y3x6z3x7k3x7l3x7m2r7n3r7o2l7p3x7q3r7r4y7s3r7t3r7u3m7v2r7w1w7x2r7y3u202l3rcl4sal2lam3ran3rao3rap3rar3ras2lat4tau2pav3raw3uay4taz2lbk2sbl3u'fof'6obo2lbp3xbq3rbr1wbs2lbu2obv3rbz3xck4s202k3rcm4scn4sco4scp4scq6ocr4scs4mct4mcu4mcv4mcw1w2m2zcy1wcz1wdl4sdm4ydn4ydo4ydp4ydq4yds4ydt4sdu4sdv4sdw4sdz3xek3rel3rem3ren3reo3rep3req5ter3res3ret3reu3rev3rew1wex1wey1wez1wfl3xfm3xfn3xfo3xfp3xfq3xfr3ufs3xft3xfu3xfv3xfw3xfz3r203k6o212m6o2dw2l2cq2l3t3r3u2l17s4m19m3r}'kerning'{cl{4qs5ku5ot5qs17sv5tv}201t{2ww4wy2yw}201w{2ks}201x{2ww4wy2yw}2k{201ts201xs}2w{7qs4qu5kw5os5qw5rs17su5tu7tsfzs}2x{5ow5qs}2y{7qs4qu5kw5os5qw5rs17su5tu7tsfzs}'fof'-6o7p{17su5tu5ot}ck{4qs5ku5ot5qs17sv5tv}4l{4qs5ku5ot5qs17sv5tv}cm{4qs5ku5ot5qs17sv5tv}cn{4qs5ku5ot5qs17sv5tv}co{4qs5ku5ot5qs17sv5tv}cp{4qs5ku5ot5qs17sv5tv}6l{17st5tt5os}17s{2kwclvcmvcnvcovcpv4lv4wwckv}5o{2kucltcmtcntcotcpt4lt4wtckt}5q{2ksclscmscnscoscps4ls4wvcks}5r{2ks4ws}5t{2kwclvcmvcnvcovcpv4lv4wwckv}eo{17st5tt5os}fu{17su5tu5ot}6p{17ss5ts}ek{17st5tt5os}el{17st5tt5os}em{17st5tt5os}en{17st5tt5os}6o{201ts}ep{17st5tt5os}es{17ss5ts}et{17ss5ts}eu{17ss5ts}ev{17ss5ts}6z{17su5tu5os5qt}fm{17su5tu5os5qt}fn{17su5tu5os5qt}fo{17su5tu5os5qt}fp{17su5tu5os5qt}fq{17su5tu5os5qt}fs{17su5tu5os5qt}ft{17su5tu5ot}7m{5os}fv{17su5tu5ot}fw{17su5tu5ot}}}"),ZapfDingbats:c("{'widths'{k4u2k1w'fof'6o}'kerning'{'fof'-6o}}"),"Courier-Bold":c("{'widths'{k3w'fof'6o}'kerning'{'fof'-6o}}"),"Times-Italic":c("{'widths'{k3n2q4ycx2l201n3m201o5t201s2l201t2l201u2l201w3r201x3r201y3r2k1t2l2l202m2n2n3m2o3m2p5n202q5t2r1p2s2l2t2l2u3m2v4n2w1t2x2l2y1t2z1w3k3m3l3m3m3m3n3m3o3m3p3m3q3m3r3m3s3m203t2l203u2l3v2l3w4n3x4n3y4n3z3m4k5w4l3x4m3x4n4m4o4s4p3x4q3x4r4s4s4s4t2l4u2w4v4m4w3r4x5n4y4m4z4s5k3x5l4s5m3x5n3m5o3r5p4s5q3x5r5n5s3x5t3r5u3r5v2r5w1w5x2r5y2u5z3m6k2l6l3m6m3m6n2w6o3m6p2w6q1w6r3m6s3m6t1w6u1w6v2w6w1w6x4s6y3m6z3m7k3m7l3m7m2r7n2r7o1w7p3m7q2w7r4m7s2w7t2w7u2r7v2s7w1v7x2s7y3q202l3mcl3xal2ram3man3mao3map3mar3mas2lat4wau1vav3maw4nay4waz2lbk2sbl4n'fof'6obo2lbp3mbq3obr1tbs2lbu1zbv3mbz3mck3x202k3mcm3xcn3xco3xcp3xcq5tcr4mcs3xct3xcu3xcv3xcw2l2m2ucy2lcz2ldl4mdm4sdn4sdo4sdp4sdq4sds4sdt4sdu4sdv4sdw4sdz3mek3mel3mem3men3meo3mep3meq4mer2wes2wet2weu2wev2wew1wex1wey1wez1wfl3mfm3mfn3mfo3mfp3mfq3mfr4nfs3mft3mfu3mfv3mfw3mfz2w203k6o212m6m2dw2l2cq2l3t3m3u2l17s3r19m3m}'kerning'{cl{5kt4qw}201s{201sw}201t{201tw2wy2yy6q-t}201x{2wy2yy}2k{201tw}2w{7qs4qy7rs5ky7mw5os5qx5ru17su5tu}2x{17ss5ts5os}2y{7qs4qy7rs5ky7mw5os5qx5ru17su5tu}'fof'-6o6t{17ss5ts5qs}7t{5os}3v{5qs}7p{17su5tu5qs}ck{5kt4qw}4l{5kt4qw}cm{5kt4qw}cn{5kt4qw}co{5kt4qw}cp{5kt4qw}6l{4qs5ks5ou5qw5ru17su5tu}17s{2ks}5q{ckvclvcmvcnvcovcpv4lv}5r{ckuclucmucnucoucpu4lu}5t{2ks}6p{4qs5ks5ou5qw5ru17su5tu}ek{4qs5ks5ou5qw5ru17su5tu}el{4qs5ks5ou5qw5ru17su5tu}em{4qs5ks5ou5qw5ru17su5tu}en{4qs5ks5ou5qw5ru17su5tu}eo{4qs5ks5ou5qw5ru17su5tu}ep{4qs5ks5ou5qw5ru17su5tu}es{5ks5qs4qs}et{4qs5ks5ou5qw5ru17su5tu}eu{4qs5ks5qw5ru17su5tu}ev{5ks5qs4qs}ex{17ss5ts5qs}6z{4qv5ks5ou5qw5ru17su5tu}fm{4qv5ks5ou5qw5ru17su5tu}fn{4qv5ks5ou5qw5ru17su5tu}fo{4qv5ks5ou5qw5ru17su5tu}fp{4qv5ks5ou5qw5ru17su5tu}fq{4qv5ks5ou5qw5ru17su5tu}7r{5os}fs{4qv5ks5ou5qw5ru17su5tu}ft{17su5tu5qs}fu{17su5tu5qs}fv{17su5tu5qs}fw{17su5tu5qs}}}"),"Times-Roman":c("{'widths'{k3n2q4ycx2l201n3m201o6o201s2l201t2l201u2l201w2w201x2w201y2w2k1t2l2l202m2n2n3m2o3m2p5n202q6o2r1m2s2l2t2l2u3m2v3s2w1t2x2l2y1t2z1w3k3m3l3m3m3m3n3m3o3m3p3m3q3m3r3m3s3m203t2l203u2l3v1w3w3s3x3s3y3s3z2w4k5w4l4s4m4m4n4m4o4s4p3x4q3r4r4s4s4s4t2l4u2r4v4s4w3x4x5t4y4s4z4s5k3r5l4s5m4m5n3r5o3x5p4s5q4s5r5y5s4s5t4s5u3x5v2l5w1w5x2l5y2z5z3m6k2l6l2w6m3m6n2w6o3m6p2w6q2l6r3m6s3m6t1w6u1w6v3m6w1w6x4y6y3m6z3m7k3m7l3m7m2l7n2r7o1w7p3m7q3m7r4s7s3m7t3m7u2w7v3k7w1o7x3k7y3q202l3mcl4sal2lam3man3mao3map3mar3mas2lat4wau1vav3maw3say4waz2lbk2sbl3s'fof'6obo2lbp3mbq2xbr1tbs2lbu1zbv3mbz2wck4s202k3mcm4scn4sco4scp4scq5tcr4mcs3xct3xcu3xcv3xcw2l2m2tcy2lcz2ldl4sdm4sdn4sdo4sdp4sdq4sds4sdt4sdu4sdv4sdw4sdz3mek2wel2wem2wen2weo2wep2weq4mer2wes2wet2weu2wev2wew1wex1wey1wez1wfl3mfm3mfn3mfo3mfp3mfq3mfr3sfs3mft3mfu3mfv3mfw3mfz3m203k6o212m6m2dw2l2cq2l3t3m3u1w17s4s19m3m}'kerning'{cl{4qs5ku17sw5ou5qy5rw201ss5tw201ws}201s{201ss}201t{ckw4lwcmwcnwcowcpwclw4wu201ts}2k{201ts}2w{4qs5kw5os5qx5ru17sx5tx}2x{17sw5tw5ou5qu}2y{4qs5kw5os5qx5ru17sx5tx}'fof'-6o7t{ckuclucmucnucoucpu4lu5os5rs}3u{17su5tu5qs}3v{17su5tu5qs}7p{17sw5tw5qs}ck{4qs5ku17sw5ou5qy5rw201ss5tw201ws}4l{4qs5ku17sw5ou5qy5rw201ss5tw201ws}cm{4qs5ku17sw5ou5qy5rw201ss5tw201ws}cn{4qs5ku17sw5ou5qy5rw201ss5tw201ws}co{4qs5ku17sw5ou5qy5rw201ss5tw201ws}cp{4qs5ku17sw5ou5qy5rw201ss5tw201ws}6l{17su5tu5os5qw5rs}17s{2ktclvcmvcnvcovcpv4lv4wuckv}5o{ckwclwcmwcnwcowcpw4lw4wu}5q{ckyclycmycnycoycpy4ly4wu5ms}5r{cktcltcmtcntcotcpt4lt4ws}5t{2ktclvcmvcnvcovcpv4lv4wuckv}7q{cksclscmscnscoscps4ls}6p{17su5tu5qw5rs}ek{5qs5rs}el{17su5tu5os5qw5rs}em{17su5tu5os5qs5rs}en{17su5qs5rs}eo{5qs5rs}ep{17su5tu5os5qw5rs}es{5qs}et{17su5tu5qw5rs}eu{17su5tu5qs5rs}ev{5qs}6z{17sv5tv5os5qx5rs}fm{5os5qt5rs}fn{17sv5tv5os5qx5rs}fo{17sv5tv5os5qx5rs}fp{5os5qt5rs}fq{5os5qt5rs}7r{ckuclucmucnucoucpu4lu5os}fs{17sv5tv5os5qx5rs}ft{17ss5ts5qs}fu{17sw5tw5qs}fv{17sw5tw5qs}fw{17ss5ts5qs}fz{ckuclucmucnucoucpu4lu5os5rs}}}"),"Helvetica-Oblique":c("{'widths'{k3p2q4mcx1w201n3r201o6o201s1q201t1q201u1q201w2l201x2l201y2l2k1w2l1w202m2n2n3r2o3r2p5t202q6o2r1n2s2l2t2l2u2r2v3u2w1w2x2l2y1w2z1w3k3r3l3r3m3r3n3r3o3r3p3r3q3r3r3r3s3r203t2l203u2l3v1w3w3u3x3u3y3u3z3r4k6p4l4m4m4m4n4s4o4s4p4m4q3x4r4y4s4s4t1w4u3m4v4m4w3r4x5n4y4s4z4y5k4m5l4y5m4s5n4m5o3x5p4s5q4m5r5y5s4m5t4m5u3x5v1w5w1w5x1w5y2z5z3r6k2l6l3r6m3r6n3m6o3r6p3r6q1w6r3r6s3r6t1q6u1q6v3m6w1q6x5n6y3r6z3r7k3r7l3r7m2l7n3m7o1w7p3r7q3m7r4s7s3m7t3m7u3m7v2l7w1u7x2l7y3u202l3rcl4mal2lam3ran3rao3rap3rar3ras2lat4tau2pav3raw3uay4taz2lbk2sbl3u'fof'6obo2lbp3rbr1wbs2lbu2obv3rbz3xck4m202k3rcm4mcn4mco4mcp4mcq6ocr4scs4mct4mcu4mcv4mcw1w2m2ncy1wcz1wdl4sdm4ydn4ydo4ydp4ydq4yds4ydt4sdu4sdv4sdw4sdz3xek3rel3rem3ren3reo3rep3req5ter3mes3ret3reu3rev3rew1wex1wey1wez1wfl3rfm3rfn3rfo3rfp3rfq3rfr3ufs3xft3rfu3rfv3rfw3rfz3m203k6o212m6o2dw2l2cq2l3t3r3u1w17s4m19m3r}'kerning'{5q{4wv}cl{4qs5kw5ow5qs17sv5tv}201t{2wu4w1k2yu}201x{2wu4wy2yu}17s{2ktclucmucnu4otcpu4lu4wycoucku}2w{7qs4qz5k1m17sy5ow5qx5rsfsu5ty7tufzu}2x{17sy5ty5oy5qs}2y{7qs4qz5k1m17sy5ow5qx5rsfsu5ty7tufzu}'fof'-6o7p{17sv5tv5ow}ck{4qs5kw5ow5qs17sv5tv}4l{4qs5kw5ow5qs17sv5tv}cm{4qs5kw5ow5qs17sv5tv}cn{4qs5kw5ow5qs17sv5tv}co{4qs5kw5ow5qs17sv5tv}cp{4qs5kw5ow5qs17sv5tv}6l{17sy5ty5ow}do{17st5tt}4z{17st5tt}7s{fst}dm{17st5tt}dn{17st5tt}5o{ckwclwcmwcnwcowcpw4lw4wv}dp{17st5tt}dq{17st5tt}7t{5ow}ds{17st5tt}5t{2ktclucmucnu4otcpu4lu4wycoucku}fu{17sv5tv5ow}6p{17sy5ty5ow5qs}ek{17sy5ty5ow}el{17sy5ty5ow}em{17sy5ty5ow}en{5ty}eo{17sy5ty5ow}ep{17sy5ty5ow}es{17sy5ty5qs}et{17sy5ty5ow5qs}eu{17sy5ty5ow5qs}ev{17sy5ty5ow5qs}6z{17sy5ty5ow5qs}fm{17sy5ty5ow5qs}fn{17sy5ty5ow5qs}fo{17sy5ty5ow5qs}fp{17sy5ty5qs}fq{17sy5ty5ow5qs}7r{5ow}fs{17sy5ty5ow5qs}ft{17sv5tv5ow}7m{5ow}fv{17sv5tv5ow}fw{17sv5tv5ow}}}")}};t.events.push(["addFont",function(x){var p=x.font,m=u.Unicode[p.postScriptName];m&&(p.metadata.Unicode={},p.metadata.Unicode.widths=m.widths,p.metadata.Unicode.kerning=m.kerning);var y=h.Unicode[p.postScriptName];y&&(p.metadata.Unicode.encoding=y,p.encoding=y.codePages[0])}])}(vt.API),function(t){var s=function(r){for(var a=r.length,n=new Uint8Array(a),o=0;o<a;o++)n[o]=r.charCodeAt(o);return n};t.API.events.push(["addFont",function(r){var a=void 0,n=r.font,o=r.instance;if(!n.isStandardFont){if(o===void 0)throw new Error("Font does not exist in vFS, import fonts or remove declaration doc.addFont('"+n.postScriptName+"').");if(typeof(a=o.existsFileInVFS(n.postScriptName)===!1?o.loadFile(n.postScriptName):o.getFileFromVFS(n.postScriptName))!="string")throw new Error("Font is not stored as string-data in vFS, import fonts or remove declaration doc.addFont('"+n.postScriptName+"').");(function(l,c){c=/^\x00\x01\x00\x00/.test(c)?s(c):s(zo(c)),l.metadata=t.API.TTFFont.open(c),l.metadata.Unicode=l.metadata.Unicode||{encoding:{},kerning:{},widths:[]},l.metadata.glyIdsUsed=[0]})(n,a)}}])}(vt),function(t){function s(){return(bt.canvg?Promise.resolve(bt.canvg):N0(()=>import("./index.es-CDheBCtf.js"),__vite__mapDeps([0,1,2]))).catch(function(r){return Promise.reject(new Error("Could not load canvg: "+r))}).then(function(r){return r.default?r.default:r})}vt.API.addSvgAsImage=function(r,a,n,o,l,c,d,h){if(isNaN(a)||isNaN(n))throw nr.error("jsPDF.addSvgAsImage: Invalid coordinates",arguments),new Error("Invalid coordinates passed to jsPDF.addSvgAsImage");if(isNaN(o)||isNaN(l))throw nr.error("jsPDF.addSvgAsImage: Invalid measurements",arguments),new Error("Invalid measurements (width and/or height) passed to jsPDF.addSvgAsImage");var u=document.createElement("canvas");u.width=o,u.height=l;var x=u.getContext("2d");x.fillStyle="#fff",x.fillRect(0,0,u.width,u.height);var p={ignoreMouse:!0,ignoreAnimation:!0,ignoreDimensions:!0},m=this;return s().then(function(y){return y.fromString(x,r,p)},function(){return Promise.reject(new Error("Could not load canvg."))}).then(function(y){return y.render(p)}).then(function(){m.addImage(u.toDataURL("image/jpeg",1),a,n,o,l,d,h)})}}(),vt.API.putTotalPages=function(t){var s,r=0;parseInt(this.internal.getFont().id.substr(1),10)<15?(s=new RegExp(t,"g"),r=this.internal.getNumberOfPages()):(s=new RegExp(this.pdfEscape16(t,this.internal.getFont()),"g"),r=this.pdfEscape16(this.internal.getNumberOfPages()+"",this.internal.getFont()));for(var a=1;a<=this.internal.getNumberOfPages();a++)for(var n=0;n<this.internal.pages[a].length;n++)this.internal.pages[a][n]=this.internal.pages[a][n].replace(s,r);return this},vt.API.viewerPreferences=function(t,s){var r;t=t||{},s=s||!1;var a,n,o,l={HideToolbar:{defaultValue:!1,value:!1,type:"boolean",explicitSet:!1,valueSet:[!0,!1],pdfVersion:1.3},HideMenubar:{defaultValue:!1,value:!1,type:"boolean",explicitSet:!1,valueSet:[!0,!1],pdfVersion:1.3},HideWindowUI:{defaultValue:!1,value:!1,type:"boolean",explicitSet:!1,valueSet:[!0,!1],pdfVersion:1.3},FitWindow:{defaultValue:!1,value:!1,type:"boolean",explicitSet:!1,valueSet:[!0,!1],pdfVersion:1.3},CenterWindow:{defaultValue:!1,value:!1,type:"boolean",explicitSet:!1,valueSet:[!0,!1],pdfVersion:1.3},DisplayDocTitle:{defaultValue:!1,value:!1,type:"boolean",explicitSet:!1,valueSet:[!0,!1],pdfVersion:1.4},NonFullScreenPageMode:{defaultValue:"UseNone",value:"UseNone",type:"name",explicitSet:!1,valueSet:["UseNone","UseOutlines","UseThumbs","UseOC"],pdfVersion:1.3},Direction:{defaultValue:"L2R",value:"L2R",type:"name",explicitSet:!1,valueSet:["L2R","R2L"],pdfVersion:1.3},ViewArea:{defaultValue:"CropBox",value:"CropBox",type:"name",explicitSet:!1,valueSet:["MediaBox","CropBox","TrimBox","BleedBox","ArtBox"],pdfVersion:1.4},ViewClip:{defaultValue:"CropBox",value:"CropBox",type:"name",explicitSet:!1,valueSet:["MediaBox","CropBox","TrimBox","BleedBox","ArtBox"],pdfVersion:1.4},PrintArea:{defaultValue:"CropBox",value:"CropBox",type:"name",explicitSet:!1,valueSet:["MediaBox","CropBox","TrimBox","BleedBox","ArtBox"],pdfVersion:1.4},PrintClip:{defaultValue:"CropBox",value:"CropBox",type:"name",explicitSet:!1,valueSet:["MediaBox","CropBox","TrimBox","BleedBox","ArtBox"],pdfVersion:1.4},PrintScaling:{defaultValue:"AppDefault",value:"AppDefault",type:"name",explicitSet:!1,valueSet:["AppDefault","None"],pdfVersion:1.6},Duplex:{defaultValue:"",value:"none",type:"name",explicitSet:!1,valueSet:["Simplex","DuplexFlipShortEdge","DuplexFlipLongEdge","none"],pdfVersion:1.7},PickTrayByPDFSize:{defaultValue:!1,value:!1,type:"boolean",explicitSet:!1,valueSet:[!0,!1],pdfVersion:1.7},PrintPageRange:{defaultValue:"",value:"",type:"array",explicitSet:!1,valueSet:null,pdfVersion:1.7},NumCopies:{defaultValue:1,value:1,type:"integer",explicitSet:!1,valueSet:null,pdfVersion:1.7}},c=Object.keys(l),d=[],h=0,u=0,x=0;function p(y,g){var b,w=!1;for(b=0;b<y.length;b+=1)y[b]===g&&(w=!0);return w}if(this.internal.viewerpreferences===void 0&&(this.internal.viewerpreferences={},this.internal.viewerpreferences.configuration=JSON.parse(JSON.stringify(l)),this.internal.viewerpreferences.isSubscribed=!1),r=this.internal.viewerpreferences.configuration,t==="reset"||s===!0){var m=c.length;for(x=0;x<m;x+=1)r[c[x]].value=r[c[x]].defaultValue,r[c[x]].explicitSet=!1}if(ir(t)==="object"){for(n in t)if(o=t[n],p(c,n)&&o!==void 0){if(r[n].type==="boolean"&&typeof o=="boolean")r[n].value=o;else if(r[n].type==="name"&&p(r[n].valueSet,o))r[n].value=o;else if(r[n].type==="integer"&&Number.isInteger(o))r[n].value=o;else if(r[n].type==="array"){for(h=0;h<o.length;h+=1)if(a=!0,o[h].length===1&&typeof o[h][0]=="number")d.push(String(o[h]-1));else if(o[h].length>1){for(u=0;u<o[h].length;u+=1)typeof o[h][u]!="number"&&(a=!1);a===!0&&d.push([o[h][0]-1,o[h][1]-1].join(" "))}r[n].value="["+d.join(" ")+"]"}else r[n].value=r[n].defaultValue;r[n].explicitSet=!0}}return this.internal.viewerpreferences.isSubscribed===!1&&(this.internal.events.subscribe("putCatalog",function(){var y,g=[];for(y in r)r[y].explicitSet===!0&&(r[y].type==="name"?g.push("/"+y+" /"+r[y].value):g.push("/"+y+" "+r[y].value));g.length!==0&&this.internal.write(`/ViewerPreferences
<<
`+g.join(`
`)+`
>>`)}),this.internal.viewerpreferences.isSubscribed=!0),this.internal.viewerpreferences.configuration=r,this},function(t){var s=function(){var a='<rdf:RDF xmlns:rdf="http://www.w3.org/1999/02/22-rdf-syntax-ns#"><rdf:Description rdf:about="" xmlns:jspdf="'+this.internal.__metadata__.namespaceuri+'"><jspdf:metadata>',n=unescape(encodeURIComponent('<x:xmpmeta xmlns:x="adobe:ns:meta/">')),o=unescape(encodeURIComponent(a)),l=unescape(encodeURIComponent(this.internal.__metadata__.metadata)),c=unescape(encodeURIComponent("</jspdf:metadata></rdf:Description></rdf:RDF>")),d=unescape(encodeURIComponent("</x:xmpmeta>")),h=o.length+l.length+c.length+n.length+d.length;this.internal.__metadata__.metadata_object_number=this.internal.newObject(),this.internal.write("<< /Type /Metadata /Subtype /XML /Length "+h+" >>"),this.internal.write("stream"),this.internal.write(n+o+l+c+d),this.internal.write("endstream"),this.internal.write("endobj")},r=function(){this.internal.__metadata__.metadata_object_number&&this.internal.write("/Metadata "+this.internal.__metadata__.metadata_object_number+" 0 R")};t.addMetadata=function(a,n){return this.internal.__metadata__===void 0&&(this.internal.__metadata__={metadata:a,namespaceuri:n||"http://jspdf.default.namespaceuri/"},this.internal.events.subscribe("putCatalog",r),this.internal.events.subscribe("postPutResources",s)),this}}(vt.API),function(t){var s=t.API,r=s.pdfEscape16=function(o,l){for(var c,d=l.metadata.Unicode.widths,h=["","0","00","000","0000"],u=[""],x=0,p=o.length;x<p;++x){if(c=l.metadata.characterToGlyph(o.charCodeAt(x)),l.metadata.glyIdsUsed.push(c),l.metadata.toUnicode[c]=o.charCodeAt(x),d.indexOf(c)==-1&&(d.push(c),d.push([parseInt(l.metadata.widthOfGlyph(c),10)])),c=="0")return u.join("");c=c.toString(16),u.push(h[4-c.length],c)}return u.join("")},a=function(o){var l,c,d,h,u,x,p;for(u=`/CIDInit /ProcSet findresource begin
12 dict begin
begincmap
/CIDSystemInfo <<
  /Registry (Adobe)
  /Ordering (UCS)
  /Supplement 0
>> def
/CMapName /Adobe-Identity-UCS def
/CMapType 2 def
1 begincodespacerange
<0000><ffff>
endcodespacerange`,d=[],x=0,p=(c=Object.keys(o).sort(function(m,y){return m-y})).length;x<p;x++)l=c[x],d.length>=100&&(u+=`
`+d.length+` beginbfchar
`+d.join(`
`)+`
endbfchar`,d=[]),o[l]!==void 0&&o[l]!==null&&typeof o[l].toString=="function"&&(h=("0000"+o[l].toString(16)).slice(-4),l=("0000"+(+l).toString(16)).slice(-4),d.push("<"+l+"><"+h+">"));return d.length&&(u+=`
`+d.length+` beginbfchar
`+d.join(`
`)+`
endbfchar
`),u+=`endcmap
CMapName currentdict /CMap defineresource pop
end
end`};s.events.push(["putFont",function(o){(function(l){var c=l.font,d=l.out,h=l.newObject,u=l.putStream;if(c.metadata instanceof t.API.TTFFont&&c.encoding==="Identity-H"){for(var x=c.metadata.Unicode.widths,p=c.metadata.subset.encode(c.metadata.glyIdsUsed,1),m="",y=0;y<p.length;y++)m+=String.fromCharCode(p[y]);var g=h();u({data:m,addLength1:!0,objectId:g}),d("endobj");var b=h();u({data:a(c.metadata.toUnicode),addLength1:!0,objectId:b}),d("endobj");var w=h();d("<<"),d("/Type /FontDescriptor"),d("/FontName /"+Vi(c.fontName)),d("/FontFile2 "+g+" 0 R"),d("/FontBBox "+t.API.PDFObject.convert(c.metadata.bbox)),d("/Flags "+c.metadata.flags),d("/StemV "+c.metadata.stemV),d("/ItalicAngle "+c.metadata.italicAngle),d("/Ascent "+c.metadata.ascender),d("/Descent "+c.metadata.decender),d("/CapHeight "+c.metadata.capHeight),d(">>"),d("endobj");var N=h();d("<<"),d("/Type /Font"),d("/BaseFont /"+Vi(c.fontName)),d("/FontDescriptor "+w+" 0 R"),d("/W "+t.API.PDFObject.convert(x)),d("/CIDToGIDMap /Identity"),d("/DW 1000"),d("/Subtype /CIDFontType2"),d("/CIDSystemInfo"),d("<<"),d("/Supplement 0"),d("/Registry (Adobe)"),d("/Ordering ("+c.encoding+")"),d(">>"),d(">>"),d("endobj"),c.objectNumber=h(),d("<<"),d("/Type /Font"),d("/Subtype /Type0"),d("/ToUnicode "+b+" 0 R"),d("/BaseFont /"+Vi(c.fontName)),d("/Encoding /"+c.encoding),d("/DescendantFonts ["+N+" 0 R]"),d(">>"),d("endobj"),c.isAlreadyPutted=!0}})(o)}]),s.events.push(["putFont",function(o){(function(l){var c=l.font,d=l.out,h=l.newObject,u=l.putStream;if(c.metadata instanceof t.API.TTFFont&&c.encoding==="WinAnsiEncoding"){for(var x=c.metadata.rawData,p="",m=0;m<x.length;m++)p+=String.fromCharCode(x[m]);var y=h();u({data:p,addLength1:!0,objectId:y}),d("endobj");var g=h();u({data:a(c.metadata.toUnicode),addLength1:!0,objectId:g}),d("endobj");var b=h();d("<<"),d("/Descent "+c.metadata.decender),d("/CapHeight "+c.metadata.capHeight),d("/StemV "+c.metadata.stemV),d("/Type /FontDescriptor"),d("/FontFile2 "+y+" 0 R"),d("/Flags 96"),d("/FontBBox "+t.API.PDFObject.convert(c.metadata.bbox)),d("/FontName /"+Vi(c.fontName)),d("/ItalicAngle "+c.metadata.italicAngle),d("/Ascent "+c.metadata.ascender),d(">>"),d("endobj"),c.objectNumber=h();for(var w=0;w<c.metadata.hmtx.widths.length;w++)c.metadata.hmtx.widths[w]=parseInt(c.metadata.hmtx.widths[w]*(1e3/c.metadata.head.unitsPerEm));d("<</Subtype/TrueType/Type/Font/ToUnicode "+g+" 0 R/BaseFont/"+Vi(c.fontName)+"/FontDescriptor "+b+" 0 R/Encoding/"+c.encoding+" /FirstChar 29 /LastChar 255 /Widths "+t.API.PDFObject.convert(c.metadata.hmtx.widths)+">>"),d("endobj"),c.isAlreadyPutted=!0}})(o)}]);var n=function(o){var l,c=o.text||"",d=o.x,h=o.y,u=o.options||{},x=o.mutex||{},p=x.pdfEscape,m=x.activeFontKey,y=x.fonts,g=m,b="",w=0,N="",j=y[g].encoding;if(y[g].encoding!=="Identity-H")return{text:c,x:d,y:h,options:u,mutex:x};for(N=c,g=m,Array.isArray(c)&&(N=c[0]),w=0;w<N.length;w+=1)y[g].metadata.hasOwnProperty("cmap")&&(l=y[g].metadata.cmap.unicode.codeMap[N[w].charCodeAt(0)]),l||N[w].charCodeAt(0)<256&&y[g].metadata.hasOwnProperty("Unicode")?b+=N[w]:b+="";var k="";return parseInt(g.slice(1))<14||j==="WinAnsiEncoding"?k=p(b,g).split("").map(function(L){return L.charCodeAt(0).toString(16)}).join(""):j==="Identity-H"&&(k=r(b,y[g])),x.isHex=!0,{text:k,x:d,y:h,options:u,mutex:x}};s.events.push(["postProcessText",function(o){var l=o.text||"",c=[],d={text:l,x:o.x,y:o.y,options:o.options,mutex:o.mutex};if(Array.isArray(l)){var h=0;for(h=0;h<l.length;h+=1)Array.isArray(l[h])&&l[h].length===3?c.push([n(Object.assign({},d,{text:l[h][0]})).text,l[h][1],l[h][2]]):c.push(n(Object.assign({},d,{text:l[h]})).text);o.text=c}else o.text=n(Object.assign({},d,{text:l})).text}])}(vt),function(t){var s=function(){return this.internal.vFS===void 0&&(this.internal.vFS={}),!0};t.existsFileInVFS=function(r){return s.call(this),this.internal.vFS[r]!==void 0},t.addFileToVFS=function(r,a){return s.call(this),this.internal.vFS[r]=a,this},t.getFileFromVFS=function(r){return s.call(this),this.internal.vFS[r]!==void 0?this.internal.vFS[r]:null}}(vt.API),function(t){t.__bidiEngine__=t.prototype.__bidiEngine__=function(a){var n,o,l,c,d,h,u,x=s,p=[[0,3,0,1,0,0,0],[0,3,0,1,2,2,0],[0,3,0,17,2,0,1],[0,3,5,5,4,1,0],[0,3,21,21,4,0,1],[0,3,5,5,4,2,0]],m=[[2,0,1,1,0,1,0],[2,0,1,1,0,2,0],[2,0,2,1,3,2,0],[2,0,2,33,3,1,1]],y={L:0,R:1,EN:2,AN:3,N:4,B:5,S:6},g={0:0,5:1,6:2,7:3,32:4,251:5,254:6,255:7},b=["(",")","(","<",">","<","[","]","[","{","}","{","Â«","Â»","Â«","â€¹","â€º","â€¹","â…","â†","â…","â½","â¾","â½","â‚","â‚Ž","â‚","â‰¤","â‰¥","â‰¤","âŒ©","âŒª","âŒ©","ï¹™","ï¹š","ï¹™","ï¹›","ï¹œ","ï¹›","ï¹","ï¹ž","ï¹","ï¹¤","ï¹¥","ï¹¤"],w=new RegExp(/^([1-4|9]|1[0-9]|2[0-9]|3[0168]|4[04589]|5[012]|7[78]|159|16[0-9]|17[0-2]|21[569]|22[03489]|250)$/),N=!1,j=0;this.__bidiEngine__={};var k=function(E){var P=E.charCodeAt(),W=P>>8,z=g[W];return z!==void 0?x[256*z+(255&P)]:W===252||W===253?"AL":w.test(W)?"L":W===8?"R":"N"},L=function(E){for(var P,W=0;W<E.length;W++){if((P=k(E.charAt(W)))==="L")return!1;if(P==="R")return!0}return!1},F=function(E,P,W,z){var ue,Q,ee,ie,ne=P[z];switch(ne){case"L":case"R":N=!1;break;case"N":case"AN":break;case"EN":N&&(ne="AN");break;case"AL":N=!0,ne="R";break;case"WS":ne="N";break;case"CS":z<1||z+1>=P.length||(ue=W[z-1])!=="EN"&&ue!=="AN"||(Q=P[z+1])!=="EN"&&Q!=="AN"?ne="N":N&&(Q="AN"),ne=Q===ue?Q:"N";break;case"ES":ne=(ue=z>0?W[z-1]:"B")==="EN"&&z+1<P.length&&P[z+1]==="EN"?"EN":"N";break;case"ET":if(z>0&&W[z-1]==="EN"){ne="EN";break}if(N){ne="N";break}for(ee=z+1,ie=P.length;ee<ie&&P[ee]==="ET";)ee++;ne=ee<ie&&P[ee]==="EN"?"EN":"N";break;case"NSM":if(l&&!c){for(ie=P.length,ee=z+1;ee<ie&&P[ee]==="NSM";)ee++;if(ee<ie){var pe=E[z],ye=pe>=1425&&pe<=2303||pe===64286;if(ue=P[ee],ye&&(ue==="R"||ue==="AL")){ne="R";break}}}ne=z<1||(ue=P[z-1])==="B"?"N":W[z-1];break;case"B":N=!1,n=!0,ne=j;break;case"S":o=!0,ne="N";break;case"LRE":case"RLE":case"LRO":case"RLO":case"PDF":N=!1;break;case"BN":ne="N"}return ne},T=function(E,P,W){var z=E.split("");return W&&C(z,W,{hiLevel:j}),z.reverse(),P&&P.reverse(),z.join("")},C=function(E,P,W){var z,ue,Q,ee,ie,ne=-1,pe=E.length,ye=0,_=[],R=j?m:p,M=[];for(N=!1,n=!1,o=!1,ue=0;ue<pe;ue++)M[ue]=k(E[ue]);for(Q=0;Q<pe;Q++){if(ie=ye,_[Q]=F(E,M,_,Q),z=240&(ye=R[ie][y[_[Q]]]),ye&=15,P[Q]=ee=R[ye][5],z>0)if(z===16){for(ue=ne;ue<Q;ue++)P[ue]=1;ne=-1}else ne=-1;if(R[ye][6])ne===-1&&(ne=Q);else if(ne>-1){for(ue=ne;ue<Q;ue++)P[ue]=ee;ne=-1}M[Q]==="B"&&(P[Q]=0),W.hiLevel|=ee}o&&function(B,Y,fe){for(var ae=0;ae<fe;ae++)if(B[ae]==="S"){Y[ae]=j;for(var X=ae-1;X>=0&&B[X]==="WS";X--)Y[X]=j}}(M,P,pe)},I=function(E,P,W,z,ue){if(!(ue.hiLevel<E)){if(E===1&&j===1&&!n)return P.reverse(),void(W&&W.reverse());for(var Q,ee,ie,ne,pe=P.length,ye=0;ye<pe;){if(z[ye]>=E){for(ie=ye+1;ie<pe&&z[ie]>=E;)ie++;for(ne=ye,ee=ie-1;ne<ee;ne++,ee--)Q=P[ne],P[ne]=P[ee],P[ee]=Q,W&&(Q=W[ne],W[ne]=W[ee],W[ee]=Q);ye=ie}ye++}}},D=function(E,P,W){var z=E.split(""),ue={hiLevel:j};return W||(W=[]),C(z,W,ue),function(Q,ee,ie){if(ie.hiLevel!==0&&u)for(var ne,pe=0;pe<Q.length;pe++)ee[pe]===1&&(ne=b.indexOf(Q[pe]))>=0&&(Q[pe]=b[ne+1])}(z,W,ue),I(2,z,P,W,ue),I(1,z,P,W,ue),z.join("")};return this.__bidiEngine__.doBidiReorder=function(E,P,W){if(function(ue,Q){if(Q)for(var ee=0;ee<ue.length;ee++)Q[ee]=ee;c===void 0&&(c=L(ue)),h===void 0&&(h=L(ue))}(E,P),l||!d||h)if(l&&d&&c^h)j=c?1:0,E=T(E,P,W);else if(!l&&d&&h)j=c?1:0,E=D(E,P,W),E=T(E,P);else if(!l||c||d||h){if(l&&!d&&c^h)E=T(E,P),c?(j=0,E=D(E,P,W)):(j=1,E=D(E,P,W),E=T(E,P));else if(l&&c&&!d&&h)j=1,E=D(E,P,W),E=T(E,P);else if(!l&&!d&&c^h){var z=u;c?(j=1,E=D(E,P,W),j=0,u=!1,E=D(E,P,W),u=z):(j=0,E=D(E,P,W),E=T(E,P),j=1,u=!1,E=D(E,P,W),u=z,E=T(E,P))}}else j=0,E=D(E,P,W);else j=c?1:0,E=D(E,P,W);return E},this.__bidiEngine__.setOptions=function(E){E&&(l=E.isInputVisual,d=E.isOutputVisual,c=E.isInputRtl,h=E.isOutputRtl,u=E.isSymmetricSwapping)},this.__bidiEngine__.setOptions(a),this.__bidiEngine__};var s=["BN","BN","BN","BN","BN","BN","BN","BN","BN","S","B","S","WS","B","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","B","B","B","S","WS","N","N","ET","ET","ET","N","N","N","N","N","ES","CS","ES","CS","CS","EN","EN","EN","EN","EN","EN","EN","EN","EN","EN","CS","N","N","N","N","N","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","N","N","N","N","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","N","N","N","BN","BN","BN","BN","BN","BN","B","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","CS","N","ET","ET","ET","ET","N","N","N","N","L","N","N","BN","N","N","ET","ET","EN","EN","N","L","N","N","N","EN","L","N","N","N","N","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","N","L","L","L","L","L","L","L","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","L","N","N","N","N","N","ET","N","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","R","NSM","R","NSM","NSM","R","NSM","NSM","R","NSM","N","N","N","N","N","N","N","N","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","N","N","N","N","N","R","R","R","R","R","N","N","N","N","N","N","N","N","N","N","N","AN","AN","AN","AN","AN","AN","N","N","AL","ET","ET","AL","CS","AL","N","N","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","AL","AL","N","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","AN","AN","AN","AN","AN","AN","AN","AN","AN","AN","ET","AN","AN","AL","AL","AL","NSM","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","NSM","NSM","NSM","NSM","NSM","NSM","NSM","AN","N","NSM","NSM","NSM","NSM","NSM","NSM","AL","AL","NSM","NSM","N","NSM","NSM","NSM","NSM","AL","AL","EN","EN","EN","EN","EN","EN","EN","EN","EN","EN","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","N","AL","AL","NSM","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","N","N","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","AL","N","N","N","N","N","N","N","N","N","N","N","N","N","N","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","R","R","N","N","N","N","R","N","N","N","N","N","WS","WS","WS","WS","WS","WS","WS","WS","WS","WS","WS","BN","BN","BN","L","R","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","WS","B","LRE","RLE","PDF","LRO","RLO","CS","ET","ET","ET","ET","ET","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","CS","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","WS","BN","BN","BN","BN","BN","N","LRI","RLI","FSI","PDI","BN","BN","BN","BN","BN","BN","EN","L","N","N","EN","EN","EN","EN","EN","EN","ES","ES","N","N","N","L","EN","EN","EN","EN","EN","EN","EN","EN","EN","EN","ES","ES","N","N","N","N","L","L","L","L","L","L","L","L","L","L","L","L","L","N","N","N","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","L","L","L","L","L","L","L","N","N","N","N","N","N","N","N","N","N","N","N","L","L","L","L","L","N","N","N","N","N","R","NSM","R","R","R","R","R","R","R","R","R","R","ES","R","R","R","R","R","R","R","R","R","R","R","R","R","N","R","R","R","R","R","N","R","N","R","R","N","R","R","N","R","R","R","R","R","R","R","R","R","R","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","CS","N","CS","N","N","CS","N","N","N","N","N","N","N","N","N","ET","N","N","ES","ES","N","N","N","N","N","ET","ET","N","N","N","N","N","AL","AL","AL","AL","AL","N","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","N","N","BN","N","N","N","ET","ET","ET","N","N","N","N","N","ES","CS","ES","CS","CS","EN","EN","EN","EN","EN","EN","EN","EN","EN","EN","CS","N","N","N","N","N","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","N","N","N","N","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","N","N","N","N","N","N","N","N","N","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","N","N","L","L","L","L","L","L","N","N","L","L","L","L","L","L","N","N","L","L","L","L","L","L","N","N","L","L","L","N","N","N","ET","ET","N","N","N","ET","ET","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N"],r=new t.__bidiEngine__({isInputVisual:!0});t.API.events.push(["postProcessText",function(a){var n=a.text,o=(a.x,a.y,a.options||{}),l=(a.mutex,o.lang,[]);if(o.isInputVisual=typeof o.isInputVisual!="boolean"||o.isInputVisual,r.setOptions(o),Object.prototype.toString.call(n)==="[object Array]"){var c=0;for(l=[],c=0;c<n.length;c+=1)Object.prototype.toString.call(n[c])==="[object Array]"?l.push([r.doBidiReorder(n[c][0]),n[c][1],n[c][2]]):l.push([r.doBidiReorder(n[c])]);a.text=l}else a.text=r.doBidiReorder(n);r.setOptions({isInputVisual:!0})}])}(vt),vt.API.TTFFont=function(){function t(s){var r;if(this.rawData=s,r=this.contents=new Fn(s),this.contents.pos=4,r.readString(4)==="ttcf")throw new Error("TTCF not supported.");r.pos=0,this.parse(),this.subset=new M2(this),this.registerTTF()}return t.open=function(s){return new t(s)},t.prototype.parse=function(){return this.directory=new S2(this.contents),this.head=new A2(this),this.name=new P2(this),this.cmap=new nm(this),this.toUnicode={},this.hhea=new _2(this),this.maxp=new F2(this),this.hmtx=new L2(this),this.post=new T2(this),this.os2=new C2(this),this.loca=new R2(this),this.glyf=new O2(this),this.ascender=this.os2.exists&&this.os2.ascender||this.hhea.ascender,this.decender=this.os2.exists&&this.os2.decender||this.hhea.decender,this.lineGap=this.os2.exists&&this.os2.lineGap||this.hhea.lineGap,this.bbox=[this.head.xMin,this.head.yMin,this.head.xMax,this.head.yMax]},t.prototype.registerTTF=function(){var s,r,a,n,o;if(this.scaleFactor=1e3/this.head.unitsPerEm,this.bbox=(function(){var l,c,d,h;for(h=[],l=0,c=(d=this.bbox).length;l<c;l++)s=d[l],h.push(Math.round(s*this.scaleFactor));return h}).call(this),this.stemV=0,this.post.exists?(a=255&(n=this.post.italic_angle),32768&(r=n>>16)&&(r=-(1+(65535^r))),this.italicAngle=+(r+"."+a)):this.italicAngle=0,this.ascender=Math.round(this.ascender*this.scaleFactor),this.decender=Math.round(this.decender*this.scaleFactor),this.lineGap=Math.round(this.lineGap*this.scaleFactor),this.capHeight=this.os2.exists&&this.os2.capHeight||this.ascender,this.xHeight=this.os2.exists&&this.os2.xHeight||0,this.familyClass=(this.os2.exists&&this.os2.familyClass||0)>>8,this.isSerif=(o=this.familyClass)===1||o===2||o===3||o===4||o===5||o===7,this.isScript=this.familyClass===10,this.flags=0,this.post.isFixedPitch&&(this.flags|=1),this.isSerif&&(this.flags|=2),this.isScript&&(this.flags|=8),this.italicAngle!==0&&(this.flags|=64),this.flags|=32,!this.cmap.unicode)throw new Error("No unicode cmap for font")},t.prototype.characterToGlyph=function(s){var r;return((r=this.cmap.unicode)!=null?r.codeMap[s]:void 0)||0},t.prototype.widthOfGlyph=function(s){var r;return r=1e3/this.head.unitsPerEm,this.hmtx.forGlyph(s).advance*r},t.prototype.widthOfString=function(s,r,a){var n,o,l,c;for(l=0,o=0,c=(s=""+s).length;0<=c?o<c:o>c;o=0<=c?++o:--o)n=s.charCodeAt(o),l+=this.widthOfGlyph(this.characterToGlyph(n))+a*(1e3/r)||0;return l*(r/1e3)},t.prototype.lineHeight=function(s,r){var a;return r==null&&(r=!1),a=r?this.lineGap:0,(this.ascender+a-this.decender)/1e3*s},t}();var ja,Fn=function(){function t(s){this.data=s??[],this.pos=0,this.length=this.data.length}return t.prototype.readByte=function(){return this.data[this.pos++]},t.prototype.writeByte=function(s){return this.data[this.pos++]=s},t.prototype.readUInt32=function(){return 16777216*this.readByte()+(this.readByte()<<16)+(this.readByte()<<8)+this.readByte()},t.prototype.writeUInt32=function(s){return this.writeByte(s>>>24&255),this.writeByte(s>>16&255),this.writeByte(s>>8&255),this.writeByte(255&s)},t.prototype.readInt32=function(){var s;return(s=this.readUInt32())>=2147483648?s-4294967296:s},t.prototype.writeInt32=function(s){return s<0&&(s+=4294967296),this.writeUInt32(s)},t.prototype.readUInt16=function(){return this.readByte()<<8|this.readByte()},t.prototype.writeUInt16=function(s){return this.writeByte(s>>8&255),this.writeByte(255&s)},t.prototype.readInt16=function(){var s;return(s=this.readUInt16())>=32768?s-65536:s},t.prototype.writeInt16=function(s){return s<0&&(s+=65536),this.writeUInt16(s)},t.prototype.readString=function(s){var r,a;for(a=[],r=0;0<=s?r<s:r>s;r=0<=s?++r:--r)a[r]=String.fromCharCode(this.readByte());return a.join("")},t.prototype.writeString=function(s){var r,a,n;for(n=[],r=0,a=s.length;0<=a?r<a:r>a;r=0<=a?++r:--r)n.push(this.writeByte(s.charCodeAt(r)));return n},t.prototype.readShort=function(){return this.readInt16()},t.prototype.writeShort=function(s){return this.writeInt16(s)},t.prototype.readLongLong=function(){var s,r,a,n,o,l,c,d;return s=this.readByte(),r=this.readByte(),a=this.readByte(),n=this.readByte(),o=this.readByte(),l=this.readByte(),c=this.readByte(),d=this.readByte(),128&s?-1*(72057594037927940*(255^s)+281474976710656*(255^r)+1099511627776*(255^a)+4294967296*(255^n)+16777216*(255^o)+65536*(255^l)+256*(255^c)+(255^d)+1):72057594037927940*s+281474976710656*r+1099511627776*a+4294967296*n+16777216*o+65536*l+256*c+d},t.prototype.writeLongLong=function(s){var r,a;return r=Math.floor(s/4294967296),a=4294967295&s,this.writeByte(r>>24&255),this.writeByte(r>>16&255),this.writeByte(r>>8&255),this.writeByte(255&r),this.writeByte(a>>24&255),this.writeByte(a>>16&255),this.writeByte(a>>8&255),this.writeByte(255&a)},t.prototype.readInt=function(){return this.readInt32()},t.prototype.writeInt=function(s){return this.writeInt32(s)},t.prototype.read=function(s){var r,a;for(r=[],a=0;0<=s?a<s:a>s;a=0<=s?++a:--a)r.push(this.readByte());return r},t.prototype.write=function(s){var r,a,n,o;for(o=[],a=0,n=s.length;a<n;a++)r=s[a],o.push(this.writeByte(r));return o},t}(),S2=function(){var t;function s(r){var a,n,o;for(this.scalarType=r.readInt(),this.tableCount=r.readShort(),this.searchRange=r.readShort(),this.entrySelector=r.readShort(),this.rangeShift=r.readShort(),this.tables={},n=0,o=this.tableCount;0<=o?n<o:n>o;n=0<=o?++n:--n)a={tag:r.readString(4),checksum:r.readInt(),offset:r.readInt(),length:r.readInt()},this.tables[a.tag]=a}return s.prototype.encode=function(r){var a,n,o,l,c,d,h,u,x,p,m,y,g;for(g in m=Object.keys(r).length,d=Math.log(2),x=16*Math.floor(Math.log(m)/d),l=Math.floor(x/d),u=16*m-x,(n=new Fn).writeInt(this.scalarType),n.writeShort(m),n.writeShort(x),n.writeShort(l),n.writeShort(u),o=16*m,h=n.pos+o,c=null,y=[],r)for(p=r[g],n.writeString(g),n.writeInt(t(p)),n.writeInt(h),n.writeInt(p.length),y=y.concat(p),g==="head"&&(c=h),h+=p.length;h%4;)y.push(0),h++;return n.write(y),a=2981146554-t(n.data),n.pos=c+8,n.writeUInt32(a),n.data},t=function(r){var a,n,o,l;for(r=im.call(r);r.length%4;)r.push(0);for(o=new Fn(r),n=0,a=0,l=r.length;a<l;a=a+=4)n+=o.readUInt32();return 4294967295&n},s}(),k2={}.hasOwnProperty,Ha=function(t,s){for(var r in s)k2.call(s,r)&&(t[r]=s[r]);function a(){this.constructor=t}return a.prototype=s.prototype,t.prototype=new a,t.__super__=s.prototype,t};ja=function(){function t(s){var r;this.file=s,r=this.file.directory.tables[this.tag],this.exists=!!r,r&&(this.offset=r.offset,this.length=r.length,this.parse(this.file.contents))}return t.prototype.parse=function(){},t.prototype.encode=function(){},t.prototype.raw=function(){return this.exists?(this.file.contents.pos=this.offset,this.file.contents.read(this.length)):null},t}();var A2=function(t){function s(){return s.__super__.constructor.apply(this,arguments)}return Ha(s,ja),s.prototype.tag="head",s.prototype.parse=function(r){return r.pos=this.offset,this.version=r.readInt(),this.revision=r.readInt(),this.checkSumAdjustment=r.readInt(),this.magicNumber=r.readInt(),this.flags=r.readShort(),this.unitsPerEm=r.readShort(),this.created=r.readLongLong(),this.modified=r.readLongLong(),this.xMin=r.readShort(),this.yMin=r.readShort(),this.xMax=r.readShort(),this.yMax=r.readShort(),this.macStyle=r.readShort(),this.lowestRecPPEM=r.readShort(),this.fontDirectionHint=r.readShort(),this.indexToLocFormat=r.readShort(),this.glyphDataFormat=r.readShort()},s.prototype.encode=function(r){var a;return(a=new Fn).writeInt(this.version),a.writeInt(this.revision),a.writeInt(this.checkSumAdjustment),a.writeInt(this.magicNumber),a.writeShort(this.flags),a.writeShort(this.unitsPerEm),a.writeLongLong(this.created),a.writeLongLong(this.modified),a.writeShort(this.xMin),a.writeShort(this.yMin),a.writeShort(this.xMax),a.writeShort(this.yMax),a.writeShort(this.macStyle),a.writeShort(this.lowestRecPPEM),a.writeShort(this.fontDirectionHint),a.writeShort(r),a.writeShort(this.glyphDataFormat),a.data},s}(),Su=function(){function t(s,r){var a,n,o,l,c,d,h,u,x,p,m,y,g,b,w,N,j;switch(this.platformID=s.readUInt16(),this.encodingID=s.readShort(),this.offset=r+s.readInt(),x=s.pos,s.pos=this.offset,this.format=s.readUInt16(),this.length=s.readUInt16(),this.language=s.readUInt16(),this.isUnicode=this.platformID===3&&this.encodingID===1&&this.format===4||this.platformID===0&&this.format===4,this.codeMap={},this.format){case 0:for(d=0;d<256;++d)this.codeMap[d]=s.readByte();break;case 4:for(m=s.readUInt16(),p=m/2,s.pos+=6,o=function(){var k,L;for(L=[],d=k=0;0<=p?k<p:k>p;d=0<=p?++k:--k)L.push(s.readUInt16());return L}(),s.pos+=2,g=function(){var k,L;for(L=[],d=k=0;0<=p?k<p:k>p;d=0<=p?++k:--k)L.push(s.readUInt16());return L}(),h=function(){var k,L;for(L=[],d=k=0;0<=p?k<p:k>p;d=0<=p?++k:--k)L.push(s.readUInt16());return L}(),u=function(){var k,L;for(L=[],d=k=0;0<=p?k<p:k>p;d=0<=p?++k:--k)L.push(s.readUInt16());return L}(),n=(this.length-s.pos+this.offset)/2,c=function(){var k,L;for(L=[],d=k=0;0<=n?k<n:k>n;d=0<=n?++k:--k)L.push(s.readUInt16());return L}(),d=w=0,j=o.length;w<j;d=++w)for(b=o[d],a=N=y=g[d];y<=b?N<=b:N>=b;a=y<=b?++N:--N)u[d]===0?l=a+h[d]:(l=c[u[d]/2+(a-y)-(p-d)]||0)!==0&&(l+=h[d]),this.codeMap[a]=65535&l}s.pos=x}return t.encode=function(s,r){var a,n,o,l,c,d,h,u,x,p,m,y,g,b,w,N,j,k,L,F,T,C,I,D,E,P,W,z,ue,Q,ee,ie,ne,pe,ye,_,R,M,B,Y,fe,ae,X,me,Ne,De;switch(z=new Fn,l=Object.keys(s).sort(function(Ve,Ke){return Ve-Ke}),r){case"macroman":for(g=0,b=function(){var Ve=[];for(y=0;y<256;++y)Ve.push(0);return Ve}(),N={0:0},o={},ue=0,ne=l.length;ue<ne;ue++)N[X=s[n=l[ue]]]==null&&(N[X]=++g),o[n]={old:s[n],new:N[s[n]]},b[n]=N[s[n]];return z.writeUInt16(1),z.writeUInt16(0),z.writeUInt32(12),z.writeUInt16(0),z.writeUInt16(262),z.writeUInt16(0),z.write(b),{charMap:o,subtable:z.data,maxGlyphID:g+1};case"unicode":for(P=[],x=[],j=0,N={},a={},w=h=null,Q=0,pe=l.length;Q<pe;Q++)N[L=s[n=l[Q]]]==null&&(N[L]=++j),a[n]={old:L,new:N[L]},c=N[L]-n,w!=null&&c===h||(w&&x.push(w),P.push(n),h=c),w=n;for(w&&x.push(w),x.push(65535),P.push(65535),D=2*(I=P.length),C=2*Math.pow(Math.log(I)/Math.LN2,2),p=Math.log(C/2)/Math.LN2,T=2*I-C,d=[],F=[],m=[],y=ee=0,ye=P.length;ee<ye;y=++ee){if(E=P[y],u=x[y],E===65535){d.push(0),F.push(0);break}if(E-(W=a[E].new)>=32768)for(d.push(0),F.push(2*(m.length+I-y)),n=ie=E;E<=u?ie<=u:ie>=u;n=E<=u?++ie:--ie)m.push(a[n].new);else d.push(W-E),F.push(0)}for(z.writeUInt16(3),z.writeUInt16(1),z.writeUInt32(12),z.writeUInt16(4),z.writeUInt16(16+8*I+2*m.length),z.writeUInt16(0),z.writeUInt16(D),z.writeUInt16(C),z.writeUInt16(p),z.writeUInt16(T),fe=0,_=x.length;fe<_;fe++)n=x[fe],z.writeUInt16(n);for(z.writeUInt16(0),ae=0,R=P.length;ae<R;ae++)n=P[ae],z.writeUInt16(n);for(me=0,M=d.length;me<M;me++)c=d[me],z.writeUInt16(c);for(Ne=0,B=F.length;Ne<B;Ne++)k=F[Ne],z.writeUInt16(k);for(De=0,Y=m.length;De<Y;De++)g=m[De],z.writeUInt16(g);return{charMap:a,subtable:z.data,maxGlyphID:j+1}}},t}(),nm=function(t){function s(){return s.__super__.constructor.apply(this,arguments)}return Ha(s,ja),s.prototype.tag="cmap",s.prototype.parse=function(r){var a,n,o;for(r.pos=this.offset,this.version=r.readUInt16(),o=r.readUInt16(),this.tables=[],this.unicode=null,n=0;0<=o?n<o:n>o;n=0<=o?++n:--n)a=new Su(r,this.offset),this.tables.push(a),a.isUnicode&&this.unicode==null&&(this.unicode=a);return!0},s.encode=function(r,a){var n,o;return a==null&&(a="macroman"),n=Su.encode(r,a),(o=new Fn).writeUInt16(0),o.writeUInt16(1),n.table=o.data.concat(n.subtable),n},s}(),_2=function(t){function s(){return s.__super__.constructor.apply(this,arguments)}return Ha(s,ja),s.prototype.tag="hhea",s.prototype.parse=function(r){return r.pos=this.offset,this.version=r.readInt(),this.ascender=r.readShort(),this.decender=r.readShort(),this.lineGap=r.readShort(),this.advanceWidthMax=r.readShort(),this.minLeftSideBearing=r.readShort(),this.minRightSideBearing=r.readShort(),this.xMaxExtent=r.readShort(),this.caretSlopeRise=r.readShort(),this.caretSlopeRun=r.readShort(),this.caretOffset=r.readShort(),r.pos+=8,this.metricDataFormat=r.readShort(),this.numberOfMetrics=r.readUInt16()},s}(),C2=function(t){function s(){return s.__super__.constructor.apply(this,arguments)}return Ha(s,ja),s.prototype.tag="OS/2",s.prototype.parse=function(r){if(r.pos=this.offset,this.version=r.readUInt16(),this.averageCharWidth=r.readShort(),this.weightClass=r.readUInt16(),this.widthClass=r.readUInt16(),this.type=r.readShort(),this.ySubscriptXSize=r.readShort(),this.ySubscriptYSize=r.readShort(),this.ySubscriptXOffset=r.readShort(),this.ySubscriptYOffset=r.readShort(),this.ySuperscriptXSize=r.readShort(),this.ySuperscriptYSize=r.readShort(),this.ySuperscriptXOffset=r.readShort(),this.ySuperscriptYOffset=r.readShort(),this.yStrikeoutSize=r.readShort(),this.yStrikeoutPosition=r.readShort(),this.familyClass=r.readShort(),this.panose=function(){var a,n;for(n=[],a=0;a<10;++a)n.push(r.readByte());return n}(),this.charRange=function(){var a,n;for(n=[],a=0;a<4;++a)n.push(r.readInt());return n}(),this.vendorID=r.readString(4),this.selection=r.readShort(),this.firstCharIndex=r.readShort(),this.lastCharIndex=r.readShort(),this.version>0&&(this.ascent=r.readShort(),this.descent=r.readShort(),this.lineGap=r.readShort(),this.winAscent=r.readShort(),this.winDescent=r.readShort(),this.codePageRange=function(){var a,n;for(n=[],a=0;a<2;a=++a)n.push(r.readInt());return n}(),this.version>1))return this.xHeight=r.readShort(),this.capHeight=r.readShort(),this.defaultChar=r.readShort(),this.breakChar=r.readShort(),this.maxContext=r.readShort()},s}(),T2=function(t){function s(){return s.__super__.constructor.apply(this,arguments)}return Ha(s,ja),s.prototype.tag="post",s.prototype.parse=function(r){var a,n,o;switch(r.pos=this.offset,this.format=r.readInt(),this.italicAngle=r.readInt(),this.underlinePosition=r.readShort(),this.underlineThickness=r.readShort(),this.isFixedPitch=r.readInt(),this.minMemType42=r.readInt(),this.maxMemType42=r.readInt(),this.minMemType1=r.readInt(),this.maxMemType1=r.readInt(),this.format){case 65536:break;case 131072:var l;for(n=r.readUInt16(),this.glyphNameIndex=[],l=0;0<=n?l<n:l>n;l=0<=n?++l:--l)this.glyphNameIndex.push(r.readUInt16());for(this.names=[],o=[];r.pos<this.offset+this.length;)a=r.readByte(),o.push(this.names.push(r.readString(a)));return o;case 151552:return n=r.readUInt16(),this.offsets=r.read(n);case 196608:break;case 262144:return this.map=(function(){var c,d,h;for(h=[],l=c=0,d=this.file.maxp.numGlyphs;0<=d?c<d:c>d;l=0<=d?++c:--c)h.push(r.readUInt32());return h}).call(this)}},s}(),E2=function(t,s){this.raw=t,this.length=t.length,this.platformID=s.platformID,this.encodingID=s.encodingID,this.languageID=s.languageID},P2=function(t){function s(){return s.__super__.constructor.apply(this,arguments)}return Ha(s,ja),s.prototype.tag="name",s.prototype.parse=function(r){var a,n,o,l,c,d,h,u,x,p,m;for(r.pos=this.offset,r.readShort(),a=r.readShort(),d=r.readShort(),n=[],l=0;0<=a?l<a:l>a;l=0<=a?++l:--l)n.push({platformID:r.readShort(),encodingID:r.readShort(),languageID:r.readShort(),nameID:r.readShort(),length:r.readShort(),offset:this.offset+d+r.readShort()});for(h={},l=x=0,p=n.length;x<p;l=++x)o=n[l],r.pos=o.offset,u=r.readString(o.length),c=new E2(u,o),h[m=o.nameID]==null&&(h[m]=[]),h[o.nameID].push(c);this.strings=h,this.copyright=h[0],this.fontFamily=h[1],this.fontSubfamily=h[2],this.uniqueSubfamily=h[3],this.fontName=h[4],this.version=h[5];try{this.postscriptName=h[6][0].raw.replace(/[\x00-\x19\x80-\xff]/g,"")}catch{this.postscriptName=h[4][0].raw.replace(/[\x00-\x19\x80-\xff]/g,"")}return this.trademark=h[7],this.manufacturer=h[8],this.designer=h[9],this.description=h[10],this.vendorUrl=h[11],this.designerUrl=h[12],this.license=h[13],this.licenseUrl=h[14],this.preferredFamily=h[15],this.preferredSubfamily=h[17],this.compatibleFull=h[18],this.sampleText=h[19]},s}(),F2=function(t){function s(){return s.__super__.constructor.apply(this,arguments)}return Ha(s,ja),s.prototype.tag="maxp",s.prototype.parse=function(r){return r.pos=this.offset,this.version=r.readInt(),this.numGlyphs=r.readUInt16(),this.maxPoints=r.readUInt16(),this.maxContours=r.readUInt16(),this.maxCompositePoints=r.readUInt16(),this.maxComponentContours=r.readUInt16(),this.maxZones=r.readUInt16(),this.maxTwilightPoints=r.readUInt16(),this.maxStorage=r.readUInt16(),this.maxFunctionDefs=r.readUInt16(),this.maxInstructionDefs=r.readUInt16(),this.maxStackElements=r.readUInt16(),this.maxSizeOfInstructions=r.readUInt16(),this.maxComponentElements=r.readUInt16(),this.maxComponentDepth=r.readUInt16()},s}(),L2=function(t){function s(){return s.__super__.constructor.apply(this,arguments)}return Ha(s,ja),s.prototype.tag="hmtx",s.prototype.parse=function(r){var a,n,o,l,c,d,h;for(r.pos=this.offset,this.metrics=[],a=0,d=this.file.hhea.numberOfMetrics;0<=d?a<d:a>d;a=0<=d?++a:--a)this.metrics.push({advance:r.readUInt16(),lsb:r.readInt16()});for(o=this.file.maxp.numGlyphs-this.file.hhea.numberOfMetrics,this.leftSideBearings=function(){var u,x;for(x=[],a=u=0;0<=o?u<o:u>o;a=0<=o?++u:--u)x.push(r.readInt16());return x}(),this.widths=(function(){var u,x,p,m;for(m=[],u=0,x=(p=this.metrics).length;u<x;u++)l=p[u],m.push(l.advance);return m}).call(this),n=this.widths[this.widths.length-1],h=[],a=c=0;0<=o?c<o:c>o;a=0<=o?++c:--c)h.push(this.widths.push(n));return h},s.prototype.forGlyph=function(r){return r in this.metrics?this.metrics[r]:{advance:this.metrics[this.metrics.length-1].advance,lsb:this.leftSideBearings[r-this.metrics.length]}},s}(),im=[].slice,O2=function(t){function s(){return s.__super__.constructor.apply(this,arguments)}return Ha(s,ja),s.prototype.tag="glyf",s.prototype.parse=function(){return this.cache={}},s.prototype.glyphFor=function(r){var a,n,o,l,c,d,h,u,x,p;return r in this.cache?this.cache[r]:(l=this.file.loca,a=this.file.contents,n=l.indexOf(r),(o=l.lengthOf(r))===0?this.cache[r]=null:(a.pos=this.offset+n,c=(d=new Fn(a.read(o))).readShort(),u=d.readShort(),p=d.readShort(),h=d.readShort(),x=d.readShort(),this.cache[r]=c===-1?new I2(d,u,p,h,x):new D2(d,c,u,p,h,x),this.cache[r]))},s.prototype.encode=function(r,a,n){var o,l,c,d,h;for(c=[],l=[],d=0,h=a.length;d<h;d++)o=r[a[d]],l.push(c.length),o&&(c=c.concat(o.encode(n)));return l.push(c.length),{table:c,offsets:l}},s}(),D2=function(){function t(s,r,a,n,o,l){this.raw=s,this.numberOfContours=r,this.xMin=a,this.yMin=n,this.xMax=o,this.yMax=l,this.compound=!1}return t.prototype.encode=function(){return this.raw.data},t}(),I2=function(){function t(s,r,a,n,o){var l,c;for(this.raw=s,this.xMin=r,this.yMin=a,this.xMax=n,this.yMax=o,this.compound=!0,this.glyphIDs=[],this.glyphOffsets=[],l=this.raw;c=l.readShort(),this.glyphOffsets.push(l.pos),this.glyphIDs.push(l.readUInt16()),32&c;)l.pos+=1&c?4:2,128&c?l.pos+=8:64&c?l.pos+=4:8&c&&(l.pos+=2)}return t.prototype.encode=function(){var s,r,a;for(r=new Fn(im.call(this.raw.data)),s=0,a=this.glyphIDs.length;s<a;++s)r.pos=this.glyphOffsets[s];return r.data},t}(),R2=function(t){function s(){return s.__super__.constructor.apply(this,arguments)}return Ha(s,ja),s.prototype.tag="loca",s.prototype.parse=function(r){var a,n;return r.pos=this.offset,a=this.file.head.indexToLocFormat,this.offsets=a===0?(function(){var o,l;for(l=[],n=0,o=this.length;n<o;n+=2)l.push(2*r.readUInt16());return l}).call(this):(function(){var o,l;for(l=[],n=0,o=this.length;n<o;n+=4)l.push(r.readUInt32());return l}).call(this)},s.prototype.indexOf=function(r){return this.offsets[r]},s.prototype.lengthOf=function(r){return this.offsets[r+1]-this.offsets[r]},s.prototype.encode=function(r,a){for(var n=new Uint32Array(this.offsets.length),o=0,l=0,c=0;c<n.length;++c)if(n[c]=o,l<a.length&&a[l]==c){++l,n[c]=o;var d=this.offsets[c],h=this.offsets[c+1]-d;h>0&&(o+=h)}for(var u=new Array(4*n.length),x=0;x<n.length;++x)u[4*x+3]=255&n[x],u[4*x+2]=(65280&n[x])>>8,u[4*x+1]=(16711680&n[x])>>16,u[4*x]=(4278190080&n[x])>>24;return u},s}(),M2=function(){function t(s){this.font=s,this.subset={},this.unicodes={},this.next=33}return t.prototype.generateCmap=function(){var s,r,a,n,o;for(r in n=this.font.cmap.tables[0].codeMap,s={},o=this.subset)a=o[r],s[r]=n[a];return s},t.prototype.glyphsFor=function(s){var r,a,n,o,l,c,d;for(n={},l=0,c=s.length;l<c;l++)n[o=s[l]]=this.font.glyf.glyphFor(o);for(o in r=[],n)(a=n[o])!=null&&a.compound&&r.push.apply(r,a.glyphIDs);if(r.length>0)for(o in d=this.glyphsFor(r))a=d[o],n[o]=a;return n},t.prototype.encode=function(s,r){var a,n,o,l,c,d,h,u,x,p,m,y,g,b,w;for(n in a=nm.encode(this.generateCmap(),"unicode"),l=this.glyphsFor(s),m={0:0},w=a.charMap)m[(d=w[n]).old]=d.new;for(y in p=a.maxGlyphID,l)y in m||(m[y]=p++);return u=function(N){var j,k;for(j in k={},N)k[N[j]]=j;return k}(m),x=Object.keys(u).sort(function(N,j){return N-j}),g=function(){var N,j,k;for(k=[],N=0,j=x.length;N<j;N++)c=x[N],k.push(u[c]);return k}(),o=this.font.glyf.encode(l,g,m),h=this.font.loca.encode(o.offsets,g),b={cmap:this.font.cmap.raw(),glyf:o.table,loca:h,hmtx:this.font.hmtx.raw(),hhea:this.font.hhea.raw(),maxp:this.font.maxp.raw(),post:this.font.post.raw(),name:this.font.name.raw(),head:this.font.head.encode(r)},this.font.os2.exists&&(b["OS/2"]=this.font.os2.raw()),this.font.directory.encode(b)},t}();vt.API.PDFObject=function(){var t;function s(){}return t=function(r,a){return(Array(a+1).join("0")+r).slice(-a)},s.convert=function(r){var a,n,o,l;if(Array.isArray(r))return"["+function(){var c,d,h;for(h=[],c=0,d=r.length;c<d;c++)a=r[c],h.push(s.convert(a));return h}().join(" ")+"]";if(typeof r=="string")return"/"+r;if(r!=null&&r.isString)return"("+r+")";if(r instanceof Date)return"(D:"+t(r.getUTCFullYear(),4)+t(r.getUTCMonth(),2)+t(r.getUTCDate(),2)+t(r.getUTCHours(),2)+t(r.getUTCMinutes(),2)+t(r.getUTCSeconds(),2)+"Z)";if({}.toString.call(r)==="[object Object]"){for(n in o=["<<"],r)l=r[n],o.push("/"+n+" "+s.convert(l));return o.push(">>"),o.join(`
`)}return""+r},s}();const B2=Object.freeze(Object.defineProperty({__proto__:null,AcroForm:p2,AcroFormAppearance:ht,AcroFormButton:Wr,AcroFormCheckBox:Go,AcroFormChoiceField:Qn,AcroFormComboBox:ei,AcroFormEditBox:Vo,AcroFormListBox:Zn,AcroFormPasswordField:Yo,AcroFormPushButton:$o,AcroFormRadioButton:ti,AcroFormTextField:Tn,GState:rl,ShadingPattern:kn,TilingPattern:Xn,default:vt,jsPDF:vt},Symbol.toStringTag,{value:"Module"}));var U2={exports:{}};const H2=Jp(B2);/*!
 * 
 *               jsPDF AutoTable plugin v3.8.4
 *
 *               Copyright (c) 2024 Simon Bengtsson, https://github.com/simonbengtsson/jsPDF-AutoTable
 *               Licensed under the MIT License.
 *               http://opensource.org/licenses/mit-license
 *
 */(function(t,s){(function(a,n){t.exports=n(function(){try{return H2}catch{}}())})(typeof globalThis<"u"?globalThis:typeof Kd<"u"?Kd:typeof window<"u"?window:typeof self<"u"?self:Kd,function(r){return function(){var a={172:function(c,d){var h=this&&this.__extends||function(){var p=function(m,y){return p=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(g,b){g.__proto__=b}||function(g,b){for(var w in b)Object.prototype.hasOwnProperty.call(b,w)&&(g[w]=b[w])},p(m,y)};return function(m,y){if(typeof y!="function"&&y!==null)throw new TypeError("Class extends value "+String(y)+" is not a constructor or null");p(m,y);function g(){this.constructor=m}m.prototype=y===null?Object.create(y):(g.prototype=y.prototype,new g)}}();Object.defineProperty(d,"__esModule",{value:!0}),d.CellHookData=d.HookData=void 0;var u=function(){function p(m,y,g){this.table=y,this.pageNumber=y.pageNumber,this.pageCount=this.pageNumber,this.settings=y.settings,this.cursor=g,this.doc=m.getDocument()}return p}();d.HookData=u;var x=function(p){h(m,p);function m(y,g,b,w,N,j){var k=p.call(this,y,g,j)||this;return k.cell=b,k.row=w,k.column=N,k.section=w.section,k}return m}(u);d.CellHookData=x},340:function(c,d,h){Object.defineProperty(d,"__esModule",{value:!0});var u=h(4),x=h(136),p=h(744),m=h(776),y=h(664),g=h(972);function b(w){w.API.autoTable=function(){for(var N=[],j=0;j<arguments.length;j++)N[j]=arguments[j];var k;N.length===1?k=N[0]:(console.error("Use of deprecated autoTable initiation"),k=N[2]||{},k.columns=N[0],k.body=N[1]);var L=(0,m.parseInput)(this,k),F=(0,g.createTable)(this,L);return(0,y.drawTable)(this,F),this},w.API.lastAutoTable=!1,w.API.previousAutoTable=!1,w.API.autoTable.previous=!1,w.API.autoTableText=function(N,j,k,L){(0,x.default)(N,j,k,L,this)},w.API.autoTableSetDefaults=function(N){return p.DocHandler.setDefaults(N,this),this},w.autoTableSetDefaults=function(N,j){p.DocHandler.setDefaults(N,j)},w.API.autoTableHtmlToJson=function(N,j){var k;if(j===void 0&&(j=!1),typeof window>"u")return console.error("Cannot run autoTableHtmlToJson in non browser environment"),null;var L=new p.DocHandler(this),F=(0,u.parseHtml)(L,N,window,j,!1),T=F.head,C=F.body,I=((k=T[0])===null||k===void 0?void 0:k.map(function(D){return D.content}))||[];return{columns:I,rows:C,data:C}},w.API.autoTableEndPosY=function(){console.error("Use of deprecated function: autoTableEndPosY. Use doc.lastAutoTable.finalY instead.");var N=this.lastAutoTable;return N&&N.finalY?N.finalY:0},w.API.autoTableAddPageContent=function(N){return console.error("Use of deprecated function: autoTableAddPageContent. Use jsPDF.autoTableSetDefaults({didDrawPage: () => {}}) instead."),w.API.autoTable.globalDefaults||(w.API.autoTable.globalDefaults={}),w.API.autoTable.globalDefaults.addPageContent=N,this},w.API.autoTableAddPage=function(){return console.error("Use of deprecated function: autoTableAddPage. Use doc.addPage()"),this.addPage(),this}}d.default=b},136:function(c,d){Object.defineProperty(d,"__esModule",{value:!0});function h(u,x,p,m,y){m=m||{};var g=1.15,b=y.internal.scaleFactor,w=y.internal.getFontSize()/b,N=y.getLineHeightFactor?y.getLineHeightFactor():g,j=w*N,k=/\r\n|\r|\n/g,L="",F=1;if((m.valign==="middle"||m.valign==="bottom"||m.halign==="center"||m.halign==="right")&&(L=typeof u=="string"?u.split(k):u,F=L.length||1),p+=w*(2-g),m.valign==="middle"?p-=F/2*j:m.valign==="bottom"&&(p-=F*j),m.halign==="center"||m.halign==="right"){var T=w;if(m.halign==="center"&&(T*=.5),L&&F>=1){for(var C=0;C<L.length;C++)y.text(L[C],x-y.getStringUnitWidth(L[C])*T,p),p+=j;return y}x-=y.getStringUnitWidth(u)*T}return m.halign==="justify"?y.text(u,x,p,{maxWidth:m.maxWidth||100,align:"justify"}):y.text(u,x,p),y}d.default=h},420:function(c,d){Object.defineProperty(d,"__esModule",{value:!0}),d.getPageAvailableWidth=d.parseSpacing=d.getFillStyle=d.addTableBorder=d.getStringWidth=void 0;function h(y,g,b){b.applyStyles(g,!0);var w=Array.isArray(y)?y:[y],N=w.map(function(j){return b.getTextWidth(j)}).reduce(function(j,k){return Math.max(j,k)},0);return N}d.getStringWidth=h;function u(y,g,b,w){var N=g.settings.tableLineWidth,j=g.settings.tableLineColor;y.applyStyles({lineWidth:N,lineColor:j});var k=x(N,!1);k&&y.rect(b.x,b.y,g.getWidth(y.pageSize().width),w.y-b.y,k)}d.addTableBorder=u;function x(y,g){var b=y>0,w=g||g===0;return b&&w?"DF":b?"S":w?"F":null}d.getFillStyle=x;function p(y,g){var b,w,N,j;if(y=y||g,Array.isArray(y)){if(y.length>=4)return{top:y[0],right:y[1],bottom:y[2],left:y[3]};if(y.length===3)return{top:y[0],right:y[1],bottom:y[2],left:y[1]};if(y.length===2)return{top:y[0],right:y[1],bottom:y[0],left:y[1]};y.length===1?y=y[0]:y=g}return typeof y=="object"?(typeof y.vertical=="number"&&(y.top=y.vertical,y.bottom=y.vertical),typeof y.horizontal=="number"&&(y.right=y.horizontal,y.left=y.horizontal),{left:(b=y.left)!==null&&b!==void 0?b:g,top:(w=y.top)!==null&&w!==void 0?w:g,right:(N=y.right)!==null&&N!==void 0?N:g,bottom:(j=y.bottom)!==null&&j!==void 0?j:g}):(typeof y!="number"&&(y=g),{top:y,right:y,bottom:y,left:y})}d.parseSpacing=p;function m(y,g){var b=p(g.settings.margin,0);return y.pageSize().width-(b.left+b.right)}d.getPageAvailableWidth=m},796:function(c,d){var h=this&&this.__extends||function(){var m=function(y,g){return m=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(b,w){b.__proto__=w}||function(b,w){for(var N in w)Object.prototype.hasOwnProperty.call(w,N)&&(b[N]=w[N])},m(y,g)};return function(y,g){if(typeof g!="function"&&g!==null)throw new TypeError("Class extends value "+String(g)+" is not a constructor or null");m(y,g);function b(){this.constructor=y}y.prototype=g===null?Object.create(g):(b.prototype=g.prototype,new b)}}();Object.defineProperty(d,"__esModule",{value:!0}),d.getTheme=d.defaultStyles=d.HtmlRowInput=void 0;var u=function(m){h(y,m);function y(g){var b=m.call(this)||this;return b._element=g,b}return y}(Array);d.HtmlRowInput=u;function x(m){return{font:"helvetica",fontStyle:"normal",overflow:"linebreak",fillColor:!1,textColor:20,halign:"left",valign:"top",fontSize:10,cellPadding:5/m,lineColor:200,lineWidth:0,cellWidth:"auto",minCellHeight:0,minCellWidth:0}}d.defaultStyles=x;function p(m){var y={striped:{table:{fillColor:255,textColor:80,fontStyle:"normal"},head:{textColor:255,fillColor:[41,128,185],fontStyle:"bold"},body:{},foot:{textColor:255,fillColor:[41,128,185],fontStyle:"bold"},alternateRow:{fillColor:245}},grid:{table:{fillColor:255,textColor:80,fontStyle:"normal",lineWidth:.1},head:{textColor:255,fillColor:[26,188,156],fontStyle:"bold",lineWidth:0},body:{},foot:{textColor:255,fillColor:[26,188,156],fontStyle:"bold",lineWidth:0},alternateRow:{}},plain:{head:{fontStyle:"bold"},foot:{fontStyle:"bold"}}};return y[m]}d.getTheme=p},903:function(c,d,h){Object.defineProperty(d,"__esModule",{value:!0}),d.parseCss=void 0;var u=h(420);function x(b,w,N,j,k){var L={},F=1.3333333333333333,T=m(w,function(ne){return k.getComputedStyle(ne).backgroundColor});T!=null&&(L.fillColor=T);var C=m(w,function(ne){return k.getComputedStyle(ne).color});C!=null&&(L.textColor=C);var I=g(j,N);I&&(L.cellPadding=I);var D="borderTopColor",E=F*N,P=j.borderTopWidth;if(j.borderBottomWidth===P&&j.borderRightWidth===P&&j.borderLeftWidth===P){var W=(parseFloat(P)||0)/E;W&&(L.lineWidth=W)}else L.lineWidth={top:(parseFloat(j.borderTopWidth)||0)/E,right:(parseFloat(j.borderRightWidth)||0)/E,bottom:(parseFloat(j.borderBottomWidth)||0)/E,left:(parseFloat(j.borderLeftWidth)||0)/E},L.lineWidth.top||(L.lineWidth.right?D="borderRightColor":L.lineWidth.bottom?D="borderBottomColor":L.lineWidth.left&&(D="borderLeftColor"));var z=m(w,function(ne){return k.getComputedStyle(ne)[D]});z!=null&&(L.lineColor=z);var ue=["left","right","center","justify"];ue.indexOf(j.textAlign)!==-1&&(L.halign=j.textAlign),ue=["middle","bottom","top"],ue.indexOf(j.verticalAlign)!==-1&&(L.valign=j.verticalAlign);var Q=parseInt(j.fontSize||"");isNaN(Q)||(L.fontSize=Q/F);var ee=p(j);ee&&(L.fontStyle=ee);var ie=(j.fontFamily||"").toLowerCase();return b.indexOf(ie)!==-1&&(L.font=ie),L}d.parseCss=x;function p(b){var w="";return(b.fontWeight==="bold"||b.fontWeight==="bolder"||parseInt(b.fontWeight)>=700)&&(w="bold"),(b.fontStyle==="italic"||b.fontStyle==="oblique")&&(w+="italic"),w}function m(b,w){var N=y(b,w);if(!N)return null;var j=N.match(/^rgba?\((\d+),\s*(\d+),\s*(\d+)(?:,\s*(\d*\.?\d*))?\)$/);if(!j||!Array.isArray(j))return null;var k=[parseInt(j[1]),parseInt(j[2]),parseInt(j[3])],L=parseInt(j[4]);return L===0||isNaN(k[0])||isNaN(k[1])||isNaN(k[2])?null:k}function y(b,w){var N=w(b);return N==="rgba(0, 0, 0, 0)"||N==="transparent"||N==="initial"||N==="inherit"?b.parentElement==null?null:y(b.parentElement,w):N}function g(b,w){var N=[b.paddingTop,b.paddingRight,b.paddingBottom,b.paddingLeft],j=96/(72/w),k=(parseInt(b.lineHeight)-parseInt(b.fontSize))/w/2,L=N.map(function(T){return parseInt(T||"0")/j}),F=(0,u.parseSpacing)(L,0);return k>F.top&&(F.top=k),k>F.bottom&&(F.bottom=k),F}},744:function(c,d){Object.defineProperty(d,"__esModule",{value:!0}),d.DocHandler=void 0;var h={},u=function(){function x(p){this.jsPDFDocument=p,this.userStyles={textColor:p.getTextColor?this.jsPDFDocument.getTextColor():0,fontSize:p.internal.getFontSize(),fontStyle:p.internal.getFont().fontStyle,font:p.internal.getFont().fontName,lineWidth:p.getLineWidth?this.jsPDFDocument.getLineWidth():0,lineColor:p.getDrawColor?this.jsPDFDocument.getDrawColor():0}}return x.setDefaults=function(p,m){m===void 0&&(m=null),m?m.__autoTableDocumentDefaults=p:h=p},x.unifyColor=function(p){return Array.isArray(p)?p:typeof p=="number"?[p,p,p]:typeof p=="string"?[p]:null},x.prototype.applyStyles=function(p,m){var y,g,b;m===void 0&&(m=!1),p.fontStyle&&this.jsPDFDocument.setFontStyle&&this.jsPDFDocument.setFontStyle(p.fontStyle);var w=this.jsPDFDocument.internal.getFont(),N=w.fontStyle,j=w.fontName;if(p.font&&(j=p.font),p.fontStyle){N=p.fontStyle;var k=this.getFontList()[j];k&&k.indexOf(N)===-1&&(this.jsPDFDocument.setFontStyle&&this.jsPDFDocument.setFontStyle(k[0]),N=k[0])}if(this.jsPDFDocument.setFont(j,N),p.fontSize&&this.jsPDFDocument.setFontSize(p.fontSize),!m){var L=x.unifyColor(p.fillColor);L&&(y=this.jsPDFDocument).setFillColor.apply(y,L),L=x.unifyColor(p.textColor),L&&(g=this.jsPDFDocument).setTextColor.apply(g,L),L=x.unifyColor(p.lineColor),L&&(b=this.jsPDFDocument).setDrawColor.apply(b,L),typeof p.lineWidth=="number"&&this.jsPDFDocument.setLineWidth(p.lineWidth)}},x.prototype.splitTextToSize=function(p,m,y){return this.jsPDFDocument.splitTextToSize(p,m,y)},x.prototype.rect=function(p,m,y,g,b){return this.jsPDFDocument.rect(p,m,y,g,b)},x.prototype.getLastAutoTable=function(){return this.jsPDFDocument.lastAutoTable||null},x.prototype.getTextWidth=function(p){return this.jsPDFDocument.getTextWidth(p)},x.prototype.getDocument=function(){return this.jsPDFDocument},x.prototype.setPage=function(p){this.jsPDFDocument.setPage(p)},x.prototype.addPage=function(){return this.jsPDFDocument.addPage()},x.prototype.getFontList=function(){return this.jsPDFDocument.getFontList()},x.prototype.getGlobalOptions=function(){return h||{}},x.prototype.getDocumentOptions=function(){return this.jsPDFDocument.__autoTableDocumentDefaults||{}},x.prototype.pageSize=function(){var p=this.jsPDFDocument.internal.pageSize;return p.width==null&&(p={width:p.getWidth(),height:p.getHeight()}),p},x.prototype.scaleFactor=function(){return this.jsPDFDocument.internal.scaleFactor},x.prototype.getLineHeightFactor=function(){var p=this.jsPDFDocument;return p.getLineHeightFactor?p.getLineHeightFactor():1.15},x.prototype.getLineHeight=function(p){return p/this.scaleFactor()*this.getLineHeightFactor()},x.prototype.pageNumber=function(){var p=this.jsPDFDocument.internal.getCurrentPageInfo();return p?p.pageNumber:this.jsPDFDocument.internal.getNumberOfPages()},x}();d.DocHandler=u},4:function(c,d,h){Object.defineProperty(d,"__esModule",{value:!0}),d.parseHtml=void 0;var u=h(903),x=h(796);function p(g,b,w,N,j){var k,L;N===void 0&&(N=!1),j===void 0&&(j=!1);var F;typeof b=="string"?F=w.document.querySelector(b):F=b;var T=Object.keys(g.getFontList()),C=g.scaleFactor(),I=[],D=[],E=[];if(!F)return console.error("Html table could not be found with input: ",b),{head:I,body:D,foot:E};for(var P=0;P<F.rows.length;P++){var W=F.rows[P],z=(L=(k=W==null?void 0:W.parentElement)===null||k===void 0?void 0:k.tagName)===null||L===void 0?void 0:L.toLowerCase(),ue=m(T,C,w,W,N,j);ue&&(z==="thead"?I.push(ue):z==="tfoot"?E.push(ue):D.push(ue))}return{head:I,body:D,foot:E}}d.parseHtml=p;function m(g,b,w,N,j,k){for(var L=new x.HtmlRowInput(N),F=0;F<N.cells.length;F++){var T=N.cells[F],C=w.getComputedStyle(T);if(j||C.display!=="none"){var I=void 0;k&&(I=(0,u.parseCss)(g,T,b,C,w)),L.push({rowSpan:T.rowSpan,colSpan:T.colSpan,styles:I,_element:T,content:y(T)})}}var D=w.getComputedStyle(N);if(L.length>0&&(j||D.display!=="none"))return L}function y(g){var b=g.cloneNode(!0);return b.innerHTML=b.innerHTML.replace(/\n/g,"").replace(/ +/g," "),b.innerHTML=b.innerHTML.split(/<br.*?>/).map(function(w){return w.trim()}).join(`
`),b.innerText||b.textContent||""}},776:function(c,d,h){Object.defineProperty(d,"__esModule",{value:!0}),d.parseInput=void 0;var u=h(4),x=h(356),p=h(420),m=h(744),y=h(792);function g(F,T){var C=new m.DocHandler(F),I=C.getDocumentOptions(),D=C.getGlobalOptions();(0,y.default)(C,D,I,T);var E=(0,x.assign)({},D,I,T),P;typeof window<"u"&&(P=window);var W=b(D,I,T),z=w(D,I,T),ue=N(C,E),Q=k(C,E,P);return{id:T.tableId,content:Q,hooks:z,styles:W,settings:ue}}d.parseInput=g;function b(F,T,C){for(var I={styles:{},headStyles:{},bodyStyles:{},footStyles:{},alternateRowStyles:{},columnStyles:{}},D=function(z){if(z==="columnStyles"){var ue=F[z],Q=T[z],ee=C[z];I.columnStyles=(0,x.assign)({},ue,Q,ee)}else{var ie=[F,T,C],ne=ie.map(function(pe){return pe[z]||{}});I[z]=(0,x.assign)({},ne[0],ne[1],ne[2])}},E=0,P=Object.keys(I);E<P.length;E++){var W=P[E];D(W)}return I}function w(F,T,C){for(var I=[F,T,C],D={didParseCell:[],willDrawCell:[],didDrawCell:[],willDrawPage:[],didDrawPage:[]},E=0,P=I;E<P.length;E++){var W=P[E];W.didParseCell&&D.didParseCell.push(W.didParseCell),W.willDrawCell&&D.willDrawCell.push(W.willDrawCell),W.didDrawCell&&D.didDrawCell.push(W.didDrawCell),W.willDrawPage&&D.willDrawPage.push(W.willDrawPage),W.didDrawPage&&D.didDrawPage.push(W.didDrawPage)}return D}function N(F,T){var C,I,D,E,P,W,z,ue,Q,ee,ie,ne,pe=(0,p.parseSpacing)(T.margin,40/F.scaleFactor()),ye=(C=j(F,T.startY))!==null&&C!==void 0?C:pe.top,_;T.showFoot===!0?_="everyPage":T.showFoot===!1?_="never":_=(I=T.showFoot)!==null&&I!==void 0?I:"everyPage";var R;T.showHead===!0?R="everyPage":T.showHead===!1?R="never":R=(D=T.showHead)!==null&&D!==void 0?D:"everyPage";var M=(E=T.useCss)!==null&&E!==void 0?E:!1,B=T.theme||(M?"plain":"striped"),Y=!!T.horizontalPageBreak,fe=(P=T.horizontalPageBreakRepeat)!==null&&P!==void 0?P:null;return{includeHiddenHtml:(W=T.includeHiddenHtml)!==null&&W!==void 0?W:!1,useCss:M,theme:B,startY:ye,margin:pe,pageBreak:(z=T.pageBreak)!==null&&z!==void 0?z:"auto",rowPageBreak:(ue=T.rowPageBreak)!==null&&ue!==void 0?ue:"auto",tableWidth:(Q=T.tableWidth)!==null&&Q!==void 0?Q:"auto",showHead:R,showFoot:_,tableLineWidth:(ee=T.tableLineWidth)!==null&&ee!==void 0?ee:0,tableLineColor:(ie=T.tableLineColor)!==null&&ie!==void 0?ie:200,horizontalPageBreak:Y,horizontalPageBreakRepeat:fe,horizontalPageBreakBehaviour:(ne=T.horizontalPageBreakBehaviour)!==null&&ne!==void 0?ne:"afterAllRows"}}function j(F,T){var C=F.getLastAutoTable(),I=F.scaleFactor(),D=F.pageNumber(),E=!1;if(C&&C.startPageNumber){var P=C.startPageNumber+C.pageNumber-1;E=P===D}return typeof T=="number"?T:(T==null||T===!1)&&E&&(C==null?void 0:C.finalY)!=null?C.finalY+20/I:null}function k(F,T,C){var I=T.head||[],D=T.body||[],E=T.foot||[];if(T.html){var P=T.includeHiddenHtml;if(C){var W=(0,u.parseHtml)(F,T.html,C,P,T.useCss)||{};I=W.head||I,D=W.body||I,E=W.foot||I}else console.error("Cannot parse html in non browser environment")}var z=T.columns||L(I,D,E);return{columns:z,head:I,body:D,foot:E}}function L(F,T,C){var I=F[0]||T[0]||C[0]||[],D=[];return Object.keys(I).filter(function(E){return E!=="_element"}).forEach(function(E){var P=1,W;Array.isArray(I)?W=I[parseInt(E)]:W=I[E],typeof W=="object"&&!Array.isArray(W)&&(P=(W==null?void 0:W.colSpan)||1);for(var z=0;z<P;z++){var ue=void 0;Array.isArray(I)?ue=D.length:ue=E+(z>0?"_".concat(z):"");var Q={dataKey:ue};D.push(Q)}}),D}},792:function(c,d){Object.defineProperty(d,"__esModule",{value:!0});function h(x,p,m,y){for(var g=function(j){j&&typeof j!="object"&&console.error("The options parameter should be of type object, is: "+typeof j),typeof j.extendWidth<"u"&&(j.tableWidth=j.extendWidth?"auto":"wrap",console.error("Use of deprecated option: extendWidth, use tableWidth instead.")),typeof j.margins<"u"&&(typeof j.margin>"u"&&(j.margin=j.margins),console.error("Use of deprecated option: margins, use margin instead.")),j.startY&&typeof j.startY!="number"&&(console.error("Invalid value for startY option",j.startY),delete j.startY),!j.didDrawPage&&(j.afterPageContent||j.beforePageContent||j.afterPageAdd)&&(console.error("The afterPageContent, beforePageContent and afterPageAdd hooks are deprecated. Use didDrawPage instead"),j.didDrawPage=function(E){x.applyStyles(x.userStyles),j.beforePageContent&&j.beforePageContent(E),x.applyStyles(x.userStyles),j.afterPageContent&&j.afterPageContent(E),x.applyStyles(x.userStyles),j.afterPageAdd&&E.pageNumber>1&&E.afterPageAdd(E),x.applyStyles(x.userStyles)}),["createdHeaderCell","drawHeaderRow","drawRow","drawHeaderCell"].forEach(function(E){j[E]&&console.error('The "'.concat(E,'" hook has changed in version 3.0, check the changelog for how to migrate.'))}),[["showFoot","showFooter"],["showHead","showHeader"],["didDrawPage","addPageContent"],["didParseCell","createdCell"],["headStyles","headerStyles"]].forEach(function(E){var P=E[0],W=E[1];j[W]&&(console.error("Use of deprecated option ".concat(W,". Use ").concat(P," instead")),j[P]=j[W])}),[["padding","cellPadding"],["lineHeight","rowHeight"],"fontSize","overflow"].forEach(function(E){var P=typeof E=="string"?E:E[0],W=typeof E=="string"?E:E[1];typeof j[P]<"u"&&(typeof j.styles[W]>"u"&&(j.styles[W]=j[P]),console.error("Use of deprecated option: "+P+", use the style "+W+" instead."))});for(var k=0,L=["styles","bodyStyles","headStyles","footStyles"];k<L.length;k++){var F=L[k];u(j[F]||{})}for(var T=j.columnStyles||{},C=0,I=Object.keys(T);C<I.length;C++){var D=I[C];u(T[D]||{})}},b=0,w=[p,m,y];b<w.length;b++){var N=w[b];g(N)}}d.default=h;function u(x){x.rowHeight?(console.error("Use of deprecated style rowHeight. It is renamed to minCellHeight."),x.minCellHeight||(x.minCellHeight=x.rowHeight)):x.columnWidth&&(console.error("Use of deprecated style columnWidth. It is renamed to cellWidth."),x.cellWidth||(x.cellWidth=x.columnWidth))}},260:function(c,d,h){Object.defineProperty(d,"__esModule",{value:!0}),d.Column=d.Cell=d.Row=d.Table=void 0;var u=h(796),x=h(172),p=h(420),m=function(){function w(N,j){this.pageNumber=1,this.pageCount=1,this.id=N.id,this.settings=N.settings,this.styles=N.styles,this.hooks=N.hooks,this.columns=j.columns,this.head=j.head,this.body=j.body,this.foot=j.foot}return w.prototype.getHeadHeight=function(N){return this.head.reduce(function(j,k){return j+k.getMaxCellHeight(N)},0)},w.prototype.getFootHeight=function(N){return this.foot.reduce(function(j,k){return j+k.getMaxCellHeight(N)},0)},w.prototype.allRows=function(){return this.head.concat(this.body).concat(this.foot)},w.prototype.callCellHooks=function(N,j,k,L,F,T){for(var C=0,I=j;C<I.length;C++){var D=I[C],E=new x.CellHookData(N,this,k,L,F,T),P=D(E)===!1;if(k.text=Array.isArray(k.text)?k.text:[k.text],P)return!1}return!0},w.prototype.callEndPageHooks=function(N,j){N.applyStyles(N.userStyles);for(var k=0,L=this.hooks.didDrawPage;k<L.length;k++){var F=L[k];F(new x.HookData(N,this,j))}},w.prototype.callWillDrawPageHooks=function(N,j){for(var k=0,L=this.hooks.willDrawPage;k<L.length;k++){var F=L[k];F(new x.HookData(N,this,j))}},w.prototype.getWidth=function(N){if(typeof this.settings.tableWidth=="number")return this.settings.tableWidth;if(this.settings.tableWidth==="wrap"){var j=this.columns.reduce(function(L,F){return L+F.wrappedWidth},0);return j}else{var k=this.settings.margin;return N-k.left-k.right}},w}();d.Table=m;var y=function(){function w(N,j,k,L,F){F===void 0&&(F=!1),this.height=0,this.raw=N,N instanceof u.HtmlRowInput&&(this.raw=N._element,this.element=N._element),this.index=j,this.section=k,this.cells=L,this.spansMultiplePages=F}return w.prototype.getMaxCellHeight=function(N){var j=this;return N.reduce(function(k,L){var F;return Math.max(k,((F=j.cells[L.index])===null||F===void 0?void 0:F.height)||0)},0)},w.prototype.hasRowSpan=function(N){var j=this;return N.filter(function(k){var L=j.cells[k.index];return L?L.rowSpan>1:!1}).length>0},w.prototype.canEntireRowFit=function(N,j){return this.getMaxCellHeight(j)<=N},w.prototype.getMinimumRowHeight=function(N,j){var k=this;return N.reduce(function(L,F){var T=k.cells[F.index];if(!T)return 0;var C=j.getLineHeight(T.styles.fontSize),I=T.padding("vertical"),D=I+C;return D>L?D:L},0)},w}();d.Row=y;var g=function(){function w(N,j,k){var L,F;this.contentHeight=0,this.contentWidth=0,this.wrappedWidth=0,this.minReadableWidth=0,this.minWidth=0,this.width=0,this.height=0,this.x=0,this.y=0,this.styles=j,this.section=k,this.raw=N;var T=N;N!=null&&typeof N=="object"&&!Array.isArray(N)?(this.rowSpan=N.rowSpan||1,this.colSpan=N.colSpan||1,T=(F=(L=N.content)!==null&&L!==void 0?L:N.title)!==null&&F!==void 0?F:N,N._element&&(this.raw=N._element)):(this.rowSpan=1,this.colSpan=1);var C=T!=null?""+T:"",I=/\r\n|\r|\n/g;this.text=C.split(I)}return w.prototype.getTextPos=function(){var N;if(this.styles.valign==="top")N=this.y+this.padding("top");else if(this.styles.valign==="bottom")N=this.y+this.height-this.padding("bottom");else{var j=this.height-this.padding("vertical");N=this.y+j/2+this.padding("top")}var k;if(this.styles.halign==="right")k=this.x+this.width-this.padding("right");else if(this.styles.halign==="center"){var L=this.width-this.padding("horizontal");k=this.x+L/2+this.padding("left")}else k=this.x+this.padding("left");return{x:k,y:N}},w.prototype.getContentHeight=function(N,j){j===void 0&&(j=1.15);var k=Array.isArray(this.text)?this.text.length:1,L=this.styles.fontSize/N*j,F=k*L+this.padding("vertical");return Math.max(F,this.styles.minCellHeight)},w.prototype.padding=function(N){var j=(0,p.parseSpacing)(this.styles.cellPadding,0);return N==="vertical"?j.top+j.bottom:N==="horizontal"?j.left+j.right:j[N]},w}();d.Cell=g;var b=function(){function w(N,j,k){this.wrappedWidth=0,this.minReadableWidth=0,this.minWidth=0,this.width=0,this.dataKey=N,this.raw=j,this.index=k}return w.prototype.getMaxCustomCellWidth=function(N){for(var j=0,k=0,L=N.allRows();k<L.length;k++){var F=L[k],T=F.cells[this.index];T&&typeof T.styles.cellWidth=="number"&&(j=Math.max(j,T.styles.cellWidth))}return j},w}();d.Column=b},356:function(c,d){Object.defineProperty(d,"__esModule",{value:!0}),d.assign=void 0;function h(u,x,p,m,y){if(u==null)throw new TypeError("Cannot convert undefined or null to object");for(var g=Object(u),b=1;b<arguments.length;b++){var w=arguments[b];if(w!=null)for(var N in w)Object.prototype.hasOwnProperty.call(w,N)&&(g[N]=w[N])}return g}d.assign=h},972:function(c,d,h){Object.defineProperty(d,"__esModule",{value:!0}),d.createTable=void 0;var u=h(744),x=h(260),p=h(324),m=h(796),y=h(356);function g(F,T){var C=new u.DocHandler(F),I=b(T,C.scaleFactor()),D=new x.Table(T,I);return(0,p.calculateWidths)(C,D),C.applyStyles(C.userStyles),D}d.createTable=g;function b(F,T){var C=F.content,I=k(C.columns);if(C.head.length===0){var D=N(I,"head");D&&C.head.push(D)}if(C.foot.length===0){var D=N(I,"foot");D&&C.foot.push(D)}var E=F.settings.theme,P=F.styles;return{columns:I,head:w("head",C.head,I,P,E,T),body:w("body",C.body,I,P,E,T),foot:w("foot",C.foot,I,P,E,T)}}function w(F,T,C,I,D,E){var P={},W=T.map(function(z,ue){for(var Q=0,ee={},ie=0,ne=0,pe=0,ye=C;pe<ye.length;pe++){var _=ye[pe];if(P[_.index]==null||P[_.index].left===0)if(ne===0){var R=void 0;Array.isArray(z)?R=z[_.index-ie-Q]:R=z[_.dataKey];var M={};typeof R=="object"&&!Array.isArray(R)&&(M=(R==null?void 0:R.styles)||{});var B=L(F,_,ue,D,I,E,M),Y=new x.Cell(R,B,F);ee[_.dataKey]=Y,ee[_.index]=Y,ne=Y.colSpan-1,P[_.index]={left:Y.rowSpan-1,times:ne}}else ne--,ie++;else P[_.index].left--,ne=P[_.index].times,Q++}return new x.Row(z,ue,F,ee)});return W}function N(F,T){var C={};return F.forEach(function(I){if(I.raw!=null){var D=j(T,I.raw);D!=null&&(C[I.dataKey]=D)}}),Object.keys(C).length>0?C:null}function j(F,T){if(F==="head"){if(typeof T=="object")return T.header||T.title||null;if(typeof T=="string"||typeof T=="number")return T}else if(F==="foot"&&typeof T=="object")return T.footer;return null}function k(F){return F.map(function(T,C){var I,D,E;return typeof T=="object"?E=(D=(I=T.dataKey)!==null&&I!==void 0?I:T.key)!==null&&D!==void 0?D:C:E=C,new x.Column(E,T,C)})}function L(F,T,C,I,D,E,P){var W=(0,m.getTheme)(I),z;F==="head"?z=D.headStyles:F==="body"?z=D.bodyStyles:F==="foot"&&(z=D.footStyles);var ue=(0,y.assign)({},W.table,W[F],D.styles,z),Q=D.columnStyles[T.dataKey]||D.columnStyles[T.index]||{},ee=F==="body"?Q:{},ie=F==="body"&&C%2===0?(0,y.assign)({},W.alternateRow,D.alternateRowStyles):{},ne=(0,m.defaultStyles)(E),pe=(0,y.assign)({},ne,ue,ie,ee);return(0,y.assign)(pe,P)}},664:function(c,d,h){Object.defineProperty(d,"__esModule",{value:!0}),d.addPage=d.drawTable=void 0;var u=h(420),x=h(260),p=h(744),m=h(356),y=h(136),g=h(224);function b(Q,ee){var ie=ee.settings,ne=ie.startY,pe=ie.margin,ye={x:pe.left,y:ne},_=ee.getHeadHeight(ee.columns)+ee.getFootHeight(ee.columns),R=ne+pe.bottom+_;if(ie.pageBreak==="avoid"){var M=ee.body,B=M.reduce(function(ae,X){return ae+X.height},0);R+=B}var Y=new p.DocHandler(Q);(ie.pageBreak==="always"||ie.startY!=null&&R>Y.pageSize().height)&&(ue(Y),ye.y=pe.top),ee.callWillDrawPageHooks(Y,ye);var fe=(0,m.assign)({},ye);ee.startPageNumber=Y.pageNumber(),ie.horizontalPageBreak?w(Y,ee,fe,ye):(Y.applyStyles(Y.userStyles),(ie.showHead==="firstPage"||ie.showHead==="everyPage")&&ee.head.forEach(function(ae){return D(Y,ee,ae,ye,ee.columns)}),Y.applyStyles(Y.userStyles),ee.body.forEach(function(ae,X){var me=X===ee.body.length-1;I(Y,ee,ae,me,fe,ye,ee.columns)}),Y.applyStyles(Y.userStyles),(ie.showFoot==="lastPage"||ie.showFoot==="everyPage")&&ee.foot.forEach(function(ae){return D(Y,ee,ae,ye,ee.columns)})),(0,u.addTableBorder)(Y,ee,fe,ye),ee.callEndPageHooks(Y,ye),ee.finalY=ye.y,Q.lastAutoTable=ee,Q.previousAutoTable=ee,Q.autoTable&&(Q.autoTable.previous=ee),Y.applyStyles(Y.userStyles)}d.drawTable=b;function w(Q,ee,ie,ne){var pe=(0,g.calculateAllColumnsCanFitInPage)(Q,ee),ye=ee.settings;if(ye.horizontalPageBreakBehaviour==="afterAllRows")pe.forEach(function(B,Y){Q.applyStyles(Q.userStyles),Y>0?z(Q,ee,ie,ne,B.columns,!0):N(Q,ee,ne,B.columns),j(Q,ee,ie,ne,B.columns),L(Q,ee,ne,B.columns)});else for(var _=-1,R=pe[0],M=function(){var B=_;if(R){Q.applyStyles(Q.userStyles);var Y=R.columns;_>=0?z(Q,ee,ie,ne,Y,!0):N(Q,ee,ne,Y),B=k(Q,ee,_+1,ne,Y),L(Q,ee,ne,Y)}var fe=B-_;pe.slice(1).forEach(function(ae){Q.applyStyles(Q.userStyles),z(Q,ee,ie,ne,ae.columns,!0),k(Q,ee,_+1,ne,ae.columns,fe),L(Q,ee,ne,ae.columns)}),_=B};_<ee.body.length-1;)M()}function N(Q,ee,ie,ne){var pe=ee.settings;Q.applyStyles(Q.userStyles),(pe.showHead==="firstPage"||pe.showHead==="everyPage")&&ee.head.forEach(function(ye){return D(Q,ee,ye,ie,ne)})}function j(Q,ee,ie,ne,pe){Q.applyStyles(Q.userStyles),ee.body.forEach(function(ye,_){var R=_===ee.body.length-1;I(Q,ee,ye,R,ie,ne,pe)})}function k(Q,ee,ie,ne,pe,ye){Q.applyStyles(Q.userStyles),ye=ye??ee.body.length;var _=Math.min(ie+ye,ee.body.length),R=-1;return ee.body.slice(ie,_).forEach(function(M,B){var Y=ie+B===ee.body.length-1,fe=W(Q,ee,Y,ne);M.canEntireRowFit(fe,pe)&&(D(Q,ee,M,ne,pe),R=ie+B)}),R}function L(Q,ee,ie,ne){var pe=ee.settings;Q.applyStyles(Q.userStyles),(pe.showFoot==="lastPage"||pe.showFoot==="everyPage")&&ee.foot.forEach(function(ye){return D(Q,ee,ye,ie,ne)})}function F(Q,ee,ie){var ne=ie.getLineHeight(Q.styles.fontSize),pe=Q.padding("vertical"),ye=Math.floor((ee-pe)/ne);return Math.max(0,ye)}function T(Q,ee,ie,ne){var pe={};Q.spansMultiplePages=!0,Q.height=0;for(var ye=0,_=0,R=ie.columns;_<R.length;_++){var M=R[_],B=Q.cells[M.index];if(B){Array.isArray(B.text)||(B.text=[B.text]);var Y=new x.Cell(B.raw,B.styles,B.section);Y=(0,m.assign)(Y,B),Y.text=[];var fe=F(B,ee,ne);B.text.length>fe&&(Y.text=B.text.splice(fe,B.text.length));var ae=ne.scaleFactor(),X=ne.getLineHeightFactor();B.contentHeight=B.getContentHeight(ae,X),B.contentHeight>=ee&&(B.contentHeight=ee,Y.styles.minCellHeight-=ee),B.contentHeight>Q.height&&(Q.height=B.contentHeight),Y.contentHeight=Y.getContentHeight(ae,X),Y.contentHeight>ye&&(ye=Y.contentHeight),pe[M.index]=Y}}var me=new x.Row(Q.raw,-1,Q.section,pe,!0);me.height=ye;for(var Ne=0,De=ie.columns;Ne<De.length;Ne++){var M=De[Ne],Y=me.cells[M.index];Y&&(Y.height=me.height);var B=Q.cells[M.index];B&&(B.height=Q.height)}return me}function C(Q,ee,ie,ne){var pe=Q.pageSize().height,ye=ne.settings.margin,_=ye.top+ye.bottom,R=pe-_;ee.section==="body"&&(R-=ne.getHeadHeight(ne.columns)+ne.getFootHeight(ne.columns));var M=ee.getMinimumRowHeight(ne.columns,Q),B=M<ie;if(M>R)return console.error("Will not be able to print row ".concat(ee.index," correctly since it's minimum height is larger than page height")),!0;if(!B)return!1;var Y=ee.hasRowSpan(ne.columns),fe=ee.getMaxCellHeight(ne.columns)>R;return fe?(Y&&console.error("The content of row ".concat(ee.index," will not be drawn correctly since drawing rows with a height larger than the page height and has cells with rowspans is not supported.")),!0):!(Y||ne.settings.rowPageBreak==="avoid")}function I(Q,ee,ie,ne,pe,ye,_){var R=W(Q,ee,ne,ye);if(ie.canEntireRowFit(R,_))D(Q,ee,ie,ye,_);else if(C(Q,ie,R,ee)){var M=T(ie,R,ee,Q);D(Q,ee,ie,ye,_),z(Q,ee,pe,ye,_),I(Q,ee,M,ne,pe,ye,_)}else z(Q,ee,pe,ye,_),I(Q,ee,ie,ne,pe,ye,_)}function D(Q,ee,ie,ne,pe){ne.x=ee.settings.margin.left;for(var ye=0,_=pe;ye<_.length;ye++){var R=_[ye],M=ie.cells[R.index];if(!M){ne.x+=R.width;continue}Q.applyStyles(M.styles),M.x=ne.x,M.y=ne.y;var B=ee.callCellHooks(Q,ee.hooks.willDrawCell,M,ie,R,ne);if(B===!1){ne.x+=R.width;continue}E(Q,M,ne);var Y=M.getTextPos();(0,y.default)(M.text,Y.x,Y.y,{halign:M.styles.halign,valign:M.styles.valign,maxWidth:Math.ceil(M.width-M.padding("left")-M.padding("right"))},Q.getDocument()),ee.callCellHooks(Q,ee.hooks.didDrawCell,M,ie,R,ne),ne.x+=R.width}ne.y+=ie.height}function E(Q,ee,ie){var ne=ee.styles;if(Q.getDocument().setFillColor(Q.getDocument().getFillColor()),typeof ne.lineWidth=="number"){var pe=(0,u.getFillStyle)(ne.lineWidth,ne.fillColor);pe&&Q.rect(ee.x,ie.y,ee.width,ee.height,pe)}else typeof ne.lineWidth=="object"&&(ne.fillColor&&Q.rect(ee.x,ie.y,ee.width,ee.height,"F"),P(Q,ee,ie,ne.lineWidth))}function P(Q,ee,ie,ne){var pe,ye,_,R;ne.top&&(pe=ie.x,ye=ie.y,_=ie.x+ee.width,R=ie.y,ne.right&&(_+=.5*ne.right),ne.left&&(pe-=.5*ne.left),M(ne.top,pe,ye,_,R)),ne.bottom&&(pe=ie.x,ye=ie.y+ee.height,_=ie.x+ee.width,R=ie.y+ee.height,ne.right&&(_+=.5*ne.right),ne.left&&(pe-=.5*ne.left),M(ne.bottom,pe,ye,_,R)),ne.left&&(pe=ie.x,ye=ie.y,_=ie.x,R=ie.y+ee.height,ne.top&&(ye-=.5*ne.top),ne.bottom&&(R+=.5*ne.bottom),M(ne.left,pe,ye,_,R)),ne.right&&(pe=ie.x+ee.width,ye=ie.y,_=ie.x+ee.width,R=ie.y+ee.height,ne.top&&(ye-=.5*ne.top),ne.bottom&&(R+=.5*ne.bottom),M(ne.right,pe,ye,_,R));function M(B,Y,fe,ae,X){Q.getDocument().setLineWidth(B),Q.getDocument().line(Y,fe,ae,X,"S")}}function W(Q,ee,ie,ne){var pe=ee.settings.margin.bottom,ye=ee.settings.showFoot;return(ye==="everyPage"||ye==="lastPage"&&ie)&&(pe+=ee.getFootHeight(ee.columns)),Q.pageSize().height-ne.y-pe}function z(Q,ee,ie,ne,pe,ye){pe===void 0&&(pe=[]),ye===void 0&&(ye=!1),Q.applyStyles(Q.userStyles),ee.settings.showFoot==="everyPage"&&!ye&&ee.foot.forEach(function(R){return D(Q,ee,R,ne,pe)}),ee.callEndPageHooks(Q,ne);var _=ee.settings.margin;(0,u.addTableBorder)(Q,ee,ie,ne),ue(Q),ee.pageNumber++,ee.pageCount++,ne.x=_.left,ne.y=_.top,ie.y=_.top,ee.callWillDrawPageHooks(Q,ne),ee.settings.showHead==="everyPage"&&(ee.head.forEach(function(R){return D(Q,ee,R,ne,pe)}),Q.applyStyles(Q.userStyles))}d.addPage=z;function ue(Q){var ee=Q.pageNumber();Q.setPage(ee+1);var ie=Q.pageNumber();return ie===ee?(Q.addPage(),!0):!1}},224:function(c,d,h){Object.defineProperty(d,"__esModule",{value:!0}),d.calculateAllColumnsCanFitInPage=void 0;var u=h(420);function x(m,y,g){var b;g===void 0&&(g={});var w=(0,u.getPageAvailableWidth)(m,y),N=new Map,j=[],k=[],L=[];y.settings.horizontalPageBreakRepeat,Array.isArray(y.settings.horizontalPageBreakRepeat)?L=y.settings.horizontalPageBreakRepeat:(typeof y.settings.horizontalPageBreakRepeat=="string"||typeof y.settings.horizontalPageBreakRepeat=="number")&&(L=[y.settings.horizontalPageBreakRepeat]),L.forEach(function(I){var D=y.columns.find(function(E){return E.dataKey===I||E.index===I});D&&!N.has(D.index)&&(N.set(D.index,!0),j.push(D.index),k.push(y.columns[D.index]),w-=D.wrappedWidth)});for(var F=!0,T=(b=g==null?void 0:g.start)!==null&&b!==void 0?b:0;T<y.columns.length;){if(N.has(T)){T++;continue}var C=y.columns[T].wrappedWidth;if(F||w>=C)F=!1,j.push(T),k.push(y.columns[T]),w-=C;else break;T++}return{colIndexes:j,columns:k,lastIndex:T-1}}function p(m,y){for(var g=[],b=0;b<y.columns.length;b++){var w=x(m,y,{start:b});w.columns.length&&(g.push(w),b=w.lastIndex)}return g}d.calculateAllColumnsCanFitInPage=p},324:function(c,d,h){Object.defineProperty(d,"__esModule",{value:!0}),d.ellipsize=d.resizeColumns=d.calculateWidths=void 0;var u=h(420);function x(j,k){p(j,k);var L=[],F=0;k.columns.forEach(function(C){var I=C.getMaxCustomCellWidth(k);I?C.width=I:(C.width=C.wrappedWidth,L.push(C)),F+=C.width});var T=k.getWidth(j.pageSize().width)-F;T&&(T=m(L,T,function(C){return Math.max(C.minReadableWidth,C.minWidth)})),T&&(T=m(L,T,function(C){return C.minWidth})),T=Math.abs(T),!k.settings.horizontalPageBreak&&T>.1/j.scaleFactor()&&(T=T<1?T:Math.round(T),console.warn("Of the table content, ".concat(T," units width could not fit page"))),g(k),b(k,j),y(k)}d.calculateWidths=x;function p(j,k){var L=j.scaleFactor(),F=k.settings.horizontalPageBreak,T=(0,u.getPageAvailableWidth)(j,k);k.allRows().forEach(function(C){for(var I=0,D=k.columns;I<D.length;I++){var E=D[I],P=C.cells[E.index];if(P){var W=k.hooks.didParseCell;k.callCellHooks(j,W,P,C,E,null);var z=P.padding("horizontal");P.contentWidth=(0,u.getStringWidth)(P.text,P.styles,j)+z;var ue=(0,u.getStringWidth)(P.text.join(" ").split(/[^\S\u00A0]+/),P.styles,j);if(P.minReadableWidth=ue+P.padding("horizontal"),typeof P.styles.cellWidth=="number")P.minWidth=P.styles.cellWidth,P.wrappedWidth=P.styles.cellWidth;else if(P.styles.cellWidth==="wrap"||F===!0)P.contentWidth>T?(P.minWidth=T,P.wrappedWidth=T):(P.minWidth=P.contentWidth,P.wrappedWidth=P.contentWidth);else{var Q=10/L;P.minWidth=P.styles.minCellWidth||Q,P.wrappedWidth=P.contentWidth,P.minWidth>P.wrappedWidth&&(P.wrappedWidth=P.minWidth)}}}}),k.allRows().forEach(function(C){for(var I=0,D=k.columns;I<D.length;I++){var E=D[I],P=C.cells[E.index];if(P&&P.colSpan===1)E.wrappedWidth=Math.max(E.wrappedWidth,P.wrappedWidth),E.minWidth=Math.max(E.minWidth,P.minWidth),E.minReadableWidth=Math.max(E.minReadableWidth,P.minReadableWidth);else{var W=k.styles.columnStyles[E.dataKey]||k.styles.columnStyles[E.index]||{},z=W.cellWidth||W.minCellWidth;z&&typeof z=="number"&&(E.minWidth=z,E.wrappedWidth=z)}P&&(P.colSpan>1&&!E.minWidth&&(E.minWidth=P.minWidth),P.colSpan>1&&!E.wrappedWidth&&(E.wrappedWidth=P.minWidth))}})}function m(j,k,L){for(var F=k,T=j.reduce(function(Q,ee){return Q+ee.wrappedWidth},0),C=0;C<j.length;C++){var I=j[C],D=I.wrappedWidth/T,E=F*D,P=I.width+E,W=L(I),z=P<W?W:P;k-=z-I.width,I.width=z}if(k=Math.round(k*1e10)/1e10,k){var ue=j.filter(function(Q){return k<0?Q.width>L(Q):!0});ue.length&&(k=m(ue,k,L))}return k}d.resizeColumns=m;function y(j){for(var k={},L=1,F=j.allRows(),T=0;T<F.length;T++)for(var C=F[T],I=0,D=j.columns;I<D.length;I++){var E=D[I],P=k[E.index];if(L>1)L--,delete C.cells[E.index];else if(P)P.cell.height+=C.height,L=P.cell.colSpan,delete C.cells[E.index],P.left--,P.left<=1&&delete k[E.index];else{var W=C.cells[E.index];if(!W)continue;if(W.height=C.height,W.rowSpan>1){var z=F.length-T,ue=W.rowSpan>z?z:W.rowSpan;k[E.index]={cell:W,left:ue,row:C}}}}}function g(j){for(var k=j.allRows(),L=0;L<k.length;L++)for(var F=k[L],T=null,C=0,I=0,D=0;D<j.columns.length;D++){var E=j.columns[D];if(I-=1,I>1&&j.columns[D+1])C+=E.width,delete F.cells[E.index];else if(T){var P=T;delete F.cells[E.index],T=null,P.width=E.width+C}else{var P=F.cells[E.index];if(!P)continue;if(I=P.colSpan,C=0,P.colSpan>1){T=P,C+=E.width;continue}P.width=E.width+C}}}function b(j,k){for(var L={count:0,height:0},F=0,T=j.allRows();F<T.length;F++){for(var C=T[F],I=0,D=j.columns;I<D.length;I++){var E=D[I],P=C.cells[E.index];if(P){k.applyStyles(P.styles,!0);var W=P.width-P.padding("horizontal");if(P.styles.overflow==="linebreak")P.text=k.splitTextToSize(P.text,W+1/k.scaleFactor(),{fontSize:P.styles.fontSize});else if(P.styles.overflow==="ellipsize")P.text=w(P.text,W,P.styles,k,"...");else if(P.styles.overflow==="hidden")P.text=w(P.text,W,P.styles,k,"");else if(typeof P.styles.overflow=="function"){var z=P.styles.overflow(P.text,W);typeof z=="string"?P.text=[z]:P.text=z}P.contentHeight=P.getContentHeight(k.scaleFactor(),k.getLineHeightFactor());var ue=P.contentHeight/P.rowSpan;P.rowSpan>1&&L.count*L.height<ue*P.rowSpan?L={height:ue,count:P.rowSpan}:L&&L.count>0&&L.height>ue&&(ue=L.height),ue>C.height&&(C.height=ue)}}L.count--}}function w(j,k,L,F,T){return j.map(function(C){return N(C,k,L,F,T)})}d.ellipsize=w;function N(j,k,L,F,T){var C=1e4*F.scaleFactor();if(k=Math.ceil(k*C)/C,k>=(0,u.getStringWidth)(j,L,F))return j;for(;k<(0,u.getStringWidth)(j+T,L,F)&&!(j.length<=1);)j=j.substring(0,j.length-1);return j.trim()+T}},964:function(c){if(typeof r>"u"){var d=new Error("Cannot find module 'undefined'");throw d.code="MODULE_NOT_FOUND",d}c.exports=r}},n={};function o(c){var d=n[c];if(d!==void 0)return d.exports;var h=n[c]={exports:{}};return a[c].call(h.exports,h,h.exports,o),h.exports}var l={};return function(){var c=l;Object.defineProperty(c,"__esModule",{value:!0}),c.Cell=c.Column=c.Row=c.Table=c.CellHookData=c.__drawTable=c.__createTable=c.applyPlugin=void 0;var d=o(340),h=o(776),u=o(664),x=o(972),p=o(260);Object.defineProperty(c,"Table",{enumerable:!0,get:function(){return p.Table}});var m=o(172);Object.defineProperty(c,"CellHookData",{enumerable:!0,get:function(){return m.CellHookData}});var y=o(260);Object.defineProperty(c,"Cell",{enumerable:!0,get:function(){return y.Cell}}),Object.defineProperty(c,"Column",{enumerable:!0,get:function(){return y.Column}}),Object.defineProperty(c,"Row",{enumerable:!0,get:function(){return y.Row}});function g(k){(0,d.default)(k)}c.applyPlugin=g;function b(k,L){var F=(0,h.parseInput)(k,L),T=(0,x.createTable)(k,F);(0,u.drawTable)(k,T)}function w(k,L){var F=(0,h.parseInput)(k,L);return(0,x.createTable)(k,F)}c.__createTable=w;function N(k,L){(0,u.drawTable)(k,L)}c.__drawTable=N;try{var j=o(964);j.jsPDF&&(j=j.jsPDF),g(j)}catch{}c.default=b}(),l}()})})(U2);/*! xlsx.js (C) 2013-present SheetJS -- http://sheetjs.com */var Oc={};Oc.version="0.18.5";var om=1252,W2=[874,932,936,949,950,1250,1251,1252,1253,1254,1255,1256,1257,1258,1e4],lm=function(t){W2.indexOf(t)!=-1&&(om=t)};function q2(){lm(1252)}var sl=function(t){lm(t)};function z2(){sl(1200),q2()}var gc=function(s){return String.fromCharCode(s)},ku=function(s){return String.fromCharCode(s)},Dc,_n="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=";function al(t){for(var s="",r=0,a=0,n=0,o=0,l=0,c=0,d=0,h=0;h<t.length;)r=t.charCodeAt(h++),o=r>>2,a=t.charCodeAt(h++),l=(r&3)<<4|a>>4,n=t.charCodeAt(h++),c=(a&15)<<2|n>>6,d=n&63,isNaN(a)?c=d=64:isNaN(n)&&(d=64),s+=_n.charAt(o)+_n.charAt(l)+_n.charAt(c)+_n.charAt(d);return s}function sn(t){var s="",r=0,a=0,n=0,o=0,l=0,c=0,d=0;t=t.replace(/[^\w\+\/\=]/g,"");for(var h=0;h<t.length;)o=_n.indexOf(t.charAt(h++)),l=_n.indexOf(t.charAt(h++)),r=o<<2|l>>4,s+=String.fromCharCode(r),c=_n.indexOf(t.charAt(h++)),a=(l&15)<<4|c>>2,c!==64&&(s+=String.fromCharCode(a)),d=_n.indexOf(t.charAt(h++)),n=(c&3)<<6|d,d!==64&&(s+=String.fromCharCode(n));return s}var zt=function(){return typeof Buffer<"u"&&typeof process<"u"&&typeof process.versions<"u"&&!!process.versions.node}(),nn=function(){if(typeof Buffer<"u"){var t=!Buffer.from;if(!t)try{Buffer.from("foo","utf8")}catch{t=!0}return t?function(s,r){return r?new Buffer(s,r):new Buffer(s)}:Buffer.from.bind(Buffer)}return function(){}}();function ai(t){return zt?Buffer.alloc?Buffer.alloc(t):new Buffer(t):typeof Uint8Array<"u"?new Uint8Array(t):new Array(t)}function Au(t){return zt?Buffer.allocUnsafe?Buffer.allocUnsafe(t):new Buffer(t):typeof Uint8Array<"u"?new Uint8Array(t):new Array(t)}var ya=function(s){return zt?nn(s,"binary"):s.split("").map(function(r){return r.charCodeAt(0)&255})};function ed(t){if(typeof ArrayBuffer>"u")return ya(t);for(var s=new ArrayBuffer(t.length),r=new Uint8Array(s),a=0;a!=t.length;++a)r[a]=t.charCodeAt(a)&255;return s}function dl(t){if(Array.isArray(t))return t.map(function(a){return String.fromCharCode(a)}).join("");for(var s=[],r=0;r<t.length;++r)s[r]=String.fromCharCode(t[r]);return s.join("")}function V2(t){if(typeof Uint8Array>"u")throw new Error("Unsupported");return new Uint8Array(t)}var Zr=zt?function(t){return Buffer.concat(t.map(function(s){return Buffer.isBuffer(s)?s:nn(s)}))}:function(t){if(typeof Uint8Array<"u"){var s=0,r=0;for(s=0;s<t.length;++s)r+=t[s].length;var a=new Uint8Array(r),n=0;for(s=0,r=0;s<t.length;r+=n,++s)if(n=t[s].length,t[s]instanceof Uint8Array)a.set(t[s],r);else{if(typeof t[s]=="string")throw"wtf";a.set(new Uint8Array(t[s]),r)}return a}return[].concat.apply([],t.map(function(o){return Array.isArray(o)?o:[].slice.call(o)}))};function $2(t){for(var s=[],r=0,a=t.length+250,n=ai(t.length+255),o=0;o<t.length;++o){var l=t.charCodeAt(o);if(l<128)n[r++]=l;else if(l<2048)n[r++]=192|l>>6&31,n[r++]=128|l&63;else if(l>=55296&&l<57344){l=(l&1023)+64;var c=t.charCodeAt(++o)&1023;n[r++]=240|l>>8&7,n[r++]=128|l>>2&63,n[r++]=128|c>>6&15|(l&3)<<4,n[r++]=128|c&63}else n[r++]=224|l>>12&15,n[r++]=128|l>>6&63,n[r++]=128|l&63;r>a&&(s.push(n.slice(0,r)),r=0,n=ai(65535),a=65530)}return s.push(n.slice(0,r)),Zr(s)}var Ko=/\u0000/g,vc=/[\u0001-\u0006]/g;function Ki(t){for(var s="",r=t.length-1;r>=0;)s+=t.charAt(r--);return s}function ba(t,s){var r=""+t;return r.length>=s?r:wr("0",s-r.length)+r}function Y0(t,s){var r=""+t;return r.length>=s?r:wr(" ",s-r.length)+r}function Ic(t,s){var r=""+t;return r.length>=s?r:r+wr(" ",s-r.length)}function G2(t,s){var r=""+Math.round(t);return r.length>=s?r:wr("0",s-r.length)+r}function Y2(t,s){var r=""+t;return r.length>=s?r:wr("0",s-r.length)+r}var _u=Math.pow(2,32);function Bi(t,s){if(t>_u||t<-_u)return G2(t,s);var r=Math.round(t);return Y2(r,s)}function Rc(t,s){return s=s||0,t.length>=7+s&&(t.charCodeAt(s)|32)===103&&(t.charCodeAt(s+1)|32)===101&&(t.charCodeAt(s+2)|32)===110&&(t.charCodeAt(s+3)|32)===101&&(t.charCodeAt(s+4)|32)===114&&(t.charCodeAt(s+5)|32)===97&&(t.charCodeAt(s+6)|32)===108}var Cu=[["Sun","Sunday"],["Mon","Monday"],["Tue","Tuesday"],["Wed","Wednesday"],["Thu","Thursday"],["Fri","Friday"],["Sat","Saturday"]],o0=[["J","Jan","January"],["F","Feb","February"],["M","Mar","March"],["A","Apr","April"],["M","May","May"],["J","Jun","June"],["J","Jul","July"],["A","Aug","August"],["S","Sep","September"],["O","Oct","October"],["N","Nov","November"],["D","Dec","December"]];function K2(t){return t||(t={}),t[0]="General",t[1]="0",t[2]="0.00",t[3]="#,##0",t[4]="#,##0.00",t[9]="0%",t[10]="0.00%",t[11]="0.00E+00",t[12]="# ?/?",t[13]="# ??/??",t[14]="m/d/yy",t[15]="d-mmm-yy",t[16]="d-mmm",t[17]="mmm-yy",t[18]="h:mm AM/PM",t[19]="h:mm:ss AM/PM",t[20]="h:mm",t[21]="h:mm:ss",t[22]="m/d/yy h:mm",t[37]="#,##0 ;(#,##0)",t[38]="#,##0 ;[Red](#,##0)",t[39]="#,##0.00;(#,##0.00)",t[40]="#,##0.00;[Red](#,##0.00)",t[45]="mm:ss",t[46]="[h]:mm:ss",t[47]="mmss.0",t[48]="##0.0E+0",t[49]="@",t[56]='"ä¸Šåˆ/ä¸‹åˆ "hh"æ™‚"mm"åˆ†"ss"ç§’ "',t}var Nr={0:"General",1:"0",2:"0.00",3:"#,##0",4:"#,##0.00",9:"0%",10:"0.00%",11:"0.00E+00",12:"# ?/?",13:"# ??/??",14:"m/d/yy",15:"d-mmm-yy",16:"d-mmm",17:"mmm-yy",18:"h:mm AM/PM",19:"h:mm:ss AM/PM",20:"h:mm",21:"h:mm:ss",22:"m/d/yy h:mm",37:"#,##0 ;(#,##0)",38:"#,##0 ;[Red](#,##0)",39:"#,##0.00;(#,##0.00)",40:"#,##0.00;[Red](#,##0.00)",45:"mm:ss",46:"[h]:mm:ss",47:"mmss.0",48:"##0.0E+0",49:"@",56:'"ä¸Šåˆ/ä¸‹åˆ "hh"æ™‚"mm"åˆ†"ss"ç§’ "'},Tu={5:37,6:38,7:39,8:40,23:0,24:0,25:0,26:0,27:14,28:14,29:14,30:14,31:14,50:14,51:14,52:14,53:14,54:14,55:14,56:14,57:14,58:14,59:1,60:2,61:3,62:4,67:9,68:10,69:12,70:13,71:14,72:14,73:15,74:16,75:17,76:20,77:21,78:22,79:45,80:46,81:47,82:0},X2={5:'"$"#,##0_);\\("$"#,##0\\)',63:'"$"#,##0_);\\("$"#,##0\\)',6:'"$"#,##0_);[Red]\\("$"#,##0\\)',64:'"$"#,##0_);[Red]\\("$"#,##0\\)',7:'"$"#,##0.00_);\\("$"#,##0.00\\)',65:'"$"#,##0.00_);\\("$"#,##0.00\\)',8:'"$"#,##0.00_);[Red]\\("$"#,##0.00\\)',66:'"$"#,##0.00_);[Red]\\("$"#,##0.00\\)',41:'_(* #,##0_);_(* \\(#,##0\\);_(* "-"_);_(@_)',42:'_("$"* #,##0_);_("$"* \\(#,##0\\);_("$"* "-"_);_(@_)',43:'_(* #,##0.00_);_(* \\(#,##0.00\\);_(* "-"??_);_(@_)',44:'_("$"* #,##0.00_);_("$"* \\(#,##0.00\\);_("$"* "-"??_);_(@_)'};function Mc(t,s,r){for(var a=t<0?-1:1,n=t*a,o=0,l=1,c=0,d=1,h=0,u=0,x=Math.floor(n);h<s&&(x=Math.floor(n),c=x*l+o,u=x*h+d,!(n-x<5e-8));)n=1/(n-x),o=l,l=c,d=h,h=u;if(u>s&&(h>s?(u=d,c=o):(u=h,c=l)),!r)return[0,a*c,u];var p=Math.floor(a*c/u);return[p,a*c-p*u,u]}function yc(t,s,r){if(t>2958465||t<0)return null;var a=t|0,n=Math.floor(86400*(t-a)),o=0,l=[],c={D:a,T:n,u:86400*(t-a)-n,y:0,m:0,d:0,H:0,M:0,S:0,q:0};if(Math.abs(c.u)<1e-6&&(c.u=0),s&&s.date1904&&(a+=1462),c.u>.9999&&(c.u=0,++n==86400&&(c.T=n=0,++a,++c.D)),a===60)l=r?[1317,10,29]:[1900,2,29],o=3;else if(a===0)l=r?[1317,8,29]:[1900,1,0],o=6;else{a>60&&--a;var d=new Date(1900,0,1);d.setDate(d.getDate()+a-1),l=[d.getFullYear(),d.getMonth()+1,d.getDate()],o=d.getDay(),a<60&&(o=(o+6)%7),r&&(o=sv(d,l))}return c.y=l[0],c.m=l[1],c.d=l[2],c.S=n%60,n=Math.floor(n/60),c.M=n%60,n=Math.floor(n/60),c.H=n,c.q=o,c}var cm=new Date(1899,11,31,0,0,0),J2=cm.getTime(),Q2=new Date(1900,2,1,0,0,0);function dm(t,s){var r=t.getTime();return s?r-=1461*24*60*60*1e3:t>=Q2&&(r+=24*60*60*1e3),(r-(J2+(t.getTimezoneOffset()-cm.getTimezoneOffset())*6e4))/(24*60*60*1e3)}function K0(t){return t.indexOf(".")==-1?t:t.replace(/(?:\.0*|(\.\d*[1-9])0+)$/,"$1")}function Z2(t){return t.indexOf("E")==-1?t:t.replace(/(?:\.0*|(\.\d*[1-9])0+)[Ee]/,"$1E").replace(/(E[+-])(\d)$/,"$10$2")}function ev(t){var s=t<0?12:11,r=K0(t.toFixed(12));return r.length<=s||(r=t.toPrecision(10),r.length<=s)?r:t.toExponential(5)}function tv(t){var s=K0(t.toFixed(11));return s.length>(t<0?12:11)||s==="0"||s==="-0"?t.toPrecision(6):s}function rv(t){var s=Math.floor(Math.log(Math.abs(t))*Math.LOG10E),r;return s>=-4&&s<=-1?r=t.toPrecision(10+s):Math.abs(s)<=9?r=ev(t):s===10?r=t.toFixed(10).substr(0,12):r=tv(t),K0(Z2(r.toUpperCase()))}function O0(t,s){switch(typeof t){case"string":return t;case"boolean":return t?"TRUE":"FALSE";case"number":return(t|0)===t?t.toString(10):rv(t);case"undefined":return"";case"object":if(t==null)return"";if(t instanceof Date)return Ln(14,dm(t,s&&s.date1904),s)}throw new Error("unsupported value in General format: "+t)}function sv(t,s){s[0]-=581;var r=t.getDay();return t<60&&(r=(r+6)%7),r}function av(t,s,r,a){var n="",o=0,l=0,c=r.y,d,h=0;switch(t){case 98:c=r.y+543;case 121:switch(s.length){case 1:case 2:d=c%100,h=2;break;default:d=c%1e4,h=4;break}break;case 109:switch(s.length){case 1:case 2:d=r.m,h=s.length;break;case 3:return o0[r.m-1][1];case 5:return o0[r.m-1][0];default:return o0[r.m-1][2]}break;case 100:switch(s.length){case 1:case 2:d=r.d,h=s.length;break;case 3:return Cu[r.q][0];default:return Cu[r.q][1]}break;case 104:switch(s.length){case 1:case 2:d=1+(r.H+11)%12,h=s.length;break;default:throw"bad hour format: "+s}break;case 72:switch(s.length){case 1:case 2:d=r.H,h=s.length;break;default:throw"bad hour format: "+s}break;case 77:switch(s.length){case 1:case 2:d=r.M,h=s.length;break;default:throw"bad minute format: "+s}break;case 115:if(s!="s"&&s!="ss"&&s!=".0"&&s!=".00"&&s!=".000")throw"bad second format: "+s;return r.u===0&&(s=="s"||s=="ss")?ba(r.S,s.length):(a>=2?l=a===3?1e3:100:l=a===1?10:1,o=Math.round(l*(r.S+r.u)),o>=60*l&&(o=0),s==="s"?o===0?"0":""+o/l:(n=ba(o,2+a),s==="ss"?n.substr(0,2):"."+n.substr(2,s.length-1)));case 90:switch(s){case"[h]":case"[hh]":d=r.D*24+r.H;break;case"[m]":case"[mm]":d=(r.D*24+r.H)*60+r.M;break;case"[s]":case"[ss]":d=((r.D*24+r.H)*60+r.M)*60+Math.round(r.S+r.u);break;default:throw"bad abstime format: "+s}h=s.length===3?1:2;break;case 101:d=c,h=1;break}var u=h>0?ba(d,h):"";return u}function Cn(t){var s=3;if(t.length<=s)return t;for(var r=t.length%s,a=t.substr(0,r);r!=t.length;r+=s)a+=(a.length>0?",":"")+t.substr(r,s);return a}var hm=/%/g;function nv(t,s,r){var a=s.replace(hm,""),n=s.length-a.length;return en(t,a,r*Math.pow(10,2*n))+wr("%",n)}function iv(t,s,r){for(var a=s.length-1;s.charCodeAt(a-1)===44;)--a;return en(t,s.substr(0,a),r/Math.pow(10,3*(s.length-a)))}function um(t,s){var r,a=t.indexOf("E")-t.indexOf(".")-1;if(t.match(/^#+0.0E\+0$/)){if(s==0)return"0.0E+0";if(s<0)return"-"+um(t,-s);var n=t.indexOf(".");n===-1&&(n=t.indexOf("E"));var o=Math.floor(Math.log(s)*Math.LOG10E)%n;if(o<0&&(o+=n),r=(s/Math.pow(10,o)).toPrecision(a+1+(n+o)%n),r.indexOf("e")===-1){var l=Math.floor(Math.log(s)*Math.LOG10E);for(r.indexOf(".")===-1?r=r.charAt(0)+"."+r.substr(1)+"E+"+(l-r.length+o):r+="E+"+(l-o);r.substr(0,2)==="0.";)r=r.charAt(0)+r.substr(2,n)+"."+r.substr(2+n),r=r.replace(/^0+([1-9])/,"$1").replace(/^0+\./,"0.");r=r.replace(/\+-/,"-")}r=r.replace(/^([+-]?)(\d*)\.(\d*)[Ee]/,function(c,d,h,u){return d+h+u.substr(0,(n+o)%n)+"."+u.substr(o)+"E"})}else r=s.toExponential(a);return t.match(/E\+00$/)&&r.match(/e[+-]\d$/)&&(r=r.substr(0,r.length-1)+"0"+r.charAt(r.length-1)),t.match(/E\-/)&&r.match(/e\+/)&&(r=r.replace(/e\+/,"e")),r.replace("e","E")}var fm=/# (\?+)( ?)\/( ?)(\d+)/;function ov(t,s,r){var a=parseInt(t[4],10),n=Math.round(s*a),o=Math.floor(n/a),l=n-o*a,c=a;return r+(o===0?"":""+o)+" "+(l===0?wr(" ",t[1].length+1+t[4].length):Y0(l,t[1].length)+t[2]+"/"+t[3]+ba(c,t[4].length))}function lv(t,s,r){return r+(s===0?"":""+s)+wr(" ",t[1].length+2+t[4].length)}var mm=/^#*0*\.([0#]+)/,xm=/\).*[0#]/,pm=/\(###\) ###\\?-####/;function gs(t){for(var s="",r,a=0;a!=t.length;++a)switch(r=t.charCodeAt(a)){case 35:break;case 63:s+=" ";break;case 48:s+="0";break;default:s+=String.fromCharCode(r)}return s}function Eu(t,s){var r=Math.pow(10,s);return""+Math.round(t*r)/r}function Pu(t,s){var r=t-Math.floor(t),a=Math.pow(10,s);return s<(""+Math.round(r*a)).length?0:Math.round(r*a)}function cv(t,s){return s<(""+Math.round((t-Math.floor(t))*Math.pow(10,s))).length?1:0}function dv(t){return t<2147483647&&t>-2147483648?""+(t>=0?t|0:t-1|0):""+Math.floor(t)}function sa(t,s,r){if(t.charCodeAt(0)===40&&!s.match(xm)){var a=s.replace(/\( */,"").replace(/ \)/,"").replace(/\)/,"");return r>=0?sa("n",a,r):"("+sa("n",a,-r)+")"}if(s.charCodeAt(s.length-1)===44)return iv(t,s,r);if(s.indexOf("%")!==-1)return nv(t,s,r);if(s.indexOf("E")!==-1)return um(s,r);if(s.charCodeAt(0)===36)return"$"+sa(t,s.substr(s.charAt(1)==" "?2:1),r);var n,o,l,c,d=Math.abs(r),h=r<0?"-":"";if(s.match(/^00+$/))return h+Bi(d,s.length);if(s.match(/^[#?]+$/))return n=Bi(r,0),n==="0"&&(n=""),n.length>s.length?n:gs(s.substr(0,s.length-n.length))+n;if(o=s.match(fm))return ov(o,d,h);if(s.match(/^#+0+$/))return h+Bi(d,s.length-s.indexOf("0"));if(o=s.match(mm))return n=Eu(r,o[1].length).replace(/^([^\.]+)$/,"$1."+gs(o[1])).replace(/\.$/,"."+gs(o[1])).replace(/\.(\d*)$/,function(y,g){return"."+g+wr("0",gs(o[1]).length-g.length)}),s.indexOf("0.")!==-1?n:n.replace(/^0\./,".");if(s=s.replace(/^#+([0.])/,"$1"),o=s.match(/^(0*)\.(#*)$/))return h+Eu(d,o[2].length).replace(/\.(\d*[1-9])0*$/,".$1").replace(/^(-?\d*)$/,"$1.").replace(/^0\./,o[1].length?"0.":".");if(o=s.match(/^#{1,3},##0(\.?)$/))return h+Cn(Bi(d,0));if(o=s.match(/^#,##0\.([#0]*0)$/))return r<0?"-"+sa(t,s,-r):Cn(""+(Math.floor(r)+cv(r,o[1].length)))+"."+ba(Pu(r,o[1].length),o[1].length);if(o=s.match(/^#,#*,#0/))return sa(t,s.replace(/^#,#*,/,""),r);if(o=s.match(/^([0#]+)(\\?-([0#]+))+$/))return n=Ki(sa(t,s.replace(/[\\-]/g,""),r)),l=0,Ki(Ki(s.replace(/\\/g,"")).replace(/[0#]/g,function(y){return l<n.length?n.charAt(l++):y==="0"?"0":""}));if(s.match(pm))return n=sa(t,"##########",r),"("+n.substr(0,3)+") "+n.substr(3,3)+"-"+n.substr(6);var u="";if(o=s.match(/^([#0?]+)( ?)\/( ?)([#0?]+)/))return l=Math.min(o[4].length,7),c=Mc(d,Math.pow(10,l)-1,!1),n=""+h,u=en("n",o[1],c[1]),u.charAt(u.length-1)==" "&&(u=u.substr(0,u.length-1)+"0"),n+=u+o[2]+"/"+o[3],u=Ic(c[2],l),u.length<o[4].length&&(u=gs(o[4].substr(o[4].length-u.length))+u),n+=u,n;if(o=s.match(/^# ([#0?]+)( ?)\/( ?)([#0?]+)/))return l=Math.min(Math.max(o[1].length,o[4].length),7),c=Mc(d,Math.pow(10,l)-1,!0),h+(c[0]||(c[1]?"":"0"))+" "+(c[1]?Y0(c[1],l)+o[2]+"/"+o[3]+Ic(c[2],l):wr(" ",2*l+1+o[2].length+o[3].length));if(o=s.match(/^[#0?]+$/))return n=Bi(r,0),s.length<=n.length?n:gs(s.substr(0,s.length-n.length))+n;if(o=s.match(/^([#0?]+)\.([#0]+)$/)){n=""+r.toFixed(Math.min(o[2].length,10)).replace(/([^0])0+$/,"$1"),l=n.indexOf(".");var x=s.indexOf(".")-l,p=s.length-n.length-x;return gs(s.substr(0,x)+n+s.substr(s.length-p))}if(o=s.match(/^00,000\.([#0]*0)$/))return l=Pu(r,o[1].length),r<0?"-"+sa(t,s,-r):Cn(dv(r)).replace(/^\d,\d{3}$/,"0$&").replace(/^\d*$/,function(y){return"00,"+(y.length<3?ba(0,3-y.length):"")+y})+"."+ba(l,o[1].length);switch(s){case"###,##0.00":return sa(t,"#,##0.00",r);case"###,###":case"##,###":case"#,###":var m=Cn(Bi(d,0));return m!=="0"?h+m:"";case"###,###.00":return sa(t,"###,##0.00",r).replace(/^0\./,".");case"#,###.00":return sa(t,"#,##0.00",r).replace(/^0\./,".")}throw new Error("unsupported format |"+s+"|")}function hv(t,s,r){for(var a=s.length-1;s.charCodeAt(a-1)===44;)--a;return en(t,s.substr(0,a),r/Math.pow(10,3*(s.length-a)))}function uv(t,s,r){var a=s.replace(hm,""),n=s.length-a.length;return en(t,a,r*Math.pow(10,2*n))+wr("%",n)}function gm(t,s){var r,a=t.indexOf("E")-t.indexOf(".")-1;if(t.match(/^#+0.0E\+0$/)){if(s==0)return"0.0E+0";if(s<0)return"-"+gm(t,-s);var n=t.indexOf(".");n===-1&&(n=t.indexOf("E"));var o=Math.floor(Math.log(s)*Math.LOG10E)%n;if(o<0&&(o+=n),r=(s/Math.pow(10,o)).toPrecision(a+1+(n+o)%n),!r.match(/[Ee]/)){var l=Math.floor(Math.log(s)*Math.LOG10E);r.indexOf(".")===-1?r=r.charAt(0)+"."+r.substr(1)+"E+"+(l-r.length+o):r+="E+"+(l-o),r=r.replace(/\+-/,"-")}r=r.replace(/^([+-]?)(\d*)\.(\d*)[Ee]/,function(c,d,h,u){return d+h+u.substr(0,(n+o)%n)+"."+u.substr(o)+"E"})}else r=s.toExponential(a);return t.match(/E\+00$/)&&r.match(/e[+-]\d$/)&&(r=r.substr(0,r.length-1)+"0"+r.charAt(r.length-1)),t.match(/E\-/)&&r.match(/e\+/)&&(r=r.replace(/e\+/,"e")),r.replace("e","E")}function Oa(t,s,r){if(t.charCodeAt(0)===40&&!s.match(xm)){var a=s.replace(/\( */,"").replace(/ \)/,"").replace(/\)/,"");return r>=0?Oa("n",a,r):"("+Oa("n",a,-r)+")"}if(s.charCodeAt(s.length-1)===44)return hv(t,s,r);if(s.indexOf("%")!==-1)return uv(t,s,r);if(s.indexOf("E")!==-1)return gm(s,r);if(s.charCodeAt(0)===36)return"$"+Oa(t,s.substr(s.charAt(1)==" "?2:1),r);var n,o,l,c,d=Math.abs(r),h=r<0?"-":"";if(s.match(/^00+$/))return h+ba(d,s.length);if(s.match(/^[#?]+$/))return n=""+r,r===0&&(n=""),n.length>s.length?n:gs(s.substr(0,s.length-n.length))+n;if(o=s.match(fm))return lv(o,d,h);if(s.match(/^#+0+$/))return h+ba(d,s.length-s.indexOf("0"));if(o=s.match(mm))return n=(""+r).replace(/^([^\.]+)$/,"$1."+gs(o[1])).replace(/\.$/,"."+gs(o[1])),n=n.replace(/\.(\d*)$/,function(y,g){return"."+g+wr("0",gs(o[1]).length-g.length)}),s.indexOf("0.")!==-1?n:n.replace(/^0\./,".");if(s=s.replace(/^#+([0.])/,"$1"),o=s.match(/^(0*)\.(#*)$/))return h+(""+d).replace(/\.(\d*[1-9])0*$/,".$1").replace(/^(-?\d*)$/,"$1.").replace(/^0\./,o[1].length?"0.":".");if(o=s.match(/^#{1,3},##0(\.?)$/))return h+Cn(""+d);if(o=s.match(/^#,##0\.([#0]*0)$/))return r<0?"-"+Oa(t,s,-r):Cn(""+r)+"."+wr("0",o[1].length);if(o=s.match(/^#,#*,#0/))return Oa(t,s.replace(/^#,#*,/,""),r);if(o=s.match(/^([0#]+)(\\?-([0#]+))+$/))return n=Ki(Oa(t,s.replace(/[\\-]/g,""),r)),l=0,Ki(Ki(s.replace(/\\/g,"")).replace(/[0#]/g,function(y){return l<n.length?n.charAt(l++):y==="0"?"0":""}));if(s.match(pm))return n=Oa(t,"##########",r),"("+n.substr(0,3)+") "+n.substr(3,3)+"-"+n.substr(6);var u="";if(o=s.match(/^([#0?]+)( ?)\/( ?)([#0?]+)/))return l=Math.min(o[4].length,7),c=Mc(d,Math.pow(10,l)-1,!1),n=""+h,u=en("n",o[1],c[1]),u.charAt(u.length-1)==" "&&(u=u.substr(0,u.length-1)+"0"),n+=u+o[2]+"/"+o[3],u=Ic(c[2],l),u.length<o[4].length&&(u=gs(o[4].substr(o[4].length-u.length))+u),n+=u,n;if(o=s.match(/^# ([#0?]+)( ?)\/( ?)([#0?]+)/))return l=Math.min(Math.max(o[1].length,o[4].length),7),c=Mc(d,Math.pow(10,l)-1,!0),h+(c[0]||(c[1]?"":"0"))+" "+(c[1]?Y0(c[1],l)+o[2]+"/"+o[3]+Ic(c[2],l):wr(" ",2*l+1+o[2].length+o[3].length));if(o=s.match(/^[#0?]+$/))return n=""+r,s.length<=n.length?n:gs(s.substr(0,s.length-n.length))+n;if(o=s.match(/^([#0]+)\.([#0]+)$/)){n=""+r.toFixed(Math.min(o[2].length,10)).replace(/([^0])0+$/,"$1"),l=n.indexOf(".");var x=s.indexOf(".")-l,p=s.length-n.length-x;return gs(s.substr(0,x)+n+s.substr(s.length-p))}if(o=s.match(/^00,000\.([#0]*0)$/))return r<0?"-"+Oa(t,s,-r):Cn(""+r).replace(/^\d,\d{3}$/,"0$&").replace(/^\d*$/,function(y){return"00,"+(y.length<3?ba(0,3-y.length):"")+y})+"."+ba(0,o[1].length);switch(s){case"###,###":case"##,###":case"#,###":var m=Cn(""+d);return m!=="0"?h+m:"";default:if(s.match(/\.[0#?]*$/))return Oa(t,s.slice(0,s.lastIndexOf(".")),r)+gs(s.slice(s.lastIndexOf(".")))}throw new Error("unsupported format |"+s+"|")}function en(t,s,r){return(r|0)===r?Oa(t,s,r):sa(t,s,r)}function fv(t){for(var s=[],r=!1,a=0,n=0;a<t.length;++a)switch(t.charCodeAt(a)){case 34:r=!r;break;case 95:case 42:case 92:++a;break;case 59:s[s.length]=t.substr(n,a-n),n=a+1}if(s[s.length]=t.substr(n),r===!0)throw new Error("Format |"+t+"| unterminated string ");return s}var vm=/\[[HhMmSs\u0E0A\u0E19\u0E17]*\]/;function ym(t){for(var s=0,r="",a="";s<t.length;)switch(r=t.charAt(s)){case"G":Rc(t,s)&&(s+=6),s++;break;case'"':for(;t.charCodeAt(++s)!==34&&s<t.length;);++s;break;case"\\":s+=2;break;case"_":s+=2;break;case"@":++s;break;case"B":case"b":if(t.charAt(s+1)==="1"||t.charAt(s+1)==="2")return!0;case"M":case"D":case"Y":case"H":case"S":case"E":case"m":case"d":case"y":case"h":case"s":case"e":case"g":return!0;case"A":case"a":case"ä¸Š":if(t.substr(s,3).toUpperCase()==="A/P"||t.substr(s,5).toUpperCase()==="AM/PM"||t.substr(s,5).toUpperCase()==="ä¸Šåˆ/ä¸‹åˆ")return!0;++s;break;case"[":for(a=r;t.charAt(s++)!=="]"&&s<t.length;)a+=t.charAt(s);if(a.match(vm))return!0;break;case".":case"0":case"#":for(;s<t.length&&("0#?.,E+-%".indexOf(r=t.charAt(++s))>-1||r=="\\"&&t.charAt(s+1)=="-"&&"0#".indexOf(t.charAt(s+2))>-1););break;case"?":for(;t.charAt(++s)===r;);break;case"*":++s,(t.charAt(s)==" "||t.charAt(s)=="*")&&++s;break;case"(":case")":++s;break;case"1":case"2":case"3":case"4":case"5":case"6":case"7":case"8":case"9":for(;s<t.length&&"0123456789".indexOf(t.charAt(++s))>-1;);break;case" ":++s;break;default:++s;break}return!1}function mv(t,s,r,a){for(var n=[],o="",l=0,c="",d="t",h,u,x,p="H";l<t.length;)switch(c=t.charAt(l)){case"G":if(!Rc(t,l))throw new Error("unrecognized character "+c+" in "+t);n[n.length]={t:"G",v:"General"},l+=7;break;case'"':for(o="";(x=t.charCodeAt(++l))!==34&&l<t.length;)o+=String.fromCharCode(x);n[n.length]={t:"t",v:o},++l;break;case"\\":var m=t.charAt(++l),y=m==="("||m===")"?m:"t";n[n.length]={t:y,v:m},++l;break;case"_":n[n.length]={t:"t",v:" "},l+=2;break;case"@":n[n.length]={t:"T",v:s},++l;break;case"B":case"b":if(t.charAt(l+1)==="1"||t.charAt(l+1)==="2"){if(h==null&&(h=yc(s,r,t.charAt(l+1)==="2"),h==null))return"";n[n.length]={t:"X",v:t.substr(l,2)},d=c,l+=2;break}case"M":case"D":case"Y":case"H":case"S":case"E":c=c.toLowerCase();case"m":case"d":case"y":case"h":case"s":case"e":case"g":if(s<0||h==null&&(h=yc(s,r),h==null))return"";for(o=c;++l<t.length&&t.charAt(l).toLowerCase()===c;)o+=c;c==="m"&&d.toLowerCase()==="h"&&(c="M"),c==="h"&&(c=p),n[n.length]={t:c,v:o},d=c;break;case"A":case"a":case"ä¸Š":var g={t:c,v:c};if(h==null&&(h=yc(s,r)),t.substr(l,3).toUpperCase()==="A/P"?(h!=null&&(g.v=h.H>=12?"P":"A"),g.t="T",p="h",l+=3):t.substr(l,5).toUpperCase()==="AM/PM"?(h!=null&&(g.v=h.H>=12?"PM":"AM"),g.t="T",l+=5,p="h"):t.substr(l,5).toUpperCase()==="ä¸Šåˆ/ä¸‹åˆ"?(h!=null&&(g.v=h.H>=12?"ä¸‹åˆ":"ä¸Šåˆ"),g.t="T",l+=5,p="h"):(g.t="t",++l),h==null&&g.t==="T")return"";n[n.length]=g,d=c;break;case"[":for(o=c;t.charAt(l++)!=="]"&&l<t.length;)o+=t.charAt(l);if(o.slice(-1)!=="]")throw'unterminated "[" block: |'+o+"|";if(o.match(vm)){if(h==null&&(h=yc(s,r),h==null))return"";n[n.length]={t:"Z",v:o.toLowerCase()},d=o.charAt(1)}else o.indexOf("$")>-1&&(o=(o.match(/\$([^-\[\]]*)/)||[])[1]||"$",ym(t)||(n[n.length]={t:"t",v:o}));break;case".":if(h!=null){for(o=c;++l<t.length&&(c=t.charAt(l))==="0";)o+=c;n[n.length]={t:"s",v:o};break}case"0":case"#":for(o=c;++l<t.length&&"0#?.,E+-%".indexOf(c=t.charAt(l))>-1;)o+=c;n[n.length]={t:"n",v:o};break;case"?":for(o=c;t.charAt(++l)===c;)o+=c;n[n.length]={t:c,v:o},d=c;break;case"*":++l,(t.charAt(l)==" "||t.charAt(l)=="*")&&++l;break;case"(":case")":n[n.length]={t:a===1?"t":c,v:c},++l;break;case"1":case"2":case"3":case"4":case"5":case"6":case"7":case"8":case"9":for(o=c;l<t.length&&"0123456789".indexOf(t.charAt(++l))>-1;)o+=t.charAt(l);n[n.length]={t:"D",v:o};break;case" ":n[n.length]={t:c,v:c},++l;break;case"$":n[n.length]={t:"t",v:"$"},++l;break;default:if(",$-+/():!^&'~{}<>=â‚¬acfijklopqrtuvwxzP".indexOf(c)===-1)throw new Error("unrecognized character "+c+" in "+t);n[n.length]={t:"t",v:c},++l;break}var b=0,w=0,N;for(l=n.length-1,d="t";l>=0;--l)switch(n[l].t){case"h":case"H":n[l].t=p,d="h",b<1&&(b=1);break;case"s":(N=n[l].v.match(/\.0+$/))&&(w=Math.max(w,N[0].length-1)),b<3&&(b=3);case"d":case"y":case"M":case"e":d=n[l].t;break;case"m":d==="s"&&(n[l].t="M",b<2&&(b=2));break;case"X":break;case"Z":b<1&&n[l].v.match(/[Hh]/)&&(b=1),b<2&&n[l].v.match(/[Mm]/)&&(b=2),b<3&&n[l].v.match(/[Ss]/)&&(b=3)}switch(b){case 0:break;case 1:h.u>=.5&&(h.u=0,++h.S),h.S>=60&&(h.S=0,++h.M),h.M>=60&&(h.M=0,++h.H);break;case 2:h.u>=.5&&(h.u=0,++h.S),h.S>=60&&(h.S=0,++h.M);break}var j="",k;for(l=0;l<n.length;++l)switch(n[l].t){case"t":case"T":case" ":case"D":break;case"X":n[l].v="",n[l].t=";";break;case"d":case"m":case"y":case"h":case"H":case"M":case"s":case"e":case"b":case"Z":n[l].v=av(n[l].t.charCodeAt(0),n[l].v,h,w),n[l].t="t";break;case"n":case"?":for(k=l+1;n[k]!=null&&((c=n[k].t)==="?"||c==="D"||(c===" "||c==="t")&&n[k+1]!=null&&(n[k+1].t==="?"||n[k+1].t==="t"&&n[k+1].v==="/")||n[l].t==="("&&(c===" "||c==="n"||c===")")||c==="t"&&(n[k].v==="/"||n[k].v===" "&&n[k+1]!=null&&n[k+1].t=="?"));)n[l].v+=n[k].v,n[k]={v:"",t:";"},++k;j+=n[l].v,l=k-1;break;case"G":n[l].t="t",n[l].v=O0(s,r);break}var L="",F,T;if(j.length>0){j.charCodeAt(0)==40?(F=s<0&&j.charCodeAt(0)===45?-s:s,T=en("n",j,F)):(F=s<0&&a>1?-s:s,T=en("n",j,F),F<0&&n[0]&&n[0].t=="t"&&(T=T.substr(1),n[0].v="-"+n[0].v)),k=T.length-1;var C=n.length;for(l=0;l<n.length;++l)if(n[l]!=null&&n[l].t!="t"&&n[l].v.indexOf(".")>-1){C=l;break}var I=n.length;if(C===n.length&&T.indexOf("E")===-1){for(l=n.length-1;l>=0;--l)n[l]==null||"n?".indexOf(n[l].t)===-1||(k>=n[l].v.length-1?(k-=n[l].v.length,n[l].v=T.substr(k+1,n[l].v.length)):k<0?n[l].v="":(n[l].v=T.substr(0,k+1),k=-1),n[l].t="t",I=l);k>=0&&I<n.length&&(n[I].v=T.substr(0,k+1)+n[I].v)}else if(C!==n.length&&T.indexOf("E")===-1){for(k=T.indexOf(".")-1,l=C;l>=0;--l)if(!(n[l]==null||"n?".indexOf(n[l].t)===-1)){for(u=n[l].v.indexOf(".")>-1&&l===C?n[l].v.indexOf(".")-1:n[l].v.length-1,L=n[l].v.substr(u+1);u>=0;--u)k>=0&&(n[l].v.charAt(u)==="0"||n[l].v.charAt(u)==="#")&&(L=T.charAt(k--)+L);n[l].v=L,n[l].t="t",I=l}for(k>=0&&I<n.length&&(n[I].v=T.substr(0,k+1)+n[I].v),k=T.indexOf(".")+1,l=C;l<n.length;++l)if(!(n[l]==null||"n?(".indexOf(n[l].t)===-1&&l!==C)){for(u=n[l].v.indexOf(".")>-1&&l===C?n[l].v.indexOf(".")+1:0,L=n[l].v.substr(0,u);u<n[l].v.length;++u)k<T.length&&(L+=T.charAt(k++));n[l].v=L,n[l].t="t",I=l}}}for(l=0;l<n.length;++l)n[l]!=null&&"n?".indexOf(n[l].t)>-1&&(F=a>1&&s<0&&l>0&&n[l-1].v==="-"?-s:s,n[l].v=en(n[l].t,n[l].v,F),n[l].t="t");var D="";for(l=0;l!==n.length;++l)n[l]!=null&&(D+=n[l].v);return D}var Fu=/\[(=|>[=]?|<[>=]?)(-?\d+(?:\.\d*)?)\]/;function Lu(t,s){if(s==null)return!1;var r=parseFloat(s[2]);switch(s[1]){case"=":if(t==r)return!0;break;case">":if(t>r)return!0;break;case"<":if(t<r)return!0;break;case"<>":if(t!=r)return!0;break;case">=":if(t>=r)return!0;break;case"<=":if(t<=r)return!0;break}return!1}function xv(t,s){var r=fv(t),a=r.length,n=r[a-1].indexOf("@");if(a<4&&n>-1&&--a,r.length>4)throw new Error("cannot find right format for |"+r.join("|")+"|");if(typeof s!="number")return[4,r.length===4||n>-1?r[r.length-1]:"@"];switch(r.length){case 1:r=n>-1?["General","General","General",r[0]]:[r[0],r[0],r[0],"@"];break;case 2:r=n>-1?[r[0],r[0],r[0],r[1]]:[r[0],r[1],r[0],"@"];break;case 3:r=n>-1?[r[0],r[1],r[0],r[2]]:[r[0],r[1],r[2],"@"];break}var o=s>0?r[0]:s<0?r[1]:r[2];if(r[0].indexOf("[")===-1&&r[1].indexOf("[")===-1)return[a,o];if(r[0].match(/\[[=<>]/)!=null||r[1].match(/\[[=<>]/)!=null){var l=r[0].match(Fu),c=r[1].match(Fu);return Lu(s,l)?[a,r[0]]:Lu(s,c)?[a,r[1]]:[a,r[l!=null&&c!=null?2:1]]}return[a,o]}function Ln(t,s,r){r==null&&(r={});var a="";switch(typeof t){case"string":t=="m/d/yy"&&r.dateNF?a=r.dateNF:a=t;break;case"number":t==14&&r.dateNF?a=r.dateNF:a=(r.table!=null?r.table:Nr)[t],a==null&&(a=r.table&&r.table[Tu[t]]||Nr[Tu[t]]),a==null&&(a=X2[t]||"General");break}if(Rc(a,0))return O0(s,r);s instanceof Date&&(s=dm(s,r.date1904));var n=xv(a,s);if(Rc(n[1]))return O0(s,r);if(s===!0)s="TRUE";else if(s===!1)s="FALSE";else if(s===""||s==null)return"";return mv(n[1],s,r,n[0])}function bm(t,s){if(typeof s!="number"){s=+s||-1;for(var r=0;r<392;++r){if(Nr[r]==null){s<0&&(s=r);continue}if(Nr[r]==t){s=r;break}}s<0&&(s=391)}return Nr[s]=t,s}function td(t){for(var s=0;s!=392;++s)t[s]!==void 0&&bm(t[s],s)}function rd(){Nr=K2()}var wm=/[dD]+|[mM]+|[yYeE]+|[Hh]+|[Ss]+/g;function pv(t){var s=typeof t=="number"?Nr[t]:t;return s=s.replace(wm,"(\\d+)"),new RegExp("^"+s+"$")}function gv(t,s,r){var a=-1,n=-1,o=-1,l=-1,c=-1,d=-1;(s.match(wm)||[]).forEach(function(x,p){var m=parseInt(r[p+1],10);switch(x.toLowerCase().charAt(0)){case"y":a=m;break;case"d":o=m;break;case"h":l=m;break;case"s":d=m;break;case"m":l>=0?c=m:n=m;break}}),d>=0&&c==-1&&n>=0&&(c=n,n=-1);var h=(""+(a>=0?a:new Date().getFullYear())).slice(-4)+"-"+("00"+(n>=1?n:1)).slice(-2)+"-"+("00"+(o>=1?o:1)).slice(-2);h.length==7&&(h="0"+h),h.length==8&&(h="20"+h);var u=("00"+(l>=0?l:0)).slice(-2)+":"+("00"+(c>=0?c:0)).slice(-2)+":"+("00"+(d>=0?d:0)).slice(-2);return l==-1&&c==-1&&d==-1?h:a==-1&&n==-1&&o==-1?u:h+"T"+u}var vv=function(){var t={};t.version="1.2.0";function s(){for(var T=0,C=new Array(256),I=0;I!=256;++I)T=I,T=T&1?-306674912^T>>>1:T>>>1,T=T&1?-306674912^T>>>1:T>>>1,T=T&1?-306674912^T>>>1:T>>>1,T=T&1?-306674912^T>>>1:T>>>1,T=T&1?-306674912^T>>>1:T>>>1,T=T&1?-306674912^T>>>1:T>>>1,T=T&1?-306674912^T>>>1:T>>>1,T=T&1?-306674912^T>>>1:T>>>1,C[I]=T;return typeof Int32Array<"u"?new Int32Array(C):C}var r=s();function a(T){var C=0,I=0,D=0,E=typeof Int32Array<"u"?new Int32Array(4096):new Array(4096);for(D=0;D!=256;++D)E[D]=T[D];for(D=0;D!=256;++D)for(I=T[D],C=256+D;C<4096;C+=256)I=E[C]=I>>>8^T[I&255];var P=[];for(D=1;D!=16;++D)P[D-1]=typeof Int32Array<"u"?E.subarray(D*256,D*256+256):E.slice(D*256,D*256+256);return P}var n=a(r),o=n[0],l=n[1],c=n[2],d=n[3],h=n[4],u=n[5],x=n[6],p=n[7],m=n[8],y=n[9],g=n[10],b=n[11],w=n[12],N=n[13],j=n[14];function k(T,C){for(var I=C^-1,D=0,E=T.length;D<E;)I=I>>>8^r[(I^T.charCodeAt(D++))&255];return~I}function L(T,C){for(var I=C^-1,D=T.length-15,E=0;E<D;)I=j[T[E++]^I&255]^N[T[E++]^I>>8&255]^w[T[E++]^I>>16&255]^b[T[E++]^I>>>24]^g[T[E++]]^y[T[E++]]^m[T[E++]]^p[T[E++]]^x[T[E++]]^u[T[E++]]^h[T[E++]]^d[T[E++]]^c[T[E++]]^l[T[E++]]^o[T[E++]]^r[T[E++]];for(D+=15;E<D;)I=I>>>8^r[(I^T[E++])&255];return~I}function F(T,C){for(var I=C^-1,D=0,E=T.length,P=0,W=0;D<E;)P=T.charCodeAt(D++),P<128?I=I>>>8^r[(I^P)&255]:P<2048?(I=I>>>8^r[(I^(192|P>>6&31))&255],I=I>>>8^r[(I^(128|P&63))&255]):P>=55296&&P<57344?(P=(P&1023)+64,W=T.charCodeAt(D++)&1023,I=I>>>8^r[(I^(240|P>>8&7))&255],I=I>>>8^r[(I^(128|P>>2&63))&255],I=I>>>8^r[(I^(128|W>>6&15|(P&3)<<4))&255],I=I>>>8^r[(I^(128|W&63))&255]):(I=I>>>8^r[(I^(224|P>>12&15))&255],I=I>>>8^r[(I^(128|P>>6&63))&255],I=I>>>8^r[(I^(128|P&63))&255]);return~I}return t.table=r,t.bstr=k,t.buf=L,t.str=F,t}(),rr=function(){var s={};s.version="1.2.1";function r(V,le){for(var te=V.split("/"),re=le.split("/"),oe=0,ce=0,ke=Math.min(te.length,re.length);oe<ke;++oe){if(ce=te[oe].length-re[oe].length)return ce;if(te[oe]!=re[oe])return te[oe]<re[oe]?-1:1}return te.length-re.length}function a(V){if(V.charAt(V.length-1)=="/")return V.slice(0,-1).indexOf("/")===-1?V:a(V.slice(0,-1));var le=V.lastIndexOf("/");return le===-1?V:V.slice(0,le+1)}function n(V){if(V.charAt(V.length-1)=="/")return n(V.slice(0,-1));var le=V.lastIndexOf("/");return le===-1?V:V.slice(le+1)}function o(V,le){typeof le=="string"&&(le=new Date(le));var te=le.getHours();te=te<<6|le.getMinutes(),te=te<<5|le.getSeconds()>>>1,V.write_shift(2,te);var re=le.getFullYear()-1980;re=re<<4|le.getMonth()+1,re=re<<5|le.getDate(),V.write_shift(2,re)}function l(V){var le=V.read_shift(2)&65535,te=V.read_shift(2)&65535,re=new Date,oe=te&31;te>>>=5;var ce=te&15;te>>>=4,re.setMilliseconds(0),re.setFullYear(te+1980),re.setMonth(ce-1),re.setDate(oe);var ke=le&31;le>>>=5;var Le=le&63;return le>>>=6,re.setHours(le),re.setMinutes(Le),re.setSeconds(ke<<1),re}function c(V){Ws(V,0);for(var le={},te=0;V.l<=V.length-4;){var re=V.read_shift(2),oe=V.read_shift(2),ce=V.l+oe,ke={};switch(re){case 21589:te=V.read_shift(1),te&1&&(ke.mtime=V.read_shift(4)),oe>5&&(te&2&&(ke.atime=V.read_shift(4)),te&4&&(ke.ctime=V.read_shift(4))),ke.mtime&&(ke.mt=new Date(ke.mtime*1e3));break}V.l=ce,le[re]=ke}return le}var d;function h(){return d||(d={})}function u(V,le){if(V[0]==80&&V[1]==75)return dr(V,le);if((V[0]|32)==109&&(V[1]|32)==105)return Ks(V,le);if(V.length<512)throw new Error("CFB file size "+V.length+" < 512");var te=3,re=512,oe=0,ce=0,ke=0,Le=0,Se=0,Ce=[],Te=V.slice(0,512);Ws(Te,0);var Ye=x(Te);switch(te=Ye[0],te){case 3:re=512;break;case 4:re=4096;break;case 0:if(Ye[1]==0)return dr(V,le);default:throw new Error("Major Version: Expected 3 or 4 saw "+te)}re!==512&&(Te=V.slice(0,re),Ws(Te,28));var Qe=V.slice(0,re);p(Te,te);var lt=Te.read_shift(4,"i");if(te===3&&lt!==0)throw new Error("# Directory Sectors: Expected 0 saw "+lt);Te.l+=4,ke=Te.read_shift(4,"i"),Te.l+=4,Te.chk("00100000","Mini Stream Cutoff Size: "),Le=Te.read_shift(4,"i"),oe=Te.read_shift(4,"i"),Se=Te.read_shift(4,"i"),ce=Te.read_shift(4,"i");for(var Xe=-1,ot=0;ot<109&&(Xe=Te.read_shift(4,"i"),!(Xe<0));++ot)Ce[ot]=Xe;var wt=m(V,re);b(Se,ce,wt,re,Ce);var $t=N(wt,ke,Ce,re);$t[ke].name="!Directory",oe>0&&Le!==W&&($t[Le].name="!MiniFAT"),$t[Ce[0]].name="!FAT",$t.fat_addrs=Ce,$t.ssz=re;var er={},Er=[],oa=[],qa=[];j(ke,$t,wt,Er,oe,er,oa,Le),y(oa,qa,Er),Er.shift();var Aa={FileIndex:oa,FullPaths:qa};return le&&le.raw&&(Aa.raw={header:Qe,sectors:wt}),Aa}function x(V){if(V[V.l]==80&&V[V.l+1]==75)return[0,0];V.chk(z,"Header Signature: "),V.l+=16;var le=V.read_shift(2,"u");return[V.read_shift(2,"u"),le]}function p(V,le){var te=9;switch(V.l+=2,te=V.read_shift(2)){case 9:if(le!=3)throw new Error("Sector Shift: Expected 9 saw "+te);break;case 12:if(le!=4)throw new Error("Sector Shift: Expected 12 saw "+te);break;default:throw new Error("Sector Shift: Expected 9 or 12 saw "+te)}V.chk("0600","Mini Sector Shift: "),V.chk("000000000000","Reserved: ")}function m(V,le){for(var te=Math.ceil(V.length/le)-1,re=[],oe=1;oe<te;++oe)re[oe-1]=V.slice(oe*le,(oe+1)*le);return re[te-1]=V.slice(te*le),re}function y(V,le,te){for(var re=0,oe=0,ce=0,ke=0,Le=0,Se=te.length,Ce=[],Te=[];re<Se;++re)Ce[re]=Te[re]=re,le[re]=te[re];for(;Le<Te.length;++Le)re=Te[Le],oe=V[re].L,ce=V[re].R,ke=V[re].C,Ce[re]===re&&(oe!==-1&&Ce[oe]!==oe&&(Ce[re]=Ce[oe]),ce!==-1&&Ce[ce]!==ce&&(Ce[re]=Ce[ce])),ke!==-1&&(Ce[ke]=re),oe!==-1&&re!=Ce[re]&&(Ce[oe]=Ce[re],Te.lastIndexOf(oe)<Le&&Te.push(oe)),ce!==-1&&re!=Ce[re]&&(Ce[ce]=Ce[re],Te.lastIndexOf(ce)<Le&&Te.push(ce));for(re=1;re<Se;++re)Ce[re]===re&&(ce!==-1&&Ce[ce]!==ce?Ce[re]=Ce[ce]:oe!==-1&&Ce[oe]!==oe&&(Ce[re]=Ce[oe]));for(re=1;re<Se;++re)if(V[re].type!==0){if(Le=re,Le!=Ce[Le])do Le=Ce[Le],le[re]=le[Le]+"/"+le[re];while(Le!==0&&Ce[Le]!==-1&&Le!=Ce[Le]);Ce[re]=-1}for(le[0]+="/",re=1;re<Se;++re)V[re].type!==2&&(le[re]+="/")}function g(V,le,te){for(var re=V.start,oe=V.size,ce=[],ke=re;te&&oe>0&&ke>=0;)ce.push(le.slice(ke*P,ke*P+P)),oe-=P,ke=Kn(te,ke*4);return ce.length===0?Me(0):Zr(ce).slice(0,V.size)}function b(V,le,te,re,oe){var ce=W;if(V===W){if(le!==0)throw new Error("DIFAT chain shorter than expected")}else if(V!==-1){var ke=te[V],Le=(re>>>2)-1;if(!ke)return;for(var Se=0;Se<Le&&(ce=Kn(ke,Se*4))!==W;++Se)oe.push(ce);b(Kn(ke,re-4),le-1,te,re,oe)}}function w(V,le,te,re,oe){var ce=[],ke=[];oe||(oe=[]);var Le=re-1,Se=0,Ce=0;for(Se=le;Se>=0;){oe[Se]=!0,ce[ce.length]=Se,ke.push(V[Se]);var Te=te[Math.floor(Se*4/re)];if(Ce=Se*4&Le,re<4+Ce)throw new Error("FAT boundary crossed: "+Se+" 4 "+re);if(!V[Te])break;Se=Kn(V[Te],Ce)}return{nodes:ce,data:Hu([ke])}}function N(V,le,te,re){var oe=V.length,ce=[],ke=[],Le=[],Se=[],Ce=re-1,Te=0,Ye=0,Qe=0,lt=0;for(Te=0;Te<oe;++Te)if(Le=[],Qe=Te+le,Qe>=oe&&(Qe-=oe),!ke[Qe]){Se=[];var Xe=[];for(Ye=Qe;Ye>=0;){Xe[Ye]=!0,ke[Ye]=!0,Le[Le.length]=Ye,Se.push(V[Ye]);var ot=te[Math.floor(Ye*4/re)];if(lt=Ye*4&Ce,re<4+lt)throw new Error("FAT boundary crossed: "+Ye+" 4 "+re);if(!V[ot]||(Ye=Kn(V[ot],lt),Xe[Ye]))break}ce[Qe]={nodes:Le,data:Hu([Se])}}return ce}function j(V,le,te,re,oe,ce,ke,Le){for(var Se=0,Ce=re.length?2:0,Te=le[V].data,Ye=0,Qe=0,lt;Ye<Te.length;Ye+=128){var Xe=Te.slice(Ye,Ye+128);Ws(Xe,64),Qe=Xe.read_shift(2),lt=eh(Xe,0,Qe-Ce),re.push(lt);var ot={name:lt,type:Xe.read_shift(1),color:Xe.read_shift(1),L:Xe.read_shift(4,"i"),R:Xe.read_shift(4,"i"),C:Xe.read_shift(4,"i"),clsid:Xe.read_shift(16),state:Xe.read_shift(4,"i"),start:0,size:0},wt=Xe.read_shift(2)+Xe.read_shift(2)+Xe.read_shift(2)+Xe.read_shift(2);wt!==0&&(ot.ct=k(Xe,Xe.l-8));var $t=Xe.read_shift(2)+Xe.read_shift(2)+Xe.read_shift(2)+Xe.read_shift(2);$t!==0&&(ot.mt=k(Xe,Xe.l-8)),ot.start=Xe.read_shift(4,"i"),ot.size=Xe.read_shift(4,"i"),ot.size<0&&ot.start<0&&(ot.size=ot.type=0,ot.start=W,ot.name=""),ot.type===5?(Se=ot.start,oe>0&&Se!==W&&(le[Se].name="!StreamData")):ot.size>=4096?(ot.storage="fat",le[ot.start]===void 0&&(le[ot.start]=w(te,ot.start,le.fat_addrs,le.ssz)),le[ot.start].name=ot.name,ot.content=le[ot.start].data.slice(0,ot.size)):(ot.storage="minifat",ot.size<0?ot.size=0:Se!==W&&ot.start!==W&&le[Se]&&(ot.content=g(ot,le[Se].data,(le[Le]||{}).data))),ot.content&&Ws(ot.content,0),ce[lt]=ot,ke.push(ot)}}function k(V,le){return new Date((zs(V,le+4)/1e7*Math.pow(2,32)+zs(V,le)/1e7-11644473600)*1e3)}function L(V,le){return h(),u(d.readFileSync(V),le)}function F(V,le){var te=le&&le.type;switch(te||zt&&Buffer.isBuffer(V)&&(te="buffer"),te||"base64"){case"file":return L(V,le);case"base64":return u(ya(sn(V)),le);case"binary":return u(ya(V),le)}return u(V,le)}function T(V,le){var te=le||{},re=te.root||"Root Entry";if(V.FullPaths||(V.FullPaths=[]),V.FileIndex||(V.FileIndex=[]),V.FullPaths.length!==V.FileIndex.length)throw new Error("inconsistent CFB structure");V.FullPaths.length===0&&(V.FullPaths[0]=re+"/",V.FileIndex[0]={name:re,type:5}),te.CLSID&&(V.FileIndex[0].clsid=te.CLSID),C(V)}function C(V){var le="Sh33tJ5";if(!rr.find(V,"/"+le)){var te=Me(4);te[0]=55,te[1]=te[3]=50,te[2]=54,V.FileIndex.push({name:le,type:2,content:te,size:4,L:69,R:69,C:69}),V.FullPaths.push(V.FullPaths[0]+le),I(V)}}function I(V,le){T(V);for(var te=!1,re=!1,oe=V.FullPaths.length-1;oe>=0;--oe){var ce=V.FileIndex[oe];switch(ce.type){case 0:re?te=!0:(V.FileIndex.pop(),V.FullPaths.pop());break;case 1:case 2:case 5:re=!0,isNaN(ce.R*ce.L*ce.C)&&(te=!0),ce.R>-1&&ce.L>-1&&ce.R==ce.L&&(te=!0);break;default:te=!0;break}}if(!(!te&&!le)){var ke=new Date(1987,1,19),Le=0,Se=Object.create?Object.create(null):{},Ce=[];for(oe=0;oe<V.FullPaths.length;++oe)Se[V.FullPaths[oe]]=!0,V.FileIndex[oe].type!==0&&Ce.push([V.FullPaths[oe],V.FileIndex[oe]]);for(oe=0;oe<Ce.length;++oe){var Te=a(Ce[oe][0]);re=Se[Te],re||(Ce.push([Te,{name:n(Te).replace("/",""),type:1,clsid:Q,ct:ke,mt:ke,content:null}]),Se[Te]=!0)}for(Ce.sort(function(lt,Xe){return r(lt[0],Xe[0])}),V.FullPaths=[],V.FileIndex=[],oe=0;oe<Ce.length;++oe)V.FullPaths[oe]=Ce[oe][0],V.FileIndex[oe]=Ce[oe][1];for(oe=0;oe<Ce.length;++oe){var Ye=V.FileIndex[oe],Qe=V.FullPaths[oe];if(Ye.name=n(Qe).replace("/",""),Ye.L=Ye.R=Ye.C=-(Ye.color=1),Ye.size=Ye.content?Ye.content.length:0,Ye.start=0,Ye.clsid=Ye.clsid||Q,oe===0)Ye.C=Ce.length>1?1:-1,Ye.size=0,Ye.type=5;else if(Qe.slice(-1)=="/"){for(Le=oe+1;Le<Ce.length&&a(V.FullPaths[Le])!=Qe;++Le);for(Ye.C=Le>=Ce.length?-1:Le,Le=oe+1;Le<Ce.length&&a(V.FullPaths[Le])!=a(Qe);++Le);Ye.R=Le>=Ce.length?-1:Le,Ye.type=1}else a(V.FullPaths[oe+1]||"")==a(Qe)&&(Ye.R=oe+1),Ye.type=2}}}function D(V,le){var te=le||{};if(te.fileType=="mad")return pt(V,te);switch(I(V),te.fileType){case"zip":return ia(V,te)}var re=function(lt){for(var Xe=0,ot=0,wt=0;wt<lt.FileIndex.length;++wt){var $t=lt.FileIndex[wt];if($t.content){var er=$t.content.length;er>0&&(er<4096?Xe+=er+63>>6:ot+=er+511>>9)}}for(var Er=lt.FullPaths.length+3>>2,oa=Xe+7>>3,qa=Xe+127>>7,Aa=oa+ot+Er+qa,la=Aa+127>>7,_a=la<=109?0:Math.ceil((la-109)/127);Aa+la+_a+127>>7>la;)_a=++la<=109?0:Math.ceil((la-109)/127);var Is=[1,_a,la,qa,Er,ot,Xe,0];return lt.FileIndex[0].size=Xe<<6,Is[7]=(lt.FileIndex[0].start=Is[0]+Is[1]+Is[2]+Is[3]+Is[4]+Is[5])+(Is[6]+7>>3),Is}(V),oe=Me(re[7]<<9),ce=0,ke=0;{for(ce=0;ce<8;++ce)oe.write_shift(1,ue[ce]);for(ce=0;ce<8;++ce)oe.write_shift(2,0);for(oe.write_shift(2,62),oe.write_shift(2,3),oe.write_shift(2,65534),oe.write_shift(2,9),oe.write_shift(2,6),ce=0;ce<3;++ce)oe.write_shift(2,0);for(oe.write_shift(4,0),oe.write_shift(4,re[2]),oe.write_shift(4,re[0]+re[1]+re[2]+re[3]-1),oe.write_shift(4,0),oe.write_shift(4,4096),oe.write_shift(4,re[3]?re[0]+re[1]+re[2]-1:W),oe.write_shift(4,re[3]),oe.write_shift(-4,re[1]?re[0]-1:W),oe.write_shift(4,re[1]),ce=0;ce<109;++ce)oe.write_shift(-4,ce<re[2]?re[1]+ce:-1)}if(re[1])for(ke=0;ke<re[1];++ke){for(;ce<236+ke*127;++ce)oe.write_shift(-4,ce<re[2]?re[1]+ce:-1);oe.write_shift(-4,ke===re[1]-1?W:ke+1)}var Le=function(lt){for(ke+=lt;ce<ke-1;++ce)oe.write_shift(-4,ce+1);lt&&(++ce,oe.write_shift(-4,W))};for(ke=ce=0,ke+=re[1];ce<ke;++ce)oe.write_shift(-4,ee.DIFSECT);for(ke+=re[2];ce<ke;++ce)oe.write_shift(-4,ee.FATSECT);Le(re[3]),Le(re[4]);for(var Se=0,Ce=0,Te=V.FileIndex[0];Se<V.FileIndex.length;++Se)Te=V.FileIndex[Se],Te.content&&(Ce=Te.content.length,!(Ce<4096)&&(Te.start=ke,Le(Ce+511>>9)));for(Le(re[6]+7>>3);oe.l&511;)oe.write_shift(-4,ee.ENDOFCHAIN);for(ke=ce=0,Se=0;Se<V.FileIndex.length;++Se)Te=V.FileIndex[Se],Te.content&&(Ce=Te.content.length,!(!Ce||Ce>=4096)&&(Te.start=ke,Le(Ce+63>>6)));for(;oe.l&511;)oe.write_shift(-4,ee.ENDOFCHAIN);for(ce=0;ce<re[4]<<2;++ce){var Ye=V.FullPaths[ce];if(!Ye||Ye.length===0){for(Se=0;Se<17;++Se)oe.write_shift(4,0);for(Se=0;Se<3;++Se)oe.write_shift(4,-1);for(Se=0;Se<12;++Se)oe.write_shift(4,0);continue}Te=V.FileIndex[ce],ce===0&&(Te.start=Te.size?Te.start-1:W);var Qe=ce===0&&te.root||Te.name;if(Ce=2*(Qe.length+1),oe.write_shift(64,Qe,"utf16le"),oe.write_shift(2,Ce),oe.write_shift(1,Te.type),oe.write_shift(1,Te.color),oe.write_shift(-4,Te.L),oe.write_shift(-4,Te.R),oe.write_shift(-4,Te.C),Te.clsid)oe.write_shift(16,Te.clsid,"hex");else for(Se=0;Se<4;++Se)oe.write_shift(4,0);oe.write_shift(4,Te.state||0),oe.write_shift(4,0),oe.write_shift(4,0),oe.write_shift(4,0),oe.write_shift(4,0),oe.write_shift(4,Te.start),oe.write_shift(4,Te.size),oe.write_shift(4,0)}for(ce=1;ce<V.FileIndex.length;++ce)if(Te=V.FileIndex[ce],Te.size>=4096)if(oe.l=Te.start+1<<9,zt&&Buffer.isBuffer(Te.content))Te.content.copy(oe,oe.l,0,Te.size),oe.l+=Te.size+511&-512;else{for(Se=0;Se<Te.size;++Se)oe.write_shift(1,Te.content[Se]);for(;Se&511;++Se)oe.write_shift(1,0)}for(ce=1;ce<V.FileIndex.length;++ce)if(Te=V.FileIndex[ce],Te.size>0&&Te.size<4096)if(zt&&Buffer.isBuffer(Te.content))Te.content.copy(oe,oe.l,0,Te.size),oe.l+=Te.size+63&-64;else{for(Se=0;Se<Te.size;++Se)oe.write_shift(1,Te.content[Se]);for(;Se&63;++Se)oe.write_shift(1,0)}if(zt)oe.l=oe.length;else for(;oe.l<oe.length;)oe.write_shift(1,0);return oe}function E(V,le){var te=V.FullPaths.map(function(Se){return Se.toUpperCase()}),re=te.map(function(Se){var Ce=Se.split("/");return Ce[Ce.length-(Se.slice(-1)=="/"?2:1)]}),oe=!1;le.charCodeAt(0)===47?(oe=!0,le=te[0].slice(0,-1)+le):oe=le.indexOf("/")!==-1;var ce=le.toUpperCase(),ke=oe===!0?te.indexOf(ce):re.indexOf(ce);if(ke!==-1)return V.FileIndex[ke];var Le=!ce.match(vc);for(ce=ce.replace(Ko,""),Le&&(ce=ce.replace(vc,"!")),ke=0;ke<te.length;++ke)if((Le?te[ke].replace(vc,"!"):te[ke]).replace(Ko,"")==ce||(Le?re[ke].replace(vc,"!"):re[ke]).replace(Ko,"")==ce)return V.FileIndex[ke];return null}var P=64,W=-2,z="d0cf11e0a1b11ae1",ue=[208,207,17,224,161,177,26,225],Q="00000000000000000000000000000000",ee={MAXREGSECT:-6,DIFSECT:-4,FATSECT:-3,ENDOFCHAIN:W,FREESECT:-1,HEADER_SIGNATURE:z,HEADER_MINOR_VERSION:"3e00",MAXREGSID:-6,NOSTREAM:-1,HEADER_CLSID:Q,EntryTypes:["unknown","storage","stream","lockbytes","property","root"]};function ie(V,le,te){h();var re=D(V,te);d.writeFileSync(le,re)}function ne(V){for(var le=new Array(V.length),te=0;te<V.length;++te)le[te]=String.fromCharCode(V[te]);return le.join("")}function pe(V,le){var te=D(V,le);switch(le&&le.type||"buffer"){case"file":return h(),d.writeFileSync(le.filename,te),te;case"binary":return typeof te=="string"?te:ne(te);case"base64":return al(typeof te=="string"?te:ne(te));case"buffer":if(zt)return Buffer.isBuffer(te)?te:nn(te);case"array":return typeof te=="string"?ya(te):te}return te}var ye;function _(V){try{var le=V.InflateRaw,te=new le;if(te._processChunk(new Uint8Array([3,0]),te._finishFlushFlag),te.bytesRead)ye=V;else throw new Error("zlib does not expose bytesRead")}catch(re){console.error("cannot use native zlib: "+(re.message||re))}}function R(V,le){if(!ye)return Bt(V,le);var te=ye.InflateRaw,re=new te,oe=re._processChunk(V.slice(V.l),re._finishFlushFlag);return V.l+=re.bytesRead,oe}function M(V){return ye?ye.deflateRawSync(V):Ft(V)}var B=[16,17,18,0,8,7,9,6,10,5,11,4,12,3,13,2,14,1,15],Y=[3,4,5,6,7,8,9,10,11,13,15,17,19,23,27,31,35,43,51,59,67,83,99,115,131,163,195,227,258],fe=[1,2,3,4,5,7,9,13,17,25,33,49,65,97,129,193,257,385,513,769,1025,1537,2049,3073,4097,6145,8193,12289,16385,24577];function ae(V){var le=(V<<1|V<<11)&139536|(V<<5|V<<15)&558144;return(le>>16|le>>8|le)&255}for(var X=typeof Uint8Array<"u",me=X?new Uint8Array(256):[],Ne=0;Ne<256;++Ne)me[Ne]=ae(Ne);function De(V,le){var te=me[V&255];return le<=8?te>>>8-le:(te=te<<8|me[V>>8&255],le<=16?te>>>16-le:(te=te<<8|me[V>>16&255],te>>>24-le))}function Ve(V,le){var te=le&7,re=le>>>3;return(V[re]|(te<=6?0:V[re+1]<<8))>>>te&3}function Ke(V,le){var te=le&7,re=le>>>3;return(V[re]|(te<=5?0:V[re+1]<<8))>>>te&7}function Ee(V,le){var te=le&7,re=le>>>3;return(V[re]|(te<=4?0:V[re+1]<<8))>>>te&15}function de(V,le){var te=le&7,re=le>>>3;return(V[re]|(te<=3?0:V[re+1]<<8))>>>te&31}function We(V,le){var te=le&7,re=le>>>3;return(V[re]|(te<=1?0:V[re+1]<<8))>>>te&127}function tt(V,le,te){var re=le&7,oe=le>>>3,ce=(1<<te)-1,ke=V[oe]>>>re;return te<8-re||(ke|=V[oe+1]<<8-re,te<16-re)||(ke|=V[oe+2]<<16-re,te<24-re)||(ke|=V[oe+3]<<24-re),ke&ce}function $e(V,le,te){var re=le&7,oe=le>>>3;return re<=5?V[oe]|=(te&7)<<re:(V[oe]|=te<<re&255,V[oe+1]=(te&7)>>8-re),le+3}function Je(V,le,te){var re=le&7,oe=le>>>3;return te=(te&1)<<re,V[oe]|=te,le+1}function rt(V,le,te){var re=le&7,oe=le>>>3;return te<<=re,V[oe]|=te&255,te>>>=8,V[oe+1]=te,le+8}function at(V,le,te){var re=le&7,oe=le>>>3;return te<<=re,V[oe]|=te&255,te>>>=8,V[oe+1]=te&255,V[oe+2]=te>>>8,le+16}function ft(V,le){var te=V.length,re=2*te>le?2*te:le+5,oe=0;if(te>=le)return V;if(zt){var ce=Au(re);if(V.copy)V.copy(ce);else for(;oe<V.length;++oe)ce[oe]=V[oe];return ce}else if(X){var ke=new Uint8Array(re);if(ke.set)ke.set(V);else for(;oe<te;++oe)ke[oe]=V[oe];return ke}return V.length=re,V}function mt(V){for(var le=new Array(V),te=0;te<V;++te)le[te]=0;return le}function Nt(V,le,te){var re=1,oe=0,ce=0,ke=0,Le=0,Se=V.length,Ce=X?new Uint16Array(32):mt(32);for(ce=0;ce<32;++ce)Ce[ce]=0;for(ce=Se;ce<te;++ce)V[ce]=0;Se=V.length;var Te=X?new Uint16Array(Se):mt(Se);for(ce=0;ce<Se;++ce)Ce[oe=V[ce]]++,re<oe&&(re=oe),Te[ce]=0;for(Ce[0]=0,ce=1;ce<=re;++ce)Ce[ce+16]=Le=Le+Ce[ce-1]<<1;for(ce=0;ce<Se;++ce)Le=V[ce],Le!=0&&(Te[ce]=Ce[Le+16]++);var Ye=0;for(ce=0;ce<Se;++ce)if(Ye=V[ce],Ye!=0)for(Le=De(Te[ce],re)>>re-Ye,ke=(1<<re+4-Ye)-1;ke>=0;--ke)le[Le|ke<<Ye]=Ye&15|ce<<4;return re}var Tt=X?new Uint16Array(512):mt(512),Ot=X?new Uint16Array(32):mt(32);if(!X){for(var Dt=0;Dt<512;++Dt)Tt[Dt]=0;for(Dt=0;Dt<32;++Dt)Ot[Dt]=0}(function(){for(var V=[],le=0;le<32;le++)V.push(5);Nt(V,Ot,32);var te=[];for(le=0;le<=143;le++)te.push(8);for(;le<=255;le++)te.push(9);for(;le<=279;le++)te.push(7);for(;le<=287;le++)te.push(8);Nt(te,Tt,288)})();var yt=function(){for(var le=X?new Uint8Array(32768):[],te=0,re=0;te<fe.length-1;++te)for(;re<fe[te+1];++re)le[re]=te;for(;re<32768;++re)le[re]=29;var oe=X?new Uint8Array(259):[];for(te=0,re=0;te<Y.length-1;++te)for(;re<Y[te+1];++re)oe[re]=te;function ce(Le,Se){for(var Ce=0;Ce<Le.length;){var Te=Math.min(65535,Le.length-Ce),Ye=Ce+Te==Le.length;for(Se.write_shift(1,+Ye),Se.write_shift(2,Te),Se.write_shift(2,~Te&65535);Te-- >0;)Se[Se.l++]=Le[Ce++]}return Se.l}function ke(Le,Se){for(var Ce=0,Te=0,Ye=X?new Uint16Array(32768):[];Te<Le.length;){var Qe=Math.min(65535,Le.length-Te);if(Qe<10){for(Ce=$e(Se,Ce,+(Te+Qe==Le.length)),Ce&7&&(Ce+=8-(Ce&7)),Se.l=Ce/8|0,Se.write_shift(2,Qe),Se.write_shift(2,~Qe&65535);Qe-- >0;)Se[Se.l++]=Le[Te++];Ce=Se.l*8;continue}Ce=$e(Se,Ce,+(Te+Qe==Le.length)+2);for(var lt=0;Qe-- >0;){var Xe=Le[Te];lt=(lt<<5^Xe)&32767;var ot=-1,wt=0;if((ot=Ye[lt])&&(ot|=Te&-32768,ot>Te&&(ot-=32768),ot<Te))for(;Le[ot+wt]==Le[Te+wt]&&wt<250;)++wt;if(wt>2){Xe=oe[wt],Xe<=22?Ce=rt(Se,Ce,me[Xe+1]>>1)-1:(rt(Se,Ce,3),Ce+=5,rt(Se,Ce,me[Xe-23]>>5),Ce+=3);var $t=Xe<8?0:Xe-4>>2;$t>0&&(at(Se,Ce,wt-Y[Xe]),Ce+=$t),Xe=le[Te-ot],Ce=rt(Se,Ce,me[Xe]>>3),Ce-=3;var er=Xe<4?0:Xe-2>>1;er>0&&(at(Se,Ce,Te-ot-fe[Xe]),Ce+=er);for(var Er=0;Er<wt;++Er)Ye[lt]=Te&32767,lt=(lt<<5^Le[Te])&32767,++Te;Qe-=wt-1}else Xe<=143?Xe=Xe+48:Ce=Je(Se,Ce,1),Ce=rt(Se,Ce,me[Xe]),Ye[lt]=Te&32767,++Te}Ce=rt(Se,Ce,0)-1}return Se.l=(Ce+7)/8|0,Se.l}return function(Se,Ce){return Se.length<8?ce(Se,Ce):ke(Se,Ce)}}();function Ft(V){var le=Me(50+Math.floor(V.length*1.1)),te=yt(V,le);return le.slice(0,te)}var it=X?new Uint16Array(32768):mt(32768),Rr=X?new Uint16Array(32768):mt(32768),Rt=X?new Uint16Array(128):mt(128),ws=1,Vt=1;function or(V,le){var te=de(V,le)+257;le+=5;var re=de(V,le)+1;le+=5;var oe=Ee(V,le)+4;le+=4;for(var ce=0,ke=X?new Uint8Array(19):mt(19),Le=[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0],Se=1,Ce=X?new Uint8Array(8):mt(8),Te=X?new Uint8Array(8):mt(8),Ye=ke.length,Qe=0;Qe<oe;++Qe)ke[B[Qe]]=ce=Ke(V,le),Se<ce&&(Se=ce),Ce[ce]++,le+=3;var lt=0;for(Ce[0]=0,Qe=1;Qe<=Se;++Qe)Te[Qe]=lt=lt+Ce[Qe-1]<<1;for(Qe=0;Qe<Ye;++Qe)(lt=ke[Qe])!=0&&(Le[Qe]=Te[lt]++);var Xe=0;for(Qe=0;Qe<Ye;++Qe)if(Xe=ke[Qe],Xe!=0){lt=me[Le[Qe]]>>8-Xe;for(var ot=(1<<7-Xe)-1;ot>=0;--ot)Rt[lt|ot<<Xe]=Xe&7|Qe<<3}var wt=[];for(Se=1;wt.length<te+re;)switch(lt=Rt[We(V,le)],le+=lt&7,lt>>>=3){case 16:for(ce=3+Ve(V,le),le+=2,lt=wt[wt.length-1];ce-- >0;)wt.push(lt);break;case 17:for(ce=3+Ke(V,le),le+=3;ce-- >0;)wt.push(0);break;case 18:for(ce=11+We(V,le),le+=7;ce-- >0;)wt.push(0);break;default:wt.push(lt),Se<lt&&(Se=lt);break}var $t=wt.slice(0,te),er=wt.slice(te);for(Qe=te;Qe<286;++Qe)$t[Qe]=0;for(Qe=re;Qe<30;++Qe)er[Qe]=0;return ws=Nt($t,it,286),Vt=Nt(er,Rr,30),le}function Gs(V,le){if(V[0]==3&&!(V[1]&3))return[ai(le),2];for(var te=0,re=0,oe=Au(le||1<<18),ce=0,ke=oe.length>>>0,Le=0,Se=0;!(re&1);){if(re=Ke(V,te),te+=3,re>>>1)re>>1==1?(Le=9,Se=5):(te=or(V,te),Le=ws,Se=Vt);else{te&7&&(te+=8-(te&7));var Ce=V[te>>>3]|V[(te>>>3)+1]<<8;if(te+=32,Ce>0)for(!le&&ke<ce+Ce&&(oe=ft(oe,ce+Ce),ke=oe.length);Ce-- >0;)oe[ce++]=V[te>>>3],te+=8;continue}for(;;){!le&&ke<ce+32767&&(oe=ft(oe,ce+32767),ke=oe.length);var Te=tt(V,te,Le),Ye=re>>>1==1?Tt[Te]:it[Te];if(te+=Ye&15,Ye>>>=4,!(Ye>>>8&255))oe[ce++]=Ye;else{if(Ye==256)break;Ye-=257;var Qe=Ye<8?0:Ye-4>>2;Qe>5&&(Qe=0);var lt=ce+Y[Ye];Qe>0&&(lt+=tt(V,te,Qe),te+=Qe),Te=tt(V,te,Se),Ye=re>>>1==1?Ot[Te]:Rr[Te],te+=Ye&15,Ye>>>=4;var Xe=Ye<4?0:Ye-2>>1,ot=fe[Ye];for(Xe>0&&(ot+=tt(V,te,Xe),te+=Xe),!le&&ke<lt&&(oe=ft(oe,lt+100),ke=oe.length);ce<lt;)oe[ce]=oe[ce-ot],++ce}}}return le?[oe,te+7>>>3]:[oe.slice(0,ce),te+7>>>3]}function Bt(V,le){var te=V.slice(V.l||0),re=Gs(te,le);return V.l+=re[1],re[0]}function ka(V,le){if(V)typeof console<"u"&&console.error(le);else throw new Error(le)}function dr(V,le){var te=V;Ws(te,0);var re=[],oe=[],ce={FileIndex:re,FullPaths:oe};T(ce,{root:le.root});for(var ke=te.length-4;(te[ke]!=80||te[ke+1]!=75||te[ke+2]!=5||te[ke+3]!=6)&&ke>=0;)--ke;te.l=ke+4,te.l+=4;var Le=te.read_shift(2);te.l+=6;var Se=te.read_shift(4);for(te.l=Se,ke=0;ke<Le;++ke){te.l+=20;var Ce=te.read_shift(4),Te=te.read_shift(4),Ye=te.read_shift(2),Qe=te.read_shift(2),lt=te.read_shift(2);te.l+=8;var Xe=te.read_shift(4),ot=c(te.slice(te.l+Ye,te.l+Ye+Qe));te.l+=Ye+Qe+lt;var wt=te.l;te.l=Xe+4,Os(te,Ce,Te,ce,ot),te.l=wt}return ce}function Os(V,le,te,re,oe){V.l+=2;var ce=V.read_shift(2),ke=V.read_shift(2),Le=l(V);if(ce&8257)throw new Error("Unsupported ZIP encryption");for(var Se=V.read_shift(4),Ce=V.read_shift(4),Te=V.read_shift(4),Ye=V.read_shift(2),Qe=V.read_shift(2),lt="",Xe=0;Xe<Ye;++Xe)lt+=String.fromCharCode(V[V.l++]);if(Qe){var ot=c(V.slice(V.l,V.l+Qe));(ot[21589]||{}).mt&&(Le=ot[21589].mt),((oe||{})[21589]||{}).mt&&(Le=oe[21589].mt)}V.l+=Qe;var wt=V.slice(V.l,V.l+Ce);switch(ke){case 8:wt=R(V,Te);break;case 0:break;default:throw new Error("Unsupported ZIP Compression method "+ke)}var $t=!1;ce&8&&(Se=V.read_shift(4),Se==134695760&&(Se=V.read_shift(4),$t=!0),Ce=V.read_shift(4),Te=V.read_shift(4)),Ce!=le&&ka($t,"Bad compressed size: "+le+" != "+Ce),Te!=te&&ka($t,"Bad uncompressed size: "+te+" != "+Te),Ns(re,lt,wt,{unsafe:!0,mt:Le})}function ia(V,le){var te=le||{},re=[],oe=[],ce=Me(1),ke=te.compression?8:0,Le=0,Se=0,Ce=0,Te=0,Ye=0,Qe=V.FullPaths[0],lt=Qe,Xe=V.FileIndex[0],ot=[],wt=0;for(Se=1;Se<V.FullPaths.length;++Se)if(lt=V.FullPaths[Se].slice(Qe.length),Xe=V.FileIndex[Se],!(!Xe.size||!Xe.content||lt=="Sh33tJ5")){var $t=Te,er=Me(lt.length);for(Ce=0;Ce<lt.length;++Ce)er.write_shift(1,lt.charCodeAt(Ce)&127);er=er.slice(0,er.l),ot[Ye]=vv.buf(Xe.content,0);var Er=Xe.content;ke==8&&(Er=M(Er)),ce=Me(30),ce.write_shift(4,67324752),ce.write_shift(2,20),ce.write_shift(2,Le),ce.write_shift(2,ke),Xe.mt?o(ce,Xe.mt):ce.write_shift(4,0),ce.write_shift(-4,ot[Ye]),ce.write_shift(4,Er.length),ce.write_shift(4,Xe.content.length),ce.write_shift(2,er.length),ce.write_shift(2,0),Te+=ce.length,re.push(ce),Te+=er.length,re.push(er),Te+=Er.length,re.push(Er),ce=Me(46),ce.write_shift(4,33639248),ce.write_shift(2,0),ce.write_shift(2,20),ce.write_shift(2,Le),ce.write_shift(2,ke),ce.write_shift(4,0),ce.write_shift(-4,ot[Ye]),ce.write_shift(4,Er.length),ce.write_shift(4,Xe.content.length),ce.write_shift(2,er.length),ce.write_shift(2,0),ce.write_shift(2,0),ce.write_shift(2,0),ce.write_shift(2,0),ce.write_shift(4,0),ce.write_shift(4,$t),wt+=ce.l,oe.push(ce),wt+=er.length,oe.push(er),++Ye}return ce=Me(22),ce.write_shift(4,101010256),ce.write_shift(2,0),ce.write_shift(2,0),ce.write_shift(2,Ye),ce.write_shift(2,Ye),ce.write_shift(4,wt),ce.write_shift(4,Te),ce.write_shift(2,0),Zr([Zr(re),Zr(oe),ce])}var sr={htm:"text/html",xml:"text/xml",gif:"image/gif",jpg:"image/jpeg",png:"image/png",mso:"application/x-mso",thmx:"application/vnd.ms-officetheme",sh33tj5:"application/octet-stream"};function jt(V,le){if(V.ctype)return V.ctype;var te=V.name||"",re=te.match(/\.([^\.]+)$/);return re&&sr[re[1]]||le&&(re=(te=le).match(/[\.\\]([^\.\\])+$/),re&&sr[re[1]])?sr[re[1]]:"application/octet-stream"}function Ht(V){for(var le=al(V),te=[],re=0;re<le.length;re+=76)te.push(le.slice(re,re+76));return te.join(`\r
`)+`\r
`}function Wa(V){var le=V.replace(/[\x00-\x08\x0B\x0C\x0E-\x1F\x7E-\xFF=]/g,function(Ce){var Te=Ce.charCodeAt(0).toString(16).toUpperCase();return"="+(Te.length==1?"0"+Te:Te)});le=le.replace(/ $/mg,"=20").replace(/\t$/mg,"=09"),le.charAt(0)==`
`&&(le="=0D"+le.slice(1)),le=le.replace(/\r(?!\n)/mg,"=0D").replace(/\n\n/mg,`
=0A`).replace(/([^\r\n])\n/mg,"$1=0A");for(var te=[],re=le.split(`\r
`),oe=0;oe<re.length;++oe){var ce=re[oe];if(ce.length==0){te.push("");continue}for(var ke=0;ke<ce.length;){var Le=76,Se=ce.slice(ke,ke+Le);Se.charAt(Le-1)=="="?Le--:Se.charAt(Le-2)=="="?Le-=2:Se.charAt(Le-3)=="="&&(Le-=3),Se=ce.slice(ke,ke+Le),ke+=Le,ke<ce.length&&(Se+="="),te.push(Se)}}return te.join(`\r
`)}function Mr(V){for(var le=[],te=0;te<V.length;++te){for(var re=V[te];te<=V.length&&re.charAt(re.length-1)=="=";)re=re.slice(0,re.length-1)+V[++te];le.push(re)}for(var oe=0;oe<le.length;++oe)le[oe]=le[oe].replace(/[=][0-9A-Fa-f]{2}/g,function(ce){return String.fromCharCode(parseInt(ce.slice(1),16))});return ya(le.join(`\r
`))}function Ys(V,le,te){for(var re="",oe="",ce="",ke,Le=0;Le<10;++Le){var Se=le[Le];if(!Se||Se.match(/^\s*$/))break;var Ce=Se.match(/^(.*?):\s*([^\s].*)$/);if(Ce)switch(Ce[1].toLowerCase()){case"content-location":re=Ce[2].trim();break;case"content-type":ce=Ce[2].trim();break;case"content-transfer-encoding":oe=Ce[2].trim();break}}switch(++Le,oe.toLowerCase()){case"base64":ke=ya(sn(le.slice(Le).join("")));break;case"quoted-printable":ke=Mr(le.slice(Le));break;default:throw new Error("Unsupported Content-Transfer-Encoding "+oe)}var Te=Ns(V,re.slice(te.length),ke,{unsafe:!0});ce&&(Te.ctype=ce)}function Ks(V,le){if(ne(V.slice(0,13)).toLowerCase()!="mime-version:")throw new Error("Unsupported MAD header");var te=le&&le.root||"",re=(zt&&Buffer.isBuffer(V)?V.toString("binary"):ne(V)).split(`\r
`),oe=0,ce="";for(oe=0;oe<re.length;++oe)if(ce=re[oe],!!/^Content-Location:/i.test(ce)&&(ce=ce.slice(ce.indexOf("file")),te||(te=ce.slice(0,ce.lastIndexOf("/")+1)),ce.slice(0,te.length)!=te))for(;te.length>0&&(te=te.slice(0,te.length-1),te=te.slice(0,te.lastIndexOf("/")+1),ce.slice(0,te.length)!=te););var ke=(re[1]||"").match(/boundary="(.*?)"/);if(!ke)throw new Error("MAD cannot find boundary");var Le="--"+(ke[1]||""),Se=[],Ce=[],Te={FileIndex:Se,FullPaths:Ce};T(Te);var Ye,Qe=0;for(oe=0;oe<re.length;++oe){var lt=re[oe];lt!==Le&&lt!==Le+"--"||(Qe++&&Ys(Te,re.slice(Ye,oe),te),Ye=oe)}return Te}function pt(V,le){var te=le||{},re=te.boundary||"SheetJS";re="------="+re;for(var oe=["MIME-Version: 1.0",'Content-Type: multipart/related; boundary="'+re.slice(2)+'"',"","",""],ce=V.FullPaths[0],ke=ce,Le=V.FileIndex[0],Se=1;Se<V.FullPaths.length;++Se)if(ke=V.FullPaths[Se].slice(ce.length),Le=V.FileIndex[Se],!(!Le.size||!Le.content||ke=="Sh33tJ5")){ke=ke.replace(/[\x00-\x08\x0B\x0C\x0E-\x1F\x7E-\xFF]/g,function(wt){return"_x"+wt.charCodeAt(0).toString(16)+"_"}).replace(/[\u0080-\uFFFF]/g,function(wt){return"_u"+wt.charCodeAt(0).toString(16)+"_"});for(var Ce=Le.content,Te=zt&&Buffer.isBuffer(Ce)?Ce.toString("binary"):ne(Ce),Ye=0,Qe=Math.min(1024,Te.length),lt=0,Xe=0;Xe<=Qe;++Xe)(lt=Te.charCodeAt(Xe))>=32&&lt<128&&++Ye;var ot=Ye>=Qe*4/5;oe.push(re),oe.push("Content-Location: "+(te.root||"file:///C:/SheetJS/")+ke),oe.push("Content-Transfer-Encoding: "+(ot?"quoted-printable":"base64")),oe.push("Content-Type: "+jt(Le,ke)),oe.push(""),oe.push(ot?Wa(Te):Ht(Te))}return oe.push(re+`--\r
`),oe.join(`\r
`)}function Ds(V){var le={};return T(le,V),le}function Ns(V,le,te,re){var oe=re&&re.unsafe;oe||T(V);var ce=!oe&&rr.find(V,le);if(!ce){var ke=V.FullPaths[0];le.slice(0,ke.length)==ke?ke=le:(ke.slice(-1)!="/"&&(ke+="/"),ke=(ke+le).replace("//","/")),ce={name:n(le),type:2},V.FileIndex.push(ce),V.FullPaths.push(ke),oe||rr.utils.cfb_gc(V)}return ce.content=te,ce.size=te?te.length:0,re&&(re.CLSID&&(ce.clsid=re.CLSID),re.mt&&(ce.mt=re.mt),re.ct&&(ce.ct=re.ct)),ce}function ss(V,le){T(V);var te=rr.find(V,le);if(te){for(var re=0;re<V.FileIndex.length;++re)if(V.FileIndex[re]==te)return V.FileIndex.splice(re,1),V.FullPaths.splice(re,1),!0}return!1}function jr(V,le,te){T(V);var re=rr.find(V,le);if(re){for(var oe=0;oe<V.FileIndex.length;++oe)if(V.FileIndex[oe]==re)return V.FileIndex[oe].name=n(te),V.FullPaths[oe]=te,!0}return!1}function gr(V){I(V,!0)}return s.find=E,s.read=F,s.parse=u,s.write=pe,s.writeFile=ie,s.utils={cfb_new:Ds,cfb_add:Ns,cfb_del:ss,cfb_mov:jr,cfb_gc:gr,ReadShift:Jo,CheckField:Bm,prep_blob:Ws,bconcat:Zr,use_zlib:_,_deflateRaw:Ft,_inflateRaw:Bt,consts:ee},s}();function yv(t){return typeof t=="string"?ed(t):Array.isArray(t)?V2(t):t}function hl(t,s,r){if(typeof Deno<"u"){if(r&&typeof s=="string")switch(r){case"utf8":s=new TextEncoder(r).encode(s);break;case"binary":s=ed(s);break;default:throw new Error("Unsupported encoding "+r)}return Deno.writeFileSync(t,s)}var a=r=="utf8"?il(s):s;if(typeof IE_SaveFile<"u")return IE_SaveFile(a,t);if(typeof Blob<"u"){var n=new Blob([yv(a)],{type:"application/octet-stream"});if(typeof navigator<"u"&&navigator.msSaveBlob)return navigator.msSaveBlob(n,t);if(typeof saveAs<"u")return saveAs(n,t);if(typeof URL<"u"&&typeof document<"u"&&document.createElement&&URL.createObjectURL){var o=URL.createObjectURL(n);if(typeof chrome=="object"&&typeof(chrome.downloads||{}).download=="function")return URL.revokeObjectURL&&typeof setTimeout<"u"&&setTimeout(function(){URL.revokeObjectURL(o)},6e4),chrome.downloads.download({url:o,filename:t,saveAs:!0});var l=document.createElement("a");if(l.download!=null)return l.download=t,l.href=o,document.body.appendChild(l),l.click(),document.body.removeChild(l),URL.revokeObjectURL&&typeof setTimeout<"u"&&setTimeout(function(){URL.revokeObjectURL(o)},6e4),o}}if(typeof $<"u"&&typeof File<"u"&&typeof Folder<"u")try{var c=File(t);return c.open("w"),c.encoding="binary",Array.isArray(s)&&(s=dl(s)),c.write(s),c.close(),s}catch(d){if(!d.message||!d.message.match(/onstruct/))throw d}throw new Error("cannot save file "+t)}function rs(t){for(var s=Object.keys(t),r=[],a=0;a<s.length;++a)Object.prototype.hasOwnProperty.call(t,s[a])&&r.push(s[a]);return r}function Ou(t,s){for(var r=[],a=rs(t),n=0;n!==a.length;++n)r[t[a[n]][s]]==null&&(r[t[a[n]][s]]=a[n]);return r}function X0(t){for(var s=[],r=rs(t),a=0;a!==r.length;++a)s[t[r[a]]]=r[a];return s}function sd(t){for(var s=[],r=rs(t),a=0;a!==r.length;++a)s[t[r[a]]]=parseInt(r[a],10);return s}function bv(t){for(var s=[],r=rs(t),a=0;a!==r.length;++a)s[t[r[a]]]==null&&(s[t[r[a]]]=[]),s[t[r[a]]].push(r[a]);return s}var Bc=new Date(1899,11,30,0,0,0);function Ps(t,s){var r=t.getTime(),a=Bc.getTime()+(t.getTimezoneOffset()-Bc.getTimezoneOffset())*6e4;return(r-a)/(24*60*60*1e3)}var Nm=new Date,wv=Bc.getTime()+(Nm.getTimezoneOffset()-Bc.getTimezoneOffset())*6e4,Du=Nm.getTimezoneOffset();function jm(t){var s=new Date;return s.setTime(t*24*60*60*1e3+wv),s.getTimezoneOffset()!==Du&&s.setTime(s.getTime()+(s.getTimezoneOffset()-Du)*6e4),s}var Iu=new Date("2017-02-19T19:06:09.000Z"),Sm=isNaN(Iu.getFullYear())?new Date("2/19/17"):Iu,Nv=Sm.getFullYear()==2017;function ys(t,s){var r=new Date(t);if(Nv)return s>0?r.setTime(r.getTime()+r.getTimezoneOffset()*60*1e3):s<0&&r.setTime(r.getTime()-r.getTimezoneOffset()*60*1e3),r;if(t instanceof Date)return t;if(Sm.getFullYear()==1917&&!isNaN(r.getFullYear())){var a=r.getFullYear();return t.indexOf(""+a)>-1||r.setFullYear(r.getFullYear()+100),r}var n=t.match(/\d+/g)||["2017","2","19","0","0","0"],o=new Date(+n[0],+n[1]-1,+n[2],+n[3]||0,+n[4]||0,+n[5]||0);return t.indexOf("Z")>-1&&(o=new Date(o.getTime()-o.getTimezoneOffset()*60*1e3)),o}function ad(t,s){if(zt&&Buffer.isBuffer(t))return t.toString("binary");if(typeof TextDecoder<"u")try{var r={"â‚¬":"Â€","â€š":"Â‚",Æ’:"Âƒ","â€ž":"Â„","â€¦":"Â…","â€ ":"Â†","â€¡":"Â‡","Ë†":"Âˆ","â€°":"Â‰",Å :"ÂŠ","â€¹":"Â‹",Å’:"ÂŒ",Å½:"ÂŽ","â€˜":"Â‘","â€™":"Â’","â€œ":"Â“","â€":"Â”","â€¢":"Â•","â€“":"Â–","â€”":"Â—","Ëœ":"Â˜","â„¢":"Â™",Å¡:"Âš","â€º":"Â›",Å“:"Âœ",Å¾:"Âž",Å¸:"ÂŸ"};return Array.isArray(t)&&(t=new Uint8Array(t)),new TextDecoder("latin1").decode(t).replace(/[â‚¬â€šÆ’â€žâ€¦â€ â€¡Ë†â€°Å â€¹Å’Å½â€˜â€™â€œâ€â€¢â€“â€”Ëœâ„¢Å¡â€ºÅ“Å¾Å¸]/g,function(o){return r[o]||o})}catch{}for(var a=[],n=0;n!=t.length;++n)a.push(String.fromCharCode(t[n]));return a.join("")}function Fs(t){if(typeof JSON<"u"&&!Array.isArray(t))return JSON.parse(JSON.stringify(t));if(typeof t!="object"||t==null)return t;if(t instanceof Date)return new Date(t.getTime());var s={};for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&(s[r]=Fs(t[r]));return s}function wr(t,s){for(var r="";r.length<s;)r+=t;return r}function tn(t){var s=Number(t);if(!isNaN(s))return isFinite(s)?s:NaN;if(!/\d/.test(t))return s;var r=1,a=t.replace(/([\d]),([\d])/g,"$1$2").replace(/[$]/g,"").replace(/[%]/g,function(){return r*=100,""});return!isNaN(s=Number(a))||(a=a.replace(/[(](.*)[)]/,function(n,o){return r=-r,o}),!isNaN(s=Number(a)))?s/r:s}var jv=["january","february","march","april","may","june","july","august","september","october","november","december"];function nl(t){var s=new Date(t),r=new Date(NaN),a=s.getYear(),n=s.getMonth(),o=s.getDate();if(isNaN(o))return r;var l=t.toLowerCase();if(l.match(/jan|feb|mar|apr|may|jun|jul|aug|sep|oct|nov|dec/)){if(l=l.replace(/[^a-z]/g,"").replace(/([^a-z]|^)[ap]m?([^a-z]|$)/,""),l.length>3&&jv.indexOf(l)==-1)return r}else if(l.match(/[a-z]/))return r;return a<0||a>8099?r:(n>0||o>1)&&a!=101?s:t.match(/[^-0-9:,\/\\]/)?r:s}function Lt(t,s,r){if(t.FullPaths){if(typeof r=="string"){var a;return zt?a=nn(r):a=$2(r),rr.utils.cfb_add(t,s,a)}rr.utils.cfb_add(t,s,r)}else t.file(s,r)}function J0(){return rr.utils.cfb_new()}var Ir=`<?xml version="1.0" encoding="UTF-8" standalone="yes"?>\r
`,Sv={"&quot;":'"',"&apos;":"'","&gt;":">","&lt;":"<","&amp;":"&"},Q0=X0(Sv),Z0=/[&<>'"]/g,kv=/[\u0000-\u0008\u000b-\u001f]/g;function Jt(t){var s=t+"";return s.replace(Z0,function(r){return Q0[r]}).replace(kv,function(r){return"_x"+("000"+r.charCodeAt(0).toString(16)).slice(-4)+"_"})}function Ru(t){return Jt(t).replace(/ /g,"_x0020_")}var km=/[\u0000-\u001f]/g;function Av(t){var s=t+"";return s.replace(Z0,function(r){return Q0[r]}).replace(/\n/g,"<br/>").replace(km,function(r){return"&#x"+("000"+r.charCodeAt(0).toString(16)).slice(-4)+";"})}function _v(t){var s=t+"";return s.replace(Z0,function(r){return Q0[r]}).replace(km,function(r){return"&#x"+r.charCodeAt(0).toString(16).toUpperCase()+";"})}function Cv(t){return t.replace(/(\r\n|[\r\n])/g,"&#10;")}function Tv(t){switch(t){case 1:case!0:case"1":case"true":case"TRUE":return!0;default:return!1}}function l0(t){for(var s="",r=0,a=0,n=0,o=0,l=0,c=0;r<t.length;){if(a=t.charCodeAt(r++),a<128){s+=String.fromCharCode(a);continue}if(n=t.charCodeAt(r++),a>191&&a<224){l=(a&31)<<6,l|=n&63,s+=String.fromCharCode(l);continue}if(o=t.charCodeAt(r++),a<240){s+=String.fromCharCode((a&15)<<12|(n&63)<<6|o&63);continue}l=t.charCodeAt(r++),c=((a&7)<<18|(n&63)<<12|(o&63)<<6|l&63)-65536,s+=String.fromCharCode(55296+(c>>>10&1023)),s+=String.fromCharCode(56320+(c&1023))}return s}function Mu(t){var s=ai(2*t.length),r,a,n=1,o=0,l=0,c;for(a=0;a<t.length;a+=n)n=1,(c=t.charCodeAt(a))<128?r=c:c<224?(r=(c&31)*64+(t.charCodeAt(a+1)&63),n=2):c<240?(r=(c&15)*4096+(t.charCodeAt(a+1)&63)*64+(t.charCodeAt(a+2)&63),n=3):(n=4,r=(c&7)*262144+(t.charCodeAt(a+1)&63)*4096+(t.charCodeAt(a+2)&63)*64+(t.charCodeAt(a+3)&63),r-=65536,l=55296+(r>>>10&1023),r=56320+(r&1023)),l!==0&&(s[o++]=l&255,s[o++]=l>>>8,l=0),s[o++]=r%256,s[o++]=r>>>8;return s.slice(0,o).toString("ucs2")}function Bu(t){return nn(t,"binary").toString("utf8")}var bc="foo bar bazÃ¢Â˜ÂƒÃ°ÂŸÂÂ£",Xo=zt&&(Bu(bc)==l0(bc)&&Bu||Mu(bc)==l0(bc)&&Mu)||l0,il=zt?function(t){return nn(t,"utf8").toString("binary")}:function(t){for(var s=[],r=0,a=0,n=0;r<t.length;)switch(a=t.charCodeAt(r++),!0){case a<128:s.push(String.fromCharCode(a));break;case a<2048:s.push(String.fromCharCode(192+(a>>6))),s.push(String.fromCharCode(128+(a&63)));break;case(a>=55296&&a<57344):a-=55296,n=t.charCodeAt(r++)-56320+(a<<10),s.push(String.fromCharCode(240+(n>>18&7))),s.push(String.fromCharCode(144+(n>>12&63))),s.push(String.fromCharCode(128+(n>>6&63))),s.push(String.fromCharCode(128+(n&63)));break;default:s.push(String.fromCharCode(224+(a>>12))),s.push(String.fromCharCode(128+(a>>6&63))),s.push(String.fromCharCode(128+(a&63)))}return s.join("")},Ev=function(){var t=[["nbsp"," "],["middot","Â·"],["quot",'"'],["apos","'"],["gt",">"],["lt","<"],["amp","&"]].map(function(s){return[new RegExp("&"+s[0]+";","ig"),s[1]]});return function(r){for(var a=r.replace(/^[\t\n\r ]+/,"").replace(/[\t\n\r ]+$/,"").replace(/>\s+/g,">").replace(/\s+</g,"<").replace(/[\t\n\r ]+/g," ").replace(/<\s*[bB][rR]\s*\/?>/g,`
`).replace(/<[^>]*>/g,""),n=0;n<t.length;++n)a=a.replace(t[n][0],t[n][1]);return a}}(),Am=/(^\s|\s$|\n)/;function es(t,s){return"<"+t+(s.match(Am)?' xml:space="preserve"':"")+">"+s+"</"+t+">"}function ol(t){return rs(t).map(function(s){return" "+s+'="'+t[s]+'"'}).join("")}function Ze(t,s,r){return"<"+t+(r!=null?ol(r):"")+(s!=null?(s.match(Am)?' xml:space="preserve"':"")+">"+s+"</"+t:"/")+">"}function D0(t,s){try{return t.toISOString().replace(/\.\d*/,"")}catch(r){if(s)throw r}return""}function Pv(t,s){switch(typeof t){case"string":var r=Ze("vt:lpwstr",Jt(t));return r=r.replace(/&quot;/g,"_x0022_"),r;case"number":return Ze((t|0)==t?"vt:i4":"vt:r8",Jt(String(t)));case"boolean":return Ze("vt:bool",t?"true":"false")}if(t instanceof Date)return Ze("vt:filetime",D0(t));throw new Error("Unable to serialize "+t)}var $r={CORE_PROPS:"http://schemas.openxmlformats.org/package/2006/metadata/core-properties",CUST_PROPS:"http://schemas.openxmlformats.org/officeDocument/2006/custom-properties",EXT_PROPS:"http://schemas.openxmlformats.org/officeDocument/2006/extended-properties",CT:"http://schemas.openxmlformats.org/package/2006/content-types",RELS:"http://schemas.openxmlformats.org/package/2006/relationships",TCMNT:"http://schemas.microsoft.com/office/spreadsheetml/2018/threadedcomments",dc:"http://purl.org/dc/elements/1.1/",dcterms:"http://purl.org/dc/terms/",dcmitype:"http://purl.org/dc/dcmitype/",r:"http://schemas.openxmlformats.org/officeDocument/2006/relationships",vt:"http://schemas.openxmlformats.org/officeDocument/2006/docPropsVTypes",xsi:"http://www.w3.org/2001/XMLSchema-instance",xsd:"http://www.w3.org/2001/XMLSchema"},so=["http://schemas.openxmlformats.org/spreadsheetml/2006/main","http://purl.oclc.org/ooxml/spreadsheetml/main","http://schemas.microsoft.com/office/excel/2006/main","http://schemas.microsoft.com/office/excel/2006/2"],qs={o:"urn:schemas-microsoft-com:office:office",x:"urn:schemas-microsoft-com:office:excel",ss:"urn:schemas-microsoft-com:office:spreadsheet",dt:"uuid:C2F41010-65B3-11d1-A29F-00AA00C14882",mv:"http://macVmlSchemaUri",v:"urn:schemas-microsoft-com:vml",html:"http://www.w3.org/TR/REC-html40"};function Fv(t,s){for(var r=1-2*(t[s+7]>>>7),a=((t[s+7]&127)<<4)+(t[s+6]>>>4&15),n=t[s+6]&15,o=5;o>=0;--o)n=n*256+t[s+o];return a==2047?n==0?r*(1/0):NaN:(a==0?a=-1022:(a-=1023,n+=Math.pow(2,52)),r*Math.pow(2,a-52)*n)}function Lv(t,s,r){var a=(s<0||1/s==-1/0?1:0)<<7,n=0,o=0,l=a?-s:s;isFinite(l)?l==0?n=o=0:(n=Math.floor(Math.log(l)/Math.LN2),o=l*Math.pow(2,52-n),n<=-1023&&(!isFinite(o)||o<Math.pow(2,52))?n=-1022:(o-=Math.pow(2,52),n+=1023)):(n=2047,o=isNaN(s)?26985:0);for(var c=0;c<=5;++c,o/=256)t[r+c]=o&255;t[r+6]=(n&15)<<4|o&15,t[r+7]=n>>4|a}var Uu=function(t){for(var s=[],r=10240,a=0;a<t[0].length;++a)if(t[0][a])for(var n=0,o=t[0][a].length;n<o;n+=r)s.push.apply(s,t[0][a].slice(n,n+r));return s},Hu=zt?function(t){return t[0].length>0&&Buffer.isBuffer(t[0][0])?Buffer.concat(t[0].map(function(s){return Buffer.isBuffer(s)?s:nn(s)})):Uu(t)}:Uu,Wu=function(t,s,r){for(var a=[],n=s;n<r;n+=2)a.push(String.fromCharCode(qo(t,n)));return a.join("").replace(Ko,"")},eh=zt?function(t,s,r){return Buffer.isBuffer(t)?t.toString("utf16le",s,r).replace(Ko,""):Wu(t,s,r)}:Wu,qu=function(t,s,r){for(var a=[],n=s;n<s+r;++n)a.push(("0"+t[n].toString(16)).slice(-2));return a.join("")},_m=zt?function(t,s,r){return Buffer.isBuffer(t)?t.toString("hex",s,s+r):qu(t,s,r)}:qu,zu=function(t,s,r){for(var a=[],n=s;n<r;n++)a.push(String.fromCharCode($i(t,n)));return a.join("")},ul=zt?function(s,r,a){return Buffer.isBuffer(s)?s.toString("utf8",r,a):zu(s,r,a)}:zu,Cm=function(t,s){var r=zs(t,s);return r>0?ul(t,s+4,s+4+r-1):""},Tm=Cm,Em=function(t,s){var r=zs(t,s);return r>0?ul(t,s+4,s+4+r-1):""},Pm=Em,Fm=function(t,s){var r=2*zs(t,s);return r>0?ul(t,s+4,s+4+r-1):""},Lm=Fm,Om=function(s,r){var a=zs(s,r);return a>0?eh(s,r+4,r+4+a):""},Dm=Om,Im=function(t,s){var r=zs(t,s);return r>0?ul(t,s+4,s+4+r):""},Rm=Im,Mm=function(t,s){return Fv(t,s)},Uc=Mm,th=function(s){return Array.isArray(s)||typeof Uint8Array<"u"&&s instanceof Uint8Array};zt&&(Tm=function(s,r){if(!Buffer.isBuffer(s))return Cm(s,r);var a=s.readUInt32LE(r);return a>0?s.toString("utf8",r+4,r+4+a-1):""},Pm=function(s,r){if(!Buffer.isBuffer(s))return Em(s,r);var a=s.readUInt32LE(r);return a>0?s.toString("utf8",r+4,r+4+a-1):""},Lm=function(s,r){if(!Buffer.isBuffer(s))return Fm(s,r);var a=2*s.readUInt32LE(r);return s.toString("utf16le",r+4,r+4+a-1)},Dm=function(s,r){if(!Buffer.isBuffer(s))return Om(s,r);var a=s.readUInt32LE(r);return s.toString("utf16le",r+4,r+4+a)},Rm=function(s,r){if(!Buffer.isBuffer(s))return Im(s,r);var a=s.readUInt32LE(r);return s.toString("utf8",r+4,r+4+a)},Uc=function(s,r){return Buffer.isBuffer(s)?s.readDoubleLE(r):Mm(s,r)},th=function(s){return Buffer.isBuffer(s)||Array.isArray(s)||typeof Uint8Array<"u"&&s instanceof Uint8Array});var $i=function(t,s){return t[s]},qo=function(t,s){return t[s+1]*256+t[s]},Ov=function(t,s){var r=t[s+1]*256+t[s];return r<32768?r:(65535-r+1)*-1},zs=function(t,s){return t[s+3]*(1<<24)+(t[s+2]<<16)+(t[s+1]<<8)+t[s]},Kn=function(t,s){return t[s+3]<<24|t[s+2]<<16|t[s+1]<<8|t[s]},Dv=function(t,s){return t[s]<<24|t[s+1]<<16|t[s+2]<<8|t[s+3]};function Jo(t,s){var r="",a,n,o=[],l,c,d,h;switch(s){case"dbcs":if(h=this.l,zt&&Buffer.isBuffer(this))r=this.slice(this.l,this.l+2*t).toString("utf16le");else for(d=0;d<t;++d)r+=String.fromCharCode(qo(this,h)),h+=2;t*=2;break;case"utf8":r=ul(this,this.l,this.l+t);break;case"utf16le":t*=2,r=eh(this,this.l,this.l+t);break;case"wstr":return Jo.call(this,t,"dbcs");case"lpstr-ansi":r=Tm(this,this.l),t=4+zs(this,this.l);break;case"lpstr-cp":r=Pm(this,this.l),t=4+zs(this,this.l);break;case"lpwstr":r=Lm(this,this.l),t=4+2*zs(this,this.l);break;case"lpp4":t=4+zs(this,this.l),r=Dm(this,this.l),t&2&&(t+=2);break;case"8lpp4":t=4+zs(this,this.l),r=Rm(this,this.l),t&3&&(t+=4-(t&3));break;case"cstr":for(t=0,r="";(l=$i(this,this.l+t++))!==0;)o.push(gc(l));r=o.join("");break;case"_wstr":for(t=0,r="";(l=qo(this,this.l+t))!==0;)o.push(gc(l)),t+=2;t+=2,r=o.join("");break;case"dbcs-cont":for(r="",h=this.l,d=0;d<t;++d){if(this.lens&&this.lens.indexOf(h)!==-1)return l=$i(this,h),this.l=h+1,c=Jo.call(this,t-d,l?"dbcs-cont":"sbcs-cont"),o.join("")+c;o.push(gc(qo(this,h))),h+=2}r=o.join(""),t*=2;break;case"cpstr":case"sbcs-cont":for(r="",h=this.l,d=0;d!=t;++d){if(this.lens&&this.lens.indexOf(h)!==-1)return l=$i(this,h),this.l=h+1,c=Jo.call(this,t-d,l?"dbcs-cont":"sbcs-cont"),o.join("")+c;o.push(gc($i(this,h))),h+=1}r=o.join("");break;default:switch(t){case 1:return a=$i(this,this.l),this.l++,a;case 2:return a=(s==="i"?Ov:qo)(this,this.l),this.l+=2,a;case 4:case-4:return s==="i"||!(this[this.l+3]&128)?(a=(t>0?Kn:Dv)(this,this.l),this.l+=4,a):(n=zs(this,this.l),this.l+=4,n);case 8:case-8:if(s==="f")return t==8?n=Uc(this,this.l):n=Uc([this[this.l+7],this[this.l+6],this[this.l+5],this[this.l+4],this[this.l+3],this[this.l+2],this[this.l+1],this[this.l+0]],0),this.l+=8,n;t=8;case 16:r=_m(this,this.l,t);break}}return this.l+=t,r}var Iv=function(t,s,r){t[r]=s&255,t[r+1]=s>>>8&255,t[r+2]=s>>>16&255,t[r+3]=s>>>24&255},Rv=function(t,s,r){t[r]=s&255,t[r+1]=s>>8&255,t[r+2]=s>>16&255,t[r+3]=s>>24&255},Mv=function(t,s,r){t[r]=s&255,t[r+1]=s>>>8&255};function Bv(t,s,r){var a=0,n=0;if(r==="dbcs"){for(n=0;n!=s.length;++n)Mv(this,s.charCodeAt(n),this.l+2*n);a=2*s.length}else if(r==="sbcs"){for(s=s.replace(/[^\x00-\x7F]/g,"_"),n=0;n!=s.length;++n)this[this.l+n]=s.charCodeAt(n)&255;a=s.length}else if(r==="hex"){for(;n<t;++n)this[this.l++]=parseInt(s.slice(2*n,2*n+2),16)||0;return this}else if(r==="utf16le"){var o=Math.min(this.l+t,this.length);for(n=0;n<Math.min(s.length,t);++n){var l=s.charCodeAt(n);this[this.l++]=l&255,this[this.l++]=l>>8}for(;this.l<o;)this[this.l++]=0;return this}else switch(t){case 1:a=1,this[this.l]=s&255;break;case 2:a=2,this[this.l]=s&255,s>>>=8,this[this.l+1]=s&255;break;case 3:a=3,this[this.l]=s&255,s>>>=8,this[this.l+1]=s&255,s>>>=8,this[this.l+2]=s&255;break;case 4:a=4,Iv(this,s,this.l);break;case 8:if(a=8,r==="f"){Lv(this,s,this.l);break}case 16:break;case-4:a=4,Rv(this,s,this.l);break}return this.l+=a,this}function Bm(t,s){var r=_m(this,this.l,t.length>>1);if(r!==t)throw new Error(s+"Expected "+t+" saw "+r);this.l+=t.length>>1}function Ws(t,s){t.l=s,t.read_shift=Jo,t.chk=Bm,t.write_shift=Bv}function Ba(t,s){t.l+=s}function Me(t){var s=ai(t);return Ws(s,0),s}function Cs(){var t=[],s=zt?256:2048,r=function(h){var u=Me(h);return Ws(u,0),u},a=r(s),n=function(){a&&(a.length>a.l&&(a=a.slice(0,a.l),a.l=a.length),a.length>0&&t.push(a),a=null)},o=function(h){return a&&h<a.length-a.l?a:(n(),a=r(Math.max(h+1,s)))},l=function(){return n(),Zr(t)},c=function(h){n(),a=h,a.l==null&&(a.l=a.length),o(s)};return{next:o,push:c,end:l,_bufs:t}}function qe(t,s,r,a){var n=+s,o;if(!isNaN(n)){a||(a=FN[n].p||(r||[]).length||0),o=1+(n>=128?1:0)+1,a>=128&&++o,a>=16384&&++o,a>=2097152&&++o;var l=t.next(o);n<=127?l.write_shift(1,n):(l.write_shift(1,(n&127)+128),l.write_shift(1,n>>7));for(var c=0;c!=4;++c)if(a>=128)l.write_shift(1,(a&127)+128),a>>=7;else{l.write_shift(1,a);break}a>0&&th(r)&&t.push(r)}}function Qo(t,s,r){var a=Fs(t);if(s.s?(a.cRel&&(a.c+=s.s.c),a.rRel&&(a.r+=s.s.r)):(a.cRel&&(a.c+=s.c),a.rRel&&(a.r+=s.r)),!r||r.biff<12){for(;a.c>=256;)a.c-=256;for(;a.r>=65536;)a.r-=65536}return a}function Vu(t,s,r){var a=Fs(t);return a.s=Qo(a.s,s.s,r),a.e=Qo(a.e,s.s,r),a}function Zo(t,s){if(t.cRel&&t.c<0)for(t=Fs(t);t.c<0;)t.c+=s>8?16384:256;if(t.rRel&&t.r<0)for(t=Fs(t);t.r<0;)t.r+=s>8?1048576:s>5?65536:16384;var r=Qt(t);return!t.cRel&&t.cRel!=null&&(r=Wv(r)),!t.rRel&&t.rRel!=null&&(r=Uv(r)),r}function c0(t,s){return t.s.r==0&&!t.s.rRel&&t.e.r==(s.biff>=12?1048575:s.biff>=8?65536:16384)&&!t.e.rRel?(t.s.cRel?"":"$")+us(t.s.c)+":"+(t.e.cRel?"":"$")+us(t.e.c):t.s.c==0&&!t.s.cRel&&t.e.c==(s.biff>=12?16383:255)&&!t.e.cRel?(t.s.rRel?"":"$")+ts(t.s.r)+":"+(t.e.rRel?"":"$")+ts(t.e.r):Zo(t.s,s.biff)+":"+Zo(t.e,s.biff)}function rh(t){return parseInt(Hv(t),10)-1}function ts(t){return""+(t+1)}function Uv(t){return t.replace(/([A-Z]|^)(\d+)$/,"$1$$$2")}function Hv(t){return t.replace(/\$(\d+)$/,"$1")}function sh(t){for(var s=qv(t),r=0,a=0;a!==s.length;++a)r=26*r+s.charCodeAt(a)-64;return r-1}function us(t){if(t<0)throw new Error("invalid column "+t);var s="";for(++t;t;t=Math.floor((t-1)/26))s=String.fromCharCode((t-1)%26+65)+s;return s}function Wv(t){return t.replace(/^([A-Z])/,"$$$1")}function qv(t){return t.replace(/^\$([A-Z])/,"$1")}function zv(t){return t.replace(/(\$?[A-Z]*)(\$?\d*)/,"$1,$2").split(",")}function Gr(t){for(var s=0,r=0,a=0;a<t.length;++a){var n=t.charCodeAt(a);n>=48&&n<=57?s=10*s+(n-48):n>=65&&n<=90&&(r=26*r+(n-64))}return{c:r-1,r:s-1}}function Qt(t){for(var s=t.c+1,r="";s;s=(s-1)/26|0)r=String.fromCharCode((s-1)%26+65)+r;return r+(t.r+1)}function $s(t){var s=t.indexOf(":");return s==-1?{s:Gr(t),e:Gr(t)}:{s:Gr(t.slice(0,s)),e:Gr(t.slice(s+1))}}function Dr(t,s){return typeof s>"u"||typeof s=="number"?Dr(t.s,t.e):(typeof t!="string"&&(t=Qt(t)),typeof s!="string"&&(s=Qt(s)),t==s?t:t+":"+s)}function ur(t){var s={s:{c:0,r:0},e:{c:0,r:0}},r=0,a=0,n=0,o=t.length;for(r=0;a<o&&!((n=t.charCodeAt(a)-64)<1||n>26);++a)r=26*r+n;for(s.s.c=--r,r=0;a<o&&!((n=t.charCodeAt(a)-48)<0||n>9);++a)r=10*r+n;if(s.s.r=--r,a===o||n!=10)return s.e.c=s.s.c,s.e.r=s.s.r,s;for(++a,r=0;a!=o&&!((n=t.charCodeAt(a)-64)<1||n>26);++a)r=26*r+n;for(s.e.c=--r,r=0;a!=o&&!((n=t.charCodeAt(a)-48)<0||n>9);++a)r=10*r+n;return s.e.r=--r,s}function $u(t,s){var r=t.t=="d"&&s instanceof Date;if(t.z!=null)try{return t.w=Ln(t.z,r?Ps(s):s)}catch{}try{return t.w=Ln((t.XF||{}).numFmtId||(r?14:0),r?Ps(s):s)}catch{return""+s}}function an(t,s,r){return t==null||t.t==null||t.t=="z"?"":t.w!==void 0?t.w:(t.t=="d"&&!t.z&&r&&r.dateNF&&(t.z=r.dateNF),t.t=="e"?fl[t.v]||t.v:s==null?$u(t,t.v):$u(t,s))}function ci(t,s){var r=s&&s.sheet?s.sheet:"Sheet1",a={};return a[r]=t,{SheetNames:[r],Sheets:a}}function Um(t,s,r){var a=r||{},n=t?Array.isArray(t):a.dense,o=t||(n?[]:{}),l=0,c=0;if(o&&a.origin!=null){if(typeof a.origin=="number")l=a.origin;else{var d=typeof a.origin=="string"?Gr(a.origin):a.origin;l=d.r,c=d.c}o["!ref"]||(o["!ref"]="A1:A1")}var h={s:{c:1e7,r:1e7},e:{c:0,r:0}};if(o["!ref"]){var u=ur(o["!ref"]);h.s.c=u.s.c,h.s.r=u.s.r,h.e.c=Math.max(h.e.c,u.e.c),h.e.r=Math.max(h.e.r,u.e.r),l==-1&&(h.e.r=l=u.e.r+1)}for(var x=0;x!=s.length;++x)if(s[x]){if(!Array.isArray(s[x]))throw new Error("aoa_to_sheet expects an array of arrays");for(var p=0;p!=s[x].length;++p)if(!(typeof s[x][p]>"u")){var m={v:s[x][p]},y=l+x,g=c+p;if(h.s.r>y&&(h.s.r=y),h.s.c>g&&(h.s.c=g),h.e.r<y&&(h.e.r=y),h.e.c<g&&(h.e.c=g),s[x][p]&&typeof s[x][p]=="object"&&!Array.isArray(s[x][p])&&!(s[x][p]instanceof Date))m=s[x][p];else if(Array.isArray(m.v)&&(m.f=s[x][p][1],m.v=m.v[0]),m.v===null)if(m.f)m.t="n";else if(a.nullError)m.t="e",m.v=0;else if(a.sheetStubs)m.t="z";else continue;else typeof m.v=="number"?m.t="n":typeof m.v=="boolean"?m.t="b":m.v instanceof Date?(m.z=a.dateNF||Nr[14],a.cellDates?(m.t="d",m.w=Ln(m.z,Ps(m.v))):(m.t="n",m.v=Ps(m.v),m.w=Ln(m.z,m.v))):m.t="s";if(n)o[y]||(o[y]=[]),o[y][g]&&o[y][g].z&&(m.z=o[y][g].z),o[y][g]=m;else{var b=Qt({c:g,r:y});o[b]&&o[b].z&&(m.z=o[b].z),o[b]=m}}}return h.s.c<1e7&&(o["!ref"]=Dr(h)),o}function ao(t,s){return Um(null,t,s)}function Vv(t){return t.read_shift(4,"i")}function wa(t,s){return s||(s=Me(4)),s.write_shift(4,t),s}function fs(t){var s=t.read_shift(4);return s===0?"":t.read_shift(s,"dbcs")}function Yr(t,s){var r=!1;return s==null&&(r=!0,s=Me(4+2*t.length)),s.write_shift(4,t.length),t.length>0&&s.write_shift(0,t,"dbcs"),r?s.slice(0,s.l):s}function $v(t){return{ich:t.read_shift(2),ifnt:t.read_shift(2)}}function Gv(t,s){return s||(s=Me(4)),s.write_shift(2,0),s.write_shift(2,0),s}function ah(t,s){var r=t.l,a=t.read_shift(1),n=fs(t),o=[],l={t:n,h:n};if(a&1){for(var c=t.read_shift(4),d=0;d!=c;++d)o.push($v(t));l.r=o}else l.r=[{ich:0,ifnt:0}];return t.l=r+s,l}function Yv(t,s){var r=!1;return s==null&&(r=!0,s=Me(15+4*t.t.length)),s.write_shift(1,0),Yr(t.t,s),r?s.slice(0,s.l):s}var Kv=ah;function Xv(t,s){var r=!1;return s==null&&(r=!0,s=Me(23+4*t.t.length)),s.write_shift(1,1),Yr(t.t,s),s.write_shift(4,1),Gv({},s),r?s.slice(0,s.l):s}function na(t){var s=t.read_shift(4),r=t.read_shift(2);return r+=t.read_shift(1)<<16,t.l++,{c:s,iStyleRef:r}}function di(t,s){return s==null&&(s=Me(8)),s.write_shift(-4,t.c),s.write_shift(3,t.iStyleRef||t.s),s.write_shift(1,0),s}function hi(t){var s=t.read_shift(2);return s+=t.read_shift(1)<<16,t.l++,{c:-1,iStyleRef:s}}function ui(t,s){return s==null&&(s=Me(4)),s.write_shift(3,t.iStyleRef||t.s),s.write_shift(1,0),s}var Jv=fs,Hm=Yr;function nh(t){var s=t.read_shift(4);return s===0||s===4294967295?"":t.read_shift(s,"dbcs")}function Hc(t,s){var r=!1;return s==null&&(r=!0,s=Me(127)),s.write_shift(4,t.length>0?t.length:4294967295),t.length>0&&s.write_shift(0,t,"dbcs"),r?s.slice(0,s.l):s}var Qv=fs,I0=nh,ih=Hc;function Wm(t){var s=t.slice(t.l,t.l+4),r=s[0]&1,a=s[0]&2;t.l+=4;var n=a===0?Uc([0,0,0,0,s[0]&252,s[1],s[2],s[3]],0):Kn(s,0)>>2;return r?n/100:n}function qm(t,s){s==null&&(s=Me(4));var r=0,a=0,n=t*100;if(t==(t|0)&&t>=-536870912&&t<1<<29?a=1:n==(n|0)&&n>=-536870912&&n<1<<29&&(a=1,r=1),a)s.write_shift(-4,((r?n:t)<<2)+(r+2));else throw new Error("unsupported RkNumber "+t)}function zm(t){var s={s:{},e:{}};return s.s.r=t.read_shift(4),s.e.r=t.read_shift(4),s.s.c=t.read_shift(4),s.e.c=t.read_shift(4),s}function Zv(t,s){return s||(s=Me(16)),s.write_shift(4,t.s.r),s.write_shift(4,t.e.r),s.write_shift(4,t.s.c),s.write_shift(4,t.e.c),s}var fi=zm,no=Zv;function io(t){if(t.length-t.l<8)throw"XLS Xnum Buffer underflow";return t.read_shift(8,"f")}function ni(t,s){return(s||Me(8)).write_shift(8,t,"f")}function ey(t){var s={},r=t.read_shift(1),a=r>>>1,n=t.read_shift(1),o=t.read_shift(2,"i"),l=t.read_shift(1),c=t.read_shift(1),d=t.read_shift(1);switch(t.l++,a){case 0:s.auto=1;break;case 1:s.index=n;var h=cy[n];h&&(s.rgb=sf(h));break;case 2:s.rgb=sf([l,c,d]);break;case 3:s.theme=n;break}return o!=0&&(s.tint=o>0?o/32767:o/32768),s}function Wc(t,s){if(s||(s=Me(8)),!t||t.auto)return s.write_shift(4,0),s.write_shift(4,0),s;t.index!=null?(s.write_shift(1,2),s.write_shift(1,t.index)):t.theme!=null?(s.write_shift(1,6),s.write_shift(1,t.theme)):(s.write_shift(1,5),s.write_shift(1,0));var r=t.tint||0;if(r>0?r*=32767:r<0&&(r*=32768),s.write_shift(2,r),!t.rgb||t.theme!=null)s.write_shift(2,0),s.write_shift(1,0),s.write_shift(1,0);else{var a=t.rgb||"FFFFFF";typeof a=="number"&&(a=("000000"+a.toString(16)).slice(-6)),s.write_shift(1,parseInt(a.slice(0,2),16)),s.write_shift(1,parseInt(a.slice(2,4),16)),s.write_shift(1,parseInt(a.slice(4,6),16)),s.write_shift(1,255)}return s}function ty(t){var s=t.read_shift(1);t.l++;var r={fBold:s&1,fItalic:s&2,fUnderline:s&4,fStrikeout:s&8,fOutline:s&16,fShadow:s&32,fCondense:s&64,fExtend:s&128};return r}function ry(t,s){s||(s=Me(2));var r=(t.italic?2:0)|(t.strike?8:0)|(t.outline?16:0)|(t.shadow?32:0)|(t.condense?64:0)|(t.extend?128:0);return s.write_shift(1,r),s.write_shift(1,0),s}var Vm=2,Hs=3,wc=11,qc=19,Nc=64,sy=65,ay=71,ny=4108,iy=4126,Qr=80,Gu={1:{n:"CodePage",t:Vm},2:{n:"Category",t:Qr},3:{n:"PresentationFormat",t:Qr},4:{n:"ByteCount",t:Hs},5:{n:"LineCount",t:Hs},6:{n:"ParagraphCount",t:Hs},7:{n:"SlideCount",t:Hs},8:{n:"NoteCount",t:Hs},9:{n:"HiddenCount",t:Hs},10:{n:"MultimediaClipCount",t:Hs},11:{n:"ScaleCrop",t:wc},12:{n:"HeadingPairs",t:ny},13:{n:"TitlesOfParts",t:iy},14:{n:"Manager",t:Qr},15:{n:"Company",t:Qr},16:{n:"LinksUpToDate",t:wc},17:{n:"CharacterCount",t:Hs},19:{n:"SharedDoc",t:wc},22:{n:"HyperlinksChanged",t:wc},23:{n:"AppVersion",t:Hs,p:"version"},24:{n:"DigSig",t:sy},26:{n:"ContentType",t:Qr},27:{n:"ContentStatus",t:Qr},28:{n:"Language",t:Qr},29:{n:"Version",t:Qr},255:{},2147483648:{n:"Locale",t:qc},2147483651:{n:"Behavior",t:qc},1919054434:{}},Yu={1:{n:"CodePage",t:Vm},2:{n:"Title",t:Qr},3:{n:"Subject",t:Qr},4:{n:"Author",t:Qr},5:{n:"Keywords",t:Qr},6:{n:"Comments",t:Qr},7:{n:"Template",t:Qr},8:{n:"LastAuthor",t:Qr},9:{n:"RevNumber",t:Qr},10:{n:"EditTime",t:Nc},11:{n:"LastPrinted",t:Nc},12:{n:"CreatedDate",t:Nc},13:{n:"ModifiedDate",t:Nc},14:{n:"PageCount",t:Hs},15:{n:"WordCount",t:Hs},16:{n:"CharCount",t:Hs},17:{n:"Thumbnail",t:ay},18:{n:"Application",t:Qr},19:{n:"DocSecurity",t:Hs},255:{},2147483648:{n:"Locale",t:qc},2147483651:{n:"Behavior",t:qc},1919054434:{}};function oy(t){return t.map(function(s){return[s>>16&255,s>>8&255,s&255]})}var ly=oy([0,16777215,16711680,65280,255,16776960,16711935,65535,0,16777215,16711680,65280,255,16776960,16711935,65535,8388608,32768,128,8421376,8388736,32896,12632256,8421504,10066431,10040166,16777164,13434879,6684774,16744576,26316,13421823,128,16711935,16776960,65535,8388736,8388608,32896,255,52479,13434879,13434828,16777113,10079487,16751052,13408767,16764057,3368703,3394764,10079232,16763904,16750848,16737792,6710937,9868950,13158,3381606,13056,3355392,10040064,10040166,3355545,3355443,16777215,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0]),cy=Fs(ly),fl={0:"#NULL!",7:"#DIV/0!",15:"#VALUE!",23:"#REF!",29:"#NAME?",36:"#NUM!",42:"#N/A",43:"#GETTING_DATA",255:"#WTF?"},dy={"application/vnd.openxmlformats-officedocument.spreadsheetml.sheet.main+xml":"workbooks","application/vnd.ms-excel.sheet.macroEnabled.main+xml":"workbooks","application/vnd.ms-excel.sheet.binary.macroEnabled.main":"workbooks","application/vnd.ms-excel.addin.macroEnabled.main+xml":"workbooks","application/vnd.openxmlformats-officedocument.spreadsheetml.template.main+xml":"workbooks","application/vnd.openxmlformats-officedocument.spreadsheetml.worksheet+xml":"sheets","application/vnd.ms-excel.worksheet":"sheets","application/vnd.ms-excel.binIndexWs":"TODO","application/vnd.openxmlformats-officedocument.spreadsheetml.chartsheet+xml":"charts","application/vnd.ms-excel.chartsheet":"charts","application/vnd.ms-excel.macrosheet+xml":"macros","application/vnd.ms-excel.macrosheet":"macros","application/vnd.ms-excel.intlmacrosheet":"TODO","application/vnd.ms-excel.binIndexMs":"TODO","application/vnd.openxmlformats-officedocument.spreadsheetml.dialogsheet+xml":"dialogs","application/vnd.ms-excel.dialogsheet":"dialogs","application/vnd.openxmlformats-officedocument.spreadsheetml.sharedStrings+xml":"strs","application/vnd.ms-excel.sharedStrings":"strs","application/vnd.openxmlformats-officedocument.spreadsheetml.styles+xml":"styles","application/vnd.ms-excel.styles":"styles","application/vnd.openxmlformats-package.core-properties+xml":"coreprops","application/vnd.openxmlformats-officedocument.custom-properties+xml":"custprops","application/vnd.openxmlformats-officedocument.extended-properties+xml":"extprops","application/vnd.openxmlformats-officedocument.customXmlProperties+xml":"TODO","application/vnd.openxmlformats-officedocument.spreadsheetml.customProperty":"TODO","application/vnd.openxmlformats-officedocument.spreadsheetml.comments+xml":"comments","application/vnd.ms-excel.comments":"comments","application/vnd.ms-excel.threadedcomments+xml":"threadedcomments","application/vnd.ms-excel.person+xml":"people","application/vnd.openxmlformats-officedocument.spreadsheetml.sheetMetadata+xml":"metadata","application/vnd.ms-excel.sheetMetadata":"metadata","application/vnd.ms-excel.pivotTable":"TODO","application/vnd.openxmlformats-officedocument.spreadsheetml.pivotTable+xml":"TODO","application/vnd.openxmlformats-officedocument.drawingml.chart+xml":"TODO","application/vnd.ms-office.chartcolorstyle+xml":"TODO","application/vnd.ms-office.chartstyle+xml":"TODO","application/vnd.ms-office.chartex+xml":"TODO","application/vnd.ms-excel.calcChain":"calcchains","application/vnd.openxmlformats-officedocument.spreadsheetml.calcChain+xml":"calcchains","application/vnd.openxmlformats-officedocument.spreadsheetml.printerSettings":"TODO","application/vnd.ms-office.activeX":"TODO","application/vnd.ms-office.activeX+xml":"TODO","application/vnd.ms-excel.attachedToolbars":"TODO","application/vnd.ms-excel.connections":"TODO","application/vnd.openxmlformats-officedocument.spreadsheetml.connections+xml":"TODO","application/vnd.ms-excel.externalLink":"links","application/vnd.openxmlformats-officedocument.spreadsheetml.externalLink+xml":"links","application/vnd.ms-excel.pivotCacheDefinition":"TODO","application/vnd.ms-excel.pivotCacheRecords":"TODO","application/vnd.openxmlformats-officedocument.spreadsheetml.pivotCacheDefinition+xml":"TODO","application/vnd.openxmlformats-officedocument.spreadsheetml.pivotCacheRecords+xml":"TODO","application/vnd.ms-excel.queryTable":"TODO","application/vnd.openxmlformats-officedocument.spreadsheetml.queryTable+xml":"TODO","application/vnd.ms-excel.userNames":"TODO","application/vnd.ms-excel.revisionHeaders":"TODO","application/vnd.ms-excel.revisionLog":"TODO","application/vnd.openxmlformats-officedocument.spreadsheetml.revisionHeaders+xml":"TODO","application/vnd.openxmlformats-officedocument.spreadsheetml.revisionLog+xml":"TODO","application/vnd.openxmlformats-officedocument.spreadsheetml.userNames+xml":"TODO","application/vnd.ms-excel.tableSingleCells":"TODO","application/vnd.openxmlformats-officedocument.spreadsheetml.tableSingleCells+xml":"TODO","application/vnd.ms-excel.slicer":"TODO","application/vnd.ms-excel.slicerCache":"TODO","application/vnd.ms-excel.slicer+xml":"TODO","application/vnd.ms-excel.slicerCache+xml":"TODO","application/vnd.ms-excel.wsSortMap":"TODO","application/vnd.ms-excel.table":"TODO","application/vnd.openxmlformats-officedocument.spreadsheetml.table+xml":"TODO","application/vnd.openxmlformats-officedocument.theme+xml":"themes","application/vnd.openxmlformats-officedocument.themeOverride+xml":"TODO","application/vnd.ms-excel.Timeline+xml":"TODO","application/vnd.ms-excel.TimelineCache+xml":"TODO","application/vnd.ms-office.vbaProject":"vba","application/vnd.ms-office.vbaProjectSignature":"TODO","application/vnd.ms-office.volatileDependencies":"TODO","application/vnd.openxmlformats-officedocument.spreadsheetml.volatileDependencies+xml":"TODO","application/vnd.ms-excel.controlproperties+xml":"TODO","application/vnd.openxmlformats-officedocument.model+data":"TODO","application/vnd.ms-excel.Survey+xml":"TODO","application/vnd.openxmlformats-officedocument.drawing+xml":"drawings","application/vnd.openxmlformats-officedocument.drawingml.chartshapes+xml":"TODO","application/vnd.openxmlformats-officedocument.drawingml.diagramColors+xml":"TODO","application/vnd.openxmlformats-officedocument.drawingml.diagramData+xml":"TODO","application/vnd.openxmlformats-officedocument.drawingml.diagramLayout+xml":"TODO","application/vnd.openxmlformats-officedocument.drawingml.diagramStyle+xml":"TODO","application/vnd.openxmlformats-officedocument.vmlDrawing":"TODO","application/vnd.openxmlformats-package.relationships+xml":"rels","application/vnd.openxmlformats-officedocument.oleObject":"TODO","image/png":"TODO",sheet:"js"},jc={workbooks:{xlsx:"application/vnd.openxmlformats-officedocument.spreadsheetml.sheet.main+xml",xlsm:"application/vnd.ms-excel.sheet.macroEnabled.main+xml",xlsb:"application/vnd.ms-excel.sheet.binary.macroEnabled.main",xlam:"application/vnd.ms-excel.addin.macroEnabled.main+xml",xltx:"application/vnd.openxmlformats-officedocument.spreadsheetml.template.main+xml"},strs:{xlsx:"application/vnd.openxmlformats-officedocument.spreadsheetml.sharedStrings+xml",xlsb:"application/vnd.ms-excel.sharedStrings"},comments:{xlsx:"application/vnd.openxmlformats-officedocument.spreadsheetml.comments+xml",xlsb:"application/vnd.ms-excel.comments"},sheets:{xlsx:"application/vnd.openxmlformats-officedocument.spreadsheetml.worksheet+xml",xlsb:"application/vnd.ms-excel.worksheet"},charts:{xlsx:"application/vnd.openxmlformats-officedocument.spreadsheetml.chartsheet+xml",xlsb:"application/vnd.ms-excel.chartsheet"},dialogs:{xlsx:"application/vnd.openxmlformats-officedocument.spreadsheetml.dialogsheet+xml",xlsb:"application/vnd.ms-excel.dialogsheet"},macros:{xlsx:"application/vnd.ms-excel.macrosheet+xml",xlsb:"application/vnd.ms-excel.macrosheet"},metadata:{xlsx:"application/vnd.openxmlformats-officedocument.spreadsheetml.sheetMetadata+xml",xlsb:"application/vnd.ms-excel.sheetMetadata"},styles:{xlsx:"application/vnd.openxmlformats-officedocument.spreadsheetml.styles+xml",xlsb:"application/vnd.ms-excel.styles"}};function $m(){return{workbooks:[],sheets:[],charts:[],dialogs:[],macros:[],rels:[],strs:[],comments:[],threadedcomments:[],links:[],coreprops:[],extprops:[],custprops:[],themes:[],styles:[],calcchains:[],vba:[],drawings:[],metadata:[],people:[],TODO:[],xmlns:""}}function Gm(t,s){var r=bv(dy),a=[],n;a[a.length]=Ir,a[a.length]=Ze("Types",null,{xmlns:$r.CT,"xmlns:xsd":$r.xsd,"xmlns:xsi":$r.xsi}),a=a.concat([["xml","application/xml"],["bin","application/vnd.ms-excel.sheet.binary.macroEnabled.main"],["vml","application/vnd.openxmlformats-officedocument.vmlDrawing"],["data","application/vnd.openxmlformats-officedocument.model+data"],["bmp","image/bmp"],["png","image/png"],["gif","image/gif"],["emf","image/x-emf"],["wmf","image/x-wmf"],["jpg","image/jpeg"],["jpeg","image/jpeg"],["tif","image/tiff"],["tiff","image/tiff"],["pdf","application/pdf"],["rels","application/vnd.openxmlformats-package.relationships+xml"]].map(function(d){return Ze("Default",null,{Extension:d[0],ContentType:d[1]})}));var o=function(d){t[d]&&t[d].length>0&&(n=t[d][0],a[a.length]=Ze("Override",null,{PartName:(n[0]=="/"?"":"/")+n,ContentType:jc[d][s.bookType]||jc[d].xlsx}))},l=function(d){(t[d]||[]).forEach(function(h){a[a.length]=Ze("Override",null,{PartName:(h[0]=="/"?"":"/")+h,ContentType:jc[d][s.bookType]||jc[d].xlsx})})},c=function(d){(t[d]||[]).forEach(function(h){a[a.length]=Ze("Override",null,{PartName:(h[0]=="/"?"":"/")+h,ContentType:r[d][0]})})};return o("workbooks"),l("sheets"),l("charts"),c("themes"),["strs","styles"].forEach(o),["coreprops","extprops","custprops"].forEach(c),c("vba"),c("comments"),c("threadedcomments"),c("drawings"),l("metadata"),c("people"),a.length>2&&(a[a.length]="</Types>",a[1]=a[1].replace("/>",">")),a.join("")}var Wt={WB:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/officeDocument",HLINK:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/hyperlink",VML:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/vmlDrawing",XPATH:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/externalLinkPath",XMISS:"http://schemas.microsoft.com/office/2006/relationships/xlExternalLinkPath/xlPathMissing",CMNT:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/comments",CORE_PROPS:"http://schemas.openxmlformats.org/package/2006/relationships/metadata/core-properties",EXT_PROPS:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/extended-properties",CUST_PROPS:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/custom-properties",SST:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/sharedStrings",STY:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/styles",THEME:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/theme",WS:["http://schemas.openxmlformats.org/officeDocument/2006/relationships/worksheet","http://purl.oclc.org/ooxml/officeDocument/relationships/worksheet"],DRAW:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/drawing",XLMETA:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/sheetMetadata",TCMNT:"http://schemas.microsoft.com/office/2017/10/relationships/threadedComment",PEOPLE:"http://schemas.microsoft.com/office/2017/10/relationships/person",VBA:"http://schemas.microsoft.com/office/2006/relationships/vbaProject"};function Ym(t){var s=t.lastIndexOf("/");return t.slice(0,s+1)+"_rels/"+t.slice(s+1)+".rels"}function Xi(t){var s=[Ir,Ze("Relationships",null,{xmlns:$r.RELS})];return rs(t["!id"]).forEach(function(r){s[s.length]=Ze("Relationship",null,t["!id"][r])}),s.length>2&&(s[s.length]="</Relationships>",s[1]=s[1].replace("/>",">")),s.join("")}function Xt(t,s,r,a,n,o){if(n||(n={}),t["!id"]||(t["!id"]={}),t["!idx"]||(t["!idx"]=1),s<0)for(s=t["!idx"];t["!id"]["rId"+s];++s);if(t["!idx"]=s+1,n.Id="rId"+s,n.Type=a,n.Target=r,[Wt.HLINK,Wt.XPATH,Wt.XMISS].indexOf(n.Type)>-1&&(n.TargetMode="External"),t["!id"][n.Id])throw new Error("Cannot rewrite rId "+s);return t["!id"][n.Id]=n,t[("/"+n.Target).replace("//","/")]=n,s}function hy(t){var s=[Ir];s.push(`<manifest:manifest xmlns:manifest="urn:oasis:names:tc:opendocument:xmlns:manifest:1.0" manifest:version="1.2">
`),s.push(`  <manifest:file-entry manifest:full-path="/" manifest:version="1.2" manifest:media-type="application/vnd.oasis.opendocument.spreadsheet"/>
`);for(var r=0;r<t.length;++r)s.push('  <manifest:file-entry manifest:full-path="'+t[r][0]+'" manifest:media-type="'+t[r][1]+`"/>
`);return s.push("</manifest:manifest>"),s.join("")}function Ku(t,s,r){return['  <rdf:Description rdf:about="'+t+`">
`,'    <rdf:type rdf:resource="http://docs.oasis-open.org/ns/office/1.2/meta/'+(r||"odf")+"#"+s+`"/>
`,`  </rdf:Description>
`].join("")}function uy(t,s){return['  <rdf:Description rdf:about="'+t+`">
`,'    <ns0:hasPart xmlns:ns0="http://docs.oasis-open.org/ns/office/1.2/meta/pkg#" rdf:resource="'+s+`"/>
`,`  </rdf:Description>
`].join("")}function fy(t){var s=[Ir];s.push(`<rdf:RDF xmlns:rdf="http://www.w3.org/1999/02/22-rdf-syntax-ns#">
`);for(var r=0;r!=t.length;++r)s.push(Ku(t[r][0],t[r][1])),s.push(uy("",t[r][0]));return s.push(Ku("","Document","pkg")),s.push("</rdf:RDF>"),s.join("")}function Km(){return'<office:document-meta xmlns:office="urn:oasis:names:tc:opendocument:xmlns:office:1.0" xmlns:meta="urn:oasis:names:tc:opendocument:xmlns:meta:1.0" xmlns:dc="http://purl.org/dc/elements/1.1/" xmlns:xlink="http://www.w3.org/1999/xlink" office:version="1.2"><office:meta><meta:generator>SheetJS '+Oc.version+"</meta:generator></office:meta></office:document-meta>"}var ri=[["cp:category","Category"],["cp:contentStatus","ContentStatus"],["cp:keywords","Keywords"],["cp:lastModifiedBy","LastAuthor"],["cp:lastPrinted","LastPrinted"],["cp:revision","RevNumber"],["cp:version","Version"],["dc:creator","Author"],["dc:description","Comments"],["dc:identifier","Identifier"],["dc:language","Language"],["dc:subject","Subject"],["dc:title","Title"],["dcterms:created","CreatedDate","date"],["dcterms:modified","ModifiedDate","date"]];function d0(t,s,r,a,n){n[t]!=null||s==null||s===""||(n[t]=s,s=Jt(s),a[a.length]=r?Ze(t,s,r):es(t,s))}function Xm(t,s){var r=s||{},a=[Ir,Ze("cp:coreProperties",null,{"xmlns:cp":$r.CORE_PROPS,"xmlns:dc":$r.dc,"xmlns:dcterms":$r.dcterms,"xmlns:dcmitype":$r.dcmitype,"xmlns:xsi":$r.xsi})],n={};if(!t&&!r.Props)return a.join("");t&&(t.CreatedDate!=null&&d0("dcterms:created",typeof t.CreatedDate=="string"?t.CreatedDate:D0(t.CreatedDate,r.WTF),{"xsi:type":"dcterms:W3CDTF"},a,n),t.ModifiedDate!=null&&d0("dcterms:modified",typeof t.ModifiedDate=="string"?t.ModifiedDate:D0(t.ModifiedDate,r.WTF),{"xsi:type":"dcterms:W3CDTF"},a,n));for(var o=0;o!=ri.length;++o){var l=ri[o],c=r.Props&&r.Props[l[1]]!=null?r.Props[l[1]]:t?t[l[1]]:null;c===!0?c="1":c===!1?c="0":typeof c=="number"&&(c=String(c)),c!=null&&d0(l[0],c,null,a,n)}return a.length>2&&(a[a.length]="</cp:coreProperties>",a[1]=a[1].replace("/>",">")),a.join("")}var Ji=[["Application","Application","string"],["AppVersion","AppVersion","string"],["Company","Company","string"],["DocSecurity","DocSecurity","string"],["Manager","Manager","string"],["HyperlinksChanged","HyperlinksChanged","bool"],["SharedDoc","SharedDoc","bool"],["LinksUpToDate","LinksUpToDate","bool"],["ScaleCrop","ScaleCrop","bool"],["HeadingPairs","HeadingPairs","raw"],["TitlesOfParts","TitlesOfParts","raw"]],Jm=["Worksheets","SheetNames","NamedRanges","DefinedNames","Chartsheets","ChartNames"];function Qm(t){var s=[],r=Ze;return t||(t={}),t.Application="SheetJS",s[s.length]=Ir,s[s.length]=Ze("Properties",null,{xmlns:$r.EXT_PROPS,"xmlns:vt":$r.vt}),Ji.forEach(function(a){if(t[a[1]]!==void 0){var n;switch(a[2]){case"string":n=Jt(String(t[a[1]]));break;case"bool":n=t[a[1]]?"true":"false";break}n!==void 0&&(s[s.length]=r(a[0],n))}}),s[s.length]=r("HeadingPairs",r("vt:vector",r("vt:variant","<vt:lpstr>Worksheets</vt:lpstr>")+r("vt:variant",r("vt:i4",String(t.Worksheets))),{size:2,baseType:"variant"})),s[s.length]=r("TitlesOfParts",r("vt:vector",t.SheetNames.map(function(a){return"<vt:lpstr>"+Jt(a)+"</vt:lpstr>"}).join(""),{size:t.Worksheets,baseType:"lpstr"})),s.length>2&&(s[s.length]="</Properties>",s[1]=s[1].replace("/>",">")),s.join("")}function Zm(t){var s=[Ir,Ze("Properties",null,{xmlns:$r.CUST_PROPS,"xmlns:vt":$r.vt})];if(!t)return s.join("");var r=1;return rs(t).forEach(function(n){++r,s[s.length]=Ze("property",Pv(t[n]),{fmtid:"{D5CDD505-2E9C-101B-9397-08002B2CF9AE}",pid:r,name:Jt(n)})}),s.length>2&&(s[s.length]="</Properties>",s[1]=s[1].replace("/>",">")),s.join("")}var Xu={Title:"Title",Subject:"Subject",Author:"Author",Keywords:"Keywords",Comments:"Description",LastAuthor:"LastAuthor",RevNumber:"Revision",Application:"AppName",LastPrinted:"LastPrinted",CreatedDate:"Created",ModifiedDate:"LastSaved",Category:"Category",Manager:"Manager",Company:"Company",AppVersion:"Version",ContentStatus:"ContentStatus",Identifier:"Identifier",Language:"Language"};function my(t,s){var r=[];return rs(Xu).map(function(a){for(var n=0;n<ri.length;++n)if(ri[n][1]==a)return ri[n];for(n=0;n<Ji.length;++n)if(Ji[n][1]==a)return Ji[n];throw a}).forEach(function(a){if(t[a[1]]!=null){var n=s&&s.Props&&s.Props[a[1]]!=null?s.Props[a[1]]:t[a[1]];switch(a[2]){case"date":n=new Date(n).toISOString().replace(/\.\d*Z/,"Z");break}typeof n=="number"?n=String(n):n===!0||n===!1?n=n?"1":"0":n instanceof Date&&(n=new Date(n).toISOString().replace(/\.\d*Z/,"")),r.push(es(Xu[a[1]]||a[1],n))}}),Ze("DocumentProperties",r.join(""),{xmlns:qs.o})}function xy(t,s){var r=["Worksheets","SheetNames"],a="CustomDocumentProperties",n=[];return t&&rs(t).forEach(function(o){if(Object.prototype.hasOwnProperty.call(t,o)){for(var l=0;l<ri.length;++l)if(o==ri[l][1])return;for(l=0;l<Ji.length;++l)if(o==Ji[l][1])return;for(l=0;l<r.length;++l)if(o==r[l])return;var c=t[o],d="string";typeof c=="number"?(d="float",c=String(c)):c===!0||c===!1?(d="boolean",c=c?"1":"0"):c=String(c),n.push(Ze(Ru(o),c,{"dt:dt":d}))}}),s&&rs(s).forEach(function(o){if(Object.prototype.hasOwnProperty.call(s,o)&&!(t&&Object.prototype.hasOwnProperty.call(t,o))){var l=s[o],c="string";typeof l=="number"?(c="float",l=String(l)):l===!0||l===!1?(c="boolean",l=l?"1":"0"):l instanceof Date?(c="dateTime.tz",l=l.toISOString()):l=String(l),n.push(Ze(Ru(o),l,{"dt:dt":c}))}}),"<"+a+' xmlns="'+qs.o+'">'+n.join("")+"</"+a+">"}function py(t){var s=typeof t=="string"?new Date(Date.parse(t)):t,r=s.getTime()/1e3+11644473600,a=r%Math.pow(2,32),n=(r-a)/Math.pow(2,32);a*=1e7,n*=1e7;var o=a/Math.pow(2,32)|0;o>0&&(a=a%Math.pow(2,32),n+=o);var l=Me(8);return l.write_shift(4,a),l.write_shift(4,n),l}function Ju(t,s){var r=Me(4),a=Me(4);switch(r.write_shift(4,t==80?31:t),t){case 3:a.write_shift(-4,s);break;case 5:a=Me(8),a.write_shift(8,s,"f");break;case 11:a.write_shift(4,s?1:0);break;case 64:a=py(s);break;case 31:case 80:for(a=Me(4+2*(s.length+1)+(s.length%2?0:2)),a.write_shift(4,s.length+1),a.write_shift(0,s,"dbcs");a.l!=a.length;)a.write_shift(1,0);break;default:throw new Error("TypedPropertyValue unrecognized type "+t+" "+s)}return Zr([r,a])}var ex=["CodePage","Thumbnail","_PID_LINKBASE","_PID_HLINKS","SystemIdentifier","FMTID"];function gy(t){switch(typeof t){case"boolean":return 11;case"number":return(t|0)==t?3:5;case"string":return 31;case"object":if(t instanceof Date)return 64;break}return-1}function Qu(t,s,r){var a=Me(8),n=[],o=[],l=8,c=0,d=Me(8),h=Me(8);if(d.write_shift(4,2),d.write_shift(4,1200),h.write_shift(4,1),o.push(d),n.push(h),l+=8+d.length,!s){h=Me(8),h.write_shift(4,0),n.unshift(h);var u=[Me(4)];for(u[0].write_shift(4,t.length),c=0;c<t.length;++c){var x=t[c][0];for(d=Me(8+2*(x.length+1)+(x.length%2?0:2)),d.write_shift(4,c+2),d.write_shift(4,x.length+1),d.write_shift(0,x,"dbcs");d.l!=d.length;)d.write_shift(1,0);u.push(d)}d=Zr(u),o.unshift(d),l+=8+d.length}for(c=0;c<t.length;++c)if(!(s&&!s[t[c][0]])&&!(ex.indexOf(t[c][0])>-1||Jm.indexOf(t[c][0])>-1)&&t[c][1]!=null){var p=t[c][1],m=0;if(s){m=+s[t[c][0]];var y=r[m];if(y.p=="version"&&typeof p=="string"){var g=p.split(".");p=(+g[0]<<16)+(+g[1]||0)}d=Ju(y.t,p)}else{var b=gy(p);b==-1&&(b=31,p=String(p)),d=Ju(b,p)}o.push(d),h=Me(8),h.write_shift(4,s?m:2+c),n.push(h),l+=8+d.length}var w=8*(o.length+1);for(c=0;c<o.length;++c)n[c].write_shift(4,w),w+=o[c].length;return a.write_shift(4,l),a.write_shift(4,o.length),Zr([a].concat(n).concat(o))}function Zu(t,s,r,a,n,o){var l=Me(n?68:48),c=[l];l.write_shift(2,65534),l.write_shift(2,0),l.write_shift(4,842412599),l.write_shift(16,rr.utils.consts.HEADER_CLSID,"hex"),l.write_shift(4,n?2:1),l.write_shift(16,s,"hex"),l.write_shift(4,n?68:48);var d=Qu(t,r,a);if(c.push(d),n){var h=Qu(n,null,null);l.write_shift(16,o,"hex"),l.write_shift(4,68+d.length),c.push(h)}return Zr(c)}function vy(t,s){s||(s=Me(t));for(var r=0;r<t;++r)s.write_shift(1,0);return s}function yy(t,s){return t.read_shift(s)===1}function vs(t,s){return s||(s=Me(2)),s.write_shift(2,+!!t),s}function tx(t){return t.read_shift(2,"u")}function aa(t,s){return s||(s=Me(2)),s.write_shift(2,t),s}function rx(t,s,r){return r||(r=Me(2)),r.write_shift(1,s=="e"?+t:+!!t),r.write_shift(1,s=="e"?1:0),r}function sx(t,s,r){var a=t.read_shift(r&&r.biff>=12?2:1),n="sbcs-cont";if(r&&r.biff>=8,!r||r.biff==8){var o=t.read_shift(1);o&&(n="dbcs-cont")}else r.biff==12&&(n="wstr");r.biff>=2&&r.biff<=5&&(n="cpstr");var l=a?t.read_shift(a,n):"";return l}function by(t){var s=t.t||"",r=Me(3);r.write_shift(2,s.length),r.write_shift(1,1);var a=Me(2*s.length);a.write_shift(2*s.length,s,"utf16le");var n=[r,a];return Zr(n)}function wy(t,s,r){var a;if(r){if(r.biff>=2&&r.biff<=5)return t.read_shift(s,"cpstr");if(r.biff>=12)return t.read_shift(s,"dbcs-cont")}var n=t.read_shift(1);return n===0?a=t.read_shift(s,"sbcs-cont"):a=t.read_shift(s,"dbcs-cont"),a}function Ny(t,s,r){var a=t.read_shift(r&&r.biff==2?1:2);return a===0?(t.l++,""):wy(t,a,r)}function jy(t,s,r){if(r.biff>5)return Ny(t,s,r);var a=t.read_shift(1);return a===0?(t.l++,""):t.read_shift(a,r.biff<=4||!t.lens?"cpstr":"sbcs-cont")}function ax(t,s,r){return r||(r=Me(3+2*t.length)),r.write_shift(2,t.length),r.write_shift(1,1),r.write_shift(31,t,"utf16le"),r}function ef(t,s){s||(s=Me(6+t.length*2)),s.write_shift(4,1+t.length);for(var r=0;r<t.length;++r)s.write_shift(2,t.charCodeAt(r));return s.write_shift(2,0),s}function Sy(t){var s=Me(512),r=0,a=t.Target;a.slice(0,7)=="file://"&&(a=a.slice(7));var n=a.indexOf("#"),o=n>-1?31:23;switch(a.charAt(0)){case"#":o=28;break;case".":o&=-3;break}s.write_shift(4,2),s.write_shift(4,o);var l=[8,6815827,6619237,4849780,83];for(r=0;r<l.length;++r)s.write_shift(4,l[r]);if(o==28)a=a.slice(1),ef(a,s);else if(o&2){for(l="e0 c9 ea 79 f9 ba ce 11 8c 82 00 aa 00 4b a9 0b".split(" "),r=0;r<l.length;++r)s.write_shift(1,parseInt(l[r],16));var c=n>-1?a.slice(0,n):a;for(s.write_shift(4,2*(c.length+1)),r=0;r<c.length;++r)s.write_shift(2,c.charCodeAt(r));s.write_shift(2,0),o&8&&ef(n>-1?a.slice(n+1):"",s)}else{for(l="03 03 00 00 00 00 00 00 c0 00 00 00 00 00 00 46".split(" "),r=0;r<l.length;++r)s.write_shift(1,parseInt(l[r],16));for(var d=0;a.slice(d*3,d*3+3)=="../"||a.slice(d*3,d*3+3)=="..\\";)++d;for(s.write_shift(2,d),s.write_shift(4,a.length-3*d+1),r=0;r<a.length-3*d;++r)s.write_shift(1,a.charCodeAt(r+3*d)&255);for(s.write_shift(1,0),s.write_shift(2,65535),s.write_shift(2,57005),r=0;r<6;++r)s.write_shift(4,0)}return s.slice(0,s.l)}function ii(t,s,r,a){return a||(a=Me(6)),a.write_shift(2,t),a.write_shift(2,s),a.write_shift(2,r||0),a}function ky(t,s,r){var a=r.biff>8?4:2,n=t.read_shift(a),o=t.read_shift(a,"i"),l=t.read_shift(a,"i");return[n,o,l]}function Ay(t){var s=t.read_shift(2),r=t.read_shift(2),a=t.read_shift(2),n=t.read_shift(2);return{s:{c:a,r:s},e:{c:n,r}}}function nx(t,s){return s||(s=Me(8)),s.write_shift(2,t.s.r),s.write_shift(2,t.e.r),s.write_shift(2,t.s.c),s.write_shift(2,t.e.c),s}function oh(t,s,r){var a=1536,n=16;switch(r.bookType){case"biff8":break;case"biff5":a=1280,n=8;break;case"biff4":a=4,n=6;break;case"biff3":a=3,n=6;break;case"biff2":a=2,n=4;break;case"xla":break;default:throw new Error("unsupported BIFF version")}var o=Me(n);return o.write_shift(2,a),o.write_shift(2,s),n>4&&o.write_shift(2,29282),n>6&&o.write_shift(2,1997),n>8&&(o.write_shift(2,49161),o.write_shift(2,1),o.write_shift(2,1798),o.write_shift(2,0)),o}function _y(t,s){var r=!s||s.biff==8,a=Me(r?112:54);for(a.write_shift(s.biff==8?2:1,7),r&&a.write_shift(1,0),a.write_shift(4,859007059),a.write_shift(4,5458548|(r?0:536870912));a.l<a.length;)a.write_shift(1,r?0:32);return a}function Cy(t,s){var r=!s||s.biff>=8?2:1,a=Me(8+r*t.name.length);a.write_shift(4,t.pos),a.write_shift(1,t.hs||0),a.write_shift(1,t.dt),a.write_shift(1,t.name.length),s.biff>=8&&a.write_shift(1,1),a.write_shift(r*t.name.length,t.name,s.biff<8?"sbcs":"utf16le");var n=a.slice(0,a.l);return n.l=a.l,n}function Ty(t,s){var r=Me(8);r.write_shift(4,t.Count),r.write_shift(4,t.Unique);for(var a=[],n=0;n<t.length;++n)a[n]=by(t[n]);var o=Zr([r].concat(a));return o.parts=[r.length].concat(a.map(function(l){return l.length})),o}function Ey(){var t=Me(18);return t.write_shift(2,0),t.write_shift(2,0),t.write_shift(2,29280),t.write_shift(2,17600),t.write_shift(2,56),t.write_shift(2,0),t.write_shift(2,0),t.write_shift(2,1),t.write_shift(2,500),t}function Py(t){var s=Me(18),r=1718;return t&&t.RTL&&(r|=64),s.write_shift(2,r),s.write_shift(4,0),s.write_shift(4,64),s.write_shift(4,0),s.write_shift(4,0),s}function Fy(t,s){var r=t.name||"Arial",a=s&&s.biff==5,n=a?15+r.length:16+2*r.length,o=Me(n);return o.write_shift(2,t.sz*20),o.write_shift(4,0),o.write_shift(2,400),o.write_shift(4,0),o.write_shift(2,0),o.write_shift(1,r.length),a||o.write_shift(1,1),o.write_shift((a?1:2)*r.length,r,a?"sbcs":"utf16le"),o}function Ly(t,s,r,a){var n=Me(10);return ii(t,s,a,n),n.write_shift(4,r),n}function Oy(t,s,r,a,n){var o=!n||n.biff==8,l=Me(8+ +o+(1+o)*r.length);return ii(t,s,a,l),l.write_shift(2,r.length),o&&l.write_shift(1,1),l.write_shift((1+o)*r.length,r,o?"utf16le":"sbcs"),l}function Dy(t,s,r,a){var n=r&&r.biff==5;a||(a=Me(n?3+s.length:5+2*s.length)),a.write_shift(2,t),a.write_shift(n?1:2,s.length),n||a.write_shift(1,1),a.write_shift((n?1:2)*s.length,s,n?"sbcs":"utf16le");var o=a.length>a.l?a.slice(0,a.l):a;return o.l==null&&(o.l=o.length),o}function Iy(t,s){var r=s.biff==8||!s.biff?4:2,a=Me(2*r+6);return a.write_shift(r,t.s.r),a.write_shift(r,t.e.r+1),a.write_shift(2,t.s.c),a.write_shift(2,t.e.c+1),a.write_shift(2,0),a}function tf(t,s,r,a){var n=r&&r.biff==5;a||(a=Me(n?16:20)),a.write_shift(2,0),t.style?(a.write_shift(2,t.numFmtId||0),a.write_shift(2,65524)):(a.write_shift(2,t.numFmtId||0),a.write_shift(2,s<<4));var o=0;return t.numFmtId>0&&n&&(o|=1024),a.write_shift(4,o),a.write_shift(4,0),n||a.write_shift(4,0),a.write_shift(2,0),a}function Ry(t){var s=Me(8);return s.write_shift(4,0),s.write_shift(2,0),s.write_shift(2,0),s}function My(t,s,r,a,n,o){var l=Me(8);return ii(t,s,a,l),rx(r,o,l),l}function By(t,s,r,a){var n=Me(14);return ii(t,s,a,n),ni(r,n),n}function Uy(t,s,r){if(r.biff<8)return Hy(t,s,r);for(var a=[],n=t.l+s,o=t.read_shift(r.biff>8?4:2);o--!==0;)a.push(ky(t,r.biff>8?12:6,r));if(t.l!=n)throw new Error("Bad ExternSheet: "+t.l+" != "+n);return a}function Hy(t,s,r){t[t.l+1]==3&&t[t.l]++;var a=sx(t,s,r);return a.charCodeAt(0)==3?a.slice(1):a}function Wy(t){var s=Me(2+t.length*8);s.write_shift(2,t.length);for(var r=0;r<t.length;++r)nx(t[r],s);return s}function qy(t){var s=Me(24),r=Gr(t[0]);s.write_shift(2,r.r),s.write_shift(2,r.r),s.write_shift(2,r.c),s.write_shift(2,r.c);for(var a="d0 c9 ea 79 f9 ba ce 11 8c 82 00 aa 00 4b a9 0b".split(" "),n=0;n<16;++n)s.write_shift(1,parseInt(a[n],16));return Zr([s,Sy(t[1])])}function zy(t){var s=t[1].Tooltip,r=Me(10+2*(s.length+1));r.write_shift(2,2048);var a=Gr(t[0]);r.write_shift(2,a.r),r.write_shift(2,a.r),r.write_shift(2,a.c),r.write_shift(2,a.c);for(var n=0;n<s.length;++n)r.write_shift(2,s.charCodeAt(n));return r.write_shift(2,0),r}function Vy(t){return t||(t=Me(4)),t.write_shift(2,1),t.write_shift(2,1),t}function $y(t,s,r){if(!r.cellStyles)return Ba(t,s);var a=r&&r.biff>=12?4:2,n=t.read_shift(a),o=t.read_shift(a),l=t.read_shift(a),c=t.read_shift(a),d=t.read_shift(2);a==2&&(t.l+=2);var h={s:n,e:o,w:l,ixfe:c,flags:d};return(r.biff>=5||!r.biff)&&(h.level=d>>8&7),h}function Gy(t,s){var r=Me(12);r.write_shift(2,s),r.write_shift(2,s),r.write_shift(2,t.width*256),r.write_shift(2,0);var a=0;return t.hidden&&(a|=1),r.write_shift(1,a),a=t.level||0,r.write_shift(1,a),r.write_shift(2,0),r}function Yy(t){for(var s=Me(2*t),r=0;r<t;++r)s.write_shift(2,r+1);return s}function Ky(t,s,r){var a=Me(15);return xl(a,t,s),a.write_shift(8,r,"f"),a}function Xy(t,s,r){var a=Me(9);return xl(a,t,s),a.write_shift(2,r),a}var Jy=function(){var t={1:437,2:850,3:1252,4:1e4,100:852,101:866,102:865,103:861,104:895,105:620,106:737,107:857,120:950,121:949,122:936,123:932,124:874,125:1255,126:1256,150:10007,151:10029,152:10006,200:1250,201:1251,202:1254,203:1253,0:20127,8:865,9:437,10:850,11:437,13:437,14:850,15:437,16:850,17:437,18:850,19:932,20:850,21:437,22:850,23:865,24:437,25:437,26:850,27:437,28:863,29:850,31:852,34:852,35:852,36:860,37:850,38:866,55:850,64:852,77:936,78:949,79:950,80:874,87:1252,88:1252,89:1252,108:863,134:737,135:852,136:857,204:1257,255:16969},s=X0({1:437,2:850,3:1252,4:1e4,100:852,101:866,102:865,103:861,104:895,105:620,106:737,107:857,120:950,121:949,122:936,123:932,124:874,125:1255,126:1256,150:10007,151:10029,152:10006,200:1250,201:1251,202:1254,203:1253,0:20127});function r(c,d){var h=[],u=ai(1);switch(d.type){case"base64":u=ya(sn(c));break;case"binary":u=ya(c);break;case"buffer":case"array":u=c;break}Ws(u,0);var x=u.read_shift(1),p=!!(x&136),m=!1,y=!1;switch(x){case 2:break;case 3:break;case 48:m=!0,p=!0;break;case 49:m=!0,p=!0;break;case 131:break;case 139:break;case 140:y=!0;break;case 245:break;default:throw new Error("DBF Unsupported Version: "+x.toString(16))}var g=0,b=521;x==2&&(g=u.read_shift(2)),u.l+=3,x!=2&&(g=u.read_shift(4)),g>1048576&&(g=1e6),x!=2&&(b=u.read_shift(2));var w=u.read_shift(2),N=d.codepage||1252;x!=2&&(u.l+=16,u.read_shift(1),u[u.l]!==0&&(N=t[u[u.l]]),u.l+=1,u.l+=2),y&&(u.l+=36);for(var j=[],k={},L=Math.min(u.length,x==2?521:b-10-(m?264:0)),F=y?32:11;u.l<L&&u[u.l]!=13;)switch(k={},k.name=Dc.utils.decode(N,u.slice(u.l,u.l+F)).replace(/[\u0000\r\n].*$/g,""),u.l+=F,k.type=String.fromCharCode(u.read_shift(1)),x!=2&&!y&&(k.offset=u.read_shift(4)),k.len=u.read_shift(1),x==2&&(k.offset=u.read_shift(2)),k.dec=u.read_shift(1),k.name.length&&j.push(k),x!=2&&(u.l+=y?13:14),k.type){case"B":(!m||k.len!=8)&&d.WTF&&console.log("Skipping "+k.name+":"+k.type);break;case"G":case"P":d.WTF&&console.log("Skipping "+k.name+":"+k.type);break;case"+":case"0":case"@":case"C":case"D":case"F":case"I":case"L":case"M":case"N":case"O":case"T":case"Y":break;default:throw new Error("Unknown Field Type: "+k.type)}if(u[u.l]!==13&&(u.l=b-1),u.read_shift(1)!==13)throw new Error("DBF Terminator not found "+u.l+" "+u[u.l]);u.l=b;var T=0,C=0;for(h[0]=[],C=0;C!=j.length;++C)h[0][C]=j[C].name;for(;g-- >0;){if(u[u.l]===42){u.l+=w;continue}for(++u.l,h[++T]=[],C=0,C=0;C!=j.length;++C){var I=u.slice(u.l,u.l+j[C].len);u.l+=j[C].len,Ws(I,0);var D=Dc.utils.decode(N,I);switch(j[C].type){case"C":D.trim().length&&(h[T][C]=D.replace(/\s+$/,""));break;case"D":D.length===8?h[T][C]=new Date(+D.slice(0,4),+D.slice(4,6)-1,+D.slice(6,8)):h[T][C]=D;break;case"F":h[T][C]=parseFloat(D.trim());break;case"+":case"I":h[T][C]=y?I.read_shift(-4,"i")^2147483648:I.read_shift(4,"i");break;case"L":switch(D.trim().toUpperCase()){case"Y":case"T":h[T][C]=!0;break;case"N":case"F":h[T][C]=!1;break;case"":case"?":break;default:throw new Error("DBF Unrecognized L:|"+D+"|")}break;case"M":if(!p)throw new Error("DBF Unexpected MEMO for type "+x.toString(16));h[T][C]="##MEMO##"+(y?parseInt(D.trim(),10):I.read_shift(4));break;case"N":D=D.replace(/\u0000/g,"").trim(),D&&D!="."&&(h[T][C]=+D||0);break;case"@":h[T][C]=new Date(I.read_shift(-8,"f")-621356832e5);break;case"T":h[T][C]=new Date((I.read_shift(4)-2440588)*864e5+I.read_shift(4));break;case"Y":h[T][C]=I.read_shift(4,"i")/1e4+I.read_shift(4,"i")/1e4*Math.pow(2,32);break;case"O":h[T][C]=-I.read_shift(-8,"f");break;case"B":if(m&&j[C].len==8){h[T][C]=I.read_shift(8,"f");break}case"G":case"P":I.l+=j[C].len;break;case"0":if(j[C].name==="_NullFlags")break;default:throw new Error("DBF Unsupported data type "+j[C].type)}}}if(x!=2&&u.l<u.length&&u[u.l++]!=26)throw new Error("DBF EOF Marker missing "+(u.l-1)+" of "+u.length+" "+u[u.l-1].toString(16));return d&&d.sheetRows&&(h=h.slice(0,d.sheetRows)),d.DBF=j,h}function a(c,d){var h=d||{};h.dateNF||(h.dateNF="yyyymmdd");var u=ao(r(c,h),h);return u["!cols"]=h.DBF.map(function(x){return{wch:x.len,DBF:x}}),delete h.DBF,u}function n(c,d){try{return ci(a(c,d),d)}catch(h){if(d&&d.WTF)throw h}return{SheetNames:[],Sheets:{}}}var o={B:8,C:250,L:1,D:8,"?":0,"":0};function l(c,d){var h=d||{};if(+h.codepage>=0&&sl(+h.codepage),h.type=="string")throw new Error("Cannot write DBF to JS string");var u=Cs(),x=Yc(c,{header:1,raw:!0,cellDates:!0}),p=x[0],m=x.slice(1),y=c["!cols"]||[],g=0,b=0,w=0,N=1;for(g=0;g<p.length;++g){if(((y[g]||{}).DBF||{}).name){p[g]=y[g].DBF.name,++w;continue}if(p[g]!=null){if(++w,typeof p[g]=="number"&&(p[g]=p[g].toString(10)),typeof p[g]!="string")throw new Error("DBF Invalid column name "+p[g]+" |"+typeof p[g]+"|");if(p.indexOf(p[g])!==g){for(b=0;b<1024;++b)if(p.indexOf(p[g]+"_"+b)==-1){p[g]+="_"+b;break}}}}var j=ur(c["!ref"]),k=[],L=[],F=[];for(g=0;g<=j.e.c-j.s.c;++g){var T="",C="",I=0,D=[];for(b=0;b<m.length;++b)m[b][g]!=null&&D.push(m[b][g]);if(D.length==0||p[g]==null){k[g]="?";continue}for(b=0;b<D.length;++b){switch(typeof D[b]){case"number":C="B";break;case"string":C="C";break;case"boolean":C="L";break;case"object":C=D[b]instanceof Date?"D":"C";break;default:C="C"}I=Math.max(I,String(D[b]).length),T=T&&T!=C?"C":C}I>250&&(I=250),C=((y[g]||{}).DBF||{}).type,C=="C"&&y[g].DBF.len>I&&(I=y[g].DBF.len),T=="B"&&C=="N"&&(T="N",F[g]=y[g].DBF.dec,I=y[g].DBF.len),L[g]=T=="C"||C=="N"?I:o[T]||0,N+=L[g],k[g]=T}var E=u.next(32);for(E.write_shift(4,318902576),E.write_shift(4,m.length),E.write_shift(2,296+32*w),E.write_shift(2,N),g=0;g<4;++g)E.write_shift(4,0);for(E.write_shift(4,0|(+s[om]||3)<<8),g=0,b=0;g<p.length;++g)if(p[g]!=null){var P=u.next(32),W=(p[g].slice(-10)+"\0\0\0\0\0\0\0\0\0\0\0").slice(0,11);P.write_shift(1,W,"sbcs"),P.write_shift(1,k[g]=="?"?"C":k[g],"sbcs"),P.write_shift(4,b),P.write_shift(1,L[g]||o[k[g]]||0),P.write_shift(1,F[g]||0),P.write_shift(1,2),P.write_shift(4,0),P.write_shift(1,0),P.write_shift(4,0),P.write_shift(4,0),b+=L[g]||o[k[g]]||0}var z=u.next(264);for(z.write_shift(4,13),g=0;g<65;++g)z.write_shift(4,0);for(g=0;g<m.length;++g){var ue=u.next(N);for(ue.write_shift(1,0),b=0;b<p.length;++b)if(p[b]!=null)switch(k[b]){case"L":ue.write_shift(1,m[g][b]==null?63:m[g][b]?84:70);break;case"B":ue.write_shift(8,m[g][b]||0,"f");break;case"N":var Q="0";for(typeof m[g][b]=="number"&&(Q=m[g][b].toFixed(F[b]||0)),w=0;w<L[b]-Q.length;++w)ue.write_shift(1,32);ue.write_shift(1,Q,"sbcs");break;case"D":m[g][b]?(ue.write_shift(4,("0000"+m[g][b].getFullYear()).slice(-4),"sbcs"),ue.write_shift(2,("00"+(m[g][b].getMonth()+1)).slice(-2),"sbcs"),ue.write_shift(2,("00"+m[g][b].getDate()).slice(-2),"sbcs")):ue.write_shift(8,"00000000","sbcs");break;case"C":var ee=String(m[g][b]!=null?m[g][b]:"").slice(0,L[b]);for(ue.write_shift(1,ee,"sbcs"),w=0;w<L[b]-ee.length;++w)ue.write_shift(1,32);break}}return u.next(1).write_shift(1,26),u.end()}return{to_workbook:n,to_sheet:a,from_sheet:l}}(),Qy=function(){var t={AA:"Ã€",BA:"Ã",CA:"Ã‚",DA:195,HA:"Ã„",JA:197,AE:"Ãˆ",BE:"Ã‰",CE:"ÃŠ",HE:"Ã‹",AI:"ÃŒ",BI:"Ã",CI:"ÃŽ",HI:"Ã",AO:"Ã’",BO:"Ã“",CO:"Ã”",DO:213,HO:"Ã–",AU:"Ã™",BU:"Ãš",CU:"Ã›",HU:"Ãœ",Aa:"Ã ",Ba:"Ã¡",Ca:"Ã¢",Da:227,Ha:"Ã¤",Ja:229,Ae:"Ã¨",Be:"Ã©",Ce:"Ãª",He:"Ã«",Ai:"Ã¬",Bi:"Ã­",Ci:"Ã®",Hi:"Ã¯",Ao:"Ã²",Bo:"Ã³",Co:"Ã´",Do:245,Ho:"Ã¶",Au:"Ã¹",Bu:"Ãº",Cu:"Ã»",Hu:"Ã¼",KC:"Ã‡",Kc:"Ã§",q:"Ã¦",z:"Å“",a:"Ã†",j:"Å’",DN:209,Dn:241,Hy:255,S:169,c:170,R:174,"B ":180,0:176,1:177,2:178,3:179,5:181,6:182,7:183,Q:185,k:186,b:208,i:216,l:222,s:240,y:248,"!":161,'"':162,"#":163,"(":164,"%":165,"'":167,"H ":168,"+":171,";":187,"<":188,"=":189,">":190,"?":191,"{":223},s=new RegExp("\x1BN("+rs(t).join("|").replace(/\|\|\|/,"|\\||").replace(/([?()+])/g,"\\$1")+"|\\|)","gm"),r=function(p,m){var y=t[m];return typeof y=="number"?ku(y):y},a=function(p,m,y){var g=m.charCodeAt(0)-32<<4|y.charCodeAt(0)-48;return g==59?p:ku(g)};t["|"]=254;function n(p,m){switch(m.type){case"base64":return o(sn(p),m);case"binary":return o(p,m);case"buffer":return o(zt&&Buffer.isBuffer(p)?p.toString("binary"):dl(p),m);case"array":return o(ad(p),m)}throw new Error("Unrecognized type "+m.type)}function o(p,m){var y=p.split(/[\n\r]+/),g=-1,b=-1,w=0,N=0,j=[],k=[],L=null,F={},T=[],C=[],I=[],D=0,E;for(+m.codepage>=0&&sl(+m.codepage);w!==y.length;++w){D=0;var P=y[w].trim().replace(/\x1B([\x20-\x2F])([\x30-\x3F])/g,a).replace(s,r),W=P.replace(/;;/g,"\0").split(";").map(function(B){return B.replace(/\u0000/g,";")}),z=W[0],ue;if(P.length>0)switch(z){case"ID":break;case"E":break;case"B":break;case"O":break;case"W":break;case"P":W[1].charAt(0)=="P"&&k.push(P.slice(3).replace(/;;/g,";"));break;case"C":var Q=!1,ee=!1,ie=!1,ne=!1,pe=-1,ye=-1;for(N=1;N<W.length;++N)switch(W[N].charAt(0)){case"A":break;case"X":b=parseInt(W[N].slice(1))-1,ee=!0;break;case"Y":for(g=parseInt(W[N].slice(1))-1,ee||(b=0),E=j.length;E<=g;++E)j[E]=[];break;case"K":ue=W[N].slice(1),ue.charAt(0)==='"'?ue=ue.slice(1,ue.length-1):ue==="TRUE"?ue=!0:ue==="FALSE"?ue=!1:isNaN(tn(ue))?isNaN(nl(ue).getDate())||(ue=ys(ue)):(ue=tn(ue),L!==null&&ym(L)&&(ue=jm(ue))),Q=!0;break;case"E":ne=!0;var _=Xb(W[N].slice(1),{r:g,c:b});j[g][b]=[j[g][b],_];break;case"S":ie=!0,j[g][b]=[j[g][b],"S5S"];break;case"G":break;case"R":pe=parseInt(W[N].slice(1))-1;break;case"C":ye=parseInt(W[N].slice(1))-1;break;default:if(m&&m.WTF)throw new Error("SYLK bad record "+P)}if(Q&&(j[g][b]&&j[g][b].length==2?j[g][b][0]=ue:j[g][b]=ue,L=null),ie){if(ne)throw new Error("SYLK shared formula cannot have own formula");var R=pe>-1&&j[pe][ye];if(!R||!R[1])throw new Error("SYLK shared formula cannot find base");j[g][b][1]=Jb(R[1],{r:g-pe,c:b-ye})}break;case"F":var M=0;for(N=1;N<W.length;++N)switch(W[N].charAt(0)){case"X":b=parseInt(W[N].slice(1))-1,++M;break;case"Y":for(g=parseInt(W[N].slice(1))-1,E=j.length;E<=g;++E)j[E]=[];break;case"M":D=parseInt(W[N].slice(1))/20;break;case"F":break;case"G":break;case"P":L=k[parseInt(W[N].slice(1))];break;case"S":break;case"D":break;case"N":break;case"W":for(I=W[N].slice(1).split(" "),E=parseInt(I[0],10);E<=parseInt(I[1],10);++E)D=parseInt(I[2],10),C[E-1]=D===0?{hidden:!0}:{wch:D},lh(C[E-1]);break;case"C":b=parseInt(W[N].slice(1))-1,C[b]||(C[b]={});break;case"R":g=parseInt(W[N].slice(1))-1,T[g]||(T[g]={}),D>0?(T[g].hpt=D,T[g].hpx=dx(D)):D===0&&(T[g].hidden=!0);break;default:if(m&&m.WTF)throw new Error("SYLK bad record "+P)}M<1&&(L=null);break;default:if(m&&m.WTF)throw new Error("SYLK bad record "+P)}}return T.length>0&&(F["!rows"]=T),C.length>0&&(F["!cols"]=C),m&&m.sheetRows&&(j=j.slice(0,m.sheetRows)),[j,F]}function l(p,m){var y=n(p,m),g=y[0],b=y[1],w=ao(g,m);return rs(b).forEach(function(N){w[N]=b[N]}),w}function c(p,m){return ci(l(p,m),m)}function d(p,m,y,g){var b="C;Y"+(y+1)+";X"+(g+1)+";K";switch(p.t){case"n":b+=p.v||0,p.f&&!p.F&&(b+=";E"+dh(p.f,{r:y,c:g}));break;case"b":b+=p.v?"TRUE":"FALSE";break;case"e":b+=p.w||p.v;break;case"d":b+='"'+(p.w||p.v)+'"';break;case"s":b+='"'+p.v.replace(/"/g,"").replace(/;/g,";;")+'"';break}return b}function h(p,m){m.forEach(function(y,g){var b="F;W"+(g+1)+" "+(g+1)+" ";y.hidden?b+="0":(typeof y.width=="number"&&!y.wpx&&(y.wpx=zc(y.width)),typeof y.wpx=="number"&&!y.wch&&(y.wch=Vc(y.wpx)),typeof y.wch=="number"&&(b+=Math.round(y.wch))),b.charAt(b.length-1)!=" "&&p.push(b)})}function u(p,m){m.forEach(function(y,g){var b="F;";y.hidden?b+="M0;":y.hpt?b+="M"+20*y.hpt+";":y.hpx&&(b+="M"+20*$c(y.hpx)+";"),b.length>2&&p.push(b+"R"+(g+1))})}function x(p,m){var y=["ID;PWXL;N;E"],g=[],b=ur(p["!ref"]),w,N=Array.isArray(p),j=`\r
`;y.push("P;PGeneral"),y.push("F;P0;DG0G8;M255"),p["!cols"]&&h(y,p["!cols"]),p["!rows"]&&u(y,p["!rows"]),y.push("B;Y"+(b.e.r-b.s.r+1)+";X"+(b.e.c-b.s.c+1)+";D"+[b.s.c,b.s.r,b.e.c,b.e.r].join(" "));for(var k=b.s.r;k<=b.e.r;++k)for(var L=b.s.c;L<=b.e.c;++L){var F=Qt({r:k,c:L});w=N?(p[k]||[])[L]:p[F],!(!w||w.v==null&&(!w.f||w.F))&&g.push(d(w,p,k,L))}return y.join(j)+j+g.join(j)+j+"E"+j}return{to_workbook:c,to_sheet:l,from_sheet:x}}(),Zy=function(){function t(o,l){switch(l.type){case"base64":return s(sn(o),l);case"binary":return s(o,l);case"buffer":return s(zt&&Buffer.isBuffer(o)?o.toString("binary"):dl(o),l);case"array":return s(ad(o),l)}throw new Error("Unrecognized type "+l.type)}function s(o,l){for(var c=o.split(`
`),d=-1,h=-1,u=0,x=[];u!==c.length;++u){if(c[u].trim()==="BOT"){x[++d]=[],h=0;continue}if(!(d<0)){var p=c[u].trim().split(","),m=p[0],y=p[1];++u;for(var g=c[u]||"";(g.match(/["]/g)||[]).length&1&&u<c.length-1;)g+=`
`+c[++u];switch(g=g.trim(),+m){case-1:if(g==="BOT"){x[++d]=[],h=0;continue}else if(g!=="EOD")throw new Error("Unrecognized DIF special command "+g);break;case 0:g==="TRUE"?x[d][h]=!0:g==="FALSE"?x[d][h]=!1:isNaN(tn(y))?isNaN(nl(y).getDate())?x[d][h]=y:x[d][h]=ys(y):x[d][h]=tn(y),++h;break;case 1:g=g.slice(1,g.length-1),g=g.replace(/""/g,'"'),g&&g.match(/^=".*"$/)&&(g=g.slice(2,-1)),x[d][h++]=g!==""?g:null;break}if(g==="EOD")break}}return l&&l.sheetRows&&(x=x.slice(0,l.sheetRows)),x}function r(o,l){return ao(t(o,l),l)}function a(o,l){return ci(r(o,l),l)}var n=function(){var o=function(d,h,u,x,p){d.push(h),d.push(u+","+x),d.push('"'+p.replace(/"/g,'""')+'"')},l=function(d,h,u,x){d.push(h+","+u),d.push(h==1?'"'+x.replace(/"/g,'""')+'"':x)};return function(d){var h=[],u=ur(d["!ref"]),x,p=Array.isArray(d);o(h,"TABLE",0,1,"sheetjs"),o(h,"VECTORS",0,u.e.r-u.s.r+1,""),o(h,"TUPLES",0,u.e.c-u.s.c+1,""),o(h,"DATA",0,0,"");for(var m=u.s.r;m<=u.e.r;++m){l(h,-1,0,"BOT");for(var y=u.s.c;y<=u.e.c;++y){var g=Qt({r:m,c:y});if(x=p?(d[m]||[])[y]:d[g],!x){l(h,1,0,"");continue}switch(x.t){case"n":var b=x.w;!b&&x.v!=null&&(b=x.v),b==null?x.f&&!x.F?l(h,1,0,"="+x.f):l(h,1,0,""):l(h,0,b,"V");break;case"b":l(h,0,x.v?1:0,x.v?"TRUE":"FALSE");break;case"s":l(h,1,0,isNaN(x.v)?x.v:'="'+x.v+'"');break;case"d":x.w||(x.w=Ln(x.z||Nr[14],Ps(ys(x.v)))),l(h,0,x.w,"V");break;default:l(h,1,0,"")}}}l(h,-1,0,"EOD");var w=`\r
`,N=h.join(w);return N}}();return{to_workbook:a,to_sheet:r,from_sheet:n}}(),ix=function(){function t(x){return x.replace(/\\b/g,"\\").replace(/\\c/g,":").replace(/\\n/g,`
`)}function s(x){return x.replace(/\\/g,"\\b").replace(/:/g,"\\c").replace(/\n/g,"\\n")}function r(x,p){for(var m=x.split(`
`),y=-1,g=-1,b=0,w=[];b!==m.length;++b){var N=m[b].trim().split(":");if(N[0]==="cell"){var j=Gr(N[1]);if(w.length<=j.r)for(y=w.length;y<=j.r;++y)w[y]||(w[y]=[]);switch(y=j.r,g=j.c,N[2]){case"t":w[y][g]=t(N[3]);break;case"v":w[y][g]=+N[3];break;case"vtf":var k=N[N.length-1];case"vtc":switch(N[3]){case"nl":w[y][g]=!!+N[4];break;default:w[y][g]=+N[4];break}N[2]=="vtf"&&(w[y][g]=[w[y][g],k])}}}return p&&p.sheetRows&&(w=w.slice(0,p.sheetRows)),w}function a(x,p){return ao(r(x,p),p)}function n(x,p){return ci(a(x,p),p)}var o=["socialcalc:version:1.5","MIME-Version: 1.0","Content-Type: multipart/mixed; boundary=SocialCalcSpreadsheetControlSave"].join(`
`),l=["--SocialCalcSpreadsheetControlSave","Content-type: text/plain; charset=UTF-8"].join(`
`)+`
`,c=["# SocialCalc Spreadsheet Control Save","part:sheet"].join(`
`),d="--SocialCalcSpreadsheetControlSave--";function h(x){if(!x||!x["!ref"])return"";for(var p=[],m=[],y,g="",b=$s(x["!ref"]),w=Array.isArray(x),N=b.s.r;N<=b.e.r;++N)for(var j=b.s.c;j<=b.e.c;++j)if(g=Qt({r:N,c:j}),y=w?(x[N]||[])[j]:x[g],!(!y||y.v==null||y.t==="z")){switch(m=["cell",g,"t"],y.t){case"s":case"str":m.push(s(y.v));break;case"n":y.f?(m[2]="vtf",m[3]="n",m[4]=y.v,m[5]=s(y.f)):(m[2]="v",m[3]=y.v);break;case"b":m[2]="vt"+(y.f?"f":"c"),m[3]="nl",m[4]=y.v?"1":"0",m[5]=s(y.f||(y.v?"TRUE":"FALSE"));break;case"d":var k=Ps(ys(y.v));m[2]="vtc",m[3]="nd",m[4]=""+k,m[5]=y.w||Ln(y.z||Nr[14],k);break;case"e":continue}p.push(m.join(":"))}return p.push("sheet:c:"+(b.e.c-b.s.c+1)+":r:"+(b.e.r-b.s.r+1)+":tvf:1"),p.push("valueformat:1:text-wiki"),p.join(`
`)}function u(x){return[o,l,c,l,h(x),d].join(`
`)}return{to_workbook:n,to_sheet:a,from_sheet:u}}(),eb=function(){function t(u,x,p,m,y){y.raw?x[p][m]=u:u===""||(u==="TRUE"?x[p][m]=!0:u==="FALSE"?x[p][m]=!1:isNaN(tn(u))?isNaN(nl(u).getDate())?x[p][m]=u:x[p][m]=ys(u):x[p][m]=tn(u))}function s(u,x){var p=x||{},m=[];if(!u||u.length===0)return m;for(var y=u.split(/[\r\n]/),g=y.length-1;g>=0&&y[g].length===0;)--g;for(var b=10,w=0,N=0;N<=g;++N)w=y[N].indexOf(" "),w==-1?w=y[N].length:w++,b=Math.max(b,w);for(N=0;N<=g;++N){m[N]=[];var j=0;for(t(y[N].slice(0,b).trim(),m,N,j,p),j=1;j<=(y[N].length-b)/10+1;++j)t(y[N].slice(b+(j-1)*10,b+j*10).trim(),m,N,j,p)}return p.sheetRows&&(m=m.slice(0,p.sheetRows)),m}var r={44:",",9:"	",59:";",124:"|"},a={44:3,9:2,59:1,124:0};function n(u){for(var x={},p=!1,m=0,y=0;m<u.length;++m)(y=u.charCodeAt(m))==34?p=!p:!p&&y in r&&(x[y]=(x[y]||0)+1);y=[];for(m in x)Object.prototype.hasOwnProperty.call(x,m)&&y.push([x[m],m]);if(!y.length){x=a;for(m in x)Object.prototype.hasOwnProperty.call(x,m)&&y.push([x[m],m])}return y.sort(function(g,b){return g[0]-b[0]||a[g[1]]-a[b[1]]}),r[y.pop()[1]]||44}function o(u,x){var p=x||{},m="",y=p.dense?[]:{},g={s:{c:0,r:0},e:{c:0,r:0}};u.slice(0,4)=="sep="?u.charCodeAt(5)==13&&u.charCodeAt(6)==10?(m=u.charAt(4),u=u.slice(7)):u.charCodeAt(5)==13||u.charCodeAt(5)==10?(m=u.charAt(4),u=u.slice(6)):m=n(u.slice(0,1024)):p&&p.FS?m=p.FS:m=n(u.slice(0,1024));var b=0,w=0,N=0,j=0,k=0,L=m.charCodeAt(0),F=!1,T=0,C=u.charCodeAt(0);u=u.replace(/\r\n/mg,`
`);var I=p.dateNF!=null?pv(p.dateNF):null;function D(){var E=u.slice(j,k),P={};if(E.charAt(0)=='"'&&E.charAt(E.length-1)=='"'&&(E=E.slice(1,-1).replace(/""/g,'"')),E.length===0)P.t="z";else if(p.raw)P.t="s",P.v=E;else if(E.trim().length===0)P.t="s",P.v=E;else if(E.charCodeAt(0)==61)E.charCodeAt(1)==34&&E.charCodeAt(E.length-1)==34?(P.t="s",P.v=E.slice(2,-1).replace(/""/g,'"')):Qb(E)?(P.t="n",P.f=E.slice(1)):(P.t="s",P.v=E);else if(E=="TRUE")P.t="b",P.v=!0;else if(E=="FALSE")P.t="b",P.v=!1;else if(!isNaN(N=tn(E)))P.t="n",p.cellText!==!1&&(P.w=E),P.v=N;else if(!isNaN(nl(E).getDate())||I&&E.match(I)){P.z=p.dateNF||Nr[14];var W=0;I&&E.match(I)&&(E=gv(E,p.dateNF,E.match(I)||[]),W=1),p.cellDates?(P.t="d",P.v=ys(E,W)):(P.t="n",P.v=Ps(ys(E,W))),p.cellText!==!1&&(P.w=Ln(P.z,P.v instanceof Date?Ps(P.v):P.v)),p.cellNF||delete P.z}else P.t="s",P.v=E;if(P.t=="z"||(p.dense?(y[b]||(y[b]=[]),y[b][w]=P):y[Qt({c:w,r:b})]=P),j=k+1,C=u.charCodeAt(j),g.e.c<w&&(g.e.c=w),g.e.r<b&&(g.e.r=b),T==L)++w;else if(w=0,++b,p.sheetRows&&p.sheetRows<=b)return!0}e:for(;k<u.length;++k)switch(T=u.charCodeAt(k)){case 34:C===34&&(F=!F);break;case L:case 10:case 13:if(!F&&D())break e;break}return k-j>0&&D(),y["!ref"]=Dr(g),y}function l(u,x){return!(x&&x.PRN)||x.FS||u.slice(0,4)=="sep="||u.indexOf("	")>=0||u.indexOf(",")>=0||u.indexOf(";")>=0?o(u,x):ao(s(u,x),x)}function c(u,x){var p="",m=x.type=="string"?[0,0,0,0]:u3(u,x);switch(x.type){case"base64":p=sn(u);break;case"binary":p=u;break;case"buffer":x.codepage==65001?p=u.toString("utf8"):x.codepage&&typeof Dc<"u"||(p=zt&&Buffer.isBuffer(u)?u.toString("binary"):dl(u));break;case"array":p=ad(u);break;case"string":p=u;break;default:throw new Error("Unrecognized type "+x.type)}return m[0]==239&&m[1]==187&&m[2]==191?p=Xo(p.slice(3)):x.type!="string"&&x.type!="buffer"&&x.codepage==65001?p=Xo(p):x.type=="binary"&&typeof Dc<"u",p.slice(0,19)=="socialcalc:version:"?ix.to_sheet(x.type=="string"?p:Xo(p),x):l(p,x)}function d(u,x){return ci(c(u,x),x)}function h(u){for(var x=[],p=ur(u["!ref"]),m,y=Array.isArray(u),g=p.s.r;g<=p.e.r;++g){for(var b=[],w=p.s.c;w<=p.e.c;++w){var N=Qt({r:g,c:w});if(m=y?(u[g]||[])[w]:u[N],!m||m.v==null){b.push("          ");continue}for(var j=(m.w||(an(m),m.w)||"").slice(0,10);j.length<10;)j+=" ";b.push(j+(w===0?" ":""))}x.push(b.join(""))}return x.join(`
`)}return{to_workbook:d,to_sheet:c,from_sheet:h}}(),rf=function(){function t(_,R,M){if(_){Ws(_,_.l||0);for(var B=M.Enum||pe;_.l<_.length;){var Y=_.read_shift(2),fe=B[Y]||B[65535],ae=_.read_shift(2),X=_.l+ae,me=fe.f&&fe.f(_,ae,M);if(_.l=X,R(me,fe,Y))return}}}function s(_,R){switch(R.type){case"base64":return r(ya(sn(_)),R);case"binary":return r(ya(_),R);case"buffer":case"array":return r(_,R)}throw"Unsupported type "+R.type}function r(_,R){if(!_)return _;var M=R||{},B=M.dense?[]:{},Y="Sheet1",fe="",ae=0,X={},me=[],Ne=[],De={s:{r:0,c:0},e:{r:0,c:0}},Ve=M.sheetRows||0;if(_[2]==0&&(_[3]==8||_[3]==9)&&_.length>=16&&_[14]==5&&_[15]===108)throw new Error("Unsupported Works 3 for Mac file");if(_[2]==2)M.Enum=pe,t(_,function(We,tt,$e){switch($e){case 0:M.vers=We,We>=4096&&(M.qpro=!0);break;case 6:De=We;break;case 204:We&&(fe=We);break;case 222:fe=We;break;case 15:case 51:M.qpro||(We[1].v=We[1].v.slice(1));case 13:case 14:case 16:$e==14&&(We[2]&112)==112&&(We[2]&15)>1&&(We[2]&15)<15&&(We[1].z=M.dateNF||Nr[14],M.cellDates&&(We[1].t="d",We[1].v=jm(We[1].v))),M.qpro&&We[3]>ae&&(B["!ref"]=Dr(De),X[Y]=B,me.push(Y),B=M.dense?[]:{},De={s:{r:0,c:0},e:{r:0,c:0}},ae=We[3],Y=fe||"Sheet"+(ae+1),fe="");var Je=M.dense?(B[We[0].r]||[])[We[0].c]:B[Qt(We[0])];if(Je){Je.t=We[1].t,Je.v=We[1].v,We[1].z!=null&&(Je.z=We[1].z),We[1].f!=null&&(Je.f=We[1].f);break}M.dense?(B[We[0].r]||(B[We[0].r]=[]),B[We[0].r][We[0].c]=We[1]):B[Qt(We[0])]=We[1];break}},M);else if(_[2]==26||_[2]==14)M.Enum=ye,_[2]==14&&(M.qpro=!0,_.l=0),t(_,function(We,tt,$e){switch($e){case 204:Y=We;break;case 22:We[1].v=We[1].v.slice(1);case 23:case 24:case 25:case 37:case 39:case 40:if(We[3]>ae&&(B["!ref"]=Dr(De),X[Y]=B,me.push(Y),B=M.dense?[]:{},De={s:{r:0,c:0},e:{r:0,c:0}},ae=We[3],Y="Sheet"+(ae+1)),Ve>0&&We[0].r>=Ve)break;M.dense?(B[We[0].r]||(B[We[0].r]=[]),B[We[0].r][We[0].c]=We[1]):B[Qt(We[0])]=We[1],De.e.c<We[0].c&&(De.e.c=We[0].c),De.e.r<We[0].r&&(De.e.r=We[0].r);break;case 27:We[14e3]&&(Ne[We[14e3][0]]=We[14e3][1]);break;case 1537:Ne[We[0]]=We[1],We[0]==ae&&(Y=We[1]);break}},M);else throw new Error("Unrecognized LOTUS BOF "+_[2]);if(B["!ref"]=Dr(De),X[fe||Y]=B,me.push(fe||Y),!Ne.length)return{SheetNames:me,Sheets:X};for(var Ke={},Ee=[],de=0;de<Ne.length;++de)X[me[de]]?(Ee.push(Ne[de]||me[de]),Ke[Ne[de]]=X[Ne[de]]||X[me[de]]):(Ee.push(Ne[de]),Ke[Ne[de]]={"!ref":"A1"});return{SheetNames:Ee,Sheets:Ke}}function a(_,R){var M=R||{};if(+M.codepage>=0&&sl(+M.codepage),M.type=="string")throw new Error("Cannot write WK1 to JS string");var B=Cs(),Y=ur(_["!ref"]),fe=Array.isArray(_),ae=[];et(B,0,o(1030)),et(B,6,d(Y));for(var X=Math.min(Y.e.r,8191),me=Y.s.r;me<=X;++me)for(var Ne=ts(me),De=Y.s.c;De<=Y.e.c;++De){me===Y.s.r&&(ae[De]=us(De));var Ve=ae[De]+Ne,Ke=fe?(_[me]||[])[De]:_[Ve];if(!(!Ke||Ke.t=="z"))if(Ke.t=="n")(Ke.v|0)==Ke.v&&Ke.v>=-32768&&Ke.v<=32767?et(B,13,m(me,De,Ke.v)):et(B,14,g(me,De,Ke.v));else{var Ee=an(Ke);et(B,15,x(me,De,Ee.slice(0,239)))}}return et(B,1),B.end()}function n(_,R){var M=R||{};if(+M.codepage>=0&&sl(+M.codepage),M.type=="string")throw new Error("Cannot write WK3 to JS string");var B=Cs();et(B,0,l(_));for(var Y=0,fe=0;Y<_.SheetNames.length;++Y)(_.Sheets[_.SheetNames[Y]]||{})["!ref"]&&et(B,27,ne(_.SheetNames[Y],fe++));var ae=0;for(Y=0;Y<_.SheetNames.length;++Y){var X=_.Sheets[_.SheetNames[Y]];if(!(!X||!X["!ref"])){for(var me=ur(X["!ref"]),Ne=Array.isArray(X),De=[],Ve=Math.min(me.e.r,8191),Ke=me.s.r;Ke<=Ve;++Ke)for(var Ee=ts(Ke),de=me.s.c;de<=me.e.c;++de){Ke===me.s.r&&(De[de]=us(de));var We=De[de]+Ee,tt=Ne?(X[Ke]||[])[de]:X[We];if(!(!tt||tt.t=="z"))if(tt.t=="n")et(B,23,D(Ke,de,ae,tt.v));else{var $e=an(tt);et(B,22,T(Ke,de,ae,$e.slice(0,239)))}}++ae}}return et(B,1),B.end()}function o(_){var R=Me(2);return R.write_shift(2,_),R}function l(_){var R=Me(26);R.write_shift(2,4096),R.write_shift(2,4),R.write_shift(4,0);for(var M=0,B=0,Y=0,fe=0;fe<_.SheetNames.length;++fe){var ae=_.SheetNames[fe],X=_.Sheets[ae];if(!(!X||!X["!ref"])){++Y;var me=$s(X["!ref"]);M<me.e.r&&(M=me.e.r),B<me.e.c&&(B=me.e.c)}}return M>8191&&(M=8191),R.write_shift(2,M),R.write_shift(1,Y),R.write_shift(1,B),R.write_shift(2,0),R.write_shift(2,0),R.write_shift(1,1),R.write_shift(1,2),R.write_shift(4,0),R.write_shift(4,0),R}function c(_,R,M){var B={s:{c:0,r:0},e:{c:0,r:0}};return R==8&&M.qpro?(B.s.c=_.read_shift(1),_.l++,B.s.r=_.read_shift(2),B.e.c=_.read_shift(1),_.l++,B.e.r=_.read_shift(2),B):(B.s.c=_.read_shift(2),B.s.r=_.read_shift(2),R==12&&M.qpro&&(_.l+=2),B.e.c=_.read_shift(2),B.e.r=_.read_shift(2),R==12&&M.qpro&&(_.l+=2),B.s.c==65535&&(B.s.c=B.e.c=B.s.r=B.e.r=0),B)}function d(_){var R=Me(8);return R.write_shift(2,_.s.c),R.write_shift(2,_.s.r),R.write_shift(2,_.e.c),R.write_shift(2,_.e.r),R}function h(_,R,M){var B=[{c:0,r:0},{t:"n",v:0},0,0];return M.qpro&&M.vers!=20768?(B[0].c=_.read_shift(1),B[3]=_.read_shift(1),B[0].r=_.read_shift(2),_.l+=2):(B[2]=_.read_shift(1),B[0].c=_.read_shift(2),B[0].r=_.read_shift(2)),B}function u(_,R,M){var B=_.l+R,Y=h(_,R,M);if(Y[1].t="s",M.vers==20768){_.l++;var fe=_.read_shift(1);return Y[1].v=_.read_shift(fe,"utf8"),Y}return M.qpro&&_.l++,Y[1].v=_.read_shift(B-_.l,"cstr"),Y}function x(_,R,M){var B=Me(7+M.length);B.write_shift(1,255),B.write_shift(2,R),B.write_shift(2,_),B.write_shift(1,39);for(var Y=0;Y<B.length;++Y){var fe=M.charCodeAt(Y);B.write_shift(1,fe>=128?95:fe)}return B.write_shift(1,0),B}function p(_,R,M){var B=h(_,R,M);return B[1].v=_.read_shift(2,"i"),B}function m(_,R,M){var B=Me(7);return B.write_shift(1,255),B.write_shift(2,R),B.write_shift(2,_),B.write_shift(2,M,"i"),B}function y(_,R,M){var B=h(_,R,M);return B[1].v=_.read_shift(8,"f"),B}function g(_,R,M){var B=Me(13);return B.write_shift(1,255),B.write_shift(2,R),B.write_shift(2,_),B.write_shift(8,M,"f"),B}function b(_,R,M){var B=_.l+R,Y=h(_,R,M);if(Y[1].v=_.read_shift(8,"f"),M.qpro)_.l=B;else{var fe=_.read_shift(2);k(_.slice(_.l,_.l+fe),Y),_.l+=fe}return Y}function w(_,R,M){var B=R&32768;return R&=-32769,R=(B?_:0)+(R>=8192?R-16384:R),(B?"":"$")+(M?us(R):ts(R))}var N={51:["FALSE",0],52:["TRUE",0],70:["LEN",1],80:["SUM",69],81:["AVERAGEA",69],82:["COUNTA",69],83:["MINA",69],84:["MAXA",69],111:["T",1]},j=["","","","","","","","","","+","-","*","/","^","=","<>","<=",">=","<",">","","","","","&","","","","","","",""];function k(_,R){Ws(_,0);for(var M=[],B=0,Y="",fe="",ae="",X="";_.l<_.length;){var me=_[_.l++];switch(me){case 0:M.push(_.read_shift(8,"f"));break;case 1:fe=w(R[0].c,_.read_shift(2),!0),Y=w(R[0].r,_.read_shift(2),!1),M.push(fe+Y);break;case 2:{var Ne=w(R[0].c,_.read_shift(2),!0),De=w(R[0].r,_.read_shift(2),!1);fe=w(R[0].c,_.read_shift(2),!0),Y=w(R[0].r,_.read_shift(2),!1),M.push(Ne+De+":"+fe+Y)}break;case 3:if(_.l<_.length){console.error("WK1 premature formula end");return}break;case 4:M.push("("+M.pop()+")");break;case 5:M.push(_.read_shift(2));break;case 6:{for(var Ve="";me=_[_.l++];)Ve+=String.fromCharCode(me);M.push('"'+Ve.replace(/"/g,'""')+'"')}break;case 8:M.push("-"+M.pop());break;case 23:M.push("+"+M.pop());break;case 22:M.push("NOT("+M.pop()+")");break;case 20:case 21:X=M.pop(),ae=M.pop(),M.push(["AND","OR"][me-20]+"("+ae+","+X+")");break;default:if(me<32&&j[me])X=M.pop(),ae=M.pop(),M.push(ae+j[me]+X);else if(N[me]){if(B=N[me][1],B==69&&(B=_[_.l++]),B>M.length){console.error("WK1 bad formula parse 0x"+me.toString(16)+":|"+M.join("|")+"|");return}var Ke=M.slice(-B);M.length-=B,M.push(N[me][0]+"("+Ke.join(",")+")")}else return me<=7?console.error("WK1 invalid opcode "+me.toString(16)):me<=24?console.error("WK1 unsupported op "+me.toString(16)):me<=30?console.error("WK1 invalid opcode "+me.toString(16)):me<=115?console.error("WK1 unsupported function opcode "+me.toString(16)):console.error("WK1 unrecognized opcode "+me.toString(16))}}M.length==1?R[1].f=""+M[0]:console.error("WK1 bad formula parse |"+M.join("|")+"|")}function L(_){var R=[{c:0,r:0},{t:"n",v:0},0];return R[0].r=_.read_shift(2),R[3]=_[_.l++],R[0].c=_[_.l++],R}function F(_,R){var M=L(_);return M[1].t="s",M[1].v=_.read_shift(R-4,"cstr"),M}function T(_,R,M,B){var Y=Me(6+B.length);Y.write_shift(2,_),Y.write_shift(1,M),Y.write_shift(1,R),Y.write_shift(1,39);for(var fe=0;fe<B.length;++fe){var ae=B.charCodeAt(fe);Y.write_shift(1,ae>=128?95:ae)}return Y.write_shift(1,0),Y}function C(_,R){var M=L(_);M[1].v=_.read_shift(2);var B=M[1].v>>1;if(M[1].v&1)switch(B&7){case 0:B=(B>>3)*5e3;break;case 1:B=(B>>3)*500;break;case 2:B=(B>>3)/20;break;case 3:B=(B>>3)/200;break;case 4:B=(B>>3)/2e3;break;case 5:B=(B>>3)/2e4;break;case 6:B=(B>>3)/16;break;case 7:B=(B>>3)/64;break}return M[1].v=B,M}function I(_,R){var M=L(_),B=_.read_shift(4),Y=_.read_shift(4),fe=_.read_shift(2);if(fe==65535)return B===0&&Y===3221225472?(M[1].t="e",M[1].v=15):B===0&&Y===3489660928?(M[1].t="e",M[1].v=42):M[1].v=0,M;var ae=fe&32768;return fe=(fe&32767)-16446,M[1].v=(1-ae*2)*(Y*Math.pow(2,fe+32)+B*Math.pow(2,fe)),M}function D(_,R,M,B){var Y=Me(14);if(Y.write_shift(2,_),Y.write_shift(1,M),Y.write_shift(1,R),B==0)return Y.write_shift(4,0),Y.write_shift(4,0),Y.write_shift(2,65535),Y;var fe=0,ae=0,X=0,me=0;return B<0&&(fe=1,B=-B),ae=Math.log2(B)|0,B/=Math.pow(2,ae-31),me=B>>>0,me&2147483648||(B/=2,++ae,me=B>>>0),B-=me,me|=2147483648,me>>>=0,B*=Math.pow(2,32),X=B>>>0,Y.write_shift(4,X),Y.write_shift(4,me),ae+=16383+(fe?32768:0),Y.write_shift(2,ae),Y}function E(_,R){var M=I(_);return _.l+=R-14,M}function P(_,R){var M=L(_),B=_.read_shift(4);return M[1].v=B>>6,M}function W(_,R){var M=L(_),B=_.read_shift(8,"f");return M[1].v=B,M}function z(_,R){var M=W(_);return _.l+=R-10,M}function ue(_,R){return _[_.l+R-1]==0?_.read_shift(R,"cstr"):""}function Q(_,R){var M=_[_.l++];M>R-1&&(M=R-1);for(var B="";B.length<M;)B+=String.fromCharCode(_[_.l++]);return B}function ee(_,R,M){if(!(!M.qpro||R<21)){var B=_.read_shift(1);_.l+=17,_.l+=1,_.l+=2;var Y=_.read_shift(R-21,"cstr");return[B,Y]}}function ie(_,R){for(var M={},B=_.l+R;_.l<B;){var Y=_.read_shift(2);if(Y==14e3){for(M[Y]=[0,""],M[Y][0]=_.read_shift(2);_[_.l];)M[Y][1]+=String.fromCharCode(_[_.l]),_.l++;_.l++}}return M}function ne(_,R){var M=Me(5+_.length);M.write_shift(2,14e3),M.write_shift(2,R);for(var B=0;B<_.length;++B){var Y=_.charCodeAt(B);M[M.l++]=Y>127?95:Y}return M[M.l++]=0,M}var pe={0:{n:"BOF",f:tx},1:{n:"EOF"},2:{n:"CALCMODE"},3:{n:"CALCORDER"},4:{n:"SPLIT"},5:{n:"SYNC"},6:{n:"RANGE",f:c},7:{n:"WINDOW1"},8:{n:"COLW1"},9:{n:"WINTWO"},10:{n:"COLW2"},11:{n:"NAME"},12:{n:"BLANK"},13:{n:"INTEGER",f:p},14:{n:"NUMBER",f:y},15:{n:"LABEL",f:u},16:{n:"FORMULA",f:b},24:{n:"TABLE"},25:{n:"ORANGE"},26:{n:"PRANGE"},27:{n:"SRANGE"},28:{n:"FRANGE"},29:{n:"KRANGE1"},32:{n:"HRANGE"},35:{n:"KRANGE2"},36:{n:"PROTEC"},37:{n:"FOOTER"},38:{n:"HEADER"},39:{n:"SETUP"},40:{n:"MARGINS"},41:{n:"LABELFMT"},42:{n:"TITLES"},43:{n:"SHEETJS"},45:{n:"GRAPH"},46:{n:"NGRAPH"},47:{n:"CALCCOUNT"},48:{n:"UNFORMATTED"},49:{n:"CURSORW12"},50:{n:"WINDOW"},51:{n:"STRING",f:u},55:{n:"PASSWORD"},56:{n:"LOCKED"},60:{n:"QUERY"},61:{n:"QUERYNAME"},62:{n:"PRINT"},63:{n:"PRINTNAME"},64:{n:"GRAPH2"},65:{n:"GRAPHNAME"},66:{n:"ZOOM"},67:{n:"SYMSPLIT"},68:{n:"NSROWS"},69:{n:"NSCOLS"},70:{n:"RULER"},71:{n:"NNAME"},72:{n:"ACOMM"},73:{n:"AMACRO"},74:{n:"PARSE"},102:{n:"PRANGES??"},103:{n:"RRANGES??"},104:{n:"FNAME??"},105:{n:"MRANGES??"},204:{n:"SHEETNAMECS",f:ue},222:{n:"SHEETNAMELP",f:Q},65535:{n:""}},ye={0:{n:"BOF"},1:{n:"EOF"},2:{n:"PASSWORD"},3:{n:"CALCSET"},4:{n:"WINDOWSET"},5:{n:"SHEETCELLPTR"},6:{n:"SHEETLAYOUT"},7:{n:"COLUMNWIDTH"},8:{n:"HIDDENCOLUMN"},9:{n:"USERRANGE"},10:{n:"SYSTEMRANGE"},11:{n:"ZEROFORCE"},12:{n:"SORTKEYDIR"},13:{n:"FILESEAL"},14:{n:"DATAFILLNUMS"},15:{n:"PRINTMAIN"},16:{n:"PRINTSTRING"},17:{n:"GRAPHMAIN"},18:{n:"GRAPHSTRING"},19:{n:"??"},20:{n:"ERRCELL"},21:{n:"NACELL"},22:{n:"LABEL16",f:F},23:{n:"NUMBER17",f:I},24:{n:"NUMBER18",f:C},25:{n:"FORMULA19",f:E},26:{n:"FORMULA1A"},27:{n:"XFORMAT",f:ie},28:{n:"DTLABELMISC"},29:{n:"DTLABELCELL"},30:{n:"GRAPHWINDOW"},31:{n:"CPA"},32:{n:"LPLAUTO"},33:{n:"QUERY"},34:{n:"HIDDENSHEET"},35:{n:"??"},37:{n:"NUMBER25",f:P},38:{n:"??"},39:{n:"NUMBER27",f:W},40:{n:"FORMULA28",f:z},142:{n:"??"},147:{n:"??"},150:{n:"??"},151:{n:"??"},152:{n:"??"},153:{n:"??"},154:{n:"??"},155:{n:"??"},156:{n:"??"},163:{n:"??"},174:{n:"??"},175:{n:"??"},176:{n:"??"},177:{n:"??"},184:{n:"??"},185:{n:"??"},186:{n:"??"},187:{n:"??"},188:{n:"??"},195:{n:"??"},201:{n:"??"},204:{n:"SHEETNAMECS",f:ue},205:{n:"??"},206:{n:"??"},207:{n:"??"},208:{n:"??"},256:{n:"??"},259:{n:"??"},260:{n:"??"},261:{n:"??"},262:{n:"??"},263:{n:"??"},265:{n:"??"},266:{n:"??"},267:{n:"??"},268:{n:"??"},270:{n:"??"},271:{n:"??"},384:{n:"??"},389:{n:"??"},390:{n:"??"},393:{n:"??"},396:{n:"??"},512:{n:"??"},514:{n:"??"},513:{n:"??"},516:{n:"??"},517:{n:"??"},640:{n:"??"},641:{n:"??"},642:{n:"??"},643:{n:"??"},644:{n:"??"},645:{n:"??"},646:{n:"??"},647:{n:"??"},648:{n:"??"},658:{n:"??"},659:{n:"??"},660:{n:"??"},661:{n:"??"},662:{n:"??"},665:{n:"??"},666:{n:"??"},768:{n:"??"},772:{n:"??"},1537:{n:"SHEETINFOQP",f:ee},1600:{n:"??"},1602:{n:"??"},1793:{n:"??"},1794:{n:"??"},1795:{n:"??"},1796:{n:"??"},1920:{n:"??"},2048:{n:"??"},2049:{n:"??"},2052:{n:"??"},2688:{n:"??"},10998:{n:"??"},12849:{n:"??"},28233:{n:"??"},28484:{n:"??"},65535:{n:""}};return{sheet_to_wk1:a,book_to_wk3:n,to_workbook:s}}(),tb=/^\s|\s$|[\t\n\r]/;function ox(t,s){if(!s.bookSST)return"";var r=[Ir];r[r.length]=Ze("sst",null,{xmlns:so[0],count:t.Count,uniqueCount:t.Unique});for(var a=0;a!=t.length;++a)if(t[a]!=null){var n=t[a],o="<si>";n.r?o+=n.r:(o+="<t",n.t||(n.t=""),n.t.match(tb)&&(o+=' xml:space="preserve"'),o+=">"+Jt(n.t)+"</t>"),o+="</si>",r[r.length]=o}return r.length>2&&(r[r.length]="</sst>",r[1]=r[1].replace("/>",">")),r.join("")}function rb(t){return[t.read_shift(4),t.read_shift(4)]}function sb(t,s){return s||(s=Me(8)),s.write_shift(4,t.Count),s.write_shift(4,t.Unique),s}var ab=Yv;function nb(t){var s=Cs();qe(s,159,sb(t));for(var r=0;r<t.length;++r)qe(s,19,ab(t[r]));return qe(s,160),s.end()}function ib(t){for(var s=[],r=t.split(""),a=0;a<r.length;++a)s[a]=r[a].charCodeAt(0);return s}function lx(t){var s=0,r,a=ib(t),n=a.length+1,o,l,c,d,h;for(r=ai(n),r[0]=a.length,o=1;o!=n;++o)r[o]=a[o-1];for(o=n-1;o>=0;--o)l=r[o],c=s&16384?1:0,d=s<<1&32767,h=c|d,s=h^l;return s^52811}var ob=function(){function t(n,o){switch(o.type){case"base64":return s(sn(n),o);case"binary":return s(n,o);case"buffer":return s(zt&&Buffer.isBuffer(n)?n.toString("binary"):dl(n),o);case"array":return s(ad(n),o)}throw new Error("Unrecognized type "+o.type)}function s(n,o){var l=o||{},c=l.dense?[]:{},d=n.match(/\\trowd.*?\\row\b/g);if(!d.length)throw new Error("RTF missing table");var h={s:{c:0,r:0},e:{c:0,r:d.length-1}};return d.forEach(function(u,x){Array.isArray(c)&&(c[x]=[]);for(var p=/\\\w+\b/g,m=0,y,g=-1;y=p.exec(u);){switch(y[0]){case"\\cell":var b=u.slice(m,p.lastIndex-y[0].length);if(b[0]==" "&&(b=b.slice(1)),++g,b.length){var w={v:b,t:"s"};Array.isArray(c)?c[x][g]=w:c[Qt({r:x,c:g})]=w}break}m=p.lastIndex}g>h.e.c&&(h.e.c=g)}),c["!ref"]=Dr(h),c}function r(n,o){return ci(t(n,o),o)}function a(n){for(var o=["{\\rtf1\\ansi"],l=ur(n["!ref"]),c,d=Array.isArray(n),h=l.s.r;h<=l.e.r;++h){o.push("\\trowd\\trautofit1");for(var u=l.s.c;u<=l.e.c;++u)o.push("\\cellx"+(u+1));for(o.push("\\pard\\intbl"),u=l.s.c;u<=l.e.c;++u){var x=Qt({r:h,c:u});c=d?(n[h]||[])[u]:n[x],!(!c||c.v==null&&(!c.f||c.F))&&(o.push(" "+(c.w||(an(c),c.w))),o.push("\\cell"))}o.push("\\pard\\intbl\\row")}return o.join("")+"}"}return{to_workbook:r,to_sheet:t,from_sheet:a}}();function sf(t){for(var s=0,r=1;s!=3;++s)r=r*256+(t[s]>255?255:t[s]<0?0:t[s]);return r.toString(16).toUpperCase().slice(1)}var lb=6,rn=lb;function zc(t){return Math.floor((t+Math.round(128/rn)/256)*rn)}function Vc(t){return Math.floor((t-5)/rn*100+.5)/100}function R0(t){return Math.round((t*rn+5)/rn*256)/256}function lh(t){t.width?(t.wpx=zc(t.width),t.wch=Vc(t.wpx),t.MDW=rn):t.wpx?(t.wch=Vc(t.wpx),t.width=R0(t.wch),t.MDW=rn):typeof t.wch=="number"&&(t.width=R0(t.wch),t.wpx=zc(t.width),t.MDW=rn),t.customWidth&&delete t.customWidth}var cb=96,cx=cb;function $c(t){return t*96/cx}function dx(t){return t*cx/96}function db(t){var s=["<numFmts>"];return[[5,8],[23,26],[41,44],[50,392]].forEach(function(r){for(var a=r[0];a<=r[1];++a)t[a]!=null&&(s[s.length]=Ze("numFmt",null,{numFmtId:a,formatCode:Jt(t[a])}))}),s.length===1?"":(s[s.length]="</numFmts>",s[0]=Ze("numFmts",null,{count:s.length-2}).replace("/>",">"),s.join(""))}function hb(t){var s=[];return s[s.length]=Ze("cellXfs",null),t.forEach(function(r){s[s.length]=Ze("xf",null,r)}),s[s.length]="</cellXfs>",s.length===2?"":(s[0]=Ze("cellXfs",null,{count:s.length-2}).replace("/>",">"),s.join(""))}function hx(t,s){var r=[Ir,Ze("styleSheet",null,{xmlns:so[0],"xmlns:vt":$r.vt})],a;return t.SSF&&(a=db(t.SSF))!=null&&(r[r.length]=a),r[r.length]='<fonts count="1"><font><sz val="12"/><color theme="1"/><name val="Calibri"/><family val="2"/><scheme val="minor"/></font></fonts>',r[r.length]='<fills count="2"><fill><patternFill patternType="none"/></fill><fill><patternFill patternType="gray125"/></fill></fills>',r[r.length]='<borders count="1"><border><left/><right/><top/><bottom/><diagonal/></border></borders>',r[r.length]='<cellStyleXfs count="1"><xf numFmtId="0" fontId="0" fillId="0" borderId="0"/></cellStyleXfs>',(a=hb(s.cellXfs))&&(r[r.length]=a),r[r.length]='<cellStyles count="1"><cellStyle name="Normal" xfId="0" builtinId="0"/></cellStyles>',r[r.length]='<dxfs count="0"/>',r[r.length]='<tableStyles count="0" defaultTableStyle="TableStyleMedium9" defaultPivotStyle="PivotStyleMedium4"/>',r.length>2&&(r[r.length]="</styleSheet>",r[1]=r[1].replace("/>",">")),r.join("")}function ub(t,s){var r=t.read_shift(2),a=fs(t);return[r,a]}function fb(t,s,r){r||(r=Me(6+4*s.length)),r.write_shift(2,t),Yr(s,r);var a=r.length>r.l?r.slice(0,r.l):r;return r.l==null&&(r.l=r.length),a}function mb(t,s,r){var a={};a.sz=t.read_shift(2)/20;var n=ty(t);n.fItalic&&(a.italic=1),n.fCondense&&(a.condense=1),n.fExtend&&(a.extend=1),n.fShadow&&(a.shadow=1),n.fOutline&&(a.outline=1),n.fStrikeout&&(a.strike=1);var o=t.read_shift(2);switch(o===700&&(a.bold=1),t.read_shift(2)){case 1:a.vertAlign="superscript";break;case 2:a.vertAlign="subscript";break}var l=t.read_shift(1);l!=0&&(a.underline=l);var c=t.read_shift(1);c>0&&(a.family=c);var d=t.read_shift(1);switch(d>0&&(a.charset=d),t.l++,a.color=ey(t),t.read_shift(1)){case 1:a.scheme="major";break;case 2:a.scheme="minor";break}return a.name=fs(t),a}function xb(t,s){s||(s=Me(25+4*32)),s.write_shift(2,t.sz*20),ry(t,s),s.write_shift(2,t.bold?700:400);var r=0;t.vertAlign=="superscript"?r=1:t.vertAlign=="subscript"&&(r=2),s.write_shift(2,r),s.write_shift(1,t.underline||0),s.write_shift(1,t.family||0),s.write_shift(1,t.charset||0),s.write_shift(1,0),Wc(t.color,s);var a=0;return a=2,s.write_shift(1,a),Yr(t.name,s),s.length>s.l?s.slice(0,s.l):s}var pb=["none","solid","mediumGray","darkGray","lightGray","darkHorizontal","darkVertical","darkDown","darkUp","darkGrid","darkTrellis","lightHorizontal","lightVertical","lightDown","lightUp","lightGrid","lightTrellis","gray125","gray0625"],h0,gb=Ba;function af(t,s){s||(s=Me(4*3+8*7+16*1)),h0||(h0=X0(pb));var r=h0[t.patternType];r==null&&(r=40),s.write_shift(4,r);var a=0;if(r!=40)for(Wc({auto:1},s),Wc({auto:1},s);a<12;++a)s.write_shift(4,0);else{for(;a<4;++a)s.write_shift(4,0);for(;a<12;++a)s.write_shift(4,0)}return s.length>s.l?s.slice(0,s.l):s}function vb(t,s){var r=t.l+s,a=t.read_shift(2),n=t.read_shift(2);return t.l=r,{ixfe:a,numFmtId:n}}function ux(t,s,r){r||(r=Me(16)),r.write_shift(2,s||0),r.write_shift(2,t.numFmtId||0),r.write_shift(2,0),r.write_shift(2,0),r.write_shift(2,0),r.write_shift(1,0),r.write_shift(1,0);var a=0;return r.write_shift(1,a),r.write_shift(1,0),r.write_shift(1,0),r.write_shift(1,0),r}function Ho(t,s){return s||(s=Me(10)),s.write_shift(1,0),s.write_shift(1,0),s.write_shift(4,0),s.write_shift(4,0),s}var yb=Ba;function bb(t,s){return s||(s=Me(51)),s.write_shift(1,0),Ho(null,s),Ho(null,s),Ho(null,s),Ho(null,s),Ho(null,s),s.length>s.l?s.slice(0,s.l):s}function wb(t,s){return s||(s=Me(12+4*10)),s.write_shift(4,t.xfId),s.write_shift(2,1),s.write_shift(1,0),s.write_shift(1,0),Hc(t.name||"",s),s.length>s.l?s.slice(0,s.l):s}function Nb(t,s,r){var a=Me(2052);return a.write_shift(4,t),Hc(s,a),Hc(r,a),a.length>a.l?a.slice(0,a.l):a}function jb(t,s){if(s){var r=0;[[5,8],[23,26],[41,44],[50,392]].forEach(function(a){for(var n=a[0];n<=a[1];++n)s[n]!=null&&++r}),r!=0&&(qe(t,615,wa(r)),[[5,8],[23,26],[41,44],[50,392]].forEach(function(a){for(var n=a[0];n<=a[1];++n)s[n]!=null&&qe(t,44,fb(n,s[n]))}),qe(t,616))}}function Sb(t){var s=1;qe(t,611,wa(s)),qe(t,43,xb({sz:12,color:{theme:1},name:"Calibri",family:2})),qe(t,612)}function kb(t){var s=2;qe(t,603,wa(s)),qe(t,45,af({patternType:"none"})),qe(t,45,af({patternType:"gray125"})),qe(t,604)}function Ab(t){var s=1;qe(t,613,wa(s)),qe(t,46,bb()),qe(t,614)}function _b(t){var s=1;qe(t,626,wa(s)),qe(t,47,ux({numFmtId:0},65535)),qe(t,627)}function Cb(t,s){qe(t,617,wa(s.length)),s.forEach(function(r){qe(t,47,ux(r,0))}),qe(t,618)}function Tb(t){var s=1;qe(t,619,wa(s)),qe(t,48,wb({xfId:0,name:"Normal"})),qe(t,620)}function Eb(t){var s=0;qe(t,505,wa(s)),qe(t,506)}function Pb(t){var s=0;qe(t,508,Nb(s,"TableStyleMedium9","PivotStyleMedium4")),qe(t,509)}function Fb(t,s){var r=Cs();return qe(r,278),jb(r,t.SSF),Sb(r),kb(r),Ab(r),_b(r),Cb(r,s.cellXfs),Tb(r),Eb(r),Pb(r),qe(r,279),r.end()}function fx(t,s){if(s&&s.themeXLSX)return s.themeXLSX;if(t&&typeof t.raw=="string")return t.raw;var r=[Ir];return r[r.length]='<a:theme xmlns:a="http://schemas.openxmlformats.org/drawingml/2006/main" name="Office Theme">',r[r.length]="<a:themeElements>",r[r.length]='<a:clrScheme name="Office">',r[r.length]='<a:dk1><a:sysClr val="windowText" lastClr="000000"/></a:dk1>',r[r.length]='<a:lt1><a:sysClr val="window" lastClr="FFFFFF"/></a:lt1>',r[r.length]='<a:dk2><a:srgbClr val="1F497D"/></a:dk2>',r[r.length]='<a:lt2><a:srgbClr val="EEECE1"/></a:lt2>',r[r.length]='<a:accent1><a:srgbClr val="4F81BD"/></a:accent1>',r[r.length]='<a:accent2><a:srgbClr val="C0504D"/></a:accent2>',r[r.length]='<a:accent3><a:srgbClr val="9BBB59"/></a:accent3>',r[r.length]='<a:accent4><a:srgbClr val="8064A2"/></a:accent4>',r[r.length]='<a:accent5><a:srgbClr val="4BACC6"/></a:accent5>',r[r.length]='<a:accent6><a:srgbClr val="F79646"/></a:accent6>',r[r.length]='<a:hlink><a:srgbClr val="0000FF"/></a:hlink>',r[r.length]='<a:folHlink><a:srgbClr val="800080"/></a:folHlink>',r[r.length]="</a:clrScheme>",r[r.length]='<a:fontScheme name="Office">',r[r.length]="<a:majorFont>",r[r.length]='<a:latin typeface="Cambria"/>',r[r.length]='<a:ea typeface=""/>',r[r.length]='<a:cs typeface=""/>',r[r.length]='<a:font script="Jpan" typeface="ï¼­ï¼³ ï¼°ã‚´ã‚·ãƒƒã‚¯"/>',r[r.length]='<a:font script="Hang" typeface="ë§‘ì€ ê³ ë”•"/>',r[r.length]='<a:font script="Hans" typeface="å®‹ä½“"/>',r[r.length]='<a:font script="Hant" typeface="æ–°ç´°æ˜Žé«”"/>',r[r.length]='<a:font script="Arab" typeface="Times New Roman"/>',r[r.length]='<a:font script="Hebr" typeface="Times New Roman"/>',r[r.length]='<a:font script="Thai" typeface="Tahoma"/>',r[r.length]='<a:font script="Ethi" typeface="Nyala"/>',r[r.length]='<a:font script="Beng" typeface="Vrinda"/>',r[r.length]='<a:font script="Gujr" typeface="Shruti"/>',r[r.length]='<a:font script="Khmr" typeface="MoolBoran"/>',r[r.length]='<a:font script="Knda" typeface="Tunga"/>',r[r.length]='<a:font script="Guru" typeface="Raavi"/>',r[r.length]='<a:font script="Cans" typeface="Euphemia"/>',r[r.length]='<a:font script="Cher" typeface="Plantagenet Cherokee"/>',r[r.length]='<a:font script="Yiii" typeface="Microsoft Yi Baiti"/>',r[r.length]='<a:font script="Tibt" typeface="Microsoft Himalaya"/>',r[r.length]='<a:font script="Thaa" typeface="MV Boli"/>',r[r.length]='<a:font script="Deva" typeface="Mangal"/>',r[r.length]='<a:font script="Telu" typeface="Gautami"/>',r[r.length]='<a:font script="Taml" typeface="Latha"/>',r[r.length]='<a:font script="Syrc" typeface="Estrangelo Edessa"/>',r[r.length]='<a:font script="Orya" typeface="Kalinga"/>',r[r.length]='<a:font script="Mlym" typeface="Kartika"/>',r[r.length]='<a:font script="Laoo" typeface="DokChampa"/>',r[r.length]='<a:font script="Sinh" typeface="Iskoola Pota"/>',r[r.length]='<a:font script="Mong" typeface="Mongolian Baiti"/>',r[r.length]='<a:font script="Viet" typeface="Times New Roman"/>',r[r.length]='<a:font script="Uigh" typeface="Microsoft Uighur"/>',r[r.length]='<a:font script="Geor" typeface="Sylfaen"/>',r[r.length]="</a:majorFont>",r[r.length]="<a:minorFont>",r[r.length]='<a:latin typeface="Calibri"/>',r[r.length]='<a:ea typeface=""/>',r[r.length]='<a:cs typeface=""/>',r[r.length]='<a:font script="Jpan" typeface="ï¼­ï¼³ ï¼°ã‚´ã‚·ãƒƒã‚¯"/>',r[r.length]='<a:font script="Hang" typeface="ë§‘ì€ ê³ ë”•"/>',r[r.length]='<a:font script="Hans" typeface="å®‹ä½“"/>',r[r.length]='<a:font script="Hant" typeface="æ–°ç´°æ˜Žé«”"/>',r[r.length]='<a:font script="Arab" typeface="Arial"/>',r[r.length]='<a:font script="Hebr" typeface="Arial"/>',r[r.length]='<a:font script="Thai" typeface="Tahoma"/>',r[r.length]='<a:font script="Ethi" typeface="Nyala"/>',r[r.length]='<a:font script="Beng" typeface="Vrinda"/>',r[r.length]='<a:font script="Gujr" typeface="Shruti"/>',r[r.length]='<a:font script="Khmr" typeface="DaunPenh"/>',r[r.length]='<a:font script="Knda" typeface="Tunga"/>',r[r.length]='<a:font script="Guru" typeface="Raavi"/>',r[r.length]='<a:font script="Cans" typeface="Euphemia"/>',r[r.length]='<a:font script="Cher" typeface="Plantagenet Cherokee"/>',r[r.length]='<a:font script="Yiii" typeface="Microsoft Yi Baiti"/>',r[r.length]='<a:font script="Tibt" typeface="Microsoft Himalaya"/>',r[r.length]='<a:font script="Thaa" typeface="MV Boli"/>',r[r.length]='<a:font script="Deva" typeface="Mangal"/>',r[r.length]='<a:font script="Telu" typeface="Gautami"/>',r[r.length]='<a:font script="Taml" typeface="Latha"/>',r[r.length]='<a:font script="Syrc" typeface="Estrangelo Edessa"/>',r[r.length]='<a:font script="Orya" typeface="Kalinga"/>',r[r.length]='<a:font script="Mlym" typeface="Kartika"/>',r[r.length]='<a:font script="Laoo" typeface="DokChampa"/>',r[r.length]='<a:font script="Sinh" typeface="Iskoola Pota"/>',r[r.length]='<a:font script="Mong" typeface="Mongolian Baiti"/>',r[r.length]='<a:font script="Viet" typeface="Arial"/>',r[r.length]='<a:font script="Uigh" typeface="Microsoft Uighur"/>',r[r.length]='<a:font script="Geor" typeface="Sylfaen"/>',r[r.length]="</a:minorFont>",r[r.length]="</a:fontScheme>",r[r.length]='<a:fmtScheme name="Office">',r[r.length]="<a:fillStyleLst>",r[r.length]='<a:solidFill><a:schemeClr val="phClr"/></a:solidFill>',r[r.length]='<a:gradFill rotWithShape="1">',r[r.length]="<a:gsLst>",r[r.length]='<a:gs pos="0"><a:schemeClr val="phClr"><a:tint val="50000"/><a:satMod val="300000"/></a:schemeClr></a:gs>',r[r.length]='<a:gs pos="35000"><a:schemeClr val="phClr"><a:tint val="37000"/><a:satMod val="300000"/></a:schemeClr></a:gs>',r[r.length]='<a:gs pos="100000"><a:schemeClr val="phClr"><a:tint val="15000"/><a:satMod val="350000"/></a:schemeClr></a:gs>',r[r.length]="</a:gsLst>",r[r.length]='<a:lin ang="16200000" scaled="1"/>',r[r.length]="</a:gradFill>",r[r.length]='<a:gradFill rotWithShape="1">',r[r.length]="<a:gsLst>",r[r.length]='<a:gs pos="0"><a:schemeClr val="phClr"><a:tint val="100000"/><a:shade val="100000"/><a:satMod val="130000"/></a:schemeClr></a:gs>',r[r.length]='<a:gs pos="100000"><a:schemeClr val="phClr"><a:tint val="50000"/><a:shade val="100000"/><a:satMod val="350000"/></a:schemeClr></a:gs>',r[r.length]="</a:gsLst>",r[r.length]='<a:lin ang="16200000" scaled="0"/>',r[r.length]="</a:gradFill>",r[r.length]="</a:fillStyleLst>",r[r.length]="<a:lnStyleLst>",r[r.length]='<a:ln w="9525" cap="flat" cmpd="sng" algn="ctr"><a:solidFill><a:schemeClr val="phClr"><a:shade val="95000"/><a:satMod val="105000"/></a:schemeClr></a:solidFill><a:prstDash val="solid"/></a:ln>',r[r.length]='<a:ln w="25400" cap="flat" cmpd="sng" algn="ctr"><a:solidFill><a:schemeClr val="phClr"/></a:solidFill><a:prstDash val="solid"/></a:ln>',r[r.length]='<a:ln w="38100" cap="flat" cmpd="sng" algn="ctr"><a:solidFill><a:schemeClr val="phClr"/></a:solidFill><a:prstDash val="solid"/></a:ln>',r[r.length]="</a:lnStyleLst>",r[r.length]="<a:effectStyleLst>",r[r.length]="<a:effectStyle>",r[r.length]="<a:effectLst>",r[r.length]='<a:outerShdw blurRad="40000" dist="20000" dir="5400000" rotWithShape="0"><a:srgbClr val="000000"><a:alpha val="38000"/></a:srgbClr></a:outerShdw>',r[r.length]="</a:effectLst>",r[r.length]="</a:effectStyle>",r[r.length]="<a:effectStyle>",r[r.length]="<a:effectLst>",r[r.length]='<a:outerShdw blurRad="40000" dist="23000" dir="5400000" rotWithShape="0"><a:srgbClr val="000000"><a:alpha val="35000"/></a:srgbClr></a:outerShdw>',r[r.length]="</a:effectLst>",r[r.length]="</a:effectStyle>",r[r.length]="<a:effectStyle>",r[r.length]="<a:effectLst>",r[r.length]='<a:outerShdw blurRad="40000" dist="23000" dir="5400000" rotWithShape="0"><a:srgbClr val="000000"><a:alpha val="35000"/></a:srgbClr></a:outerShdw>',r[r.length]="</a:effectLst>",r[r.length]='<a:scene3d><a:camera prst="orthographicFront"><a:rot lat="0" lon="0" rev="0"/></a:camera><a:lightRig rig="threePt" dir="t"><a:rot lat="0" lon="0" rev="1200000"/></a:lightRig></a:scene3d>',r[r.length]='<a:sp3d><a:bevelT w="63500" h="25400"/></a:sp3d>',r[r.length]="</a:effectStyle>",r[r.length]="</a:effectStyleLst>",r[r.length]="<a:bgFillStyleLst>",r[r.length]='<a:solidFill><a:schemeClr val="phClr"/></a:solidFill>',r[r.length]='<a:gradFill rotWithShape="1">',r[r.length]="<a:gsLst>",r[r.length]='<a:gs pos="0"><a:schemeClr val="phClr"><a:tint val="40000"/><a:satMod val="350000"/></a:schemeClr></a:gs>',r[r.length]='<a:gs pos="40000"><a:schemeClr val="phClr"><a:tint val="45000"/><a:shade val="99000"/><a:satMod val="350000"/></a:schemeClr></a:gs>',r[r.length]='<a:gs pos="100000"><a:schemeClr val="phClr"><a:shade val="20000"/><a:satMod val="255000"/></a:schemeClr></a:gs>',r[r.length]="</a:gsLst>",r[r.length]='<a:path path="circle"><a:fillToRect l="50000" t="-80000" r="50000" b="180000"/></a:path>',r[r.length]="</a:gradFill>",r[r.length]='<a:gradFill rotWithShape="1">',r[r.length]="<a:gsLst>",r[r.length]='<a:gs pos="0"><a:schemeClr val="phClr"><a:tint val="80000"/><a:satMod val="300000"/></a:schemeClr></a:gs>',r[r.length]='<a:gs pos="100000"><a:schemeClr val="phClr"><a:shade val="30000"/><a:satMod val="200000"/></a:schemeClr></a:gs>',r[r.length]="</a:gsLst>",r[r.length]='<a:path path="circle"><a:fillToRect l="50000" t="50000" r="50000" b="50000"/></a:path>',r[r.length]="</a:gradFill>",r[r.length]="</a:bgFillStyleLst>",r[r.length]="</a:fmtScheme>",r[r.length]="</a:themeElements>",r[r.length]="<a:objectDefaults>",r[r.length]="<a:spDef>",r[r.length]='<a:spPr/><a:bodyPr/><a:lstStyle/><a:style><a:lnRef idx="1"><a:schemeClr val="accent1"/></a:lnRef><a:fillRef idx="3"><a:schemeClr val="accent1"/></a:fillRef><a:effectRef idx="2"><a:schemeClr val="accent1"/></a:effectRef><a:fontRef idx="minor"><a:schemeClr val="lt1"/></a:fontRef></a:style>',r[r.length]="</a:spDef>",r[r.length]="<a:lnDef>",r[r.length]='<a:spPr/><a:bodyPr/><a:lstStyle/><a:style><a:lnRef idx="2"><a:schemeClr val="accent1"/></a:lnRef><a:fillRef idx="0"><a:schemeClr val="accent1"/></a:fillRef><a:effectRef idx="1"><a:schemeClr val="accent1"/></a:effectRef><a:fontRef idx="minor"><a:schemeClr val="tx1"/></a:fontRef></a:style>',r[r.length]="</a:lnDef>",r[r.length]="</a:objectDefaults>",r[r.length]="<a:extraClrSchemeLst/>",r[r.length]="</a:theme>",r.join("")}function Lb(t,s){return{flags:t.read_shift(4),version:t.read_shift(4),name:fs(t)}}function Ob(t){var s=Me(12+2*t.name.length);return s.write_shift(4,t.flags),s.write_shift(4,t.version),Yr(t.name,s),s.slice(0,s.l)}function Db(t){for(var s=[],r=t.read_shift(4);r-- >0;)s.push([t.read_shift(4),t.read_shift(4)]);return s}function Ib(t){var s=Me(4+8*t.length);s.write_shift(4,t.length);for(var r=0;r<t.length;++r)s.write_shift(4,t[r][0]),s.write_shift(4,t[r][1]);return s}function Rb(t,s){var r=Me(8+2*s.length);return r.write_shift(4,t),Yr(s,r),r.slice(0,r.l)}function Mb(t){return t.l+=4,t.read_shift(4)!=0}function Bb(t,s){var r=Me(8);return r.write_shift(4,t),r.write_shift(4,1),r}function Ub(){var t=Cs();return qe(t,332),qe(t,334,wa(1)),qe(t,335,Ob({name:"XLDAPR",version:12e4,flags:3496657072})),qe(t,336),qe(t,339,Rb(1,"XLDAPR")),qe(t,52),qe(t,35,wa(514)),qe(t,4096,wa(0)),qe(t,4097,aa(1)),qe(t,36),qe(t,53),qe(t,340),qe(t,337,Bb(1)),qe(t,51,Ib([[1,0]])),qe(t,338),qe(t,333),t.end()}function mx(){var t=[Ir];return t.push(`<metadata xmlns="http://schemas.openxmlformats.org/spreadsheetml/2006/main" xmlns:xlrd="http://schemas.microsoft.com/office/spreadsheetml/2017/richdata" xmlns:xda="http://schemas.microsoft.com/office/spreadsheetml/2017/dynamicarray">
  <metadataTypes count="1">
    <metadataType name="XLDAPR" minSupportedVersion="120000" copy="1" pasteAll="1" pasteValues="1" merge="1" splitFirst="1" rowColShift="1" clearFormats="1" clearComments="1" assign="1" coerce="1" cellMeta="1"/>
  </metadataTypes>
  <futureMetadata name="XLDAPR" count="1">
    <bk>
      <extLst>
        <ext uri="{bdbb8cdc-fa1e-496e-a857-3c3f30c029c3}">
          <xda:dynamicArrayProperties fDynamic="1" fCollapsed="0"/>
        </ext>
      </extLst>
    </bk>
  </futureMetadata>
  <cellMetadata count="1">
    <bk>
      <rc t="1" v="0"/>
    </bk>
  </cellMetadata>
</metadata>`),t.join("")}function Hb(t){var s={};s.i=t.read_shift(4);var r={};r.r=t.read_shift(4),r.c=t.read_shift(4),s.r=Qt(r);var a=t.read_shift(1);return a&2&&(s.l="1"),a&8&&(s.a="1"),s}var Gi=1024;function xx(t,s){for(var r=[21600,21600],a=["m0,0l0",r[1],r[0],r[1],r[0],"0xe"].join(","),n=[Ze("xml",null,{"xmlns:v":qs.v,"xmlns:o":qs.o,"xmlns:x":qs.x,"xmlns:mv":qs.mv}).replace(/\/>/,">"),Ze("o:shapelayout",Ze("o:idmap",null,{"v:ext":"edit",data:t}),{"v:ext":"edit"}),Ze("v:shapetype",[Ze("v:stroke",null,{joinstyle:"miter"}),Ze("v:path",null,{gradientshapeok:"t","o:connecttype":"rect"})].join(""),{id:"_x0000_t202","o:spt":202,coordsize:r.join(","),path:a})];Gi<t*1e3;)Gi+=1e3;return s.forEach(function(o){var l=Gr(o[0]),c={color2:"#BEFF82",type:"gradient"};c.type=="gradient"&&(c.angle="-180");var d=c.type=="gradient"?Ze("o:fill",null,{type:"gradientUnscaled","v:ext":"view"}):null,h=Ze("v:fill",d,c),u={on:"t",obscured:"t"};++Gi,n=n.concat(["<v:shape"+ol({id:"_x0000_s"+Gi,type:"#_x0000_t202",style:"position:absolute; margin-left:80pt;margin-top:5pt;width:104pt;height:64pt;z-index:10"+(o[1].hidden?";visibility:hidden":""),fillcolor:"#ECFAD4",strokecolor:"#edeaa1"})+">",h,Ze("v:shadow",null,u),Ze("v:path",null,{"o:connecttype":"none"}),'<v:textbox><div style="text-align:left"></div></v:textbox>','<x:ClientData ObjectType="Note">',"<x:MoveWithCells/>","<x:SizeWithCells/>",es("x:Anchor",[l.c+1,0,l.r+1,0,l.c+3,20,l.r+5,20].join(",")),es("x:AutoFill","False"),es("x:Row",String(l.r)),es("x:Column",String(l.c)),o[1].hidden?"":"<x:Visible/>","</x:ClientData>","</v:shape>"])}),n.push("</xml>"),n.join("")}function px(t){var s=[Ir,Ze("comments",null,{xmlns:so[0]})],r=[];return s.push("<authors>"),t.forEach(function(a){a[1].forEach(function(n){var o=Jt(n.a);r.indexOf(o)==-1&&(r.push(o),s.push("<author>"+o+"</author>")),n.T&&n.ID&&r.indexOf("tc="+n.ID)==-1&&(r.push("tc="+n.ID),s.push("<author>tc="+n.ID+"</author>"))})}),r.length==0&&(r.push("SheetJ5"),s.push("<author>SheetJ5</author>")),s.push("</authors>"),s.push("<commentList>"),t.forEach(function(a){var n=0,o=[];if(a[1][0]&&a[1][0].T&&a[1][0].ID?n=r.indexOf("tc="+a[1][0].ID):a[1].forEach(function(d){d.a&&(n=r.indexOf(Jt(d.a))),o.push(d.t||"")}),s.push('<comment ref="'+a[0]+'" authorId="'+n+'"><text>'),o.length<=1)s.push(es("t",Jt(o[0]||"")));else{for(var l=`Comment:
    `+o[0]+`
`,c=1;c<o.length;++c)l+=`Reply:
    `+o[c]+`
`;s.push(es("t",Jt(l)))}s.push("</text></comment>")}),s.push("</commentList>"),s.length>2&&(s[s.length]="</comments>",s[1]=s[1].replace("/>",">")),s.join("")}function Wb(t,s,r){var a=[Ir,Ze("ThreadedComments",null,{xmlns:$r.TCMNT}).replace(/[\/]>/,">")];return t.forEach(function(n){var o="";(n[1]||[]).forEach(function(l,c){if(!l.T){delete l.ID;return}l.a&&s.indexOf(l.a)==-1&&s.push(l.a);var d={ref:n[0],id:"{54EE7951-7262-4200-6969-"+("000000000000"+r.tcid++).slice(-12)+"}"};c==0?o=d.id:d.parentId=o,l.ID=d.id,l.a&&(d.personId="{54EE7950-7262-4200-6969-"+("000000000000"+s.indexOf(l.a)).slice(-12)+"}"),a.push(Ze("threadedComment",es("text",l.t||""),d))})}),a.push("</ThreadedComments>"),a.join("")}function qb(t){var s=[Ir,Ze("personList",null,{xmlns:$r.TCMNT,"xmlns:x":so[0]}).replace(/[\/]>/,">")];return t.forEach(function(r,a){s.push(Ze("person",null,{displayName:r,id:"{54EE7950-7262-4200-6969-"+("000000000000"+a).slice(-12)+"}",userId:r,providerId:"None"}))}),s.push("</personList>"),s.join("")}function zb(t){var s={};s.iauthor=t.read_shift(4);var r=fi(t);return s.rfx=r.s,s.ref=Qt(r.s),t.l+=16,s}function Vb(t,s){return s==null&&(s=Me(36)),s.write_shift(4,t[1].iauthor),no(t[0],s),s.write_shift(4,0),s.write_shift(4,0),s.write_shift(4,0),s.write_shift(4,0),s}var $b=fs;function Gb(t){return Yr(t.slice(0,54))}function Yb(t){var s=Cs(),r=[];return qe(s,628),qe(s,630),t.forEach(function(a){a[1].forEach(function(n){r.indexOf(n.a)>-1||(r.push(n.a.slice(0,54)),qe(s,632,Gb(n.a)))})}),qe(s,631),qe(s,633),t.forEach(function(a){a[1].forEach(function(n){n.iauthor=r.indexOf(n.a);var o={s:Gr(a[0]),e:Gr(a[0])};qe(s,635,Vb([o,n])),n.t&&n.t.length>0&&qe(s,637,Xv(n)),qe(s,636),delete n.iauthor})}),qe(s,634),qe(s,629),s.end()}function Kb(t,s){s.FullPaths.forEach(function(r,a){if(a!=0){var n=r.replace(/[^\/]*[\/]/,"/_VBA_PROJECT_CUR/");n.slice(-1)!=="/"&&rr.utils.cfb_add(t,n,s.FileIndex[a].content)}})}var gx=["xlsb","xlsm","xlam","biff8","xla"],Xb=function(){var t=/(^|[^A-Za-z_])R(\[?-?\d+\]|[1-9]\d*|)C(\[?-?\d+\]|[1-9]\d*|)(?![A-Za-z0-9_])/g,s={r:0,c:0};function r(a,n,o,l){var c=!1,d=!1;o.length==0?d=!0:o.charAt(0)=="["&&(d=!0,o=o.slice(1,-1)),l.length==0?c=!0:l.charAt(0)=="["&&(c=!0,l=l.slice(1,-1));var h=o.length>0?parseInt(o,10)|0:0,u=l.length>0?parseInt(l,10)|0:0;return c?u+=s.c:--u,d?h+=s.r:--h,n+(c?"":"$")+us(u)+(d?"":"$")+ts(h)}return function(n,o){return s=o,n.replace(t,r)}}(),ch=/(^|[^._A-Z0-9])([$]?)([A-Z]{1,2}|[A-W][A-Z]{2}|X[A-E][A-Z]|XF[A-D])([$]?)(10[0-3]\d{4}|104[0-7]\d{3}|1048[0-4]\d{2}|10485[0-6]\d|104857[0-6]|[1-9]\d{0,5})(?![_.\(A-Za-z0-9])/g,dh=function(){return function(s,r){return s.replace(ch,function(a,n,o,l,c,d){var h=sh(l)-(o?0:r.c),u=rh(d)-(c?0:r.r),x=u==0?"":c?u+1:"["+u+"]",p=h==0?"":o?h+1:"["+h+"]";return n+"R"+x+"C"+p})}}();function Jb(t,s){return t.replace(ch,function(r,a,n,o,l,c){return a+(n=="$"?n+o:us(sh(o)+s.c))+(l=="$"?l+c:ts(rh(c)+s.r))})}function Qb(t){return t.length!=1}function Or(t){t.l+=1}function On(t,s){var r=t.read_shift(2);return[r&16383,r>>14&1,r>>15&1]}function vx(t,s,r){var a=2;if(r){if(r.biff>=2&&r.biff<=5)return yx(t);r.biff==12&&(a=4)}var n=t.read_shift(a),o=t.read_shift(a),l=On(t),c=On(t);return{s:{r:n,c:l[0],cRel:l[1],rRel:l[2]},e:{r:o,c:c[0],cRel:c[1],rRel:c[2]}}}function yx(t){var s=On(t),r=On(t),a=t.read_shift(1),n=t.read_shift(1);return{s:{r:s[0],c:a,cRel:s[1],rRel:s[2]},e:{r:r[0],c:n,cRel:r[1],rRel:r[2]}}}function Zb(t,s,r){if(r.biff<8)return yx(t);var a=t.read_shift(r.biff==12?4:2),n=t.read_shift(r.biff==12?4:2),o=On(t),l=On(t);return{s:{r:a,c:o[0],cRel:o[1],rRel:o[2]},e:{r:n,c:l[0],cRel:l[1],rRel:l[2]}}}function bx(t,s,r){if(r&&r.biff>=2&&r.biff<=5)return e5(t);var a=t.read_shift(r&&r.biff==12?4:2),n=On(t);return{r:a,c:n[0],cRel:n[1],rRel:n[2]}}function e5(t){var s=On(t),r=t.read_shift(1);return{r:s[0],c:r,cRel:s[1],rRel:s[2]}}function t5(t){var s=t.read_shift(2),r=t.read_shift(2);return{r:s,c:r&255,fQuoted:!!(r&16384),cRel:r>>15,rRel:r>>15}}function r5(t,s,r){var a=r&&r.biff?r.biff:8;if(a>=2&&a<=5)return s5(t);var n=t.read_shift(a>=12?4:2),o=t.read_shift(2),l=(o&16384)>>14,c=(o&32768)>>15;if(o&=16383,c==1)for(;n>524287;)n-=1048576;if(l==1)for(;o>8191;)o=o-16384;return{r:n,c:o,cRel:l,rRel:c}}function s5(t){var s=t.read_shift(2),r=t.read_shift(1),a=(s&32768)>>15,n=(s&16384)>>14;return s&=16383,a==1&&s>=8192&&(s=s-16384),n==1&&r>=128&&(r=r-256),{r:s,c:r,cRel:n,rRel:a}}function a5(t,s,r){var a=(t[t.l++]&96)>>5,n=vx(t,r.biff>=2&&r.biff<=5?6:8,r);return[a,n]}function n5(t,s,r){var a=(t[t.l++]&96)>>5,n=t.read_shift(2,"i"),o=8;if(r)switch(r.biff){case 5:t.l+=12,o=6;break;case 12:o=12;break}var l=vx(t,o,r);return[a,n,l]}function i5(t,s,r){var a=(t[t.l++]&96)>>5;return t.l+=r&&r.biff>8?12:r.biff<8?6:8,[a]}function o5(t,s,r){var a=(t[t.l++]&96)>>5,n=t.read_shift(2),o=8;if(r)switch(r.biff){case 5:t.l+=12,o=6;break;case 12:o=12;break}return t.l+=o,[a,n]}function l5(t,s,r){var a=(t[t.l++]&96)>>5,n=Zb(t,s-1,r);return[a,n]}function c5(t,s,r){var a=(t[t.l++]&96)>>5;return t.l+=r.biff==2?6:r.biff==12?14:7,[a]}function nf(t){var s=t[t.l+1]&1,r=1;return t.l+=4,[s,r]}function d5(t,s,r){t.l+=2;for(var a=t.read_shift(r&&r.biff==2?1:2),n=[],o=0;o<=a;++o)n.push(t.read_shift(r&&r.biff==2?1:2));return n}function h5(t,s,r){var a=t[t.l+1]&255?1:0;return t.l+=2,[a,t.read_shift(r&&r.biff==2?1:2)]}function u5(t,s,r){var a=t[t.l+1]&255?1:0;return t.l+=2,[a,t.read_shift(r&&r.biff==2?1:2)]}function f5(t){var s=t[t.l+1]&255?1:0;return t.l+=2,[s,t.read_shift(2)]}function m5(t,s,r){var a=t[t.l+1]&255?1:0;return t.l+=r&&r.biff==2?3:4,[a]}function wx(t){var s=t.read_shift(1),r=t.read_shift(1);return[s,r]}function x5(t){return t.read_shift(2),wx(t)}function p5(t){return t.read_shift(2),wx(t)}function g5(t,s,r){var a=(t[t.l]&96)>>5;t.l+=1;var n=bx(t,0,r);return[a,n]}function v5(t,s,r){var a=(t[t.l]&96)>>5;t.l+=1;var n=r5(t,0,r);return[a,n]}function y5(t,s,r){var a=(t[t.l]&96)>>5;t.l+=1;var n=t.read_shift(2);r&&r.biff==5&&(t.l+=12);var o=bx(t,0,r);return[a,n,o]}function b5(t,s,r){var a=(t[t.l]&96)>>5;t.l+=1;var n=t.read_shift(r&&r.biff<=3?1:2);return[bw[n],Sx[n],a]}function w5(t,s,r){var a=t[t.l++],n=t.read_shift(1),o=r&&r.biff<=3?[a==88?-1:0,t.read_shift(1)]:N5(t);return[n,(o[0]===0?Sx:yw)[o[1]]]}function N5(t){return[t[t.l+1]>>7,t.read_shift(2)&32767]}function j5(t,s,r){t.l+=r&&r.biff==2?3:4}function S5(t,s,r){if(t.l++,r&&r.biff==12)return[t.read_shift(4,"i"),0];var a=t.read_shift(2),n=t.read_shift(r&&r.biff==2?1:2);return[a,n]}function k5(t){return t.l++,fl[t.read_shift(1)]}function A5(t){return t.l++,t.read_shift(2)}function _5(t){return t.l++,t.read_shift(1)!==0}function C5(t){return t.l++,io(t)}function T5(t,s,r){return t.l++,sx(t,s-1,r)}function E5(t,s){var r=[t.read_shift(1)];if(s==12)switch(r[0]){case 2:r[0]=4;break;case 4:r[0]=16;break;case 0:r[0]=1;break;case 1:r[0]=2;break}switch(r[0]){case 4:r[1]=yy(t,1)?"TRUE":"FALSE",s!=12&&(t.l+=7);break;case 37:case 16:r[1]=fl[t[t.l]],t.l+=s==12?4:8;break;case 0:t.l+=8;break;case 1:r[1]=io(t);break;case 2:r[1]=jy(t,0,{biff:s>0&&s<8?2:s});break;default:throw new Error("Bad SerAr: "+r[0])}return r}function P5(t,s,r){for(var a=t.read_shift(r.biff==12?4:2),n=[],o=0;o!=a;++o)n.push((r.biff==12?fi:Ay)(t));return n}function F5(t,s,r){var a=0,n=0;r.biff==12?(a=t.read_shift(4),n=t.read_shift(4)):(n=1+t.read_shift(1),a=1+t.read_shift(2)),r.biff>=2&&r.biff<8&&(--a,--n==0&&(n=256));for(var o=0,l=[];o!=a&&(l[o]=[]);++o)for(var c=0;c!=n;++c)l[o][c]=E5(t,r.biff);return l}function L5(t,s,r){var a=t.read_shift(1)>>>5&3,n=!r||r.biff>=8?4:2,o=t.read_shift(n);switch(r.biff){case 2:t.l+=5;break;case 3:case 4:t.l+=8;break;case 5:t.l+=12;break}return[a,0,o]}function O5(t,s,r){if(r.biff==5)return D5(t);var a=t.read_shift(1)>>>5&3,n=t.read_shift(2),o=t.read_shift(4);return[a,n,o]}function D5(t){var s=t.read_shift(1)>>>5&3,r=t.read_shift(2,"i");t.l+=8;var a=t.read_shift(2);return t.l+=12,[s,r,a]}function I5(t,s,r){var a=t.read_shift(1)>>>5&3;t.l+=r&&r.biff==2?3:4;var n=t.read_shift(r&&r.biff==2?1:2);return[a,n]}function R5(t,s,r){var a=t.read_shift(1)>>>5&3,n=t.read_shift(r&&r.biff==2?1:2);return[a,n]}function M5(t,s,r){var a=t.read_shift(1)>>>5&3;return t.l+=4,r.biff<8&&t.l--,r.biff==12&&(t.l+=2),[a]}function B5(t,s,r){var a=(t[t.l++]&96)>>5,n=t.read_shift(2),o=4;if(r)switch(r.biff){case 5:o=15;break;case 12:o=6;break}return t.l+=o,[a,n]}var U5=Ba,H5=Ba,W5=Ba;function ml(t,s,r){return t.l+=2,[t5(t)]}function hh(t){return t.l+=6,[]}var q5=ml,z5=hh,V5=hh,$5=ml;function Nx(t){return t.l+=2,[tx(t),t.read_shift(2)&1]}var G5=ml,Y5=Nx,K5=hh,X5=ml,J5=ml,Q5=["Data","All","Headers","??","?Data2","??","?DataHeaders","??","Totals","??","??","??","?DataTotals","??","??","??","?Current"];function Z5(t){t.l+=2;var s=t.read_shift(2),r=t.read_shift(2),a=t.read_shift(4),n=t.read_shift(2),o=t.read_shift(2),l=Q5[r>>2&31];return{ixti:s,coltype:r&3,rt:l,idx:a,c:n,C:o}}function ew(t){return t.l+=2,[t.read_shift(4)]}function tw(t,s,r){return t.l+=5,t.l+=2,t.l+=r.biff==2?1:4,["PTGSHEET"]}function rw(t,s,r){return t.l+=r.biff==2?4:5,["PTGENDSHEET"]}function sw(t){var s=t.read_shift(1)>>>5&3,r=t.read_shift(2);return[s,r]}function aw(t){var s=t.read_shift(1)>>>5&3,r=t.read_shift(2);return[s,r]}function nw(t){return t.l+=4,[0,0]}var of={1:{n:"PtgExp",f:S5},2:{n:"PtgTbl",f:W5},3:{n:"PtgAdd",f:Or},4:{n:"PtgSub",f:Or},5:{n:"PtgMul",f:Or},6:{n:"PtgDiv",f:Or},7:{n:"PtgPower",f:Or},8:{n:"PtgConcat",f:Or},9:{n:"PtgLt",f:Or},10:{n:"PtgLe",f:Or},11:{n:"PtgEq",f:Or},12:{n:"PtgGe",f:Or},13:{n:"PtgGt",f:Or},14:{n:"PtgNe",f:Or},15:{n:"PtgIsect",f:Or},16:{n:"PtgUnion",f:Or},17:{n:"PtgRange",f:Or},18:{n:"PtgUplus",f:Or},19:{n:"PtgUminus",f:Or},20:{n:"PtgPercent",f:Or},21:{n:"PtgParen",f:Or},22:{n:"PtgMissArg",f:Or},23:{n:"PtgStr",f:T5},26:{n:"PtgSheet",f:tw},27:{n:"PtgEndSheet",f:rw},28:{n:"PtgErr",f:k5},29:{n:"PtgBool",f:_5},30:{n:"PtgInt",f:A5},31:{n:"PtgNum",f:C5},32:{n:"PtgArray",f:c5},33:{n:"PtgFunc",f:b5},34:{n:"PtgFuncVar",f:w5},35:{n:"PtgName",f:L5},36:{n:"PtgRef",f:g5},37:{n:"PtgArea",f:a5},38:{n:"PtgMemArea",f:I5},39:{n:"PtgMemErr",f:U5},40:{n:"PtgMemNoMem",f:H5},41:{n:"PtgMemFunc",f:R5},42:{n:"PtgRefErr",f:M5},43:{n:"PtgAreaErr",f:i5},44:{n:"PtgRefN",f:v5},45:{n:"PtgAreaN",f:l5},46:{n:"PtgMemAreaN",f:sw},47:{n:"PtgMemNoMemN",f:aw},57:{n:"PtgNameX",f:O5},58:{n:"PtgRef3d",f:y5},59:{n:"PtgArea3d",f:n5},60:{n:"PtgRefErr3d",f:B5},61:{n:"PtgAreaErr3d",f:o5},255:{}},iw={64:32,96:32,65:33,97:33,66:34,98:34,67:35,99:35,68:36,100:36,69:37,101:37,70:38,102:38,71:39,103:39,72:40,104:40,73:41,105:41,74:42,106:42,75:43,107:43,76:44,108:44,77:45,109:45,78:46,110:46,79:47,111:47,88:34,120:34,89:57,121:57,90:58,122:58,91:59,123:59,92:60,124:60,93:61,125:61},ow={1:{n:"PtgElfLel",f:Nx},2:{n:"PtgElfRw",f:X5},3:{n:"PtgElfCol",f:q5},6:{n:"PtgElfRwV",f:J5},7:{n:"PtgElfColV",f:$5},10:{n:"PtgElfRadical",f:G5},11:{n:"PtgElfRadicalS",f:K5},13:{n:"PtgElfColS",f:z5},15:{n:"PtgElfColSV",f:V5},16:{n:"PtgElfRadicalLel",f:Y5},25:{n:"PtgList",f:Z5},29:{n:"PtgSxName",f:ew},255:{}},lw={0:{n:"PtgAttrNoop",f:nw},1:{n:"PtgAttrSemi",f:m5},2:{n:"PtgAttrIf",f:u5},4:{n:"PtgAttrChoose",f:d5},8:{n:"PtgAttrGoto",f:h5},16:{n:"PtgAttrSum",f:j5},32:{n:"PtgAttrBaxcel",f:nf},33:{n:"PtgAttrBaxcel",f:nf},64:{n:"PtgAttrSpace",f:x5},65:{n:"PtgAttrSpaceSemi",f:p5},128:{n:"PtgAttrIfError",f:f5},255:{}};function cw(t,s,r,a){if(a.biff<8)return Ba(t,s);for(var n=t.l+s,o=[],l=0;l!==r.length;++l)switch(r[l][0]){case"PtgArray":r[l][1]=F5(t,0,a),o.push(r[l][1]);break;case"PtgMemArea":r[l][2]=P5(t,r[l][1],a),o.push(r[l][2]);break;case"PtgExp":a&&a.biff==12&&(r[l][1][1]=t.read_shift(4),o.push(r[l][1]));break;case"PtgList":case"PtgElfRadicalS":case"PtgElfColS":case"PtgElfColSV":throw"Unsupported "+r[l][0]}return s=n-t.l,s!==0&&o.push(Ba(t,s)),o}function dw(t,s,r){for(var a=t.l+s,n,o,l=[];a!=t.l;)s=a-t.l,o=t[t.l],n=of[o]||of[iw[o]],(o===24||o===25)&&(n=(o===24?ow:lw)[t[t.l+1]]),!n||!n.f?Ba(t,s):l.push([n.n,n.f(t,s,r)]);return l}function hw(t){for(var s=[],r=0;r<t.length;++r){for(var a=t[r],n=[],o=0;o<a.length;++o){var l=a[o];if(l)switch(l[0]){case 2:n.push('"'+l[1].replace(/"/g,'""')+'"');break;default:n.push(l[1])}else n.push("")}s.push(n.join(","))}return s.join(";")}var uw={PtgAdd:"+",PtgConcat:"&",PtgDiv:"/",PtgEq:"=",PtgGe:">=",PtgGt:">",PtgLe:"<=",PtgLt:"<",PtgMul:"*",PtgNe:"<>",PtgPower:"^",PtgSub:"-"};function fw(t,s){if(!t&&!(s&&s.biff<=5&&s.biff>=2))throw new Error("empty sheet name");return/[^\w\u4E00-\u9FFF\u3040-\u30FF]/.test(t)?"'"+t+"'":t}function jx(t,s,r){if(!t)return"SH33TJSERR0";if(r.biff>8&&(!t.XTI||!t.XTI[s]))return t.SheetNames[s];if(!t.XTI)return"SH33TJSERR6";var a=t.XTI[s];if(r.biff<8)return s>1e4&&(s-=65536),s<0&&(s=-s),s==0?"":t.XTI[s-1];if(!a)return"SH33TJSERR1";var n="";if(r.biff>8)switch(t[a[0]][0]){case 357:return n=a[1]==-1?"#REF":t.SheetNames[a[1]],a[1]==a[2]?n:n+":"+t.SheetNames[a[2]];case 358:return r.SID!=null?t.SheetNames[r.SID]:"SH33TJSSAME"+t[a[0]][0];case 355:default:return"SH33TJSSRC"+t[a[0]][0]}switch(t[a[0]][0][0]){case 1025:return n=a[1]==-1?"#REF":t.SheetNames[a[1]]||"SH33TJSERR3",a[1]==a[2]?n:n+":"+t.SheetNames[a[2]];case 14849:return t[a[0]].slice(1).map(function(o){return o.Name}).join(";;");default:return t[a[0]][0][3]?(n=a[1]==-1?"#REF":t[a[0]][0][3][a[1]]||"SH33TJSERR4",a[1]==a[2]?n:n+":"+t[a[0]][0][3][a[2]]):"SH33TJSERR2"}}function lf(t,s,r){var a=jx(t,s,r);return a=="#REF"?a:fw(a,r)}function to(t,s,r,a,n){var o=n&&n.biff||8,l={s:{c:0,r:0}},c=[],d,h,u,x=0,p=0,m,y="";if(!t[0]||!t[0][0])return"";for(var g=-1,b="",w=0,N=t[0].length;w<N;++w){var j=t[0][w];switch(j[0]){case"PtgUminus":c.push("-"+c.pop());break;case"PtgUplus":c.push("+"+c.pop());break;case"PtgPercent":c.push(c.pop()+"%");break;case"PtgAdd":case"PtgConcat":case"PtgDiv":case"PtgEq":case"PtgGe":case"PtgGt":case"PtgLe":case"PtgLt":case"PtgMul":case"PtgNe":case"PtgPower":case"PtgSub":if(d=c.pop(),h=c.pop(),g>=0){switch(t[0][g][1][0]){case 0:b=wr(" ",t[0][g][1][1]);break;case 1:b=wr("\r",t[0][g][1][1]);break;default:if(b="",n.WTF)throw new Error("Unexpected PtgAttrSpaceType "+t[0][g][1][0])}h=h+b,g=-1}c.push(h+uw[j[0]]+d);break;case"PtgIsect":d=c.pop(),h=c.pop(),c.push(h+" "+d);break;case"PtgUnion":d=c.pop(),h=c.pop(),c.push(h+","+d);break;case"PtgRange":d=c.pop(),h=c.pop(),c.push(h+":"+d);break;case"PtgAttrChoose":break;case"PtgAttrGoto":break;case"PtgAttrIf":break;case"PtgAttrIfError":break;case"PtgRef":u=Qo(j[1][1],l,n),c.push(Zo(u,o));break;case"PtgRefN":u=r?Qo(j[1][1],r,n):j[1][1],c.push(Zo(u,o));break;case"PtgRef3d":x=j[1][1],u=Qo(j[1][2],l,n),y=lf(a,x,n),c.push(y+"!"+Zo(u,o));break;case"PtgFunc":case"PtgFuncVar":var k=j[1][0],L=j[1][1];k||(k=0),k&=127;var F=k==0?[]:c.slice(-k);c.length-=k,L==="User"&&(L=F.shift()),c.push(L+"("+F.join(",")+")");break;case"PtgBool":c.push(j[1]?"TRUE":"FALSE");break;case"PtgInt":c.push(j[1]);break;case"PtgNum":c.push(String(j[1]));break;case"PtgStr":c.push('"'+j[1].replace(/"/g,'""')+'"');break;case"PtgErr":c.push(j[1]);break;case"PtgAreaN":m=Vu(j[1][1],r?{s:r}:l,n),c.push(c0(m,n));break;case"PtgArea":m=Vu(j[1][1],l,n),c.push(c0(m,n));break;case"PtgArea3d":x=j[1][1],m=j[1][2],y=lf(a,x,n),c.push(y+"!"+c0(m,n));break;case"PtgAttrSum":c.push("SUM("+c.pop()+")");break;case"PtgAttrBaxcel":case"PtgAttrSemi":break;case"PtgName":p=j[1][2];var T=(a.names||[])[p-1]||(a[0]||[])[p],C=T?T.Name:"SH33TJSNAME"+String(p);C&&C.slice(0,6)=="_xlfn."&&!n.xlfn&&(C=C.slice(6)),c.push(C);break;case"PtgNameX":var I=j[1][1];p=j[1][2];var D;if(n.biff<=5)I<0&&(I=-I),a[I]&&(D=a[I][p]);else{var E="";if(((a[I]||[])[0]||[])[0]==14849||(((a[I]||[])[0]||[])[0]==1025?a[I][p]&&a[I][p].itab>0&&(E=a.SheetNames[a[I][p].itab-1]+"!"):E=a.SheetNames[p-1]+"!"),a[I]&&a[I][p])E+=a[I][p].Name;else if(a[0]&&a[0][p])E+=a[0][p].Name;else{var P=(jx(a,I,n)||"").split(";;");P[p-1]?E=P[p-1]:E+="SH33TJSERRX"}c.push(E);break}D||(D={Name:"SH33TJSERRY"}),c.push(D.Name);break;case"PtgParen":var W="(",z=")";if(g>=0){switch(b="",t[0][g][1][0]){case 2:W=wr(" ",t[0][g][1][1])+W;break;case 3:W=wr("\r",t[0][g][1][1])+W;break;case 4:z=wr(" ",t[0][g][1][1])+z;break;case 5:z=wr("\r",t[0][g][1][1])+z;break;default:if(n.WTF)throw new Error("Unexpected PtgAttrSpaceType "+t[0][g][1][0])}g=-1}c.push(W+c.pop()+z);break;case"PtgRefErr":c.push("#REF!");break;case"PtgRefErr3d":c.push("#REF!");break;case"PtgExp":u={c:j[1][1],r:j[1][0]};var ue={c:r.c,r:r.r};if(a.sharedf[Qt(u)]){var Q=a.sharedf[Qt(u)];c.push(to(Q,l,ue,a,n))}else{var ee=!1;for(d=0;d!=a.arrayf.length;++d)if(h=a.arrayf[d],!(u.c<h[0].s.c||u.c>h[0].e.c)&&!(u.r<h[0].s.r||u.r>h[0].e.r)){c.push(to(h[1],l,ue,a,n)),ee=!0;break}ee||c.push(j[1])}break;case"PtgArray":c.push("{"+hw(j[1])+"}");break;case"PtgMemArea":break;case"PtgAttrSpace":case"PtgAttrSpaceSemi":g=w;break;case"PtgTbl":break;case"PtgMemErr":break;case"PtgMissArg":c.push("");break;case"PtgAreaErr":c.push("#REF!");break;case"PtgAreaErr3d":c.push("#REF!");break;case"PtgList":c.push("Table"+j[1].idx+"[#"+j[1].rt+"]");break;case"PtgMemAreaN":case"PtgMemNoMemN":case"PtgAttrNoop":case"PtgSheet":case"PtgEndSheet":break;case"PtgMemFunc":break;case"PtgMemNoMem":break;case"PtgElfCol":case"PtgElfColS":case"PtgElfColSV":case"PtgElfColV":case"PtgElfLel":case"PtgElfRadical":case"PtgElfRadicalLel":case"PtgElfRadicalS":case"PtgElfRw":case"PtgElfRwV":throw new Error("Unsupported ELFs");case"PtgSxName":throw new Error("Unrecognized Formula Token: "+String(j));default:throw new Error("Unrecognized Formula Token: "+String(j))}var ie=["PtgAttrSpace","PtgAttrSpaceSemi","PtgAttrGoto"];if(n.biff!=3&&g>=0&&ie.indexOf(t[0][w][0])==-1){j=t[0][g];var ne=!0;switch(j[1][0]){case 4:ne=!1;case 0:b=wr(" ",j[1][1]);break;case 5:ne=!1;case 1:b=wr("\r",j[1][1]);break;default:if(b="",n.WTF)throw new Error("Unexpected PtgAttrSpaceType "+j[1][0])}c.push((ne?b:"")+c.pop()+(ne?"":b)),g=-1}}if(c.length>1&&n.WTF)throw new Error("bad formula stack");return c[0]}function mw(t){if(t==null){var s=Me(8);return s.write_shift(1,3),s.write_shift(1,0),s.write_shift(2,0),s.write_shift(2,0),s.write_shift(2,65535),s}else if(typeof t=="number")return ni(t);return ni(0)}function xw(t,s,r,a,n){var o=ii(s,r,n),l=mw(t.v),c=Me(6),d=33;c.write_shift(2,d),c.write_shift(4,0);for(var h=Me(t.bf.length),u=0;u<t.bf.length;++u)h[u]=t.bf[u];var x=Zr([o,l,c,h]);return x}function nd(t,s,r){var a=t.read_shift(4),n=dw(t,a,r),o=t.read_shift(4),l=o>0?cw(t,o,n,r):null;return[n,l]}var pw=nd,id=nd,gw=nd,vw=nd,yw={0:"BEEP",1:"OPEN",2:"OPEN.LINKS",3:"CLOSE.ALL",4:"SAVE",5:"SAVE.AS",6:"FILE.DELETE",7:"PAGE.SETUP",8:"PRINT",9:"PRINTER.SETUP",10:"QUIT",11:"NEW.WINDOW",12:"ARRANGE.ALL",13:"WINDOW.SIZE",14:"WINDOW.MOVE",15:"FULL",16:"CLOSE",17:"RUN",22:"SET.PRINT.AREA",23:"SET.PRINT.TITLES",24:"SET.PAGE.BREAK",25:"REMOVE.PAGE.BREAK",26:"FONT",27:"DISPLAY",28:"PROTECT.DOCUMENT",29:"PRECISION",30:"A1.R1C1",31:"CALCULATE.NOW",32:"CALCULATION",34:"DATA.FIND",35:"EXTRACT",36:"DATA.DELETE",37:"SET.DATABASE",38:"SET.CRITERIA",39:"SORT",40:"DATA.SERIES",41:"TABLE",42:"FORMAT.NUMBER",43:"ALIGNMENT",44:"STYLE",45:"BORDER",46:"CELL.PROTECTION",47:"COLUMN.WIDTH",48:"UNDO",49:"CUT",50:"COPY",51:"PASTE",52:"CLEAR",53:"PASTE.SPECIAL",54:"EDIT.DELETE",55:"INSERT",56:"FILL.RIGHT",57:"FILL.DOWN",61:"DEFINE.NAME",62:"CREATE.NAMES",63:"FORMULA.GOTO",64:"FORMULA.FIND",65:"SELECT.LAST.CELL",66:"SHOW.ACTIVE.CELL",67:"GALLERY.AREA",68:"GALLERY.BAR",69:"GALLERY.COLUMN",70:"GALLERY.LINE",71:"GALLERY.PIE",72:"GALLERY.SCATTER",73:"COMBINATION",74:"PREFERRED",75:"ADD.OVERLAY",76:"GRIDLINES",77:"SET.PREFERRED",78:"AXES",79:"LEGEND",80:"ATTACH.TEXT",81:"ADD.ARROW",82:"SELECT.CHART",83:"SELECT.PLOT.AREA",84:"PATTERNS",85:"MAIN.CHART",86:"OVERLAY",87:"SCALE",88:"FORMAT.LEGEND",89:"FORMAT.TEXT",90:"EDIT.REPEAT",91:"PARSE",92:"JUSTIFY",93:"HIDE",94:"UNHIDE",95:"WORKSPACE",96:"FORMULA",97:"FORMULA.FILL",98:"FORMULA.ARRAY",99:"DATA.FIND.NEXT",100:"DATA.FIND.PREV",101:"FORMULA.FIND.NEXT",102:"FORMULA.FIND.PREV",103:"ACTIVATE",104:"ACTIVATE.NEXT",105:"ACTIVATE.PREV",106:"UNLOCKED.NEXT",107:"UNLOCKED.PREV",108:"COPY.PICTURE",109:"SELECT",110:"DELETE.NAME",111:"DELETE.FORMAT",112:"VLINE",113:"HLINE",114:"VPAGE",115:"HPAGE",116:"VSCROLL",117:"HSCROLL",118:"ALERT",119:"NEW",120:"CANCEL.COPY",121:"SHOW.CLIPBOARD",122:"MESSAGE",124:"PASTE.LINK",125:"APP.ACTIVATE",126:"DELETE.ARROW",127:"ROW.HEIGHT",128:"FORMAT.MOVE",129:"FORMAT.SIZE",130:"FORMULA.REPLACE",131:"SEND.KEYS",132:"SELECT.SPECIAL",133:"APPLY.NAMES",134:"REPLACE.FONT",135:"FREEZE.PANES",136:"SHOW.INFO",137:"SPLIT",138:"ON.WINDOW",139:"ON.DATA",140:"DISABLE.INPUT",142:"OUTLINE",143:"LIST.NAMES",144:"FILE.CLOSE",145:"SAVE.WORKBOOK",146:"DATA.FORM",147:"COPY.CHART",148:"ON.TIME",149:"WAIT",150:"FORMAT.FONT",151:"FILL.UP",152:"FILL.LEFT",153:"DELETE.OVERLAY",155:"SHORT.MENUS",159:"SET.UPDATE.STATUS",161:"COLOR.PALETTE",162:"DELETE.STYLE",163:"WINDOW.RESTORE",164:"WINDOW.MAXIMIZE",166:"CHANGE.LINK",167:"CALCULATE.DOCUMENT",168:"ON.KEY",169:"APP.RESTORE",170:"APP.MOVE",171:"APP.SIZE",172:"APP.MINIMIZE",173:"APP.MAXIMIZE",174:"BRING.TO.FRONT",175:"SEND.TO.BACK",185:"MAIN.CHART.TYPE",186:"OVERLAY.CHART.TYPE",187:"SELECT.END",188:"OPEN.MAIL",189:"SEND.MAIL",190:"STANDARD.FONT",191:"CONSOLIDATE",192:"SORT.SPECIAL",193:"GALLERY.3D.AREA",194:"GALLERY.3D.COLUMN",195:"GALLERY.3D.LINE",196:"GALLERY.3D.PIE",197:"VIEW.3D",198:"GOAL.SEEK",199:"WORKGROUP",200:"FILL.GROUP",201:"UPDATE.LINK",202:"PROMOTE",203:"DEMOTE",204:"SHOW.DETAIL",206:"UNGROUP",207:"OBJECT.PROPERTIES",208:"SAVE.NEW.OBJECT",209:"SHARE",210:"SHARE.NAME",211:"DUPLICATE",212:"APPLY.STYLE",213:"ASSIGN.TO.OBJECT",214:"OBJECT.PROTECTION",215:"HIDE.OBJECT",216:"SET.EXTRACT",217:"CREATE.PUBLISHER",218:"SUBSCRIBE.TO",219:"ATTRIBUTES",220:"SHOW.TOOLBAR",222:"PRINT.PREVIEW",223:"EDIT.COLOR",224:"SHOW.LEVELS",225:"FORMAT.MAIN",226:"FORMAT.OVERLAY",227:"ON.RECALC",228:"EDIT.SERIES",229:"DEFINE.STYLE",240:"LINE.PRINT",243:"ENTER.DATA",249:"GALLERY.RADAR",250:"MERGE.STYLES",251:"EDITION.OPTIONS",252:"PASTE.PICTURE",253:"PASTE.PICTURE.LINK",254:"SPELLING",256:"ZOOM",259:"INSERT.OBJECT",260:"WINDOW.MINIMIZE",265:"SOUND.NOTE",266:"SOUND.PLAY",267:"FORMAT.SHAPE",268:"EXTEND.POLYGON",269:"FORMAT.AUTO",272:"GALLERY.3D.BAR",273:"GALLERY.3D.SURFACE",274:"FILL.AUTO",276:"CUSTOMIZE.TOOLBAR",277:"ADD.TOOL",278:"EDIT.OBJECT",279:"ON.DOUBLECLICK",280:"ON.ENTRY",281:"WORKBOOK.ADD",282:"WORKBOOK.MOVE",283:"WORKBOOK.COPY",284:"WORKBOOK.OPTIONS",285:"SAVE.WORKSPACE",288:"CHART.WIZARD",289:"DELETE.TOOL",290:"MOVE.TOOL",291:"WORKBOOK.SELECT",292:"WORKBOOK.ACTIVATE",293:"ASSIGN.TO.TOOL",295:"COPY.TOOL",296:"RESET.TOOL",297:"CONSTRAIN.NUMERIC",298:"PASTE.TOOL",302:"WORKBOOK.NEW",305:"SCENARIO.CELLS",306:"SCENARIO.DELETE",307:"SCENARIO.ADD",308:"SCENARIO.EDIT",309:"SCENARIO.SHOW",310:"SCENARIO.SHOW.NEXT",311:"SCENARIO.SUMMARY",312:"PIVOT.TABLE.WIZARD",313:"PIVOT.FIELD.PROPERTIES",314:"PIVOT.FIELD",315:"PIVOT.ITEM",316:"PIVOT.ADD.FIELDS",318:"OPTIONS.CALCULATION",319:"OPTIONS.EDIT",320:"OPTIONS.VIEW",321:"ADDIN.MANAGER",322:"MENU.EDITOR",323:"ATTACH.TOOLBARS",324:"VBAActivate",325:"OPTIONS.CHART",328:"VBA.INSERT.FILE",330:"VBA.PROCEDURE.DEFINITION",336:"ROUTING.SLIP",338:"ROUTE.DOCUMENT",339:"MAIL.LOGON",342:"INSERT.PICTURE",343:"EDIT.TOOL",344:"GALLERY.DOUGHNUT",350:"CHART.TREND",352:"PIVOT.ITEM.PROPERTIES",354:"WORKBOOK.INSERT",355:"OPTIONS.TRANSITION",356:"OPTIONS.GENERAL",370:"FILTER.ADVANCED",373:"MAIL.ADD.MAILER",374:"MAIL.DELETE.MAILER",375:"MAIL.REPLY",376:"MAIL.REPLY.ALL",377:"MAIL.FORWARD",378:"MAIL.NEXT.LETTER",379:"DATA.LABEL",380:"INSERT.TITLE",381:"FONT.PROPERTIES",382:"MACRO.OPTIONS",383:"WORKBOOK.HIDE",384:"WORKBOOK.UNHIDE",385:"WORKBOOK.DELETE",386:"WORKBOOK.NAME",388:"GALLERY.CUSTOM",390:"ADD.CHART.AUTOFORMAT",391:"DELETE.CHART.AUTOFORMAT",392:"CHART.ADD.DATA",393:"AUTO.OUTLINE",394:"TAB.ORDER",395:"SHOW.DIALOG",396:"SELECT.ALL",397:"UNGROUP.SHEETS",398:"SUBTOTAL.CREATE",399:"SUBTOTAL.REMOVE",400:"RENAME.OBJECT",412:"WORKBOOK.SCROLL",413:"WORKBOOK.NEXT",414:"WORKBOOK.PREV",415:"WORKBOOK.TAB.SPLIT",416:"FULL.SCREEN",417:"WORKBOOK.PROTECT",420:"SCROLLBAR.PROPERTIES",421:"PIVOT.SHOW.PAGES",422:"TEXT.TO.COLUMNS",423:"FORMAT.CHARTTYPE",424:"LINK.FORMAT",425:"TRACER.DISPLAY",430:"TRACER.NAVIGATE",431:"TRACER.CLEAR",432:"TRACER.ERROR",433:"PIVOT.FIELD.GROUP",434:"PIVOT.FIELD.UNGROUP",435:"CHECKBOX.PROPERTIES",436:"LABEL.PROPERTIES",437:"LISTBOX.PROPERTIES",438:"EDITBOX.PROPERTIES",439:"PIVOT.REFRESH",440:"LINK.COMBO",441:"OPEN.TEXT",442:"HIDE.DIALOG",443:"SET.DIALOG.FOCUS",444:"ENABLE.OBJECT",445:"PUSHBUTTON.PROPERTIES",446:"SET.DIALOG.DEFAULT",447:"FILTER",448:"FILTER.SHOW.ALL",449:"CLEAR.OUTLINE",450:"FUNCTION.WIZARD",451:"ADD.LIST.ITEM",452:"SET.LIST.ITEM",453:"REMOVE.LIST.ITEM",454:"SELECT.LIST.ITEM",455:"SET.CONTROL.VALUE",456:"SAVE.COPY.AS",458:"OPTIONS.LISTS.ADD",459:"OPTIONS.LISTS.DELETE",460:"SERIES.AXES",461:"SERIES.X",462:"SERIES.Y",463:"ERRORBAR.X",464:"ERRORBAR.Y",465:"FORMAT.CHART",466:"SERIES.ORDER",467:"MAIL.LOGOFF",468:"CLEAR.ROUTING.SLIP",469:"APP.ACTIVATE.MICROSOFT",470:"MAIL.EDIT.MAILER",471:"ON.SHEET",472:"STANDARD.WIDTH",473:"SCENARIO.MERGE",474:"SUMMARY.INFO",475:"FIND.FILE",476:"ACTIVE.CELL.FONT",477:"ENABLE.TIPWIZARD",478:"VBA.MAKE.ADDIN",480:"INSERTDATATABLE",481:"WORKGROUP.OPTIONS",482:"MAIL.SEND.MAILER",485:"AUTOCORRECT",489:"POST.DOCUMENT",491:"PICKLIST",493:"VIEW.SHOW",494:"VIEW.DEFINE",495:"VIEW.DELETE",509:"SHEET.BACKGROUND",510:"INSERT.MAP.OBJECT",511:"OPTIONS.MENONO",517:"MSOCHECKS",518:"NORMAL",519:"LAYOUT",520:"RM.PRINT.AREA",521:"CLEAR.PRINT.AREA",522:"ADD.PRINT.AREA",523:"MOVE.BRK",545:"HIDECURR.NOTE",546:"HIDEALL.NOTES",547:"DELETE.NOTE",548:"TRAVERSE.NOTES",549:"ACTIVATE.NOTES",620:"PROTECT.REVISIONS",621:"UNPROTECT.REVISIONS",647:"OPTIONS.ME",653:"WEB.PUBLISH",667:"NEWWEBQUERY",673:"PIVOT.TABLE.CHART",753:"OPTIONS.SAVE",755:"OPTIONS.SPELL",808:"HIDEALL.INKANNOTS"},Sx={0:"COUNT",1:"IF",2:"ISNA",3:"ISERROR",4:"SUM",5:"AVERAGE",6:"MIN",7:"MAX",8:"ROW",9:"COLUMN",10:"NA",11:"NPV",12:"STDEV",13:"DOLLAR",14:"FIXED",15:"SIN",16:"COS",17:"TAN",18:"ATAN",19:"PI",20:"SQRT",21:"EXP",22:"LN",23:"LOG10",24:"ABS",25:"INT",26:"SIGN",27:"ROUND",28:"LOOKUP",29:"INDEX",30:"REPT",31:"MID",32:"LEN",33:"VALUE",34:"TRUE",35:"FALSE",36:"AND",37:"OR",38:"NOT",39:"MOD",40:"DCOUNT",41:"DSUM",42:"DAVERAGE",43:"DMIN",44:"DMAX",45:"DSTDEV",46:"VAR",47:"DVAR",48:"TEXT",49:"LINEST",50:"TREND",51:"LOGEST",52:"GROWTH",53:"GOTO",54:"HALT",55:"RETURN",56:"PV",57:"FV",58:"NPER",59:"PMT",60:"RATE",61:"MIRR",62:"IRR",63:"RAND",64:"MATCH",65:"DATE",66:"TIME",67:"DAY",68:"MONTH",69:"YEAR",70:"WEEKDAY",71:"HOUR",72:"MINUTE",73:"SECOND",74:"NOW",75:"AREAS",76:"ROWS",77:"COLUMNS",78:"OFFSET",79:"ABSREF",80:"RELREF",81:"ARGUMENT",82:"SEARCH",83:"TRANSPOSE",84:"ERROR",85:"STEP",86:"TYPE",87:"ECHO",88:"SET.NAME",89:"CALLER",90:"DEREF",91:"WINDOWS",92:"SERIES",93:"DOCUMENTS",94:"ACTIVE.CELL",95:"SELECTION",96:"RESULT",97:"ATAN2",98:"ASIN",99:"ACOS",100:"CHOOSE",101:"HLOOKUP",102:"VLOOKUP",103:"LINKS",104:"INPUT",105:"ISREF",106:"GET.FORMULA",107:"GET.NAME",108:"SET.VALUE",109:"LOG",110:"EXEC",111:"CHAR",112:"LOWER",113:"UPPER",114:"PROPER",115:"LEFT",116:"RIGHT",117:"EXACT",118:"TRIM",119:"REPLACE",120:"SUBSTITUTE",121:"CODE",122:"NAMES",123:"DIRECTORY",124:"FIND",125:"CELL",126:"ISERR",127:"ISTEXT",128:"ISNUMBER",129:"ISBLANK",130:"T",131:"N",132:"FOPEN",133:"FCLOSE",134:"FSIZE",135:"FREADLN",136:"FREAD",137:"FWRITELN",138:"FWRITE",139:"FPOS",140:"DATEVALUE",141:"TIMEVALUE",142:"SLN",143:"SYD",144:"DDB",145:"GET.DEF",146:"REFTEXT",147:"TEXTREF",148:"INDIRECT",149:"REGISTER",150:"CALL",151:"ADD.BAR",152:"ADD.MENU",153:"ADD.COMMAND",154:"ENABLE.COMMAND",155:"CHECK.COMMAND",156:"RENAME.COMMAND",157:"SHOW.BAR",158:"DELETE.MENU",159:"DELETE.COMMAND",160:"GET.CHART.ITEM",161:"DIALOG.BOX",162:"CLEAN",163:"MDETERM",164:"MINVERSE",165:"MMULT",166:"FILES",167:"IPMT",168:"PPMT",169:"COUNTA",170:"CANCEL.KEY",171:"FOR",172:"WHILE",173:"BREAK",174:"NEXT",175:"INITIATE",176:"REQUEST",177:"POKE",178:"EXECUTE",179:"TERMINATE",180:"RESTART",181:"HELP",182:"GET.BAR",183:"PRODUCT",184:"FACT",185:"GET.CELL",186:"GET.WORKSPACE",187:"GET.WINDOW",188:"GET.DOCUMENT",189:"DPRODUCT",190:"ISNONTEXT",191:"GET.NOTE",192:"NOTE",193:"STDEVP",194:"VARP",195:"DSTDEVP",196:"DVARP",197:"TRUNC",198:"ISLOGICAL",199:"DCOUNTA",200:"DELETE.BAR",201:"UNREGISTER",204:"USDOLLAR",205:"FINDB",206:"SEARCHB",207:"REPLACEB",208:"LEFTB",209:"RIGHTB",210:"MIDB",211:"LENB",212:"ROUNDUP",213:"ROUNDDOWN",214:"ASC",215:"DBCS",216:"RANK",219:"ADDRESS",220:"DAYS360",221:"TODAY",222:"VDB",223:"ELSE",224:"ELSE.IF",225:"END.IF",226:"FOR.CELL",227:"MEDIAN",228:"SUMPRODUCT",229:"SINH",230:"COSH",231:"TANH",232:"ASINH",233:"ACOSH",234:"ATANH",235:"DGET",236:"CREATE.OBJECT",237:"VOLATILE",238:"LAST.ERROR",239:"CUSTOM.UNDO",240:"CUSTOM.REPEAT",241:"FORMULA.CONVERT",242:"GET.LINK.INFO",243:"TEXT.BOX",244:"INFO",245:"GROUP",246:"GET.OBJECT",247:"DB",248:"PAUSE",251:"RESUME",252:"FREQUENCY",253:"ADD.TOOLBAR",254:"DELETE.TOOLBAR",255:"User",256:"RESET.TOOLBAR",257:"EVALUATE",258:"GET.TOOLBAR",259:"GET.TOOL",260:"SPELLING.CHECK",261:"ERROR.TYPE",262:"APP.TITLE",263:"WINDOW.TITLE",264:"SAVE.TOOLBAR",265:"ENABLE.TOOL",266:"PRESS.TOOL",267:"REGISTER.ID",268:"GET.WORKBOOK",269:"AVEDEV",270:"BETADIST",271:"GAMMALN",272:"BETAINV",273:"BINOMDIST",274:"CHIDIST",275:"CHIINV",276:"COMBIN",277:"CONFIDENCE",278:"CRITBINOM",279:"EVEN",280:"EXPONDIST",281:"FDIST",282:"FINV",283:"FISHER",284:"FISHERINV",285:"FLOOR",286:"GAMMADIST",287:"GAMMAINV",288:"CEILING",289:"HYPGEOMDIST",290:"LOGNORMDIST",291:"LOGINV",292:"NEGBINOMDIST",293:"NORMDIST",294:"NORMSDIST",295:"NORMINV",296:"NORMSINV",297:"STANDARDIZE",298:"ODD",299:"PERMUT",300:"POISSON",301:"TDIST",302:"WEIBULL",303:"SUMXMY2",304:"SUMX2MY2",305:"SUMX2PY2",306:"CHITEST",307:"CORREL",308:"COVAR",309:"FORECAST",310:"FTEST",311:"INTERCEPT",312:"PEARSON",313:"RSQ",314:"STEYX",315:"SLOPE",316:"TTEST",317:"PROB",318:"DEVSQ",319:"GEOMEAN",320:"HARMEAN",321:"SUMSQ",322:"KURT",323:"SKEW",324:"ZTEST",325:"LARGE",326:"SMALL",327:"QUARTILE",328:"PERCENTILE",329:"PERCENTRANK",330:"MODE",331:"TRIMMEAN",332:"TINV",334:"MOVIE.COMMAND",335:"GET.MOVIE",336:"CONCATENATE",337:"POWER",338:"PIVOT.ADD.DATA",339:"GET.PIVOT.TABLE",340:"GET.PIVOT.FIELD",341:"GET.PIVOT.ITEM",342:"RADIANS",343:"DEGREES",344:"SUBTOTAL",345:"SUMIF",346:"COUNTIF",347:"COUNTBLANK",348:"SCENARIO.GET",349:"OPTIONS.LISTS.GET",350:"ISPMT",351:"DATEDIF",352:"DATESTRING",353:"NUMBERSTRING",354:"ROMAN",355:"OPEN.DIALOG",356:"SAVE.DIALOG",357:"VIEW.GET",358:"GETPIVOTDATA",359:"HYPERLINK",360:"PHONETIC",361:"AVERAGEA",362:"MAXA",363:"MINA",364:"STDEVPA",365:"VARPA",366:"STDEVA",367:"VARA",368:"BAHTTEXT",369:"THAIDAYOFWEEK",370:"THAIDIGIT",371:"THAIMONTHOFYEAR",372:"THAINUMSOUND",373:"THAINUMSTRING",374:"THAISTRINGLENGTH",375:"ISTHAIDIGIT",376:"ROUNDBAHTDOWN",377:"ROUNDBAHTUP",378:"THAIYEAR",379:"RTD",380:"CUBEVALUE",381:"CUBEMEMBER",382:"CUBEMEMBERPROPERTY",383:"CUBERANKEDMEMBER",384:"HEX2BIN",385:"HEX2DEC",386:"HEX2OCT",387:"DEC2BIN",388:"DEC2HEX",389:"DEC2OCT",390:"OCT2BIN",391:"OCT2HEX",392:"OCT2DEC",393:"BIN2DEC",394:"BIN2OCT",395:"BIN2HEX",396:"IMSUB",397:"IMDIV",398:"IMPOWER",399:"IMABS",400:"IMSQRT",401:"IMLN",402:"IMLOG2",403:"IMLOG10",404:"IMSIN",405:"IMCOS",406:"IMEXP",407:"IMARGUMENT",408:"IMCONJUGATE",409:"IMAGINARY",410:"IMREAL",411:"COMPLEX",412:"IMSUM",413:"IMPRODUCT",414:"SERIESSUM",415:"FACTDOUBLE",416:"SQRTPI",417:"QUOTIENT",418:"DELTA",419:"GESTEP",420:"ISEVEN",421:"ISODD",422:"MROUND",423:"ERF",424:"ERFC",425:"BESSELJ",426:"BESSELK",427:"BESSELY",428:"BESSELI",429:"XIRR",430:"XNPV",431:"PRICEMAT",432:"YIELDMAT",433:"INTRATE",434:"RECEIVED",435:"DISC",436:"PRICEDISC",437:"YIELDDISC",438:"TBILLEQ",439:"TBILLPRICE",440:"TBILLYIELD",441:"PRICE",442:"YIELD",443:"DOLLARDE",444:"DOLLARFR",445:"NOMINAL",446:"EFFECT",447:"CUMPRINC",448:"CUMIPMT",449:"EDATE",450:"EOMONTH",451:"YEARFRAC",452:"COUPDAYBS",453:"COUPDAYS",454:"COUPDAYSNC",455:"COUPNCD",456:"COUPNUM",457:"COUPPCD",458:"DURATION",459:"MDURATION",460:"ODDLPRICE",461:"ODDLYIELD",462:"ODDFPRICE",463:"ODDFYIELD",464:"RANDBETWEEN",465:"WEEKNUM",466:"AMORDEGRC",467:"AMORLINC",468:"CONVERT",724:"SHEETJS",469:"ACCRINT",470:"ACCRINTM",471:"WORKDAY",472:"NETWORKDAYS",473:"GCD",474:"MULTINOMIAL",475:"LCM",476:"FVSCHEDULE",477:"CUBEKPIMEMBER",478:"CUBESET",479:"CUBESETCOUNT",480:"IFERROR",481:"COUNTIFS",482:"SUMIFS",483:"AVERAGEIF",484:"AVERAGEIFS"},bw={2:1,3:1,10:0,15:1,16:1,17:1,18:1,19:0,20:1,21:1,22:1,23:1,24:1,25:1,26:1,27:2,30:2,31:3,32:1,33:1,34:0,35:0,38:1,39:2,40:3,41:3,42:3,43:3,44:3,45:3,47:3,48:2,53:1,61:3,63:0,65:3,66:3,67:1,68:1,69:1,70:1,71:1,72:1,73:1,74:0,75:1,76:1,77:1,79:2,80:2,83:1,85:0,86:1,89:0,90:1,94:0,95:0,97:2,98:1,99:1,101:3,102:3,105:1,106:1,108:2,111:1,112:1,113:1,114:1,117:2,118:1,119:4,121:1,126:1,127:1,128:1,129:1,130:1,131:1,133:1,134:1,135:1,136:2,137:2,138:2,140:1,141:1,142:3,143:4,144:4,161:1,162:1,163:1,164:1,165:2,172:1,175:2,176:2,177:3,178:2,179:1,184:1,186:1,189:3,190:1,195:3,196:3,197:1,198:1,199:3,201:1,207:4,210:3,211:1,212:2,213:2,214:1,215:1,225:0,229:1,230:1,231:1,232:1,233:1,234:1,235:3,244:1,247:4,252:2,257:1,261:1,271:1,273:4,274:2,275:2,276:2,277:3,278:3,279:1,280:3,281:3,282:3,283:1,284:1,285:2,286:4,287:3,288:2,289:4,290:3,291:3,292:3,293:4,294:1,295:3,296:1,297:3,298:1,299:2,300:3,301:3,302:4,303:2,304:2,305:2,306:2,307:2,308:2,309:3,310:2,311:2,312:2,313:2,314:2,315:2,316:4,325:2,326:2,327:2,328:2,331:2,332:2,337:2,342:1,343:1,346:2,347:1,350:4,351:3,352:1,353:2,360:1,368:1,369:1,370:1,371:1,372:1,373:1,374:1,375:1,376:1,377:1,378:1,382:3,385:1,392:1,393:1,396:2,397:2,398:2,399:1,400:1,401:1,402:1,403:1,404:1,405:1,406:1,407:1,408:1,409:1,410:1,414:4,415:1,416:1,417:2,420:1,421:1,422:2,424:1,425:2,426:2,427:2,428:2,430:3,438:3,439:3,440:3,443:2,444:2,445:2,446:2,447:6,448:6,449:2,450:2,464:2,468:3,476:2,479:1,480:2,65535:0};function ww(t){var s="of:="+t.replace(ch,"$1[.$2$3$4$5]").replace(/\]:\[/g,":");return s.replace(/;/g,"|").replace(/,/g,";")}function Nw(t){return t.replace(/\./,"!")}var el=typeof Map<"u";function uh(t,s,r){var a=0,n=t.length;if(r){if(el?r.has(s):Object.prototype.hasOwnProperty.call(r,s)){for(var o=el?r.get(s):r[s];a<o.length;++a)if(t[o[a]].t===s)return t.Count++,o[a]}}else for(;a<n;++a)if(t[a].t===s)return t.Count++,a;return t[n]={t:s},t.Count++,t.Unique++,r&&(el?(r.has(s)||r.set(s,[]),r.get(s).push(n)):(Object.prototype.hasOwnProperty.call(r,s)||(r[s]=[]),r[s].push(n))),n}function od(t,s){var r={min:t+1,max:t+1},a=-1;return s.MDW&&(rn=s.MDW),s.width!=null?r.customWidth=1:s.wpx!=null?a=Vc(s.wpx):s.wch!=null&&(a=s.wch),a>-1?(r.width=R0(a),r.customWidth=1):s.width!=null&&(r.width=s.width),s.hidden&&(r.hidden=!0),s.level!=null&&(r.outlineLevel=r.level=s.level),r}function kx(t,s){if(t){var r=[.7,.7,.75,.75,.3,.3];t.left==null&&(t.left=r[0]),t.right==null&&(t.right=r[1]),t.top==null&&(t.top=r[2]),t.bottom==null&&(t.bottom=r[3]),t.header==null&&(t.header=r[4]),t.footer==null&&(t.footer=r[5])}}function Rn(t,s,r){var a=r.revssf[s.z!=null?s.z:"General"],n=60,o=t.length;if(a==null&&r.ssf){for(;n<392;++n)if(r.ssf[n]==null){bm(s.z,n),r.ssf[n]=s.z,r.revssf[s.z]=a=n;break}}for(n=0;n!=o;++n)if(t[n].numFmtId===a)return n;return t[o]={numFmtId:a,fontId:0,fillId:0,borderId:0,xfId:0,applyNumberFormat:1},o}function jw(t,s,r){if(t&&t["!ref"]){var a=ur(t["!ref"]);if(a.e.c<a.s.c||a.e.r<a.s.r)throw new Error("Bad range ("+r+"): "+t["!ref"])}}function Sw(t){if(t.length===0)return"";for(var s='<mergeCells count="'+t.length+'">',r=0;r!=t.length;++r)s+='<mergeCell ref="'+Dr(t[r])+'"/>';return s+"</mergeCells>"}function kw(t,s,r,a,n){var o=!1,l={},c=null;if(a.bookType!=="xlsx"&&s.vbaraw){var d=s.SheetNames[r];try{s.Workbook&&(d=s.Workbook.Sheets[r].CodeName||d)}catch{}o=!0,l.codeName=il(Jt(d))}if(t&&t["!outline"]){var h={summaryBelow:1,summaryRight:1};t["!outline"].above&&(h.summaryBelow=0),t["!outline"].left&&(h.summaryRight=0),c=(c||"")+Ze("outlinePr",null,h)}!o&&!c||(n[n.length]=Ze("sheetPr",c,l))}var Aw=["objects","scenarios","selectLockedCells","selectUnlockedCells"],_w=["formatColumns","formatRows","formatCells","insertColumns","insertRows","insertHyperlinks","deleteColumns","deleteRows","sort","autoFilter","pivotTables"];function Cw(t){var s={sheet:1};return Aw.forEach(function(r){t[r]!=null&&t[r]&&(s[r]="1")}),_w.forEach(function(r){t[r]!=null&&!t[r]&&(s[r]="0")}),t.password&&(s.password=lx(t.password).toString(16).toUpperCase()),Ze("sheetProtection",null,s)}function Tw(t){return kx(t),Ze("pageMargins",null,t)}function Ew(t,s){for(var r=["<cols>"],a,n=0;n!=s.length;++n)(a=s[n])&&(r[r.length]=Ze("col",null,od(n,a)));return r[r.length]="</cols>",r.join("")}function Pw(t,s,r,a){var n=typeof t.ref=="string"?t.ref:Dr(t.ref);r.Workbook||(r.Workbook={Sheets:[]}),r.Workbook.Names||(r.Workbook.Names=[]);var o=r.Workbook.Names,l=$s(n);l.s.r==l.e.r&&(l.e.r=$s(s["!ref"]).e.r,n=Dr(l));for(var c=0;c<o.length;++c){var d=o[c];if(d.Name=="_xlnm._FilterDatabase"&&d.Sheet==a){d.Ref="'"+r.SheetNames[a]+"'!"+n;break}}return c==o.length&&o.push({Name:"_xlnm._FilterDatabase",Sheet:a,Ref:"'"+r.SheetNames[a]+"'!"+n}),Ze("autoFilter",null,{ref:n})}function Fw(t,s,r,a){var n={workbookViewId:"0"};return(((a||{}).Workbook||{}).Views||[])[0]&&(n.rightToLeft=a.Workbook.Views[0].RTL?"1":"0"),Ze("sheetViews",Ze("sheetView",null,n),{})}function Lw(t,s,r,a){if(t.c&&r["!comments"].push([s,t.c]),t.v===void 0&&typeof t.f!="string"||t.t==="z"&&!t.f)return"";var n="",o=t.t,l=t.v;if(t.t!=="z")switch(t.t){case"b":n=t.v?"1":"0";break;case"n":n=""+t.v;break;case"e":n=fl[t.v];break;case"d":a&&a.cellDates?n=ys(t.v,-1).toISOString():(t=Fs(t),t.t="n",n=""+(t.v=Ps(ys(t.v)))),typeof t.z>"u"&&(t.z=Nr[14]);break;default:n=t.v;break}var c=es("v",Jt(n)),d={r:s},h=Rn(a.cellXfs,t,a);switch(h!==0&&(d.s=h),t.t){case"n":break;case"d":d.t="d";break;case"b":d.t="b";break;case"e":d.t="e";break;case"z":break;default:if(t.v==null){delete t.t;break}if(t.v.length>32767)throw new Error("Text length must not exceed 32767 characters");if(a&&a.bookSST){c=es("v",""+uh(a.Strings,t.v,a.revStrings)),d.t="s";break}d.t="str";break}if(t.t!=o&&(t.t=o,t.v=l),typeof t.f=="string"&&t.f){var u=t.F&&t.F.slice(0,s.length)==s?{t:"array",ref:t.F}:null;c=Ze("f",Jt(t.f),u)+(t.v!=null?c:"")}return t.l&&r["!links"].push([s,t.l]),t.D&&(d.cm=1),Ze("c",c,d)}function Ow(t,s,r,a){var n=[],o=[],l=ur(t["!ref"]),c="",d,h="",u=[],x=0,p=0,m=t["!rows"],y=Array.isArray(t),g={r:h},b,w=-1;for(p=l.s.c;p<=l.e.c;++p)u[p]=us(p);for(x=l.s.r;x<=l.e.r;++x){for(o=[],h=ts(x),p=l.s.c;p<=l.e.c;++p){d=u[p]+h;var N=y?(t[x]||[])[p]:t[d];N!==void 0&&(c=Lw(N,d,t,s))!=null&&o.push(c)}(o.length>0||m&&m[x])&&(g={r:h},m&&m[x]&&(b=m[x],b.hidden&&(g.hidden=1),w=-1,b.hpx?w=$c(b.hpx):b.hpt&&(w=b.hpt),w>-1&&(g.ht=w,g.customHeight=1),b.level&&(g.outlineLevel=b.level)),n[n.length]=Ze("row",o.join(""),g))}if(m)for(;x<m.length;++x)m&&m[x]&&(g={r:x+1},b=m[x],b.hidden&&(g.hidden=1),w=-1,b.hpx?w=$c(b.hpx):b.hpt&&(w=b.hpt),w>-1&&(g.ht=w,g.customHeight=1),b.level&&(g.outlineLevel=b.level),n[n.length]=Ze("row","",g));return n.join("")}function Ax(t,s,r,a){var n=[Ir,Ze("worksheet",null,{xmlns:so[0],"xmlns:r":$r.r})],o=r.SheetNames[t],l=0,c="",d=r.Sheets[o];d==null&&(d={});var h=d["!ref"]||"A1",u=ur(h);if(u.e.c>16383||u.e.r>1048575){if(s.WTF)throw new Error("Range "+h+" exceeds format limit A1:XFD1048576");u.e.c=Math.min(u.e.c,16383),u.e.r=Math.min(u.e.c,1048575),h=Dr(u)}a||(a={}),d["!comments"]=[];var x=[];kw(d,r,t,s,n),n[n.length]=Ze("dimension",null,{ref:h}),n[n.length]=Fw(d,s,t,r),s.sheetFormat&&(n[n.length]=Ze("sheetFormatPr",null,{defaultRowHeight:s.sheetFormat.defaultRowHeight||"16",baseColWidth:s.sheetFormat.baseColWidth||"10",outlineLevelRow:s.sheetFormat.outlineLevelRow||"7"})),d["!cols"]!=null&&d["!cols"].length>0&&(n[n.length]=Ew(d,d["!cols"])),n[l=n.length]="<sheetData/>",d["!links"]=[],d["!ref"]!=null&&(c=Ow(d,s),c.length>0&&(n[n.length]=c)),n.length>l+1&&(n[n.length]="</sheetData>",n[l]=n[l].replace("/>",">")),d["!protect"]&&(n[n.length]=Cw(d["!protect"])),d["!autofilter"]!=null&&(n[n.length]=Pw(d["!autofilter"],d,r,t)),d["!merges"]!=null&&d["!merges"].length>0&&(n[n.length]=Sw(d["!merges"]));var p=-1,m,y=-1;return d["!links"].length>0&&(n[n.length]="<hyperlinks>",d["!links"].forEach(function(g){g[1].Target&&(m={ref:g[0]},g[1].Target.charAt(0)!="#"&&(y=Xt(a,-1,Jt(g[1].Target).replace(/#.*$/,""),Wt.HLINK),m["r:id"]="rId"+y),(p=g[1].Target.indexOf("#"))>-1&&(m.location=Jt(g[1].Target.slice(p+1))),g[1].Tooltip&&(m.tooltip=Jt(g[1].Tooltip)),n[n.length]=Ze("hyperlink",null,m))}),n[n.length]="</hyperlinks>"),delete d["!links"],d["!margins"]!=null&&(n[n.length]=Tw(d["!margins"])),(!s||s.ignoreEC||s.ignoreEC==null)&&(n[n.length]=es("ignoredErrors",Ze("ignoredError",null,{numberStoredAsText:1,sqref:h}))),x.length>0&&(y=Xt(a,-1,"../drawings/drawing"+(t+1)+".xml",Wt.DRAW),n[n.length]=Ze("drawing",null,{"r:id":"rId"+y}),d["!drawing"]=x),d["!comments"].length>0&&(y=Xt(a,-1,"../drawings/vmlDrawing"+(t+1)+".vml",Wt.VML),n[n.length]=Ze("legacyDrawing",null,{"r:id":"rId"+y}),d["!legacy"]=y),n.length>1&&(n[n.length]="</worksheet>",n[1]=n[1].replace("/>",">")),n.join("")}function Dw(t,s){var r={},a=t.l+s;r.r=t.read_shift(4),t.l+=4;var n=t.read_shift(2);t.l+=1;var o=t.read_shift(1);return t.l=a,o&7&&(r.level=o&7),o&16&&(r.hidden=!0),o&32&&(r.hpt=n/20),r}function Iw(t,s,r){var a=Me(145),n=(r["!rows"]||[])[t]||{};a.write_shift(4,t),a.write_shift(4,0);var o=320;n.hpx?o=$c(n.hpx)*20:n.hpt&&(o=n.hpt*20),a.write_shift(2,o),a.write_shift(1,0);var l=0;n.level&&(l|=n.level),n.hidden&&(l|=16),(n.hpx||n.hpt)&&(l|=32),a.write_shift(1,l),a.write_shift(1,0);var c=0,d=a.l;a.l+=4;for(var h={r:t,c:0},u=0;u<16;++u)if(!(s.s.c>u+1<<10||s.e.c<u<<10)){for(var x=-1,p=-1,m=u<<10;m<u+1<<10;++m){h.c=m;var y=Array.isArray(r)?(r[h.r]||[])[h.c]:r[Qt(h)];y&&(x<0&&(x=m),p=m)}x<0||(++c,a.write_shift(4,x),a.write_shift(4,p))}var g=a.l;return a.l=d,a.write_shift(4,c),a.l=g,a.length>a.l?a.slice(0,a.l):a}function Rw(t,s,r,a){var n=Iw(a,r,s);(n.length>17||(s["!rows"]||[])[a])&&qe(t,0,n)}var Mw=fi,Bw=no;function Uw(){}function Hw(t,s){var r={},a=t[t.l];return++t.l,r.above=!(a&64),r.left=!(a&128),t.l+=18,r.name=Jv(t),r}function Ww(t,s,r){r==null&&(r=Me(84+4*t.length));var a=192;s&&(s.above&&(a&=-65),s.left&&(a&=-129)),r.write_shift(1,a);for(var n=1;n<3;++n)r.write_shift(1,0);return Wc({auto:1},r),r.write_shift(-4,-1),r.write_shift(-4,-1),Hm(t,r),r.slice(0,r.l)}function qw(t){var s=na(t);return[s]}function zw(t,s,r){return r==null&&(r=Me(8)),di(s,r)}function Vw(t){var s=hi(t);return[s]}function $w(t,s,r){return r==null&&(r=Me(4)),ui(s,r)}function Gw(t){var s=na(t),r=t.read_shift(1);return[s,r,"b"]}function Yw(t,s,r){return r==null&&(r=Me(9)),di(s,r),r.write_shift(1,t.v?1:0),r}function Kw(t){var s=hi(t),r=t.read_shift(1);return[s,r,"b"]}function Xw(t,s,r){return r==null&&(r=Me(5)),ui(s,r),r.write_shift(1,t.v?1:0),r}function Jw(t){var s=na(t),r=t.read_shift(1);return[s,r,"e"]}function Qw(t,s,r){return r==null&&(r=Me(9)),di(s,r),r.write_shift(1,t.v),r}function Zw(t){var s=hi(t),r=t.read_shift(1);return[s,r,"e"]}function e4(t,s,r){return r==null&&(r=Me(8)),ui(s,r),r.write_shift(1,t.v),r.write_shift(2,0),r.write_shift(1,0),r}function t4(t){var s=na(t),r=t.read_shift(4);return[s,r,"s"]}function r4(t,s,r){return r==null&&(r=Me(12)),di(s,r),r.write_shift(4,s.v),r}function s4(t){var s=hi(t),r=t.read_shift(4);return[s,r,"s"]}function a4(t,s,r){return r==null&&(r=Me(8)),ui(s,r),r.write_shift(4,s.v),r}function n4(t){var s=na(t),r=io(t);return[s,r,"n"]}function i4(t,s,r){return r==null&&(r=Me(16)),di(s,r),ni(t.v,r),r}function o4(t){var s=hi(t),r=io(t);return[s,r,"n"]}function l4(t,s,r){return r==null&&(r=Me(12)),ui(s,r),ni(t.v,r),r}function c4(t){var s=na(t),r=Wm(t);return[s,r,"n"]}function d4(t,s,r){return r==null&&(r=Me(12)),di(s,r),qm(t.v,r),r}function h4(t){var s=hi(t),r=Wm(t);return[s,r,"n"]}function u4(t,s,r){return r==null&&(r=Me(8)),ui(s,r),qm(t.v,r),r}function f4(t){var s=na(t),r=ah(t);return[s,r,"is"]}function m4(t){var s=na(t),r=fs(t);return[s,r,"str"]}function x4(t,s,r){return r==null&&(r=Me(12+4*t.v.length)),di(s,r),Yr(t.v,r),r.length>r.l?r.slice(0,r.l):r}function p4(t){var s=hi(t),r=fs(t);return[s,r,"str"]}function g4(t,s,r){return r==null&&(r=Me(8+4*t.v.length)),ui(s,r),Yr(t.v,r),r.length>r.l?r.slice(0,r.l):r}function v4(t,s,r){var a=t.l+s,n=na(t);n.r=r["!row"];var o=t.read_shift(1),l=[n,o,"b"];if(r.cellFormula){t.l+=2;var c=id(t,a-t.l,r);l[3]=to(c,null,n,r.supbooks,r)}else t.l=a;return l}function y4(t,s,r){var a=t.l+s,n=na(t);n.r=r["!row"];var o=t.read_shift(1),l=[n,o,"e"];if(r.cellFormula){t.l+=2;var c=id(t,a-t.l,r);l[3]=to(c,null,n,r.supbooks,r)}else t.l=a;return l}function b4(t,s,r){var a=t.l+s,n=na(t);n.r=r["!row"];var o=io(t),l=[n,o,"n"];if(r.cellFormula){t.l+=2;var c=id(t,a-t.l,r);l[3]=to(c,null,n,r.supbooks,r)}else t.l=a;return l}function w4(t,s,r){var a=t.l+s,n=na(t);n.r=r["!row"];var o=fs(t),l=[n,o,"str"];if(r.cellFormula){t.l+=2;var c=id(t,a-t.l,r);l[3]=to(c,null,n,r.supbooks,r)}else t.l=a;return l}var N4=fi,j4=no;function S4(t,s){return s==null&&(s=Me(4)),s.write_shift(4,t),s}function k4(t,s){var r=t.l+s,a=fi(t),n=nh(t),o=fs(t),l=fs(t),c=fs(t);t.l=r;var d={rfx:a,relId:n,loc:o,display:c};return l&&(d.Tooltip=l),d}function A4(t,s){var r=Me(50+4*(t[1].Target.length+(t[1].Tooltip||"").length));no({s:Gr(t[0]),e:Gr(t[0])},r),ih("rId"+s,r);var a=t[1].Target.indexOf("#"),n=a==-1?"":t[1].Target.slice(a+1);return Yr(n||"",r),Yr(t[1].Tooltip||"",r),Yr("",r),r.slice(0,r.l)}function _4(){}function C4(t,s,r){var a=t.l+s,n=zm(t),o=t.read_shift(1),l=[n];if(l[2]=o,r.cellFormula){var c=pw(t,a-t.l,r);l[1]=c}else t.l=a;return l}function T4(t,s,r){var a=t.l+s,n=fi(t),o=[n];if(r.cellFormula){var l=vw(t,a-t.l,r);o[1]=l,t.l=a}else t.l=a;return o}function E4(t,s,r){r==null&&(r=Me(18));var a=od(t,s);r.write_shift(-4,t),r.write_shift(-4,t),r.write_shift(4,(a.width||10)*256),r.write_shift(4,0);var n=0;return s.hidden&&(n|=1),typeof a.width=="number"&&(n|=2),s.level&&(n|=s.level<<8),r.write_shift(2,n),r}var _x=["left","right","top","bottom","header","footer"];function P4(t){var s={};return _x.forEach(function(r){s[r]=io(t)}),s}function F4(t,s){return s==null&&(s=Me(6*8)),kx(t),_x.forEach(function(r){ni(t[r],s)}),s}function L4(t){var s=t.read_shift(2);return t.l+=28,{RTL:s&32}}function O4(t,s,r){r==null&&(r=Me(30));var a=924;return(((s||{}).Views||[])[0]||{}).RTL&&(a|=32),r.write_shift(2,a),r.write_shift(4,0),r.write_shift(4,0),r.write_shift(4,0),r.write_shift(1,0),r.write_shift(1,0),r.write_shift(2,0),r.write_shift(2,100),r.write_shift(2,0),r.write_shift(2,0),r.write_shift(2,0),r.write_shift(4,0),r}function D4(t){var s=Me(24);return s.write_shift(4,4),s.write_shift(4,1),no(t,s),s}function I4(t,s){return s==null&&(s=Me(16*4+2)),s.write_shift(2,t.password?lx(t.password):0),s.write_shift(4,1),[["objects",!1],["scenarios",!1],["formatCells",!0],["formatColumns",!0],["formatRows",!0],["insertColumns",!0],["insertRows",!0],["insertHyperlinks",!0],["deleteColumns",!0],["deleteRows",!0],["selectLockedCells",!1],["sort",!0],["autoFilter",!0],["pivotTables",!0],["selectUnlockedCells",!1]].forEach(function(r){r[1]?s.write_shift(4,t[r[0]]!=null&&!t[r[0]]?1:0):s.write_shift(4,t[r[0]]!=null&&t[r[0]]?0:1)}),s}function R4(){}function M4(){}function B4(t,s,r,a,n,o,l){if(s.v===void 0)return!1;var c="";switch(s.t){case"b":c=s.v?"1":"0";break;case"d":s=Fs(s),s.z=s.z||Nr[14],s.v=Ps(ys(s.v)),s.t="n";break;case"n":case"e":c=""+s.v;break;default:c=s.v;break}var d={r,c:a};switch(d.s=Rn(n.cellXfs,s,n),s.l&&o["!links"].push([Qt(d),s.l]),s.c&&o["!comments"].push([Qt(d),s.c]),s.t){case"s":case"str":return n.bookSST?(c=uh(n.Strings,s.v,n.revStrings),d.t="s",d.v=c,l?qe(t,18,a4(s,d)):qe(t,7,r4(s,d))):(d.t="str",l?qe(t,17,g4(s,d)):qe(t,6,x4(s,d))),!0;case"n":return s.v==(s.v|0)&&s.v>-1e3&&s.v<1e3?l?qe(t,13,u4(s,d)):qe(t,2,d4(s,d)):l?qe(t,16,l4(s,d)):qe(t,5,i4(s,d)),!0;case"b":return d.t="b",l?qe(t,15,Xw(s,d)):qe(t,4,Yw(s,d)),!0;case"e":return d.t="e",l?qe(t,14,e4(s,d)):qe(t,3,Qw(s,d)),!0}return l?qe(t,12,$w(s,d)):qe(t,1,zw(s,d)),!0}function U4(t,s,r,a){var n=ur(s["!ref"]||"A1"),o,l="",c=[];qe(t,145);var d=Array.isArray(s),h=n.e.r;s["!rows"]&&(h=Math.max(n.e.r,s["!rows"].length-1));for(var u=n.s.r;u<=h;++u){l=ts(u),Rw(t,s,n,u);var x=!1;if(u<=n.e.r)for(var p=n.s.c;p<=n.e.c;++p){u===n.s.r&&(c[p]=us(p)),o=c[p]+l;var m=d?(s[u]||[])[p]:s[o];if(!m){x=!1;continue}x=B4(t,m,u,p,a,s,x)}}qe(t,146)}function H4(t,s){!s||!s["!merges"]||(qe(t,177,S4(s["!merges"].length)),s["!merges"].forEach(function(r){qe(t,176,j4(r))}),qe(t,178))}function W4(t,s){!s||!s["!cols"]||(qe(t,390),s["!cols"].forEach(function(r,a){r&&qe(t,60,E4(a,r))}),qe(t,391))}function q4(t,s){!s||!s["!ref"]||(qe(t,648),qe(t,649,D4(ur(s["!ref"]))),qe(t,650))}function z4(t,s,r){s["!links"].forEach(function(a){if(a[1].Target){var n=Xt(r,-1,a[1].Target.replace(/#.*$/,""),Wt.HLINK);qe(t,494,A4(a,n))}}),delete s["!links"]}function V4(t,s,r,a){if(s["!comments"].length>0){var n=Xt(a,-1,"../drawings/vmlDrawing"+(r+1)+".vml",Wt.VML);qe(t,551,ih("rId"+n)),s["!legacy"]=n}}function $4(t,s,r,a){if(s["!autofilter"]){var n=s["!autofilter"],o=typeof n.ref=="string"?n.ref:Dr(n.ref);r.Workbook||(r.Workbook={Sheets:[]}),r.Workbook.Names||(r.Workbook.Names=[]);var l=r.Workbook.Names,c=$s(o);c.s.r==c.e.r&&(c.e.r=$s(s["!ref"]).e.r,o=Dr(c));for(var d=0;d<l.length;++d){var h=l[d];if(h.Name=="_xlnm._FilterDatabase"&&h.Sheet==a){h.Ref="'"+r.SheetNames[a]+"'!"+o;break}}d==l.length&&l.push({Name:"_xlnm._FilterDatabase",Sheet:a,Ref:"'"+r.SheetNames[a]+"'!"+o}),qe(t,161,no(ur(o))),qe(t,162)}}function G4(t,s,r){qe(t,133),qe(t,137,O4(s,r)),qe(t,138),qe(t,134)}function Y4(t,s){s["!protect"]&&qe(t,535,I4(s["!protect"]))}function K4(t,s,r,a){var n=Cs(),o=r.SheetNames[t],l=r.Sheets[o]||{},c=o;try{r&&r.Workbook&&(c=r.Workbook.Sheets[t].CodeName||c)}catch{}var d=ur(l["!ref"]||"A1");if(d.e.c>16383||d.e.r>1048575){if(s.WTF)throw new Error("Range "+(l["!ref"]||"A1")+" exceeds format limit A1:XFD1048576");d.e.c=Math.min(d.e.c,16383),d.e.r=Math.min(d.e.c,1048575)}return l["!links"]=[],l["!comments"]=[],qe(n,129),(r.vbaraw||l["!outline"])&&qe(n,147,Ww(c,l["!outline"])),qe(n,148,Bw(d)),G4(n,l,r.Workbook),W4(n,l),U4(n,l,t,s),Y4(n,l),$4(n,l,r,t),H4(n,l),z4(n,l,a),l["!margins"]&&qe(n,476,F4(l["!margins"])),(!s||s.ignoreEC||s.ignoreEC==null)&&q4(n,l),V4(n,l,t,a),qe(n,130),n.end()}function X4(t,s){t.l+=10;var r=fs(t);return{name:r}}var J4=[["allowRefreshQuery",!1,"bool"],["autoCompressPictures",!0,"bool"],["backupFile",!1,"bool"],["checkCompatibility",!1,"bool"],["CodeName",""],["date1904",!1,"bool"],["defaultThemeVersion",0,"int"],["filterPrivacy",!1,"bool"],["hidePivotFieldList",!1,"bool"],["promptedSolutions",!1,"bool"],["publishItems",!1,"bool"],["refreshAllConnections",!1,"bool"],["saveExternalLinkValues",!0,"bool"],["showBorderUnselectedTables",!0,"bool"],["showInkAnnotation",!0,"bool"],["showObjects","all"],["showPivotChartFilter",!1,"bool"],["updateLinks","userSet"]];function Q4(t){return!t.Workbook||!t.Workbook.WBProps?"false":Tv(t.Workbook.WBProps.date1904)?"true":"false"}var Z4="][*?/\\".split("");function Cx(t,s){if(t.length>31)throw new Error("Sheet names cannot exceed 31 chars");var r=!0;return Z4.forEach(function(a){if(t.indexOf(a)!=-1)throw new Error("Sheet name cannot contain : \\ / ? * [ ]")}),r}function eN(t,s,r){t.forEach(function(a,n){Cx(a);for(var o=0;o<n;++o)if(a==t[o])throw new Error("Duplicate Sheet Name: "+a);if(r){var l=s&&s[n]&&s[n].CodeName||a;if(l.charCodeAt(0)==95&&l.length>22)throw new Error("Bad Code Name: Worksheet"+l)}})}function tN(t){if(!t||!t.SheetNames||!t.Sheets)throw new Error("Invalid Workbook");if(!t.SheetNames.length)throw new Error("Workbook is empty");var s=t.Workbook&&t.Workbook.Sheets||[];eN(t.SheetNames,s,!!t.vbaraw);for(var r=0;r<t.SheetNames.length;++r)jw(t.Sheets[t.SheetNames[r]],t.SheetNames[r],r)}function Tx(t){var s=[Ir];s[s.length]=Ze("workbook",null,{xmlns:so[0],"xmlns:r":$r.r});var r=t.Workbook&&(t.Workbook.Names||[]).length>0,a={codeName:"ThisWorkbook"};t.Workbook&&t.Workbook.WBProps&&(J4.forEach(function(c){t.Workbook.WBProps[c[0]]!=null&&t.Workbook.WBProps[c[0]]!=c[1]&&(a[c[0]]=t.Workbook.WBProps[c[0]])}),t.Workbook.WBProps.CodeName&&(a.codeName=t.Workbook.WBProps.CodeName,delete a.CodeName)),s[s.length]=Ze("workbookPr",null,a);var n=t.Workbook&&t.Workbook.Sheets||[],o=0;if(n&&n[0]&&n[0].Hidden){for(s[s.length]="<bookViews>",o=0;o!=t.SheetNames.length&&!(!n[o]||!n[o].Hidden);++o);o==t.SheetNames.length&&(o=0),s[s.length]='<workbookView firstSheet="'+o+'" activeTab="'+o+'"/>',s[s.length]="</bookViews>"}for(s[s.length]="<sheets>",o=0;o!=t.SheetNames.length;++o){var l={name:Jt(t.SheetNames[o].slice(0,31))};if(l.sheetId=""+(o+1),l["r:id"]="rId"+(o+1),n[o])switch(n[o].Hidden){case 1:l.state="hidden";break;case 2:l.state="veryHidden";break}s[s.length]=Ze("sheet",null,l)}return s[s.length]="</sheets>",r&&(s[s.length]="<definedNames>",t.Workbook&&t.Workbook.Names&&t.Workbook.Names.forEach(function(c){var d={name:c.Name};c.Comment&&(d.comment=c.Comment),c.Sheet!=null&&(d.localSheetId=""+c.Sheet),c.Hidden&&(d.hidden="1"),c.Ref&&(s[s.length]=Ze("definedName",Jt(c.Ref),d))}),s[s.length]="</definedNames>"),s.length>2&&(s[s.length]="</workbook>",s[1]=s[1].replace("/>",">")),s.join("")}function rN(t,s){var r={};return r.Hidden=t.read_shift(4),r.iTabID=t.read_shift(4),r.strRelID=I0(t),r.name=fs(t),r}function sN(t,s){return s||(s=Me(127)),s.write_shift(4,t.Hidden),s.write_shift(4,t.iTabID),ih(t.strRelID,s),Yr(t.name.slice(0,31),s),s.length>s.l?s.slice(0,s.l):s}function aN(t,s){var r={},a=t.read_shift(4);r.defaultThemeVersion=t.read_shift(4);var n=s>8?fs(t):"";return n.length>0&&(r.CodeName=n),r.autoCompressPictures=!!(a&65536),r.backupFile=!!(a&64),r.checkCompatibility=!!(a&4096),r.date1904=!!(a&1),r.filterPrivacy=!!(a&8),r.hidePivotFieldList=!!(a&1024),r.promptedSolutions=!!(a&16),r.publishItems=!!(a&2048),r.refreshAllConnections=!!(a&262144),r.saveExternalLinkValues=!!(a&128),r.showBorderUnselectedTables=!!(a&4),r.showInkAnnotation=!!(a&32),r.showObjects=["all","placeholders","none"][a>>13&3],r.showPivotChartFilter=!!(a&32768),r.updateLinks=["userSet","never","always"][a>>8&3],r}function nN(t,s){s||(s=Me(72));var r=0;return t&&t.filterPrivacy&&(r|=8),s.write_shift(4,r),s.write_shift(4,0),Hm(t&&t.CodeName||"ThisWorkbook",s),s.slice(0,s.l)}function iN(t,s,r){var a=t.l+s;t.l+=4,t.l+=1;var n=t.read_shift(4),o=Qv(t),l=gw(t,0,r),c=nh(t);t.l=a;var d={Name:o,Ptg:l};return n<268435455&&(d.Sheet=n),c&&(d.Comment=c),d}function oN(t,s){qe(t,143);for(var r=0;r!=s.SheetNames.length;++r){var a=s.Workbook&&s.Workbook.Sheets&&s.Workbook.Sheets[r]&&s.Workbook.Sheets[r].Hidden||0,n={Hidden:a,iTabID:r+1,strRelID:"rId"+(r+1),name:s.SheetNames[r]};qe(t,156,sN(n))}qe(t,144)}function lN(t,s){s||(s=Me(127));for(var r=0;r!=4;++r)s.write_shift(4,0);return Yr("SheetJS",s),Yr(Oc.version,s),Yr(Oc.version,s),Yr("7262",s),s.length>s.l?s.slice(0,s.l):s}function cN(t,s){s||(s=Me(29)),s.write_shift(-4,0),s.write_shift(-4,460),s.write_shift(4,28800),s.write_shift(4,17600),s.write_shift(4,500),s.write_shift(4,t),s.write_shift(4,t);var r=120;return s.write_shift(1,r),s.length>s.l?s.slice(0,s.l):s}function dN(t,s){if(!(!s.Workbook||!s.Workbook.Sheets)){for(var r=s.Workbook.Sheets,a=0,n=-1,o=-1;a<r.length;++a)!r[a]||!r[a].Hidden&&n==-1?n=a:r[a].Hidden==1&&o==-1&&(o=a);o>n||(qe(t,135),qe(t,158,cN(n)),qe(t,136))}}function hN(t,s){var r=Cs();return qe(r,131),qe(r,128,lN()),qe(r,153,nN(t.Workbook&&t.Workbook.WBProps||null)),dN(r,t),oN(r,t),qe(r,132),r.end()}function uN(t,s,r){return(s.slice(-4)===".bin"?hN:Tx)(t)}function fN(t,s,r,a,n){return(s.slice(-4)===".bin"?K4:Ax)(t,r,a,n)}function mN(t,s,r){return(s.slice(-4)===".bin"?Fb:hx)(t,r)}function xN(t,s,r){return(s.slice(-4)===".bin"?nb:ox)(t,r)}function pN(t,s,r){return(s.slice(-4)===".bin"?Yb:px)(t)}function gN(t){return(t.slice(-4)===".bin"?Ub:mx)()}function vN(t,s){var r=[];return t.Props&&r.push(my(t.Props,s)),t.Custprops&&r.push(xy(t.Props,t.Custprops)),r.join("")}function yN(){return""}function bN(t,s){var r=['<Style ss:ID="Default" ss:Name="Normal"><NumberFormat/></Style>'];return s.cellXfs.forEach(function(a,n){var o=[];o.push(Ze("NumberFormat",null,{"ss:Format":Jt(Nr[a.numFmtId])}));var l={"ss:ID":"s"+(21+n)};r.push(Ze("Style",o.join(""),l))}),Ze("Styles",r.join(""))}function Ex(t){return Ze("NamedRange",null,{"ss:Name":t.Name,"ss:RefersTo":"="+dh(t.Ref,{r:0,c:0})})}function wN(t){if(!((t||{}).Workbook||{}).Names)return"";for(var s=t.Workbook.Names,r=[],a=0;a<s.length;++a){var n=s[a];n.Sheet==null&&(n.Name.match(/^_xlfn\./)||r.push(Ex(n)))}return Ze("Names",r.join(""))}function NN(t,s,r,a){if(!t||!((a||{}).Workbook||{}).Names)return"";for(var n=a.Workbook.Names,o=[],l=0;l<n.length;++l){var c=n[l];c.Sheet==r&&(c.Name.match(/^_xlfn\./)||o.push(Ex(c)))}return o.join("")}function jN(t,s,r,a){if(!t)return"";var n=[];if(t["!margins"]&&(n.push("<PageSetup>"),t["!margins"].header&&n.push(Ze("Header",null,{"x:Margin":t["!margins"].header})),t["!margins"].footer&&n.push(Ze("Footer",null,{"x:Margin":t["!margins"].footer})),n.push(Ze("PageMargins",null,{"x:Bottom":t["!margins"].bottom||"0.75","x:Left":t["!margins"].left||"0.7","x:Right":t["!margins"].right||"0.7","x:Top":t["!margins"].top||"0.75"})),n.push("</PageSetup>")),a&&a.Workbook&&a.Workbook.Sheets&&a.Workbook.Sheets[r])if(a.Workbook.Sheets[r].Hidden)n.push(Ze("Visible",a.Workbook.Sheets[r].Hidden==1?"SheetHidden":"SheetVeryHidden",{}));else{for(var o=0;o<r&&!(a.Workbook.Sheets[o]&&!a.Workbook.Sheets[o].Hidden);++o);o==r&&n.push("<Selected/>")}return((((a||{}).Workbook||{}).Views||[])[0]||{}).RTL&&n.push("<DisplayRightToLeft/>"),t["!protect"]&&(n.push(es("ProtectContents","True")),t["!protect"].objects&&n.push(es("ProtectObjects","True")),t["!protect"].scenarios&&n.push(es("ProtectScenarios","True")),t["!protect"].selectLockedCells!=null&&!t["!protect"].selectLockedCells?n.push(es("EnableSelection","NoSelection")):t["!protect"].selectUnlockedCells!=null&&!t["!protect"].selectUnlockedCells&&n.push(es("EnableSelection","UnlockedCells")),[["formatCells","AllowFormatCells"],["formatColumns","AllowSizeCols"],["formatRows","AllowSizeRows"],["insertColumns","AllowInsertCols"],["insertRows","AllowInsertRows"],["insertHyperlinks","AllowInsertHyperlinks"],["deleteColumns","AllowDeleteCols"],["deleteRows","AllowDeleteRows"],["sort","AllowSort"],["autoFilter","AllowFilter"],["pivotTables","AllowUsePivotTables"]].forEach(function(l){t["!protect"][l[0]]&&n.push("<"+l[1]+"/>")})),n.length==0?"":Ze("WorksheetOptions",n.join(""),{xmlns:qs.x})}function SN(t){return t.map(function(s){var r=Cv(s.t||""),a=Ze("ss:Data",r,{xmlns:"http://www.w3.org/TR/REC-html40"});return Ze("Comment",a,{"ss:Author":s.a})}).join("")}function kN(t,s,r,a,n,o,l){if(!t||t.v==null&&t.f==null)return"";var c={};if(t.f&&(c["ss:Formula"]="="+Jt(dh(t.f,l))),t.F&&t.F.slice(0,s.length)==s){var d=Gr(t.F.slice(s.length+1));c["ss:ArrayRange"]="RC:R"+(d.r==l.r?"":"["+(d.r-l.r)+"]")+"C"+(d.c==l.c?"":"["+(d.c-l.c)+"]")}if(t.l&&t.l.Target&&(c["ss:HRef"]=Jt(t.l.Target),t.l.Tooltip&&(c["x:HRefScreenTip"]=Jt(t.l.Tooltip))),r["!merges"])for(var h=r["!merges"],u=0;u!=h.length;++u)h[u].s.c!=l.c||h[u].s.r!=l.r||(h[u].e.c>h[u].s.c&&(c["ss:MergeAcross"]=h[u].e.c-h[u].s.c),h[u].e.r>h[u].s.r&&(c["ss:MergeDown"]=h[u].e.r-h[u].s.r));var x="",p="";switch(t.t){case"z":if(!a.sheetStubs)return"";break;case"n":x="Number",p=String(t.v);break;case"b":x="Boolean",p=t.v?"1":"0";break;case"e":x="Error",p=fl[t.v];break;case"d":x="DateTime",p=new Date(t.v).toISOString(),t.z==null&&(t.z=t.z||Nr[14]);break;case"s":x="String",p=_v(t.v||"");break}var m=Rn(a.cellXfs,t,a);c["ss:StyleID"]="s"+(21+m),c["ss:Index"]=l.c+1;var y=t.v!=null?p:"",g=t.t=="z"?"":'<Data ss:Type="'+x+'">'+y+"</Data>";return(t.c||[]).length>0&&(g+=SN(t.c)),Ze("Cell",g,c)}function AN(t,s){var r='<Row ss:Index="'+(t+1)+'"';return s&&(s.hpt&&!s.hpx&&(s.hpx=dx(s.hpt)),s.hpx&&(r+=' ss:AutoFitHeight="0" ss:Height="'+s.hpx+'"'),s.hidden&&(r+=' ss:Hidden="1"')),r+">"}function _N(t,s,r,a){if(!t["!ref"])return"";var n=ur(t["!ref"]),o=t["!merges"]||[],l=0,c=[];t["!cols"]&&t["!cols"].forEach(function(b,w){lh(b);var N=!!b.width,j=od(w,b),k={"ss:Index":w+1};N&&(k["ss:Width"]=zc(j.width)),b.hidden&&(k["ss:Hidden"]="1"),c.push(Ze("Column",null,k))});for(var d=Array.isArray(t),h=n.s.r;h<=n.e.r;++h){for(var u=[AN(h,(t["!rows"]||[])[h])],x=n.s.c;x<=n.e.c;++x){var p=!1;for(l=0;l!=o.length;++l)if(!(o[l].s.c>x)&&!(o[l].s.r>h)&&!(o[l].e.c<x)&&!(o[l].e.r<h)){(o[l].s.c!=x||o[l].s.r!=h)&&(p=!0);break}if(!p){var m={r:h,c:x},y=Qt(m),g=d?(t[h]||[])[x]:t[y];u.push(kN(g,y,t,s,r,a,m))}}u.push("</Row>"),u.length>2&&c.push(u.join(""))}return c.join("")}function CN(t,s,r){var a=[],n=r.SheetNames[t],o=r.Sheets[n],l=o?NN(o,s,t,r):"";return l.length>0&&a.push("<Names>"+l+"</Names>"),l=o?_N(o,s,t,r):"",l.length>0&&a.push("<Table>"+l+"</Table>"),a.push(jN(o,s,t,r)),a.join("")}function TN(t,s){s||(s={}),t.SSF||(t.SSF=Fs(Nr)),t.SSF&&(rd(),td(t.SSF),s.revssf=sd(t.SSF),s.revssf[t.SSF[65535]]=0,s.ssf=t.SSF,s.cellXfs=[],Rn(s.cellXfs,{},{revssf:{General:0}}));var r=[];r.push(vN(t,s)),r.push(yN()),r.push(""),r.push("");for(var a=0;a<t.SheetNames.length;++a)r.push(Ze("Worksheet",CN(a,s,t),{"ss:Name":Jt(t.SheetNames[a])}));return r[2]=bN(t,s),r[3]=wN(t),Ir+Ze("Workbook",r.join(""),{xmlns:qs.ss,"xmlns:o":qs.o,"xmlns:x":qs.x,"xmlns:ss":qs.ss,"xmlns:dt":qs.dt,"xmlns:html":qs.html})}var u0={SI:"e0859ff2f94f6810ab9108002b27b3d9",DSI:"02d5cdd59c2e1b10939708002b2cf9ae",UDI:"05d5cdd59c2e1b10939708002b2cf9ae"};function EN(t,s){var r=[],a=[],n=[],o=0,l,c=Ou(Gu,"n"),d=Ou(Yu,"n");if(t.Props)for(l=rs(t.Props),o=0;o<l.length;++o)(Object.prototype.hasOwnProperty.call(c,l[o])?r:Object.prototype.hasOwnProperty.call(d,l[o])?a:n).push([l[o],t.Props[l[o]]]);if(t.Custprops)for(l=rs(t.Custprops),o=0;o<l.length;++o)Object.prototype.hasOwnProperty.call(t.Props||{},l[o])||(Object.prototype.hasOwnProperty.call(c,l[o])?r:Object.prototype.hasOwnProperty.call(d,l[o])?a:n).push([l[o],t.Custprops[l[o]]]);var h=[];for(o=0;o<n.length;++o)ex.indexOf(n[o][0])>-1||Jm.indexOf(n[o][0])>-1||n[o][1]!=null&&h.push(n[o]);a.length&&rr.utils.cfb_add(s,"/SummaryInformation",Zu(a,u0.SI,d,Yu)),(r.length||h.length)&&rr.utils.cfb_add(s,"/DocumentSummaryInformation",Zu(r,u0.DSI,c,Gu,h.length?h:null,u0.UDI))}function PN(t,s){var r=s||{},a=rr.utils.cfb_new({root:"R"}),n="/Workbook";switch(r.bookType||"xls"){case"xls":r.bookType="biff8";case"xla":r.bookType||(r.bookType="xla");case"biff8":n="/Workbook",r.biff=8;break;case"biff5":n="/Book",r.biff=5;break;default:throw new Error("invalid type "+r.bookType+" for XLS CFB")}return rr.utils.cfb_add(a,n,Px(t,r)),r.biff==8&&(t.Props||t.Custprops)&&EN(t,a),r.biff==8&&t.vbaraw&&Kb(a,rr.read(t.vbaraw,{type:typeof t.vbaraw=="string"?"binary":"buffer"})),a}var FN={0:{f:Dw},1:{f:qw},2:{f:c4},3:{f:Jw},4:{f:Gw},5:{f:n4},6:{f:m4},7:{f:t4},8:{f:w4},9:{f:b4},10:{f:v4},11:{f:y4},12:{f:Vw},13:{f:h4},14:{f:Zw},15:{f:Kw},16:{f:o4},17:{f:p4},18:{f:s4},19:{f:ah},20:{},21:{},22:{},23:{},24:{},25:{},26:{},27:{},28:{},29:{},30:{},31:{},32:{},33:{},34:{},35:{T:1},36:{T:-1},37:{T:1},38:{T:-1},39:{f:iN},40:{},42:{},43:{f:mb},44:{f:ub},45:{f:gb},46:{f:yb},47:{f:vb},48:{},49:{f:Vv},50:{},51:{f:Db},52:{T:1},53:{T:-1},54:{T:1},55:{T:-1},56:{T:1},57:{T:-1},58:{},59:{},60:{f:$y},62:{f:f4},63:{f:Hb},64:{f:R4},65:{},66:{},67:{},68:{},69:{},70:{},128:{},129:{T:1},130:{T:-1},131:{T:1,f:Ba,p:0},132:{T:-1},133:{T:1},134:{T:-1},135:{T:1},136:{T:-1},137:{T:1,f:L4},138:{T:-1},139:{T:1},140:{T:-1},141:{T:1},142:{T:-1},143:{T:1},144:{T:-1},145:{T:1},146:{T:-1},147:{f:Hw},148:{f:Mw,p:16},151:{f:_4},152:{},153:{f:aN},154:{},155:{},156:{f:rN},157:{},158:{},159:{T:1,f:rb},160:{T:-1},161:{T:1,f:fi},162:{T:-1},163:{T:1},164:{T:-1},165:{T:1},166:{T:-1},167:{},168:{},169:{},170:{},171:{},172:{T:1},173:{T:-1},174:{},175:{},176:{f:N4},177:{T:1},178:{T:-1},179:{T:1},180:{T:-1},181:{T:1},182:{T:-1},183:{T:1},184:{T:-1},185:{T:1},186:{T:-1},187:{T:1},188:{T:-1},189:{T:1},190:{T:-1},191:{T:1},192:{T:-1},193:{T:1},194:{T:-1},195:{T:1},196:{T:-1},197:{T:1},198:{T:-1},199:{T:1},200:{T:-1},201:{T:1},202:{T:-1},203:{T:1},204:{T:-1},205:{T:1},206:{T:-1},207:{T:1},208:{T:-1},209:{T:1},210:{T:-1},211:{T:1},212:{T:-1},213:{T:1},214:{T:-1},215:{T:1},216:{T:-1},217:{T:1},218:{T:-1},219:{T:1},220:{T:-1},221:{T:1},222:{T:-1},223:{T:1},224:{T:-1},225:{T:1},226:{T:-1},227:{T:1},228:{T:-1},229:{T:1},230:{T:-1},231:{T:1},232:{T:-1},233:{T:1},234:{T:-1},235:{T:1},236:{T:-1},237:{T:1},238:{T:-1},239:{T:1},240:{T:-1},241:{T:1},242:{T:-1},243:{T:1},244:{T:-1},245:{T:1},246:{T:-1},247:{T:1},248:{T:-1},249:{T:1},250:{T:-1},251:{T:1},252:{T:-1},253:{T:1},254:{T:-1},255:{T:1},256:{T:-1},257:{T:1},258:{T:-1},259:{T:1},260:{T:-1},261:{T:1},262:{T:-1},263:{T:1},264:{T:-1},265:{T:1},266:{T:-1},267:{T:1},268:{T:-1},269:{T:1},270:{T:-1},271:{T:1},272:{T:-1},273:{T:1},274:{T:-1},275:{T:1},276:{T:-1},277:{},278:{T:1},279:{T:-1},280:{T:1},281:{T:-1},282:{T:1},283:{T:1},284:{T:-1},285:{T:1},286:{T:-1},287:{T:1},288:{T:-1},289:{T:1},290:{T:-1},291:{T:1},292:{T:-1},293:{T:1},294:{T:-1},295:{T:1},296:{T:-1},297:{T:1},298:{T:-1},299:{T:1},300:{T:-1},301:{T:1},302:{T:-1},303:{T:1},304:{T:-1},305:{T:1},306:{T:-1},307:{T:1},308:{T:-1},309:{T:1},310:{T:-1},311:{T:1},312:{T:-1},313:{T:-1},314:{T:1},315:{T:-1},316:{T:1},317:{T:-1},318:{T:1},319:{T:-1},320:{T:1},321:{T:-1},322:{T:1},323:{T:-1},324:{T:1},325:{T:-1},326:{T:1},327:{T:-1},328:{T:1},329:{T:-1},330:{T:1},331:{T:-1},332:{T:1},333:{T:-1},334:{T:1},335:{f:Lb},336:{T:-1},337:{f:Mb,T:1},338:{T:-1},339:{T:1},340:{T:-1},341:{T:1},342:{T:-1},343:{T:1},344:{T:-1},345:{T:1},346:{T:-1},347:{T:1},348:{T:-1},349:{T:1},350:{T:-1},351:{},352:{},353:{T:1},354:{T:-1},355:{f:I0},357:{},358:{},359:{},360:{T:1},361:{},362:{f:Uy},363:{},364:{},366:{},367:{},368:{},369:{},370:{},371:{},372:{T:1},373:{T:-1},374:{T:1},375:{T:-1},376:{T:1},377:{T:-1},378:{T:1},379:{T:-1},380:{T:1},381:{T:-1},382:{T:1},383:{T:-1},384:{T:1},385:{T:-1},386:{T:1},387:{T:-1},388:{T:1},389:{T:-1},390:{T:1},391:{T:-1},392:{T:1},393:{T:-1},394:{T:1},395:{T:-1},396:{},397:{},398:{},399:{},400:{},401:{T:1},403:{},404:{},405:{},406:{},407:{},408:{},409:{},410:{},411:{},412:{},413:{},414:{},415:{},416:{},417:{},418:{},419:{},420:{},421:{},422:{T:1},423:{T:1},424:{T:-1},425:{T:-1},426:{f:C4},427:{f:T4},428:{},429:{T:1},430:{T:-1},431:{T:1},432:{T:-1},433:{T:1},434:{T:-1},435:{T:1},436:{T:-1},437:{T:1},438:{T:-1},439:{T:1},440:{T:-1},441:{T:1},442:{T:-1},443:{T:1},444:{T:-1},445:{T:1},446:{T:-1},447:{T:1},448:{T:-1},449:{T:1},450:{T:-1},451:{T:1},452:{T:-1},453:{T:1},454:{T:-1},455:{T:1},456:{T:-1},457:{T:1},458:{T:-1},459:{T:1},460:{T:-1},461:{T:1},462:{T:-1},463:{T:1},464:{T:-1},465:{T:1},466:{T:-1},467:{T:1},468:{T:-1},469:{T:1},470:{T:-1},471:{},472:{},473:{T:1},474:{T:-1},475:{},476:{f:P4},477:{},478:{},479:{T:1},480:{T:-1},481:{T:1},482:{T:-1},483:{T:1},484:{T:-1},485:{f:Uw},486:{T:1},487:{T:-1},488:{T:1},489:{T:-1},490:{T:1},491:{T:-1},492:{T:1},493:{T:-1},494:{f:k4},495:{T:1},496:{T:-1},497:{T:1},498:{T:-1},499:{},500:{T:1},501:{T:-1},502:{T:1},503:{T:-1},504:{},505:{T:1},506:{T:-1},507:{},508:{T:1},509:{T:-1},510:{T:1},511:{T:-1},512:{},513:{},514:{T:1},515:{T:-1},516:{T:1},517:{T:-1},518:{T:1},519:{T:-1},520:{T:1},521:{T:-1},522:{},523:{},524:{},525:{},526:{},527:{},528:{T:1},529:{T:-1},530:{T:1},531:{T:-1},532:{T:1},533:{T:-1},534:{},535:{},536:{},537:{},538:{T:1},539:{T:-1},540:{T:1},541:{T:-1},542:{T:1},548:{},549:{},550:{f:I0},551:{},552:{},553:{},554:{T:1},555:{T:-1},556:{T:1},557:{T:-1},558:{T:1},559:{T:-1},560:{T:1},561:{T:-1},562:{},564:{},565:{T:1},566:{T:-1},569:{T:1},570:{T:-1},572:{},573:{T:1},574:{T:-1},577:{},578:{},579:{},580:{},581:{},582:{},583:{},584:{},585:{},586:{},587:{},588:{T:-1},589:{},590:{T:1},591:{T:-1},592:{T:1},593:{T:-1},594:{T:1},595:{T:-1},596:{},597:{T:1},598:{T:-1},599:{T:1},600:{T:-1},601:{T:1},602:{T:-1},603:{T:1},604:{T:-1},605:{T:1},606:{T:-1},607:{},608:{T:1},609:{T:-1},610:{},611:{T:1},612:{T:-1},613:{T:1},614:{T:-1},615:{T:1},616:{T:-1},617:{T:1},618:{T:-1},619:{T:1},620:{T:-1},625:{},626:{T:1},627:{T:-1},628:{T:1},629:{T:-1},630:{T:1},631:{T:-1},632:{f:$b},633:{T:1},634:{T:-1},635:{T:1,f:zb},636:{T:-1},637:{f:Kv},638:{T:1},639:{},640:{T:-1},641:{T:1},642:{T:-1},643:{T:1},644:{},645:{T:-1},646:{T:1},648:{T:1},649:{},650:{T:-1},651:{f:X4},652:{},653:{T:1},654:{T:-1},655:{T:1},656:{T:-1},657:{T:1},658:{T:-1},659:{},660:{T:1},661:{},662:{T:-1},663:{},664:{T:1},665:{},666:{T:-1},667:{},668:{},669:{},671:{T:1},672:{T:-1},673:{T:1},674:{T:-1},675:{},676:{},677:{},678:{},679:{},680:{},681:{},1024:{},1025:{},1026:{T:1},1027:{T:-1},1028:{T:1},1029:{T:-1},1030:{},1031:{T:1},1032:{T:-1},1033:{T:1},1034:{T:-1},1035:{},1036:{},1037:{},1038:{T:1},1039:{T:-1},1040:{},1041:{T:1},1042:{T:-1},1043:{},1044:{},1045:{},1046:{T:1},1047:{T:-1},1048:{T:1},1049:{T:-1},1050:{},1051:{T:1},1052:{T:1},1053:{f:M4},1054:{T:1},1055:{},1056:{T:1},1057:{T:-1},1058:{T:1},1059:{T:-1},1061:{},1062:{T:1},1063:{T:-1},1064:{T:1},1065:{T:-1},1066:{T:1},1067:{T:-1},1068:{T:1},1069:{T:-1},1070:{T:1},1071:{T:-1},1072:{T:1},1073:{T:-1},1075:{T:1},1076:{T:-1},1077:{T:1},1078:{T:-1},1079:{T:1},1080:{T:-1},1081:{T:1},1082:{T:-1},1083:{T:1},1084:{T:-1},1085:{},1086:{T:1},1087:{T:-1},1088:{T:1},1089:{T:-1},1090:{T:1},1091:{T:-1},1092:{T:1},1093:{T:-1},1094:{T:1},1095:{T:-1},1096:{},1097:{T:1},1098:{},1099:{T:-1},1100:{T:1},1101:{T:-1},1102:{},1103:{},1104:{},1105:{},1111:{},1112:{},1113:{T:1},1114:{T:-1},1115:{T:1},1116:{T:-1},1117:{},1118:{T:1},1119:{T:-1},1120:{T:1},1121:{T:-1},1122:{T:1},1123:{T:-1},1124:{T:1},1125:{T:-1},1126:{},1128:{T:1},1129:{T:-1},1130:{},1131:{T:1},1132:{T:-1},1133:{T:1},1134:{T:-1},1135:{T:1},1136:{T:-1},1137:{T:1},1138:{T:-1},1139:{T:1},1140:{T:-1},1141:{},1142:{T:1},1143:{T:-1},1144:{T:1},1145:{T:-1},1146:{},1147:{T:1},1148:{T:-1},1149:{T:1},1150:{T:-1},1152:{T:1},1153:{T:-1},1154:{T:-1},1155:{T:-1},1156:{T:-1},1157:{T:1},1158:{T:-1},1159:{T:1},1160:{T:-1},1161:{T:1},1162:{T:-1},1163:{T:1},1164:{T:-1},1165:{T:1},1166:{T:-1},1167:{T:1},1168:{T:-1},1169:{T:1},1170:{T:-1},1171:{},1172:{T:1},1173:{T:-1},1177:{},1178:{T:1},1180:{},1181:{},1182:{},2048:{T:1},2049:{T:-1},2050:{},2051:{T:1},2052:{T:-1},2053:{},2054:{},2055:{T:1},2056:{T:-1},2057:{T:1},2058:{T:-1},2060:{},2067:{},2068:{T:1},2069:{T:-1},2070:{},2071:{},2072:{T:1},2073:{T:-1},2075:{},2076:{},2077:{T:1},2078:{T:-1},2079:{},2080:{T:1},2081:{T:-1},2082:{},2083:{T:1},2084:{T:-1},2085:{T:1},2086:{T:-1},2087:{T:1},2088:{T:-1},2089:{T:1},2090:{T:-1},2091:{},2092:{},2093:{T:1},2094:{T:-1},2095:{},2096:{T:1},2097:{T:-1},2098:{T:1},2099:{T:-1},2100:{T:1},2101:{T:-1},2102:{},2103:{T:1},2104:{T:-1},2105:{},2106:{T:1},2107:{T:-1},2108:{},2109:{T:1},2110:{T:-1},2111:{T:1},2112:{T:-1},2113:{T:1},2114:{T:-1},2115:{},2116:{},2117:{},2118:{T:1},2119:{T:-1},2120:{},2121:{T:1},2122:{T:-1},2123:{T:1},2124:{T:-1},2125:{},2126:{T:1},2127:{T:-1},2128:{},2129:{T:1},2130:{T:-1},2131:{T:1},2132:{T:-1},2133:{T:1},2134:{},2135:{},2136:{},2137:{T:1},2138:{T:-1},2139:{T:1},2140:{T:-1},2141:{},3072:{},3073:{},4096:{T:1},4097:{T:-1},5002:{T:1},5003:{T:-1},5081:{T:1},5082:{T:-1},5083:{},5084:{T:1},5085:{T:-1},5086:{T:1},5087:{T:-1},5088:{},5089:{},5090:{},5092:{T:1},5093:{T:-1},5094:{},5095:{T:1},5096:{T:-1},5097:{},5099:{},65535:{n:""}};function et(t,s,r,a){var n=s;if(!isNaN(n)){var o=a||(r||[]).length||0,l=t.next(4);l.write_shift(2,n),l.write_shift(2,o),o>0&&th(r)&&t.push(r)}}function LN(t,s,r,a){var n=(r||[]).length||0;if(n<=8224)return et(t,s,r,n);var o=s;if(!isNaN(o)){for(var l=r.parts||[],c=0,d=0,h=0;h+(l[c]||8224)<=8224;)h+=l[c]||8224,c++;var u=t.next(4);for(u.write_shift(2,o),u.write_shift(2,h),t.push(r.slice(d,d+h)),d+=h;d<n;){for(u=t.next(4),u.write_shift(2,60),h=0;h+(l[c]||8224)<=8224;)h+=l[c]||8224,c++;u.write_shift(2,h),t.push(r.slice(d,d+h)),d+=h}}}function xl(t,s,r){return t||(t=Me(7)),t.write_shift(2,s),t.write_shift(2,r),t.write_shift(2,0),t.write_shift(1,0),t}function ON(t,s,r,a){var n=Me(9);return xl(n,t,s),rx(r,a||"b",n),n}function DN(t,s,r){var a=Me(8+2*r.length);return xl(a,t,s),a.write_shift(1,r.length),a.write_shift(r.length,r,"sbcs"),a.l<a.length?a.slice(0,a.l):a}function IN(t,s,r,a){if(s.v!=null)switch(s.t){case"d":case"n":var n=s.t=="d"?Ps(ys(s.v)):s.v;n==(n|0)&&n>=0&&n<65536?et(t,2,Xy(r,a,n)):et(t,3,Ky(r,a,n));return;case"b":case"e":et(t,5,ON(r,a,s.v,s.t));return;case"s":case"str":et(t,4,DN(r,a,(s.v||"").slice(0,255)));return}et(t,1,xl(null,r,a))}function RN(t,s,r,a){var n=Array.isArray(s),o=ur(s["!ref"]||"A1"),l,c="",d=[];if(o.e.c>255||o.e.r>16383){if(a.WTF)throw new Error("Range "+(s["!ref"]||"A1")+" exceeds format limit A1:IV16384");o.e.c=Math.min(o.e.c,255),o.e.r=Math.min(o.e.c,16383),l=Dr(o)}for(var h=o.s.r;h<=o.e.r;++h){c=ts(h);for(var u=o.s.c;u<=o.e.c;++u){h===o.s.r&&(d[u]=us(u)),l=d[u]+c;var x=n?(s[h]||[])[u]:s[l];x&&IN(t,x,h,u)}}}function MN(t,s){for(var r=s||{},a=Cs(),n=0,o=0;o<t.SheetNames.length;++o)t.SheetNames[o]==r.sheet&&(n=o);if(n==0&&r.sheet&&t.SheetNames[0]!=r.sheet)throw new Error("Sheet not found: "+r.sheet);return et(a,r.biff==4?1033:r.biff==3?521:9,oh(t,16,r)),RN(a,t.Sheets[t.SheetNames[n]],n,r),et(a,10),a.end()}function BN(t,s,r){et(t,49,Fy({sz:12,name:"Arial"},r))}function UN(t,s,r){s&&[[5,8],[23,26],[41,44],[50,392]].forEach(function(a){for(var n=a[0];n<=a[1];++n)s[n]!=null&&et(t,1054,Dy(n,s[n],r))})}function HN(t,s){var r=Me(19);r.write_shift(4,2151),r.write_shift(4,0),r.write_shift(4,0),r.write_shift(2,3),r.write_shift(1,1),r.write_shift(4,0),et(t,2151,r),r=Me(39),r.write_shift(4,2152),r.write_shift(4,0),r.write_shift(4,0),r.write_shift(2,3),r.write_shift(1,0),r.write_shift(4,0),r.write_shift(2,1),r.write_shift(4,4),r.write_shift(2,0),nx(ur(s["!ref"]||"A1"),r),r.write_shift(4,4),et(t,2152,r)}function WN(t,s){for(var r=0;r<16;++r)et(t,224,tf({numFmtId:0,style:!0},0,s));s.cellXfs.forEach(function(a){et(t,224,tf(a,0,s))})}function qN(t,s){for(var r=0;r<s["!links"].length;++r){var a=s["!links"][r];et(t,440,qy(a)),a[1].Tooltip&&et(t,2048,zy(a))}delete s["!links"]}function zN(t,s){if(s){var r=0;s.forEach(function(a,n){++r<=256&&a&&et(t,125,Gy(od(n,a),n))})}}function VN(t,s,r,a,n){var o=16+Rn(n.cellXfs,s,n);if(s.v==null&&!s.bf){et(t,513,ii(r,a,o));return}if(s.bf)et(t,6,xw(s,r,a,n,o));else switch(s.t){case"d":case"n":var l=s.t=="d"?Ps(ys(s.v)):s.v;et(t,515,By(r,a,l,o));break;case"b":case"e":et(t,517,My(r,a,s.v,o,n,s.t));break;case"s":case"str":if(n.bookSST){var c=uh(n.Strings,s.v,n.revStrings);et(t,253,Ly(r,a,c,o))}else et(t,516,Oy(r,a,(s.v||"").slice(0,255),o,n));break;default:et(t,513,ii(r,a,o))}}function $N(t,s,r){var a=Cs(),n=r.SheetNames[t],o=r.Sheets[n]||{},l=(r||{}).Workbook||{},c=(l.Sheets||[])[t]||{},d=Array.isArray(o),h=s.biff==8,u,x="",p=[],m=ur(o["!ref"]||"A1"),y=h?65536:16384;if(m.e.c>255||m.e.r>=y){if(s.WTF)throw new Error("Range "+(o["!ref"]||"A1")+" exceeds format limit A1:IV16384");m.e.c=Math.min(m.e.c,255),m.e.r=Math.min(m.e.c,y-1)}et(a,2057,oh(r,16,s)),et(a,13,aa(1)),et(a,12,aa(100)),et(a,15,vs(!0)),et(a,17,vs(!1)),et(a,16,ni(.001)),et(a,95,vs(!0)),et(a,42,vs(!1)),et(a,43,vs(!1)),et(a,130,aa(1)),et(a,128,Ry()),et(a,131,vs(!1)),et(a,132,vs(!1)),h&&zN(a,o["!cols"]),et(a,512,Iy(m,s)),h&&(o["!links"]=[]);for(var g=m.s.r;g<=m.e.r;++g){x=ts(g);for(var b=m.s.c;b<=m.e.c;++b){g===m.s.r&&(p[b]=us(b)),u=p[b]+x;var w=d?(o[g]||[])[b]:o[u];w&&(VN(a,w,g,b,s),h&&w.l&&o["!links"].push([u,w.l]))}}var N=c.CodeName||c.name||n;return h&&et(a,574,Py((l.Views||[])[0])),h&&(o["!merges"]||[]).length&&et(a,229,Wy(o["!merges"])),h&&qN(a,o),et(a,442,ax(N)),h&&HN(a,o),et(a,10),a.end()}function GN(t,s,r){var a=Cs(),n=(t||{}).Workbook||{},o=n.Sheets||[],l=n.WBProps||{},c=r.biff==8,d=r.biff==5;if(et(a,2057,oh(t,5,r)),r.bookType=="xla"&&et(a,135),et(a,225,c?aa(1200):null),et(a,193,vy(2)),d&&et(a,191),d&&et(a,192),et(a,226),et(a,92,_y("SheetJS",r)),et(a,66,aa(c?1200:1252)),c&&et(a,353,aa(0)),c&&et(a,448),et(a,317,Yy(t.SheetNames.length)),c&&t.vbaraw&&et(a,211),c&&t.vbaraw){var h=l.CodeName||"ThisWorkbook";et(a,442,ax(h))}et(a,156,aa(17)),et(a,25,vs(!1)),et(a,18,vs(!1)),et(a,19,aa(0)),c&&et(a,431,vs(!1)),c&&et(a,444,aa(0)),et(a,61,Ey()),et(a,64,vs(!1)),et(a,141,aa(0)),et(a,34,vs(Q4(t)=="true")),et(a,14,vs(!0)),c&&et(a,439,vs(!1)),et(a,218,aa(0)),BN(a,t,r),UN(a,t.SSF,r),WN(a,r),c&&et(a,352,vs(!1));var u=a.end(),x=Cs();c&&et(x,140,Vy()),c&&r.Strings&&LN(x,252,Ty(r.Strings)),et(x,10);var p=x.end(),m=Cs(),y=0,g=0;for(g=0;g<t.SheetNames.length;++g)y+=(c?12:11)+(c?2:1)*t.SheetNames[g].length;var b=u.length+y+p.length;for(g=0;g<t.SheetNames.length;++g){var w=o[g]||{};et(m,133,Cy({pos:b,hs:w.Hidden||0,dt:0,name:t.SheetNames[g]},r)),b+=s[g].length}var N=m.end();if(y!=N.length)throw new Error("BS8 "+y+" != "+N.length);var j=[];return u.length&&j.push(u),N.length&&j.push(N),p.length&&j.push(p),Zr(j)}function YN(t,s){var r=s||{},a=[];t&&!t.SSF&&(t.SSF=Fs(Nr)),t&&t.SSF&&(rd(),td(t.SSF),r.revssf=sd(t.SSF),r.revssf[t.SSF[65535]]=0,r.ssf=t.SSF),r.Strings=[],r.Strings.Count=0,r.Strings.Unique=0,fh(r),r.cellXfs=[],Rn(r.cellXfs,{},{revssf:{General:0}}),t.Props||(t.Props={});for(var n=0;n<t.SheetNames.length;++n)a[a.length]=$N(n,r,t);return a.unshift(GN(t,a,r)),Zr(a)}function Px(t,s){for(var r=0;r<=t.SheetNames.length;++r){var a=t.Sheets[t.SheetNames[r]];if(!(!a||!a["!ref"])){var n=$s(a["!ref"]);n.e.c>255&&typeof console<"u"&&console.error&&console.error("Worksheet '"+t.SheetNames[r]+"' extends beyond column IV (255).  Data may be lost.")}}var o=s||{};switch(o.biff||2){case 8:case 5:return YN(t,s);case 4:case 3:case 2:return MN(t,s)}throw new Error("invalid type "+o.bookType+" for BIFF")}function KN(t,s,r,a){for(var n=t["!merges"]||[],o=[],l=s.s.c;l<=s.e.c;++l){for(var c=0,d=0,h=0;h<n.length;++h)if(!(n[h].s.r>r||n[h].s.c>l)&&!(n[h].e.r<r||n[h].e.c<l)){if(n[h].s.r<r||n[h].s.c<l){c=-1;break}c=n[h].e.r-n[h].s.r+1,d=n[h].e.c-n[h].s.c+1;break}if(!(c<0)){var u=Qt({r,c:l}),x=a.dense?(t[r]||[])[l]:t[u],p=x&&x.v!=null&&(x.h||Av(x.w||(an(x),x.w)||""))||"",m={};c>1&&(m.rowspan=c),d>1&&(m.colspan=d),a.editable?p='<span contenteditable="true">'+p+"</span>":x&&(m["data-t"]=x&&x.t||"z",x.v!=null&&(m["data-v"]=x.v),x.z!=null&&(m["data-z"]=x.z),x.l&&(x.l.Target||"#").charAt(0)!="#"&&(p='<a href="'+x.l.Target+'">'+p+"</a>")),m.id=(a.id||"sjs")+"-"+u,o.push(Ze("td",p,m))}}var y="<tr>";return y+o.join("")+"</tr>"}var XN='<html><head><meta charset="utf-8"/><title>SheetJS Table Export</title></head><body>',JN="</body></html>";function QN(t,s,r){var a=[];return a.join("")+"<table"+(r&&r.id?' id="'+r.id+'"':"")+">"}function Fx(t,s){var r=s||{},a=r.header!=null?r.header:XN,n=r.footer!=null?r.footer:JN,o=[a],l=$s(t["!ref"]);r.dense=Array.isArray(t),o.push(QN(t,l,r));for(var c=l.s.r;c<=l.e.r;++c)o.push(KN(t,l,c,r));return o.push("</table>"+n),o.join("")}function Lx(t,s,r){var a=r||{},n=0,o=0;if(a.origin!=null)if(typeof a.origin=="number")n=a.origin;else{var l=typeof a.origin=="string"?Gr(a.origin):a.origin;n=l.r,o=l.c}var c=s.getElementsByTagName("tr"),d=Math.min(a.sheetRows||1e7,c.length),h={s:{r:0,c:0},e:{r:n,c:o}};if(t["!ref"]){var u=$s(t["!ref"]);h.s.r=Math.min(h.s.r,u.s.r),h.s.c=Math.min(h.s.c,u.s.c),h.e.r=Math.max(h.e.r,u.e.r),h.e.c=Math.max(h.e.c,u.e.c),n==-1&&(h.e.r=n=u.e.r+1)}var x=[],p=0,m=t["!rows"]||(t["!rows"]=[]),y=0,g=0,b=0,w=0,N=0,j=0;for(t["!cols"]||(t["!cols"]=[]);y<c.length&&g<d;++y){var k=c[y];if(cf(k)){if(a.display)continue;m[g]={hidden:!0}}var L=k.children;for(b=w=0;b<L.length;++b){var F=L[b];if(!(a.display&&cf(F))){var T=F.hasAttribute("data-v")?F.getAttribute("data-v"):F.hasAttribute("v")?F.getAttribute("v"):Ev(F.innerHTML),C=F.getAttribute("data-z")||F.getAttribute("z");for(p=0;p<x.length;++p){var I=x[p];I.s.c==w+o&&I.s.r<g+n&&g+n<=I.e.r&&(w=I.e.c+1-o,p=-1)}j=+F.getAttribute("colspan")||1,((N=+F.getAttribute("rowspan")||1)>1||j>1)&&x.push({s:{r:g+n,c:w+o},e:{r:g+n+(N||1)-1,c:w+o+(j||1)-1}});var D={t:"s",v:T},E=F.getAttribute("data-t")||F.getAttribute("t")||"";T!=null&&(T.length==0?D.t=E||"z":a.raw||T.trim().length==0||E=="s"||(T==="TRUE"?D={t:"b",v:!0}:T==="FALSE"?D={t:"b",v:!1}:isNaN(tn(T))?isNaN(nl(T).getDate())||(D={t:"d",v:ys(T)},a.cellDates||(D={t:"n",v:Ps(D.v)}),D.z=a.dateNF||Nr[14]):D={t:"n",v:tn(T)})),D.z===void 0&&C!=null&&(D.z=C);var P="",W=F.getElementsByTagName("A");if(W&&W.length)for(var z=0;z<W.length&&!(W[z].hasAttribute("href")&&(P=W[z].getAttribute("href"),P.charAt(0)!="#"));++z);P&&P.charAt(0)!="#"&&(D.l={Target:P}),a.dense?(t[g+n]||(t[g+n]=[]),t[g+n][w+o]=D):t[Qt({c:w+o,r:g+n})]=D,h.e.c<w+o&&(h.e.c=w+o),w+=j}}++g}return x.length&&(t["!merges"]=(t["!merges"]||[]).concat(x)),h.e.r=Math.max(h.e.r,g-1+n),t["!ref"]=Dr(h),g>=d&&(t["!fullref"]=Dr((h.e.r=c.length-y+g-1+n,h))),t}function Ox(t,s){var r=s||{},a=r.dense?[]:{};return Lx(a,t,s)}function ZN(t,s){return ci(Ox(t,s),s)}function cf(t){var s="",r=e3(t);return r&&(s=r(t).getPropertyValue("display")),s||(s=t.style&&t.style.display),s==="none"}function e3(t){return t.ownerDocument.defaultView&&typeof t.ownerDocument.defaultView.getComputedStyle=="function"?t.ownerDocument.defaultView.getComputedStyle:typeof getComputedStyle=="function"?getComputedStyle:null}var t3=function(){var t=["<office:master-styles>",'<style:master-page style:name="mp1" style:page-layout-name="mp1">',"<style:header/>",'<style:header-left style:display="false"/>',"<style:footer/>",'<style:footer-left style:display="false"/>',"</style:master-page>","</office:master-styles>"].join(""),s="<office:document-styles "+ol({"xmlns:office":"urn:oasis:names:tc:opendocument:xmlns:office:1.0","xmlns:table":"urn:oasis:names:tc:opendocument:xmlns:table:1.0","xmlns:style":"urn:oasis:names:tc:opendocument:xmlns:style:1.0","xmlns:text":"urn:oasis:names:tc:opendocument:xmlns:text:1.0","xmlns:draw":"urn:oasis:names:tc:opendocument:xmlns:drawing:1.0","xmlns:fo":"urn:oasis:names:tc:opendocument:xmlns:xsl-fo-compatible:1.0","xmlns:xlink":"http://www.w3.org/1999/xlink","xmlns:dc":"http://purl.org/dc/elements/1.1/","xmlns:number":"urn:oasis:names:tc:opendocument:xmlns:datastyle:1.0","xmlns:svg":"urn:oasis:names:tc:opendocument:xmlns:svg-compatible:1.0","xmlns:of":"urn:oasis:names:tc:opendocument:xmlns:of:1.2","office:version":"1.2"})+">"+t+"</office:document-styles>";return function(){return Ir+s}}(),df=function(){var t=function(o){return Jt(o).replace(/  +/g,function(l){return'<text:s text:c="'+l.length+'"/>'}).replace(/\t/g,"<text:tab/>").replace(/\n/g,"</text:p><text:p>").replace(/^ /,"<text:s/>").replace(/ $/,"<text:s/>")},s=`          <table:table-cell />
`,r=`          <table:covered-table-cell/>
`,a=function(o,l,c){var d=[];d.push('      <table:table table:name="'+Jt(l.SheetNames[c])+`" table:style-name="ta1">
`);var h=0,u=0,x=$s(o["!ref"]||"A1"),p=o["!merges"]||[],m=0,y=Array.isArray(o);if(o["!cols"])for(u=0;u<=x.e.c;++u)d.push("        <table:table-column"+(o["!cols"][u]?' table:style-name="co'+o["!cols"][u].ods+'"':"")+`></table:table-column>
`);var g="",b=o["!rows"]||[];for(h=0;h<x.s.r;++h)g=b[h]?' table:style-name="ro'+b[h].ods+'"':"",d.push("        <table:table-row"+g+`></table:table-row>
`);for(;h<=x.e.r;++h){for(g=b[h]?' table:style-name="ro'+b[h].ods+'"':"",d.push("        <table:table-row"+g+`>
`),u=0;u<x.s.c;++u)d.push(s);for(;u<=x.e.c;++u){var w=!1,N={},j="";for(m=0;m!=p.length;++m)if(!(p[m].s.c>u)&&!(p[m].s.r>h)&&!(p[m].e.c<u)&&!(p[m].e.r<h)){(p[m].s.c!=u||p[m].s.r!=h)&&(w=!0),N["table:number-columns-spanned"]=p[m].e.c-p[m].s.c+1,N["table:number-rows-spanned"]=p[m].e.r-p[m].s.r+1;break}if(w){d.push(r);continue}var k=Qt({r:h,c:u}),L=y?(o[h]||[])[u]:o[k];if(L&&L.f&&(N["table:formula"]=Jt(ww(L.f)),L.F&&L.F.slice(0,k.length)==k)){var F=$s(L.F);N["table:number-matrix-columns-spanned"]=F.e.c-F.s.c+1,N["table:number-matrix-rows-spanned"]=F.e.r-F.s.r+1}if(!L){d.push(s);continue}switch(L.t){case"b":j=L.v?"TRUE":"FALSE",N["office:value-type"]="boolean",N["office:boolean-value"]=L.v?"true":"false";break;case"n":j=L.w||String(L.v||0),N["office:value-type"]="float",N["office:value"]=L.v||0;break;case"s":case"str":j=L.v==null?"":L.v,N["office:value-type"]="string";break;case"d":j=L.w||ys(L.v).toISOString(),N["office:value-type"]="date",N["office:date-value"]=ys(L.v).toISOString(),N["table:style-name"]="ce1";break;default:d.push(s);continue}var T=t(j);if(L.l&&L.l.Target){var C=L.l.Target;C=C.charAt(0)=="#"?"#"+Nw(C.slice(1)):C,C.charAt(0)!="#"&&!C.match(/^\w+:/)&&(C="../"+C),T=Ze("text:a",T,{"xlink:href":C.replace(/&/g,"&amp;")})}d.push("          "+Ze("table:table-cell",Ze("text:p",T,{}),N)+`
`)}d.push(`        </table:table-row>
`)}return d.push(`      </table:table>
`),d.join("")},n=function(o,l){o.push(` <office:automatic-styles>
`),o.push(`  <number:date-style style:name="N37" number:automatic-order="true">
`),o.push(`   <number:month number:style="long"/>
`),o.push(`   <number:text>/</number:text>
`),o.push(`   <number:day number:style="long"/>
`),o.push(`   <number:text>/</number:text>
`),o.push(`   <number:year/>
`),o.push(`  </number:date-style>
`);var c=0;l.SheetNames.map(function(h){return l.Sheets[h]}).forEach(function(h){if(h&&h["!cols"]){for(var u=0;u<h["!cols"].length;++u)if(h["!cols"][u]){var x=h["!cols"][u];if(x.width==null&&x.wpx==null&&x.wch==null)continue;lh(x),x.ods=c;var p=h["!cols"][u].wpx+"px";o.push('  <style:style style:name="co'+c+`" style:family="table-column">
`),o.push('   <style:table-column-properties fo:break-before="auto" style:column-width="'+p+`"/>
`),o.push(`  </style:style>
`),++c}}});var d=0;l.SheetNames.map(function(h){return l.Sheets[h]}).forEach(function(h){if(h&&h["!rows"]){for(var u=0;u<h["!rows"].length;++u)if(h["!rows"][u]){h["!rows"][u].ods=d;var x=h["!rows"][u].hpx+"px";o.push('  <style:style style:name="ro'+d+`" style:family="table-row">
`),o.push('   <style:table-row-properties fo:break-before="auto" style:row-height="'+x+`"/>
`),o.push(`  </style:style>
`),++d}}}),o.push(`  <style:style style:name="ta1" style:family="table" style:master-page-name="mp1">
`),o.push(`   <style:table-properties table:display="true" style:writing-mode="lr-tb"/>
`),o.push(`  </style:style>
`),o.push(`  <style:style style:name="ce1" style:family="table-cell" style:parent-style-name="Default" style:data-style-name="N37"/>
`),o.push(` </office:automatic-styles>
`)};return function(l,c){var d=[Ir],h=ol({"xmlns:office":"urn:oasis:names:tc:opendocument:xmlns:office:1.0","xmlns:table":"urn:oasis:names:tc:opendocument:xmlns:table:1.0","xmlns:style":"urn:oasis:names:tc:opendocument:xmlns:style:1.0","xmlns:text":"urn:oasis:names:tc:opendocument:xmlns:text:1.0","xmlns:draw":"urn:oasis:names:tc:opendocument:xmlns:drawing:1.0","xmlns:fo":"urn:oasis:names:tc:opendocument:xmlns:xsl-fo-compatible:1.0","xmlns:xlink":"http://www.w3.org/1999/xlink","xmlns:dc":"http://purl.org/dc/elements/1.1/","xmlns:meta":"urn:oasis:names:tc:opendocument:xmlns:meta:1.0","xmlns:number":"urn:oasis:names:tc:opendocument:xmlns:datastyle:1.0","xmlns:presentation":"urn:oasis:names:tc:opendocument:xmlns:presentation:1.0","xmlns:svg":"urn:oasis:names:tc:opendocument:xmlns:svg-compatible:1.0","xmlns:chart":"urn:oasis:names:tc:opendocument:xmlns:chart:1.0","xmlns:dr3d":"urn:oasis:names:tc:opendocument:xmlns:dr3d:1.0","xmlns:math":"http://www.w3.org/1998/Math/MathML","xmlns:form":"urn:oasis:names:tc:opendocument:xmlns:form:1.0","xmlns:script":"urn:oasis:names:tc:opendocument:xmlns:script:1.0","xmlns:ooo":"http://openoffice.org/2004/office","xmlns:ooow":"http://openoffice.org/2004/writer","xmlns:oooc":"http://openoffice.org/2004/calc","xmlns:dom":"http://www.w3.org/2001/xml-events","xmlns:xforms":"http://www.w3.org/2002/xforms","xmlns:xsd":"http://www.w3.org/2001/XMLSchema","xmlns:xsi":"http://www.w3.org/2001/XMLSchema-instance","xmlns:sheet":"urn:oasis:names:tc:opendocument:sh33tjs:1.0","xmlns:rpt":"http://openoffice.org/2005/report","xmlns:of":"urn:oasis:names:tc:opendocument:xmlns:of:1.2","xmlns:xhtml":"http://www.w3.org/1999/xhtml","xmlns:grddl":"http://www.w3.org/2003/g/data-view#","xmlns:tableooo":"http://openoffice.org/2009/table","xmlns:drawooo":"http://openoffice.org/2010/draw","xmlns:calcext":"urn:org:documentfoundation:names:experimental:calc:xmlns:calcext:1.0","xmlns:loext":"urn:org:documentfoundation:names:experimental:office:xmlns:loext:1.0","xmlns:field":"urn:openoffice:names:experimental:ooo-ms-interop:xmlns:field:1.0","xmlns:formx":"urn:openoffice:names:experimental:ooxml-odf-interop:xmlns:form:1.0","xmlns:css3t":"http://www.w3.org/TR/css3-text/","office:version":"1.2"}),u=ol({"xmlns:config":"urn:oasis:names:tc:opendocument:xmlns:config:1.0","office:mimetype":"application/vnd.oasis.opendocument.spreadsheet"});c.bookType=="fods"?(d.push("<office:document"+h+u+`>
`),d.push(Km().replace(/office:document-meta/g,"office:meta"))):d.push("<office:document-content"+h+`>
`),n(d,l),d.push(`  <office:body>
`),d.push(`    <office:spreadsheet>
`);for(var x=0;x!=l.SheetNames.length;++x)d.push(a(l.Sheets[l.SheetNames[x]],l,x));return d.push(`    </office:spreadsheet>
`),d.push(`  </office:body>
`),c.bookType=="fods"?d.push("</office:document>"):d.push("</office:document-content>"),d.join("")}}();function Dx(t,s){if(s.bookType=="fods")return df(t,s);var r=J0(),a="",n=[],o=[];return a="mimetype",Lt(r,a,"application/vnd.oasis.opendocument.spreadsheet"),a="content.xml",Lt(r,a,df(t,s)),n.push([a,"text/xml"]),o.push([a,"ContentFile"]),a="styles.xml",Lt(r,a,t3(t,s)),n.push([a,"text/xml"]),o.push([a,"StylesFile"]),a="meta.xml",Lt(r,a,Ir+Km()),n.push([a,"text/xml"]),o.push([a,"MetadataFile"]),a="manifest.rdf",Lt(r,a,fy(o)),n.push([a,"application/rdf+xml"]),a="META-INF/manifest.xml",Lt(r,a,hy(n)),r}/*! sheetjs (C) 2013-present SheetJS -- http://sheetjs.com */function Gc(t){return new DataView(t.buffer,t.byteOffset,t.byteLength)}function r3(t){return typeof TextEncoder<"u"?new TextEncoder().encode(t):ya(il(t))}function s3(t,s){e:for(var r=0;r<=t.length-s.length;++r){for(var a=0;a<s.length;++a)if(t[r+a]!=s[a])continue e;return!0}return!1}function Dn(t){var s=t.reduce(function(n,o){return n+o.length},0),r=new Uint8Array(s),a=0;return t.forEach(function(n){r.set(n,a),a+=n.length}),r}function a3(t,s,r){var a=Math.floor(r==0?0:Math.LOG10E*Math.log(Math.abs(r)))+6176-20,n=r/Math.pow(10,a-6176);t[s+15]|=a>>7,t[s+14]|=(a&127)<<1;for(var o=0;n>=1;++o,n/=256)t[s+o]=n&255;t[s+15]|=r>=0?0:128}function ll(t,s){var r=s?s[0]:0,a=t[r]&127;e:if(t[r++]>=128&&(a|=(t[r]&127)<<7,t[r++]<128||(a|=(t[r]&127)<<14,t[r++]<128)||(a|=(t[r]&127)<<21,t[r++]<128)||(a+=(t[r]&127)*Math.pow(2,28),++r,t[r++]<128)||(a+=(t[r]&127)*Math.pow(2,35),++r,t[r++]<128)||(a+=(t[r]&127)*Math.pow(2,42),++r,t[r++]<128)))break e;return s&&(s[0]=r),a}function Kt(t){var s=new Uint8Array(7);s[0]=t&127;var r=1;e:if(t>127){if(s[r-1]|=128,s[r]=t>>7&127,++r,t<=16383||(s[r-1]|=128,s[r]=t>>14&127,++r,t<=2097151)||(s[r-1]|=128,s[r]=t>>21&127,++r,t<=268435455)||(s[r-1]|=128,s[r]=t/256>>>21&127,++r,t<=34359738367)||(s[r-1]|=128,s[r]=t/65536>>>21&127,++r,t<=4398046511103))break e;s[r-1]|=128,s[r]=t/16777216>>>21&127,++r}return s.slice(0,r)}function Qi(t){var s=0,r=t[s]&127;e:if(t[s++]>=128){if(r|=(t[s]&127)<<7,t[s++]<128||(r|=(t[s]&127)<<14,t[s++]<128)||(r|=(t[s]&127)<<21,t[s++]<128))break e;r|=(t[s]&127)<<28}return r}function Hr(t){for(var s=[],r=[0];r[0]<t.length;){var a=r[0],n=ll(t,r),o=n&7;n=Math.floor(n/8);var l=0,c;if(n==0)break;switch(o){case 0:{for(var d=r[0];t[r[0]++]>=128;);c=t.slice(d,r[0])}break;case 5:l=4,c=t.slice(r[0],r[0]+l),r[0]+=l;break;case 1:l=8,c=t.slice(r[0],r[0]+l),r[0]+=l;break;case 2:l=ll(t,r),c=t.slice(r[0],r[0]+l),r[0]+=l;break;case 3:case 4:default:throw new Error("PB Type ".concat(o," for Field ").concat(n," at offset ").concat(a))}var h={data:c,type:o};s[n]==null?s[n]=[h]:s[n].push(h)}return s}function Jr(t){var s=[];return t.forEach(function(r,a){r.forEach(function(n){n.data&&(s.push(Kt(a*8+n.type)),n.type==2&&s.push(Kt(n.data.length)),s.push(n.data))})}),Dn(s)}function pa(t){for(var s,r=[],a=[0];a[0]<t.length;){var n=ll(t,a),o=Hr(t.slice(a[0],a[0]+n));a[0]+=n;var l={id:Qi(o[1][0].data),messages:[]};o[2].forEach(function(c){var d=Hr(c.data),h=Qi(d[3][0].data);l.messages.push({meta:d,data:t.slice(a[0],a[0]+h)}),a[0]+=h}),(s=o[3])!=null&&s[0]&&(l.merge=Qi(o[3][0].data)>>>0>0),r.push(l)}return r}function Ui(t){var s=[];return t.forEach(function(r){var a=[];a[1]=[{data:Kt(r.id),type:0}],a[2]=[],r.merge!=null&&(a[3]=[{data:Kt(+!!r.merge),type:0}]);var n=[];r.messages.forEach(function(l){n.push(l.data),l.meta[3]=[{type:0,data:Kt(l.data.length)}],a[2].push({data:Jr(l.meta),type:2})});var o=Jr(a);s.push(Kt(o.length)),s.push(o),n.forEach(function(l){return s.push(l)})}),Dn(s)}function n3(t,s){if(t!=0)throw new Error("Unexpected Snappy chunk type ".concat(t));for(var r=[0],a=ll(s,r),n=[];r[0]<s.length;){var o=s[r[0]]&3;if(o==0){var l=s[r[0]++]>>2;if(l<60)++l;else{var c=l-59;l=s[r[0]],c>1&&(l|=s[r[0]+1]<<8),c>2&&(l|=s[r[0]+2]<<16),c>3&&(l|=s[r[0]+3]<<24),l>>>=0,l++,r[0]+=c}n.push(s.slice(r[0],r[0]+l)),r[0]+=l;continue}else{var d=0,h=0;if(o==1?(h=(s[r[0]]>>2&7)+4,d=(s[r[0]++]&224)<<3,d|=s[r[0]++]):(h=(s[r[0]++]>>2)+1,o==2?(d=s[r[0]]|s[r[0]+1]<<8,r[0]+=2):(d=(s[r[0]]|s[r[0]+1]<<8|s[r[0]+2]<<16|s[r[0]+3]<<24)>>>0,r[0]+=4)),n=[Dn(n)],d==0)throw new Error("Invalid offset 0");if(d>n[0].length)throw new Error("Invalid offset beyond length");if(h>=d)for(n.push(n[0].slice(-d)),h-=d;h>=n[n.length-1].length;)n.push(n[n.length-1]),h-=n[n.length-1].length;n.push(n[0].slice(-d,-d+h))}}var u=Dn(n);if(u.length!=a)throw new Error("Unexpected length: ".concat(u.length," != ").concat(a));return u}function ga(t){for(var s=[],r=0;r<t.length;){var a=t[r++],n=t[r]|t[r+1]<<8|t[r+2]<<16;r+=3,s.push(n3(a,t.slice(r,r+n))),r+=n}if(r!==t.length)throw new Error("data is not a valid framed stream!");return Dn(s)}function Hi(t){for(var s=[],r=0;r<t.length;){var a=Math.min(t.length-r,268435455),n=new Uint8Array(4);s.push(n);var o=Kt(a),l=o.length;s.push(o),a<=60?(l++,s.push(new Uint8Array([a-1<<2]))):a<=256?(l+=2,s.push(new Uint8Array([240,a-1&255]))):a<=65536?(l+=3,s.push(new Uint8Array([244,a-1&255,a-1>>8&255]))):a<=16777216?(l+=4,s.push(new Uint8Array([248,a-1&255,a-1>>8&255,a-1>>16&255]))):a<=4294967296&&(l+=5,s.push(new Uint8Array([252,a-1&255,a-1>>8&255,a-1>>16&255,a-1>>>24&255]))),s.push(t.slice(r,r+a)),l+=a,n[0]=0,n[1]=l&255,n[2]=l>>8&255,n[3]=l>>16&255,r+=a}return Dn(s)}function f0(t,s){var r=new Uint8Array(32),a=Gc(r),n=12,o=0;switch(r[0]=5,t.t){case"n":r[1]=2,a3(r,n,t.v),o|=1,n+=16;break;case"b":r[1]=6,a.setFloat64(n,t.v?1:0,!0),o|=2,n+=8;break;case"s":if(s.indexOf(t.v)==-1)throw new Error("Value ".concat(t.v," missing from SST!"));r[1]=3,a.setUint32(n,s.indexOf(t.v),!0),o|=8,n+=4;break;default:throw"unsupported cell type "+t.t}return a.setUint32(8,o,!0),r.slice(0,n)}function m0(t,s){var r=new Uint8Array(32),a=Gc(r),n=12,o=0;switch(r[0]=3,t.t){case"n":r[2]=2,a.setFloat64(n,t.v,!0),o|=32,n+=8;break;case"b":r[2]=6,a.setFloat64(n,t.v?1:0,!0),o|=32,n+=8;break;case"s":if(s.indexOf(t.v)==-1)throw new Error("Value ".concat(t.v," missing from SST!"));r[2]=3,a.setUint32(n,s.indexOf(t.v),!0),o|=16,n+=4;break;default:throw"unsupported cell type "+t.t}return a.setUint32(4,o,!0),r.slice(0,n)}function jn(t){var s=Hr(t);return ll(s[1][0].data)}function i3(t,s,r){var a,n,o,l;if(!((a=t[6])!=null&&a[0])||!((n=t[7])!=null&&n[0]))throw"Mutation only works on post-BNC storages!";var c=((l=(o=t[8])==null?void 0:o[0])==null?void 0:l.data)&&Qi(t[8][0].data)>0||!1;if(c)throw"Math only works with normal offsets";for(var d=0,h=Gc(t[7][0].data),u=0,x=[],p=Gc(t[4][0].data),m=0,y=[],g=0;g<s.length;++g){if(s[g]==null){h.setUint16(g*2,65535,!0),p.setUint16(g*2,65535);continue}h.setUint16(g*2,u,!0),p.setUint16(g*2,m,!0);var b,w;switch(typeof s[g]){case"string":b=f0({t:"s",v:s[g]},r),w=m0({t:"s",v:s[g]},r);break;case"number":b=f0({t:"n",v:s[g]},r),w=m0({t:"n",v:s[g]},r);break;case"boolean":b=f0({t:"b",v:s[g]},r),w=m0({t:"b",v:s[g]},r);break;default:throw new Error("Unsupported value "+s[g])}x.push(b),u+=b.length,y.push(w),m+=w.length,++d}for(t[2][0].data=Kt(d);g<t[7][0].data.length/2;++g)h.setUint16(g*2,65535,!0),p.setUint16(g*2,65535,!0);return t[6][0].data=Dn(x),t[3][0].data=Dn(y),d}function o3(t,s){if(!s||!s.numbers)throw new Error("Must pass a `numbers` option -- check the README");var r=t.Sheets[t.SheetNames[0]];t.SheetNames.length>1&&console.error("The Numbers writer currently writes only the first table");var a=$s(r["!ref"]);a.s.r=a.s.c=0;var n=!1;a.e.c>9&&(n=!0,a.e.c=9),a.e.r>49&&(n=!0,a.e.r=49),n&&console.error("The Numbers writer is currently limited to ".concat(Dr(a)));var o=Yc(r,{range:a,header:1}),l=["~Sh33tJ5~"];o.forEach(function(R){return R.forEach(function(M){typeof M=="string"&&l.push(M)})});var c={},d=[],h=rr.read(s.numbers,{type:"base64"});h.FileIndex.map(function(R,M){return[R,h.FullPaths[M]]}).forEach(function(R){var M=R[0],B=R[1];if(M.type==2&&M.name.match(/\.iwa/)){var Y=M.content,fe=ga(Y),ae=pa(fe);ae.forEach(function(X){d.push(X.id),c[X.id]={deps:[],location:B,type:Qi(X.messages[0].meta[1][0].data)}})}}),d.sort(function(R,M){return R-M});var u=d.filter(function(R){return R>1}).map(function(R){return[R,Kt(R)]});h.FileIndex.map(function(R,M){return[R,h.FullPaths[M]]}).forEach(function(R){var M=R[0];if(R[1],!!M.name.match(/\.iwa/)){var B=pa(ga(M.content));B.forEach(function(Y){Y.messages.forEach(function(fe){u.forEach(function(ae){Y.messages.some(function(X){return Qi(X.meta[1][0].data)!=11006&&s3(X.data,ae[1])})&&c[ae[0]].deps.push(Y.id)})})})}});for(var x=rr.find(h,c[1].location),p=pa(ga(x.content)),m,y=0;y<p.length;++y){var g=p[y];g.id==1&&(m=g)}var b=jn(Hr(m.messages[0].data)[1][0].data);for(x=rr.find(h,c[b].location),p=pa(ga(x.content)),y=0;y<p.length;++y)g=p[y],g.id==b&&(m=g);for(b=jn(Hr(m.messages[0].data)[2][0].data),x=rr.find(h,c[b].location),p=pa(ga(x.content)),y=0;y<p.length;++y)g=p[y],g.id==b&&(m=g);for(b=jn(Hr(m.messages[0].data)[2][0].data),x=rr.find(h,c[b].location),p=pa(ga(x.content)),y=0;y<p.length;++y)g=p[y],g.id==b&&(m=g);var w=Hr(m.messages[0].data);{w[6][0].data=Kt(a.e.r+1),w[7][0].data=Kt(a.e.c+1);var N=jn(w[46][0].data),j=rr.find(h,c[N].location),k=pa(ga(j.content));{for(var L=0;L<k.length&&k[L].id!=N;++L);if(k[L].id!=N)throw"Bad ColumnRowUIDMapArchive";var F=Hr(k[L].messages[0].data);F[1]=[],F[2]=[],F[3]=[];for(var T=0;T<=a.e.c;++T){var C=[];C[1]=C[2]=[{type:0,data:Kt(T+420690)}],F[1].push({type:2,data:Jr(C)}),F[2].push({type:0,data:Kt(T)}),F[3].push({type:0,data:Kt(T)})}F[4]=[],F[5]=[],F[6]=[];for(var I=0;I<=a.e.r;++I)C=[],C[1]=C[2]=[{type:0,data:Kt(I+726270)}],F[4].push({type:2,data:Jr(C)}),F[5].push({type:0,data:Kt(I)}),F[6].push({type:0,data:Kt(I)});k[L].messages[0].data=Jr(F)}j.content=Hi(Ui(k)),j.size=j.content.length,delete w[46];var D=Hr(w[4][0].data);{D[7][0].data=Kt(a.e.r+1);var E=Hr(D[1][0].data),P=jn(E[2][0].data);j=rr.find(h,c[P].location),k=pa(ga(j.content));{if(k[0].id!=P)throw"Bad HeaderStorageBucket";var W=Hr(k[0].messages[0].data);for(I=0;I<o.length;++I){var z=Hr(W[2][0].data);z[1][0].data=Kt(I),z[4][0].data=Kt(o[I].length),W[2][I]={type:W[2][0].type,data:Jr(z)}}k[0].messages[0].data=Jr(W)}j.content=Hi(Ui(k)),j.size=j.content.length;var ue=jn(D[2][0].data);j=rr.find(h,c[ue].location),k=pa(ga(j.content));{if(k[0].id!=ue)throw"Bad HeaderStorageBucket";for(W=Hr(k[0].messages[0].data),T=0;T<=a.e.c;++T)z=Hr(W[2][0].data),z[1][0].data=Kt(T),z[4][0].data=Kt(a.e.r+1),W[2][T]={type:W[2][0].type,data:Jr(z)};k[0].messages[0].data=Jr(W)}j.content=Hi(Ui(k)),j.size=j.content.length;var Q=jn(D[4][0].data);(function(){for(var R=rr.find(h,c[Q].location),M=pa(ga(R.content)),B,Y=0;Y<M.length;++Y){var fe=M[Y];fe.id==Q&&(B=fe)}var ae=Hr(B.messages[0].data);{ae[3]=[];var X=[];l.forEach(function(De,Ve){X[1]=[{type:0,data:Kt(Ve)}],X[2]=[{type:0,data:Kt(1)}],X[3]=[{type:2,data:r3(De)}],ae[3].push({type:2,data:Jr(X)})})}B.messages[0].data=Jr(ae);var me=Ui(M),Ne=Hi(me);R.content=Ne,R.size=R.content.length})();var ee=Hr(D[3][0].data);{var ie=ee[1][0];delete ee[2];var ne=Hr(ie.data);{var pe=jn(ne[2][0].data);(function(){for(var R=rr.find(h,c[pe].location),M=pa(ga(R.content)),B,Y=0;Y<M.length;++Y){var fe=M[Y];fe.id==pe&&(B=fe)}var ae=Hr(B.messages[0].data);{delete ae[6],delete ee[7];var X=new Uint8Array(ae[5][0].data);ae[5]=[];for(var me=0,Ne=0;Ne<=a.e.r;++Ne){var De=Hr(X);me+=i3(De,o[Ne],l),De[1][0].data=Kt(Ne),ae[5].push({data:Jr(De),type:2})}ae[1]=[{type:0,data:Kt(a.e.c+1)}],ae[2]=[{type:0,data:Kt(a.e.r+1)}],ae[3]=[{type:0,data:Kt(me)}],ae[4]=[{type:0,data:Kt(a.e.r+1)}]}B.messages[0].data=Jr(ae);var Ve=Ui(M),Ke=Hi(Ve);R.content=Ke,R.size=R.content.length})()}ie.data=Jr(ne)}D[3][0].data=Jr(ee)}w[4][0].data=Jr(D)}m.messages[0].data=Jr(w);var ye=Ui(p),_=Hi(ye);return x.content=_,x.size=x.content.length,h}function l3(t){return function(r){for(var a=0;a!=t.length;++a){var n=t[a];r[n[0]]===void 0&&(r[n[0]]=n[1]),n[2]==="n"&&(r[n[0]]=Number(r[n[0]]))}}}function fh(t){l3([["cellDates",!1],["bookSST",!1],["bookType","xlsx"],["compression",!1],["WTF",!1]])(t)}function c3(t,s){return s.bookType=="ods"?Dx(t,s):s.bookType=="numbers"?o3(t,s):s.bookType=="xlsb"?d3(t,s):h3(t,s)}function d3(t,s){Gi=1024,t&&!t.SSF&&(t.SSF=Fs(Nr)),t&&t.SSF&&(rd(),td(t.SSF),s.revssf=sd(t.SSF),s.revssf[t.SSF[65535]]=0,s.ssf=t.SSF),s.rels={},s.wbrels={},s.Strings=[],s.Strings.Count=0,s.Strings.Unique=0,el?s.revStrings=new Map:(s.revStrings={},s.revStrings.foo=[],delete s.revStrings.foo);var r=s.bookType=="xlsb"?"bin":"xml",a=gx.indexOf(s.bookType)>-1,n=$m();fh(s=s||{});var o=J0(),l="",c=0;if(s.cellXfs=[],Rn(s.cellXfs,{},{revssf:{General:0}}),t.Props||(t.Props={}),l="docProps/core.xml",Lt(o,l,Xm(t.Props,s)),n.coreprops.push(l),Xt(s.rels,2,l,Wt.CORE_PROPS),l="docProps/app.xml",!(t.Props&&t.Props.SheetNames))if(!t.Workbook||!t.Workbook.Sheets)t.Props.SheetNames=t.SheetNames;else{for(var d=[],h=0;h<t.SheetNames.length;++h)(t.Workbook.Sheets[h]||{}).Hidden!=2&&d.push(t.SheetNames[h]);t.Props.SheetNames=d}for(t.Props.Worksheets=t.Props.SheetNames.length,Lt(o,l,Qm(t.Props)),n.extprops.push(l),Xt(s.rels,3,l,Wt.EXT_PROPS),t.Custprops!==t.Props&&rs(t.Custprops||{}).length>0&&(l="docProps/custom.xml",Lt(o,l,Zm(t.Custprops)),n.custprops.push(l),Xt(s.rels,4,l,Wt.CUST_PROPS)),c=1;c<=t.SheetNames.length;++c){var u={"!id":{}},x=t.Sheets[t.SheetNames[c-1]],p=(x||{})["!type"]||"sheet";switch(p){case"chart":default:l="xl/worksheets/sheet"+c+"."+r,Lt(o,l,fN(c-1,l,s,t,u)),n.sheets.push(l),Xt(s.wbrels,-1,"worksheets/sheet"+c+"."+r,Wt.WS[0])}if(x){var m=x["!comments"],y=!1,g="";m&&m.length>0&&(g="xl/comments"+c+"."+r,Lt(o,g,pN(m,g)),n.comments.push(g),Xt(u,-1,"../comments"+c+"."+r,Wt.CMNT),y=!0),x["!legacy"]&&y&&Lt(o,"xl/drawings/vmlDrawing"+c+".vml",xx(c,x["!comments"])),delete x["!comments"],delete x["!legacy"]}u["!id"].rId1&&Lt(o,Ym(l),Xi(u))}return s.Strings!=null&&s.Strings.length>0&&(l="xl/sharedStrings."+r,Lt(o,l,xN(s.Strings,l,s)),n.strs.push(l),Xt(s.wbrels,-1,"sharedStrings."+r,Wt.SST)),l="xl/workbook."+r,Lt(o,l,uN(t,l)),n.workbooks.push(l),Xt(s.rels,1,l,Wt.WB),l="xl/theme/theme1.xml",Lt(o,l,fx(t.Themes,s)),n.themes.push(l),Xt(s.wbrels,-1,"theme/theme1.xml",Wt.THEME),l="xl/styles."+r,Lt(o,l,mN(t,l,s)),n.styles.push(l),Xt(s.wbrels,-1,"styles."+r,Wt.STY),t.vbaraw&&a&&(l="xl/vbaProject.bin",Lt(o,l,t.vbaraw),n.vba.push(l),Xt(s.wbrels,-1,"vbaProject.bin",Wt.VBA)),l="xl/metadata."+r,Lt(o,l,gN(l)),n.metadata.push(l),Xt(s.wbrels,-1,"metadata."+r,Wt.XLMETA),Lt(o,"[Content_Types].xml",Gm(n,s)),Lt(o,"_rels/.rels",Xi(s.rels)),Lt(o,"xl/_rels/workbook."+r+".rels",Xi(s.wbrels)),delete s.revssf,delete s.ssf,o}function h3(t,s){Gi=1024,t&&!t.SSF&&(t.SSF=Fs(Nr)),t&&t.SSF&&(rd(),td(t.SSF),s.revssf=sd(t.SSF),s.revssf[t.SSF[65535]]=0,s.ssf=t.SSF),s.rels={},s.wbrels={},s.Strings=[],s.Strings.Count=0,s.Strings.Unique=0,el?s.revStrings=new Map:(s.revStrings={},s.revStrings.foo=[],delete s.revStrings.foo);var r="xml",a=gx.indexOf(s.bookType)>-1,n=$m();fh(s=s||{});var o=J0(),l="",c=0;if(s.cellXfs=[],Rn(s.cellXfs,{},{revssf:{General:0}}),t.Props||(t.Props={}),l="docProps/core.xml",Lt(o,l,Xm(t.Props,s)),n.coreprops.push(l),Xt(s.rels,2,l,Wt.CORE_PROPS),l="docProps/app.xml",!(t.Props&&t.Props.SheetNames))if(!t.Workbook||!t.Workbook.Sheets)t.Props.SheetNames=t.SheetNames;else{for(var d=[],h=0;h<t.SheetNames.length;++h)(t.Workbook.Sheets[h]||{}).Hidden!=2&&d.push(t.SheetNames[h]);t.Props.SheetNames=d}t.Props.Worksheets=t.Props.SheetNames.length,Lt(o,l,Qm(t.Props)),n.extprops.push(l),Xt(s.rels,3,l,Wt.EXT_PROPS),t.Custprops!==t.Props&&rs(t.Custprops||{}).length>0&&(l="docProps/custom.xml",Lt(o,l,Zm(t.Custprops)),n.custprops.push(l),Xt(s.rels,4,l,Wt.CUST_PROPS));var u=["SheetJ5"];for(s.tcid=0,c=1;c<=t.SheetNames.length;++c){var x={"!id":{}},p=t.Sheets[t.SheetNames[c-1]],m=(p||{})["!type"]||"sheet";switch(m){case"chart":default:l="xl/worksheets/sheet"+c+"."+r,Lt(o,l,Ax(c-1,s,t,x)),n.sheets.push(l),Xt(s.wbrels,-1,"worksheets/sheet"+c+"."+r,Wt.WS[0])}if(p){var y=p["!comments"],g=!1,b="";if(y&&y.length>0){var w=!1;y.forEach(function(N){N[1].forEach(function(j){j.T==!0&&(w=!0)})}),w&&(b="xl/threadedComments/threadedComment"+c+"."+r,Lt(o,b,Wb(y,u,s)),n.threadedcomments.push(b),Xt(x,-1,"../threadedComments/threadedComment"+c+"."+r,Wt.TCMNT)),b="xl/comments"+c+"."+r,Lt(o,b,px(y)),n.comments.push(b),Xt(x,-1,"../comments"+c+"."+r,Wt.CMNT),g=!0}p["!legacy"]&&g&&Lt(o,"xl/drawings/vmlDrawing"+c+".vml",xx(c,p["!comments"])),delete p["!comments"],delete p["!legacy"]}x["!id"].rId1&&Lt(o,Ym(l),Xi(x))}return s.Strings!=null&&s.Strings.length>0&&(l="xl/sharedStrings."+r,Lt(o,l,ox(s.Strings,s)),n.strs.push(l),Xt(s.wbrels,-1,"sharedStrings."+r,Wt.SST)),l="xl/workbook."+r,Lt(o,l,Tx(t)),n.workbooks.push(l),Xt(s.rels,1,l,Wt.WB),l="xl/theme/theme1.xml",Lt(o,l,fx(t.Themes,s)),n.themes.push(l),Xt(s.wbrels,-1,"theme/theme1.xml",Wt.THEME),l="xl/styles."+r,Lt(o,l,hx(t,s)),n.styles.push(l),Xt(s.wbrels,-1,"styles."+r,Wt.STY),t.vbaraw&&a&&(l="xl/vbaProject.bin",Lt(o,l,t.vbaraw),n.vba.push(l),Xt(s.wbrels,-1,"vbaProject.bin",Wt.VBA)),l="xl/metadata."+r,Lt(o,l,mx()),n.metadata.push(l),Xt(s.wbrels,-1,"metadata."+r,Wt.XLMETA),u.length>1&&(l="xl/persons/person.xml",Lt(o,l,qb(u)),n.people.push(l),Xt(s.wbrels,-1,"persons/person.xml",Wt.PEOPLE)),Lt(o,"[Content_Types].xml",Gm(n,s)),Lt(o,"_rels/.rels",Xi(s.rels)),Lt(o,"xl/_rels/workbook."+r+".rels",Xi(s.wbrels)),delete s.revssf,delete s.ssf,o}function u3(t,s){var r="";switch((s||{}).type||"base64"){case"buffer":return[t[0],t[1],t[2],t[3],t[4],t[5],t[6],t[7]];case"base64":r=sn(t.slice(0,12));break;case"binary":r=t;break;case"array":return[t[0],t[1],t[2],t[3],t[4],t[5],t[6],t[7]];default:throw new Error("Unrecognized type "+(s&&s.type||"undefined"))}return[r.charCodeAt(0),r.charCodeAt(1),r.charCodeAt(2),r.charCodeAt(3),r.charCodeAt(4),r.charCodeAt(5),r.charCodeAt(6),r.charCodeAt(7)]}function Ix(t,s){switch(s.type){case"base64":case"binary":break;case"buffer":case"array":s.type="";break;case"file":return hl(s.file,rr.write(t,{type:zt?"buffer":""}));case"string":throw new Error("'string' output type invalid for '"+s.bookType+"' files");default:throw new Error("Unrecognized type "+s.type)}return rr.write(t,s)}function f3(t,s){var r=Fs(s||{}),a=c3(t,r);return m3(a,r)}function m3(t,s){var r={},a=zt?"nodebuffer":typeof Uint8Array<"u"?"array":"string";if(s.compression&&(r.compression="DEFLATE"),s.password)r.type=a;else switch(s.type){case"base64":r.type="base64";break;case"binary":r.type="string";break;case"string":throw new Error("'string' output type invalid for '"+s.bookType+"' files");case"buffer":case"file":r.type=a;break;default:throw new Error("Unrecognized type "+s.type)}var n=t.FullPaths?rr.write(t,{fileType:"zip",type:{nodebuffer:"buffer",string:"binary"}[r.type]||r.type,compression:!!s.compression}):t.generate(r);if(typeof Deno<"u"&&typeof n=="string"){if(s.type=="binary"||s.type=="base64")return n;n=new Uint8Array(ed(n))}return s.password&&typeof encrypt_agile<"u"?Ix(encrypt_agile(n,s.password),s):s.type==="file"?hl(s.file,n):s.type=="string"?Xo(n):n}function x3(t,s){var r=s||{},a=PN(t,r);return Ix(a,r)}function Da(t,s,r){r||(r="");var a=r+t;switch(s.type){case"base64":return al(il(a));case"binary":return il(a);case"string":return t;case"file":return hl(s.file,a,"utf8");case"buffer":return zt?nn(a,"utf8"):typeof TextEncoder<"u"?new TextEncoder().encode(a):Da(a,{type:"binary"}).split("").map(function(n){return n.charCodeAt(0)})}throw new Error("Unrecognized type "+s.type)}function p3(t,s){switch(s.type){case"base64":return al(t);case"binary":return t;case"string":return t;case"file":return hl(s.file,t,"binary");case"buffer":return zt?nn(t,"binary"):t.split("").map(function(r){return r.charCodeAt(0)})}throw new Error("Unrecognized type "+s.type)}function Sc(t,s){switch(s.type){case"string":case"base64":case"binary":for(var r="",a=0;a<t.length;++a)r+=String.fromCharCode(t[a]);return s.type=="base64"?al(r):s.type=="string"?Xo(r):r;case"file":return hl(s.file,t);case"buffer":return t;default:throw new Error("Unrecognized type "+s.type)}}function Rx(t,s){z2(),tN(t);var r=Fs(s||{});if(r.cellStyles&&(r.cellNF=!0,r.sheetStubs=!0),r.type=="array"){r.type="binary";var a=Rx(t,r);return r.type="array",ed(a)}var n=0;if(r.sheet&&(typeof r.sheet=="number"?n=r.sheet:n=t.SheetNames.indexOf(r.sheet),!t.SheetNames[n]))throw new Error("Sheet not found: "+r.sheet+" : "+typeof r.sheet);switch(r.bookType||"xlsb"){case"xml":case"xlml":return Da(TN(t,r),r);case"slk":case"sylk":return Da(Qy.from_sheet(t.Sheets[t.SheetNames[n]],r),r);case"htm":case"html":return Da(Fx(t.Sheets[t.SheetNames[n]],r),r);case"txt":return p3(Mx(t.Sheets[t.SheetNames[n]],r),r);case"csv":return Da(mh(t.Sheets[t.SheetNames[n]],r),r,"\uFEFF");case"dif":return Da(Zy.from_sheet(t.Sheets[t.SheetNames[n]],r),r);case"dbf":return Sc(Jy.from_sheet(t.Sheets[t.SheetNames[n]],r),r);case"prn":return Da(eb.from_sheet(t.Sheets[t.SheetNames[n]],r),r);case"rtf":return Da(ob.from_sheet(t.Sheets[t.SheetNames[n]],r),r);case"eth":return Da(ix.from_sheet(t.Sheets[t.SheetNames[n]],r),r);case"fods":return Da(Dx(t,r),r);case"wk1":return Sc(rf.sheet_to_wk1(t.Sheets[t.SheetNames[n]],r),r);case"wk3":return Sc(rf.book_to_wk3(t,r),r);case"biff2":r.biff||(r.biff=2);case"biff3":r.biff||(r.biff=3);case"biff4":return r.biff||(r.biff=4),Sc(Px(t,r),r);case"biff5":r.biff||(r.biff=5);case"biff8":case"xla":case"xls":return r.biff||(r.biff=8),x3(t,r);case"xlsx":case"xlsm":case"xlam":case"xlsb":case"numbers":case"ods":return f3(t,r);default:throw new Error("Unrecognized bookType |"+r.bookType+"|")}}function g3(t){if(!t.bookType){var s={xls:"biff8",htm:"html",slk:"sylk",socialcalc:"eth",Sh33tJS:"WTF"},r=t.file.slice(t.file.lastIndexOf(".")).toLowerCase();r.match(/^\.[a-z]+$/)&&(t.bookType=r.slice(1)),t.bookType=s[t.bookType]||t.bookType}}function v3(t,s,r){var a={};return a.type="file",a.file=s,g3(a),Rx(t,a)}function y3(t,s,r,a,n,o,l,c){var d=ts(r),h=c.defval,u=c.raw||!Object.prototype.hasOwnProperty.call(c,"raw"),x=!0,p=n===1?[]:{};if(n!==1)if(Object.defineProperty)try{Object.defineProperty(p,"__rowNum__",{value:r,enumerable:!1})}catch{p.__rowNum__=r}else p.__rowNum__=r;if(!l||t[r])for(var m=s.s.c;m<=s.e.c;++m){var y=l?t[r][m]:t[a[m]+d];if(y===void 0||y.t===void 0){if(h===void 0)continue;o[m]!=null&&(p[o[m]]=h);continue}var g=y.v;switch(y.t){case"z":if(g==null)break;continue;case"e":g=g==0?null:void 0;break;case"s":case"d":case"b":case"n":break;default:throw new Error("unrecognized type "+y.t)}if(o[m]!=null){if(g==null)if(y.t=="e"&&g===null)p[o[m]]=null;else if(h!==void 0)p[o[m]]=h;else if(u&&g===null)p[o[m]]=null;else continue;else p[o[m]]=u&&(y.t!=="n"||y.t==="n"&&c.rawNumbers!==!1)?g:an(y,g,c);g!=null&&(x=!1)}}return{row:p,isempty:x}}function Yc(t,s){if(t==null||t["!ref"]==null)return[];var r={t:"n",v:0},a=0,n=1,o=[],l=0,c="",d={s:{r:0,c:0},e:{r:0,c:0}},h=s||{},u=h.range!=null?h.range:t["!ref"];switch(h.header===1?a=1:h.header==="A"?a=2:Array.isArray(h.header)?a=3:h.header==null&&(a=0),typeof u){case"string":d=ur(u);break;case"number":d=ur(t["!ref"]),d.s.r=u;break;default:d=u}a>0&&(n=0);var x=ts(d.s.r),p=[],m=[],y=0,g=0,b=Array.isArray(t),w=d.s.r,N=0,j={};b&&!t[w]&&(t[w]=[]);var k=h.skipHidden&&t["!cols"]||[],L=h.skipHidden&&t["!rows"]||[];for(N=d.s.c;N<=d.e.c;++N)if(!(k[N]||{}).hidden)switch(p[N]=us(N),r=b?t[w][N]:t[p[N]+x],a){case 1:o[N]=N-d.s.c;break;case 2:o[N]=p[N];break;case 3:o[N]=h.header[N-d.s.c];break;default:if(r==null&&(r={w:"__EMPTY",t:"s"}),c=l=an(r,null,h),g=j[l]||0,!g)j[l]=1;else{do c=l+"_"+g++;while(j[c]);j[l]=g,j[c]=1}o[N]=c}for(w=d.s.r+n;w<=d.e.r;++w)if(!(L[w]||{}).hidden){var F=y3(t,d,w,p,a,o,b,h);(F.isempty===!1||(a===1?h.blankrows!==!1:h.blankrows))&&(m[y++]=F.row)}return m.length=y,m}var hf=/"/g;function b3(t,s,r,a,n,o,l,c){for(var d=!0,h=[],u="",x=ts(r),p=s.s.c;p<=s.e.c;++p)if(a[p]){var m=c.dense?(t[r]||[])[p]:t[a[p]+x];if(m==null)u="";else if(m.v!=null){d=!1,u=""+(c.rawNumbers&&m.t=="n"?m.v:an(m,null,c));for(var y=0,g=0;y!==u.length;++y)if((g=u.charCodeAt(y))===n||g===o||g===34||c.forceQuotes){u='"'+u.replace(hf,'""')+'"';break}u=="ID"&&(u='"ID"')}else m.f!=null&&!m.F?(d=!1,u="="+m.f,u.indexOf(",")>=0&&(u='"'+u.replace(hf,'""')+'"')):u="";h.push(u)}return c.blankrows===!1&&d?null:h.join(l)}function mh(t,s){var r=[],a=s??{};if(t==null||t["!ref"]==null)return"";var n=ur(t["!ref"]),o=a.FS!==void 0?a.FS:",",l=o.charCodeAt(0),c=a.RS!==void 0?a.RS:`
`,d=c.charCodeAt(0),h=new RegExp((o=="|"?"\\|":o)+"+$"),u="",x=[];a.dense=Array.isArray(t);for(var p=a.skipHidden&&t["!cols"]||[],m=a.skipHidden&&t["!rows"]||[],y=n.s.c;y<=n.e.c;++y)(p[y]||{}).hidden||(x[y]=us(y));for(var g=0,b=n.s.r;b<=n.e.r;++b)(m[b]||{}).hidden||(u=b3(t,n,b,x,l,d,o,a),u!=null&&(a.strip&&(u=u.replace(h,"")),(u||a.blankrows!==!1)&&r.push((g++?c:"")+u)));return delete a.dense,r.join("")}function Mx(t,s){s||(s={}),s.FS="	",s.RS=`
`;var r=mh(t,s);return r}function w3(t){var s="",r,a="";if(t==null||t["!ref"]==null)return[];var n=ur(t["!ref"]),o="",l=[],c,d=[],h=Array.isArray(t);for(c=n.s.c;c<=n.e.c;++c)l[c]=us(c);for(var u=n.s.r;u<=n.e.r;++u)for(o=ts(u),c=n.s.c;c<=n.e.c;++c)if(s=l[c]+o,r=h?(t[u]||[])[c]:t[s],a="",r!==void 0){if(r.F!=null){if(s=r.F,!r.f)continue;a=r.f,s.indexOf(":")==-1&&(s=s+":"+s)}if(r.f!=null)a=r.f;else{if(r.t=="z")continue;if(r.t=="n"&&r.v!=null)a=""+r.v;else if(r.t=="b")a=r.v?"TRUE":"FALSE";else if(r.w!==void 0)a="'"+r.w;else{if(r.v===void 0)continue;r.t=="s"?a="'"+r.v:a=""+r.v}}d[d.length]=s+"="+a}return d}function Bx(t,s,r){var a=r||{},n=+!a.skipHeader,o=t||{},l=0,c=0;if(o&&a.origin!=null)if(typeof a.origin=="number")l=a.origin;else{var d=typeof a.origin=="string"?Gr(a.origin):a.origin;l=d.r,c=d.c}var h,u={s:{c:0,r:0},e:{c,r:l+s.length-1+n}};if(o["!ref"]){var x=ur(o["!ref"]);u.e.c=Math.max(u.e.c,x.e.c),u.e.r=Math.max(u.e.r,x.e.r),l==-1&&(l=x.e.r+1,u.e.r=l+s.length-1+n)}else l==-1&&(l=0,u.e.r=s.length-1+n);var p=a.header||[],m=0;s.forEach(function(g,b){rs(g).forEach(function(w){(m=p.indexOf(w))==-1&&(p[m=p.length]=w);var N=g[w],j="z",k="",L=Qt({c:c+m,r:l+b+n});h=cl(o,L),N&&typeof N=="object"&&!(N instanceof Date)?o[L]=N:(typeof N=="number"?j="n":typeof N=="boolean"?j="b":typeof N=="string"?j="s":N instanceof Date?(j="d",a.cellDates||(j="n",N=Ps(N)),k=a.dateNF||Nr[14]):N===null&&a.nullError&&(j="e",N=0),h?(h.t=j,h.v=N,delete h.w,delete h.R,k&&(h.z=k)):o[L]=h={t:j,v:N},k&&(h.z=k))})}),u.e.c=Math.max(u.e.c,c+p.length-1);var y=ts(l);if(n)for(m=0;m<p.length;++m)o[us(m+c)+y]={t:"s",v:p[m]};return o["!ref"]=Dr(u),o}function N3(t,s){return Bx(null,t,s)}function cl(t,s,r){if(typeof s=="string"){if(Array.isArray(t)){var a=Gr(s);return t[a.r]||(t[a.r]=[]),t[a.r][a.c]||(t[a.r][a.c]={t:"z"})}return t[s]||(t[s]={t:"z"})}return typeof s!="number"?cl(t,Qt(s)):cl(t,Qt({r:s,c:r||0}))}function j3(t,s){if(typeof s=="number"){if(s>=0&&t.SheetNames.length>s)return s;throw new Error("Cannot find sheet # "+s)}else if(typeof s=="string"){var r=t.SheetNames.indexOf(s);if(r>-1)return r;throw new Error("Cannot find sheet name |"+s+"|")}else throw new Error("Cannot find sheet |"+s+"|")}function S3(){return{SheetNames:[],Sheets:{}}}function k3(t,s,r,a){var n=1;if(!r)for(;n<=65535&&t.SheetNames.indexOf(r="Sheet"+n)!=-1;++n,r=void 0);if(!r||t.SheetNames.length>=65535)throw new Error("Too many worksheets");if(a&&t.SheetNames.indexOf(r)>=0){var o=r.match(/(^.*?)(\d+)$/);n=o&&+o[2]||0;var l=o&&o[1]||r;for(++n;n<=65535&&t.SheetNames.indexOf(r=l+n)!=-1;++n);}if(Cx(r),t.SheetNames.indexOf(r)>=0)throw new Error("Worksheet with name |"+r+"| already exists!");return t.SheetNames.push(r),t.Sheets[r]=s,r}function A3(t,s,r){t.Workbook||(t.Workbook={}),t.Workbook.Sheets||(t.Workbook.Sheets=[]);var a=j3(t,s);switch(t.Workbook.Sheets[a]||(t.Workbook.Sheets[a]={}),r){case 0:case 1:case 2:break;default:throw new Error("Bad sheet visibility setting "+r)}t.Workbook.Sheets[a].Hidden=r}function _3(t,s){return t.z=s,t}function Ux(t,s,r){return s?(t.l={Target:s},r&&(t.l.Tooltip=r)):delete t.l,t}function C3(t,s,r){return Ux(t,"#"+s,r)}function T3(t,s,r){t.c||(t.c=[]),t.c.push({t:s,a:r||"SheetJS"})}function E3(t,s,r,a){for(var n=typeof s!="string"?s:ur(s),o=typeof s=="string"?s:Dr(s),l=n.s.r;l<=n.e.r;++l)for(var c=n.s.c;c<=n.e.c;++c){var d=cl(t,l,c);d.t="n",d.F=o,delete d.v,l==n.s.r&&c==n.s.c&&(d.f=r,a&&(d.D=!0))}return t}var Ur={encode_col:us,encode_row:ts,encode_cell:Qt,encode_range:Dr,decode_col:sh,decode_row:rh,split_cell:zv,decode_cell:Gr,decode_range:$s,format_cell:an,sheet_add_aoa:Um,sheet_add_json:Bx,sheet_add_dom:Lx,aoa_to_sheet:ao,json_to_sheet:N3,table_to_sheet:Ox,table_to_book:ZN,sheet_to_csv:mh,sheet_to_txt:Mx,sheet_to_json:Yc,sheet_to_html:Fx,sheet_to_formulae:w3,sheet_to_row_object_array:Yc,sheet_get_cell:cl,book_new:S3,book_append_sheet:k3,book_set_sheet_visibility:A3,cell_set_number_format:_3,cell_set_hyperlink:Ux,cell_set_internal_link:C3,cell_add_comment:T3,sheet_set_array_formula:E3,consts:{SHEET_VISIBLE:0,SHEET_HIDDEN:1,SHEET_VERY_HIDDEN:2}};const x0=[{id:"sales",name:"Sales Report",description:"Revenue, orders, and sales performance",icon:"ðŸ“Š",color:"afri-green"},{id:"inventory",name:"Inventory Report",description:"Stock levels, low stock items, and product performance",icon:"ðŸ“¦",color:"blue-600"},{id:"orders",name:"Order Report",description:"Order history, status breakdown, and delivery metrics",icon:"ðŸ“‹",color:"purple-600"},{id:"revenue",name:"Revenue Report",description:"Earnings breakdown, payment status, and financial summary",icon:"ðŸ’°",color:"afri-yellow-dark"}],P3=[{label:"Today",value:"today"},{label:"Yesterday",value:"yesterday"},{label:"Last 7 Days",value:"week"},{label:"Last 30 Days",value:"month"},{label:"This Month",value:"thisMonth"},{label:"Last Month",value:"lastMonth"},{label:"Custom Range",value:"custom"}];function F3(){const[t,s]=J.useState(null),[r,a]=J.useState("week"),[n,o]=J.useState(""),[l,c]=J.useState(""),[d,h]=J.useState(!1),[u,x]=J.useState(null),[p,m]=J.useState(!1),y=async()=>{if(!t){alert("Please select a report type");return}h(!0);try{const{startDate:N,endDate:j}=g();let k;switch(t){case"sales":k=await xr.getSalesReport({startDate:N,endDate:j});break;case"inventory":k=await xr.getInventoryReport();break;case"orders":k=await xr.getOrdersReport({startDate:N,endDate:j});break;case"revenue":k=await xr.getRevenueReport({startDate:N,endDate:j});break;default:throw new Error("Invalid report type")}k.success&&(x(k.data),m(!0))}catch(N){console.error("Error generating report:",N),alert(N.message||"Failed to generate report")}finally{h(!1)}},g=()=>{const N=new Date;let j,k;switch(r){case"today":j=new Date(N.setHours(0,0,0,0)),k=new Date(N.setHours(23,59,59,999));break;case"yesterday":j=new Date(N.setDate(N.getDate()-1)),j.setHours(0,0,0,0),k=new Date(j),k.setHours(23,59,59,999);break;case"week":j=new Date(N.setDate(N.getDate()-7)),k=new Date;break;case"month":j=new Date(N.setDate(N.getDate()-30)),k=new Date;break;case"thisMonth":j=new Date(N.getFullYear(),N.getMonth(),1),k=new Date;break;case"lastMonth":j=new Date(N.getFullYear(),N.getMonth()-1,1),k=new Date(N.getFullYear(),N.getMonth(),0);break;case"custom":j=new Date(n),k=new Date(l);break;default:j=new Date(N.setDate(N.getDate()-7)),k=new Date}return{startDate:j.toISOString(),endDate:k.toISOString()}},b=()=>{var C,I,D,E,P,W;if(!u)return;const N=new vt,j=x0.find(z=>z.id===t);N.setFontSize(20),N.setTextColor(0,178,7),N.text(j.name,14,20),N.setFontSize(10),N.setTextColor(100);const{startDate:k,endDate:L}=g();N.text(`Generated: ${new Date().toLocaleDateString()} | Period: ${new Date(k).toLocaleDateString()} - ${new Date(L).toLocaleDateString()}`,14,28);let F=40;if(t==="sales"){N.setFontSize(14),N.setTextColor(0),N.text("Summary",14,F),F+=10;const z=[["Total Revenue",`Â£${((C=u.totalRevenue)==null?void 0:C.toFixed(2))||"0.00"}`],["Total Orders",u.totalOrders||0],["Average Order Value",`Â£${((I=u.avgOrderValue)==null?void 0:I.toFixed(2))||"0.00"}`],["Total Items Sold",u.totalItemsSold||0]];if(N.autoTable({startY:F,head:[["Metric","Value"]],body:z,theme:"grid",headStyles:{fillColor:[0,178,7]}}),u.topProducts&&u.topProducts.length>0){F=N.lastAutoTable.finalY+15,N.setFontSize(14),N.text("Top Products",14,F),F+=5;const ue=u.topProducts.map((Q,ee)=>{var ie;return[ee+1,Q.name,Q.soldQuantity,`Â£${((ie=Q.revenue)==null?void 0:ie.toFixed(2))||"0.00"}`]});N.autoTable({startY:F+5,head:[["#","Product","Qty Sold","Revenue"]],body:ue,theme:"striped",headStyles:{fillColor:[0,178,7]}})}}else if(t==="inventory"){N.setFontSize(14),N.text("Stock Overview",14,F),F+=10;const z=[["Total Products",u.totalProducts||0],["In Stock",u.inStock||0],["Out of Stock",u.outOfStock||0],["Low Stock",u.lowStock||0]];if(N.autoTable({startY:F,head:[["Category","Count"]],body:z,theme:"grid",headStyles:{fillColor:[0,178,7]}}),u.lowStockItems&&u.lowStockItems.length>0){F=N.lastAutoTable.finalY+15,N.setFontSize(14),N.text("Low Stock Items",14,F),F+=5;const ue=u.lowStockItems.map(Q=>[Q.name,Q.currentStock,Q.lowStockThreshold,Q.status]);N.autoTable({startY:F+5,head:[["Product","Current Stock","Threshold","Status"]],body:ue,theme:"striped",headStyles:{fillColor:[255,138,0]}})}}else if(t==="orders"){N.setFontSize(14),N.text("Orders Summary",14,F),F+=10;const z=[["Total Orders",u.totalOrders||0],["Completed",u.completed||0],["Pending",u.pending||0],["Cancelled",u.cancelled||0]];if(N.autoTable({startY:F,head:[["Status","Count"]],body:z,theme:"grid",headStyles:{fillColor:[0,178,7]}}),u.orders&&u.orders.length>0){F=N.lastAutoTable.finalY+15,N.setFontSize(14),N.text("Order Details",14,F),F+=5;const ue=u.orders.map(Q=>{var ee;return[Q.orderNumber,new Date(Q.createdAt).toLocaleDateString(),Q.status,`Â£${((ee=Q.total)==null?void 0:ee.toFixed(2))||"0.00"}`]});N.autoTable({startY:F+5,head:[["Order #","Date","Status","Total"]],body:ue,theme:"striped",headStyles:{fillColor:[0,178,7]}})}}else if(t==="revenue"){N.setFontSize(14),N.text("Revenue Summary",14,F),F+=10;const z=[["Total Revenue",`Â£${((D=u.totalRevenue)==null?void 0:D.toFixed(2))||"0.00"}`],["Paid",`Â£${((E=u.paidRevenue)==null?void 0:E.toFixed(2))||"0.00"}`],["Pending",`Â£${((P=u.pendingRevenue)==null?void 0:P.toFixed(2))||"0.00"}`],["Refunded",`Â£${((W=u.refundedRevenue)==null?void 0:W.toFixed(2))||"0.00"}`]];if(N.autoTable({startY:F,head:[["Category","Amount"]],body:z,theme:"grid",headStyles:{fillColor:[0,178,7]}}),u.dailyRevenue&&u.dailyRevenue.length>0){F=N.lastAutoTable.finalY+15,N.setFontSize(14),N.text("Daily Revenue Breakdown",14,F),F+=5;const ue=u.dailyRevenue.map(Q=>{var ee;return[new Date(Q.date).toLocaleDateString(),Q.orders,`Â£${((ee=Q.revenue)==null?void 0:ee.toFixed(2))||"0.00"}`]});N.autoTable({startY:F+5,head:[["Date","Orders","Revenue"]],body:ue,theme:"striped",headStyles:{fillColor:[0,178,7]}})}}const T=N.internal.getNumberOfPages();for(let z=1;z<=T;z++)N.setPage(z),N.setFontSize(8),N.setTextColor(150),N.text(`Afrimercato - ${j.name} | Page ${z} of ${T}`,14,N.internal.pageSize.height-10);N.save(`${t}-report-${new Date().toISOString().split("T")[0]}.pdf`)},w=()=>{var k,L,F,T,C,I;if(!u)return;const N=x0.find(D=>D.id===t),j=Ur.book_new();if(t==="sales"){const D=[["Metric","Value"],["Total Revenue",((k=u.totalRevenue)==null?void 0:k.toFixed(2))||"0.00"],["Total Orders",u.totalOrders||0],["Average Order Value",((L=u.avgOrderValue)==null?void 0:L.toFixed(2))||"0.00"],["Total Items Sold",u.totalItemsSold||0]],E=Ur.aoa_to_sheet(D);if(Ur.book_append_sheet(j,E,"Summary"),u.topProducts&&u.topProducts.length>0){const P=[["Rank","Product","Quantity Sold","Revenue"],...u.topProducts.map((z,ue)=>{var Q;return[ue+1,z.name,z.soldQuantity,((Q=z.revenue)==null?void 0:Q.toFixed(2))||"0.00"]})],W=Ur.aoa_to_sheet(P);Ur.book_append_sheet(j,W,"Top Products")}}else if(t==="inventory"){const D=[["Category","Count"],["Total Products",u.totalProducts||0],["In Stock",u.inStock||0],["Out of Stock",u.outOfStock||0],["Low Stock",u.lowStock||0]],E=Ur.aoa_to_sheet(D);if(Ur.book_append_sheet(j,E,"Overview"),u.lowStockItems&&u.lowStockItems.length>0){const P=[["Product","Current Stock","Threshold","Status"],...u.lowStockItems.map(z=>[z.name,z.currentStock,z.lowStockThreshold,z.status])],W=Ur.aoa_to_sheet(P);Ur.book_append_sheet(j,W,"Low Stock Items")}if(u.allProducts&&u.allProducts.length>0){const P=[["Name","Category","Stock","Price","Status"],...u.allProducts.map(z=>[z.name,z.category,z.stock,z.price,z.inStock?"In Stock":"Out of Stock"])],W=Ur.aoa_to_sheet(P);Ur.book_append_sheet(j,W,"All Products")}}else if(t==="orders"){const D=[["Status","Count"],["Total Orders",u.totalOrders||0],["Completed",u.completed||0],["Pending",u.pending||0],["Cancelled",u.cancelled||0]],E=Ur.aoa_to_sheet(D);if(Ur.book_append_sheet(j,E,"Summary"),u.orders&&u.orders.length>0){const P=[["Order Number","Date","Customer","Status","Items","Total"],...u.orders.map(z=>{var ue;return[z.orderNumber,new Date(z.createdAt).toLocaleDateString(),z.customerName||"N/A",z.status,z.itemsCount||0,((ue=z.total)==null?void 0:ue.toFixed(2))||"0.00"]})],W=Ur.aoa_to_sheet(P);Ur.book_append_sheet(j,W,"Orders")}}else if(t==="revenue"){const D=[["Category","Amount (Â£)"],["Total Revenue",((F=u.totalRevenue)==null?void 0:F.toFixed(2))||"0.00"],["Paid",((T=u.paidRevenue)==null?void 0:T.toFixed(2))||"0.00"],["Pending",((C=u.pendingRevenue)==null?void 0:C.toFixed(2))||"0.00"],["Refunded",((I=u.refundedRevenue)==null?void 0:I.toFixed(2))||"0.00"]],E=Ur.aoa_to_sheet(D);if(Ur.book_append_sheet(j,E,"Summary"),u.dailyRevenue&&u.dailyRevenue.length>0){const P=[["Date","Orders","Revenue (Â£)"],...u.dailyRevenue.map(z=>{var ue;return[new Date(z.date).toLocaleDateString(),z.orders,((ue=z.revenue)==null?void 0:ue.toFixed(2))||"0.00"]})],W=Ur.aoa_to_sheet(P);Ur.book_append_sheet(j,W,"Daily Revenue")}}v3(j,`${N.name.replace(" ","-")}-${new Date().toISOString().split("T")[0]}.xlsx`)};return e.jsxs("div",{className:"p-6",children:[e.jsxs("div",{className:"mb-8",children:[e.jsx("h1",{className:"text-3xl font-bold text-afri-gray-900",children:"Reports"}),e.jsx("p",{className:"text-afri-gray-600 mt-1",children:"Generate and export business reports"})]}),e.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-3 gap-6",children:[e.jsx("div",{className:"lg:col-span-1",children:e.jsxs("div",{className:"bg-white rounded-lg shadow p-6",children:[e.jsx("h2",{className:"text-lg font-semibold text-afri-gray-900 mb-4",children:"Select Report Type"}),e.jsx("div",{className:"space-y-3",children:x0.map(N=>e.jsx("button",{onClick:()=>s(N.id),className:`w-full text-left p-4 rounded-lg border-2 transition ${t===N.id?`border-${N.color} bg-${N.color} bg-opacity-10`:"border-gray-200 hover:border-gray-300"}`,children:e.jsxs("div",{className:"flex items-start",children:[e.jsx("span",{className:"text-2xl mr-3",children:N.icon}),e.jsxs("div",{className:"flex-1",children:[e.jsx("h3",{className:"font-semibold text-afri-gray-900",children:N.name}),e.jsx("p",{className:"text-sm text-afri-gray-600 mt-1",children:N.description})]})]})},N.id))})]})}),e.jsx("div",{className:"lg:col-span-2",children:e.jsxs("div",{className:"bg-white rounded-lg shadow p-6",children:[e.jsx("h2",{className:"text-lg font-semibold text-afri-gray-900 mb-4",children:"Report Configuration"}),t?e.jsxs("div",{className:"space-y-6",children:[t!=="inventory"&&e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-afri-gray-700 mb-2",children:"Date Range"}),e.jsx("div",{className:"grid grid-cols-2 sm:grid-cols-4 gap-2",children:P3.map(N=>e.jsx("button",{onClick:()=>a(N.value),className:`px-4 py-2 rounded-lg font-medium transition ${r===N.value?"bg-afri-green text-white":"bg-afri-gray-50 text-afri-gray-700 hover:bg-afri-gray-100"}`,children:N.label},N.value))}),r==="custom"&&e.jsxs("div",{className:"grid grid-cols-2 gap-4 mt-4",children:[e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-afri-gray-700 mb-1",children:"Start Date"}),e.jsx("input",{type:"date",value:n,onChange:N=>o(N.target.value),className:"w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-afri-green focus:border-transparent"})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-afri-gray-700 mb-1",children:"End Date"}),e.jsx("input",{type:"date",value:l,onChange:N=>c(N.target.value),className:"w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-afri-green focus:border-transparent"})]})]})]}),e.jsxs("div",{className:"flex gap-3",children:[e.jsx("button",{onClick:y,disabled:d,className:"flex-1 bg-afri-green text-white px-6 py-3 rounded-lg font-semibold hover:bg-afri-green-dark transition disabled:opacity-50 disabled:cursor-not-allowed",children:d?e.jsxs("span",{className:"flex items-center justify-center",children:[e.jsxs("svg",{className:"animate-spin h-5 w-5 mr-2",fill:"none",viewBox:"0 0 24 24",children:[e.jsx("circle",{className:"opacity-25",cx:"12",cy:"12",r:"10",stroke:"currentColor",strokeWidth:"4"}),e.jsx("path",{className:"opacity-75",fill:"currentColor",d:"M4 12a8 8 0 018-8V0C5.373 0 0 5.373 0 12h4zm2 5.291A7.962 7.962 0 014 12H0c0 3.042 1.135 5.824 3 7.938l3-2.647z"})]}),"Generating..."]}):"Generate Report"}),u&&e.jsxs(e.Fragment,{children:[e.jsx("button",{onClick:b,className:"bg-red-600 text-white px-6 py-3 rounded-lg font-semibold hover:bg-red-700 transition",children:"Export PDF"}),e.jsx("button",{onClick:w,className:"bg-green-600 text-white px-6 py-3 rounded-lg font-semibold hover:bg-green-700 transition",children:"Export Excel"})]})]}),p&&u&&e.jsxs("div",{className:"mt-6 border-t pt-6",children:[e.jsx("h3",{className:"text-lg font-semibold text-afri-gray-900 mb-4",children:"Report Preview"}),e.jsx("div",{className:"bg-afri-gray-50 rounded-lg p-6",children:e.jsx("pre",{className:"text-sm text-afri-gray-700 whitespace-pre-wrap",children:JSON.stringify(u,null,2)})})]})]}):e.jsxs("div",{className:"text-center py-12",children:[e.jsx("svg",{className:"w-16 h-16 text-afri-gray-300 mx-auto mb-4",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M9 12h6m-6 4h6m2 5H7a2 2 0 01-2-2V5a2 2 0 012-2h5.586a1 1 0 01.707.293l5.414 5.414a1 1 0 01.293.707V19a2 2 0 01-2 2z"})}),e.jsx("p",{className:"text-afri-gray-600",children:"Select a report type to get started"})]})]})})]})]})}function L3({message:t,type:s="success",duration:r=3e3,onClose:a}){const[n,o]=J.useState(!0);J.useEffect(()=>{const d=setTimeout(()=>{o(!1),setTimeout(a,300)},r);return()=>clearTimeout(d)},[r,a]);const l=()=>{switch(s){case"success":return e.jsx("svg",{className:"w-6 h-6 text-green-400",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M9 12l2 2 4-4m6 2a9 9 0 11-18 0 9 9 0 0118 0z"})});case"error":return e.jsx("svg",{className:"w-6 h-6 text-red-400",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M10 14l2-2m0 0l2-2m-2 2l-2-2m2 2l2 2m7-2a9 9 0 11-18 0 9 9 0 0118 0z"})});case"warning":return e.jsx("svg",{className:"w-6 h-6 text-yellow-400",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M12 9v2m0 4h.01m-6.938 4h13.856c1.54 0 2.502-1.667 1.732-3L13.732 4c-.77-1.333-2.694-1.333-3.464 0L3.34 16c-.77 1.333.192 3 1.732 3z"})});case"info":return e.jsx("svg",{className:"w-6 h-6 text-blue-400",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M13 16h-1v-4h-1m1-4h.01M21 12a9 9 0 11-18 0 9 9 0 0118 0z"})});default:return null}},c=()=>{switch(s){case"success":return"bg-green-50 border-green-500";case"error":return"bg-red-50 border-red-500";case"warning":return"bg-yellow-50 border-yellow-500";case"info":return"bg-blue-50 border-blue-500";default:return"bg-gray-50 border-gray-500"}};return e.jsx("div",{className:`fixed top-4 right-4 z-50 max-w-md w-full transform transition-all duration-300 ${n?"translate-x-0 opacity-100":"translate-x-full opacity-0"}`,children:e.jsxs("div",{className:`${c()} border-l-4 rounded-lg shadow-lg p-4 flex items-start`,children:[e.jsx("div",{className:"flex-shrink-0",children:l()}),e.jsx("div",{className:"ml-3 flex-1",children:e.jsx("p",{className:"text-sm font-medium text-gray-900",children:t})}),e.jsx("button",{onClick:()=>{o(!1),setTimeout(a,300)},className:"ml-4 flex-shrink-0 text-gray-400 hover:text-gray-500 transition-colors",children:e.jsx("svg",{className:"w-5 h-5",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M6 18L18 6M6 6l12 12"})})})]})})}const O3=()=>{const[t,s]=J.useState([]),r=J.useCallback((n,o="success",l=3e3)=>{const c=Date.now(),d={id:c,message:n,type:o,duration:l};s(h=>[...h,d]),setTimeout(()=>{a(c)},l+300)},[]),a=J.useCallback(n=>{s(o=>o.filter(l=>l.id!==n))},[]);return{toasts:t,showToast:r,removeToast:a,success:(n,o)=>r(n,"success",o),error:(n,o)=>r(n,"error",o),warning:(n,o)=>r(n,"warning",o),info:(n,o)=>r(n,"info",o)}},D3=["fresh-produce","groceries","meat-fish","bakery","beverages","household","beauty-health","other"],I3=["monday","tuesday","wednesday","thursday","friday","saturday","sunday"],R3=[{code:"GB",name:"United Kingdom",region:"Europe"},{code:"US",name:"United States",region:"North America"},{code:"CA",name:"Canada",region:"North America"},{code:"DE",name:"Germany",region:"Europe"},{code:"FR",name:"France",region:"Europe"},{code:"ES",name:"Spain",region:"Europe"},{code:"IT",name:"Italy",region:"Europe"},{code:"NL",name:"Netherlands",region:"Europe"},{code:"BE",name:"Belgium",region:"Europe"},{code:"IE",name:"Ireland",region:"Europe"}];function M3(){var ee,ie,ne,pe,ye,_,R,M,B,Y,fe,ae;const{toasts:t,success:s,error:r,warning:a,removeToast:n}=O3(),[o,l]=J.useState("profile"),[c,d]=J.useState(!0),[h,u]=J.useState(!1),[x,p]=J.useState(!1),[m,y]=J.useState([]),[g,b]=J.useState(!1),[w,N]=J.useState({storeName:"",description:"",category:"fresh-produce",phone:"",alternativePhone:"",address:{street:"",city:"",state:"",country:"United Kingdom",postalCode:""},businessHours:{monday:{open:"09:00",close:"18:00",isOpen:!0},tuesday:{open:"09:00",close:"18:00",isOpen:!0},wednesday:{open:"09:00",close:"18:00",isOpen:!0},thursday:{open:"09:00",close:"18:00",isOpen:!0},friday:{open:"09:00",close:"18:00",isOpen:!0},saturday:{open:"09:00",close:"18:00",isOpen:!0},sunday:{open:"09:00",close:"18:00",isOpen:!1}}}),[j,k]=J.useState({name:"",email:"",phone:""}),[L,F]=J.useState({currentPassword:"",newPassword:"",confirmPassword:""});J.useEffect(()=>{T()},[]);const T=async()=>{try{d(!0);const[X,me]=await Promise.all([xr.getProfile(),Yi.getProfile()]);X.success&&N(X.data.vendor),me.success&&k(me.data.user)}catch(X){console.error("Error fetching settings:",X)}finally{d(!1)}},C=(X,me)=>{if(X.startsWith("address.")){const Ne=X.split(".")[1];N(De=>({...De,address:{...De.address,[Ne]:me}}))}else N(Ne=>({...Ne,[X]:me}))},I=(X,me,Ne)=>{N(De=>({...De,businessHours:{...De.businessHours,[X]:{...De.businessHours[X],[me]:Ne}}}))},D=(X,me)=>{k(Ne=>({...Ne,[X]:me}))},E=(X,me)=>{F(Ne=>({...Ne,[X]:me}))},P=async()=>{var me,Ne;const X=(Ne=(me=w.address)==null?void 0:me.postalCode)==null?void 0:Ne.trim();if(!X){a("Please enter a postcode first");return}try{p(!0);const Ve=await(await fetch(`https://api.postcodes.io/postcodes/${encodeURIComponent(X)}`)).json();if(Ve.status===200&&Ve.result){const Ke=Ve.result;N(Ee=>({...Ee,address:{...Ee.address,city:Ke.admin_district||Ke.postcode_area||"",state:Ke.admin_county||Ke.region||""}})),s("Address details filled! Please enter your street address.")}else a("Postcode not found. Please check and try again.")}catch(De){console.error("Postcode lookup error:",De),r("Failed to lookup postcode. You can still enter address manually.")}finally{p(!1)}},W=async()=>{var X,me;try{u(!0),(await xr.updateProfile(w)).success&&s("Vendor profile updated successfully!")}catch(Ne){r(((me=(X=Ne.response)==null?void 0:X.data)==null?void 0:me.message)||"Failed to update vendor profile")}finally{u(!1)}},z=async()=>{var X,me;try{u(!0),(await Yi.updateProfile(j)).success&&s("Account updated successfully!")}catch(Ne){r(((me=(X=Ne.response)==null?void 0:X.data)==null?void 0:me.message)||"Failed to update account")}finally{u(!1)}},ue=async()=>{var X,me;if(L.newPassword!==L.confirmPassword){a("Passwords do not match!");return}if(L.newPassword.length<6){a("Password must be at least 6 characters!");return}try{u(!0),(await Yi.changePassword({currentPassword:L.currentPassword,newPassword:L.newPassword})).success&&(s("Password changed successfully!"),F({currentPassword:"",newPassword:"",confirmPassword:""}))}catch(Ne){r(((me=(X=Ne.response)==null?void 0:X.data)==null?void 0:me.message)||"Failed to change password")}finally{u(!1)}},Q=[{id:"profile",name:"Store Profile",icon:"ðŸª"},{id:"account",name:"Account",icon:"ðŸ‘¤"},{id:"hours",name:"Business Hours",icon:"ðŸ•"},{id:"security",name:"Security",icon:"ðŸ”’"}];return c?e.jsx("div",{className:"flex justify-center items-center h-screen",children:e.jsx("div",{className:"relative",children:e.jsx("div",{className:"w-20 h-20 border-4 border-afri-green border-t-transparent rounded-full animate-spin"})})}):e.jsxs("div",{className:"space-y-6",children:[t.map(X=>e.jsx(L3,{message:X.message,type:X.type,duration:X.duration,onClose:()=>n(X.id)},X.id)),e.jsxs("div",{children:[e.jsx("h1",{className:"text-4xl font-bold bg-gradient-to-r from-afri-green to-afri-green-dark bg-clip-text text-transparent",children:"Settings"}),e.jsx("p",{className:"text-afri-gray-600 mt-2",children:"Manage your store and account settings"})]}),e.jsx("div",{className:"border-b border-gray-200",children:e.jsx("nav",{className:"-mb-px flex space-x-8",children:Q.map(X=>e.jsxs("button",{onClick:()=>l(X.id),className:`py-4 px-1 border-b-2 font-medium text-sm transition-all duration-200 flex items-center space-x-2 ${o===X.id?"border-afri-green text-afri-green":"border-transparent text-gray-500 hover:text-gray-700 hover:border-gray-300"}`,children:[e.jsx("span",{className:"text-xl",children:X.icon}),e.jsx("span",{children:X.name})]},X.id))})}),o==="profile"&&e.jsxs("div",{className:"bg-white rounded-xl shadow-lg p-6 space-y-6 animate-fadeIn",children:[e.jsxs("div",{children:[e.jsx("h2",{className:"text-2xl font-bold text-afri-gray-900 mb-4",children:"Store Information"}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-semibold text-afri-gray-900 mb-2",children:"Store Name"}),e.jsx("input",{type:"text",value:w.storeName,onChange:X=>C("storeName",X.target.value),className:"w-full px-4 py-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-afri-green focus:border-transparent transition-all"})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-semibold text-afri-gray-900 mb-2",children:"Category"}),e.jsx("select",{value:w.category,onChange:X=>C("category",X.target.value),className:"w-full px-4 py-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-afri-green focus:border-transparent transition-all",children:D3.map(X=>e.jsx("option",{value:X,children:X.split("-").map(me=>me.charAt(0).toUpperCase()+me.slice(1)).join(" ")},X))})]}),e.jsxs("div",{className:"md:col-span-2",children:[e.jsx("label",{className:"block text-sm font-semibold text-afri-gray-900 mb-2",children:"Description"}),e.jsx("textarea",{value:w.description,onChange:X=>C("description",X.target.value),rows:4,className:"w-full px-4 py-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-afri-green focus:border-transparent transition-all"})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-semibold text-afri-gray-900 mb-2",children:"Primary Phone"}),e.jsx("input",{type:"tel",value:w.phone,onChange:X=>C("phone",X.target.value),className:"w-full px-4 py-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-afri-green focus:border-transparent transition-all"})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-semibold text-afri-gray-900 mb-2",children:"Alternative Phone"}),e.jsx("input",{type:"tel",value:w.alternativePhone||"",onChange:X=>C("alternativePhone",X.target.value),className:"w-full px-4 py-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-afri-green focus:border-transparent transition-all"})]})]})]}),e.jsxs("div",{children:[e.jsx("h3",{className:"text-xl font-bold text-afri-gray-900 mb-4",children:"Address"}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[e.jsxs("div",{className:"md:col-span-2",children:[e.jsx("label",{className:"block text-sm font-semibold text-afri-gray-900 mb-2",children:"Street Address"}),e.jsx("input",{type:"text",value:((ee=w.address)==null?void 0:ee.street)||"",onChange:X=>C("address.street",X.target.value),className:"w-full px-4 py-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-afri-green focus:border-transparent transition-all"})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-semibold text-afri-gray-900 mb-2",children:"City"}),e.jsx("input",{type:"text",value:((ie=w.address)==null?void 0:ie.city)||"",onChange:X=>C("address.city",X.target.value),className:"w-full px-4 py-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-afri-green focus:border-transparent transition-all"})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-semibold text-afri-gray-900 mb-2",children:((ne=w.address)==null?void 0:ne.country)==="United Kingdom"?"County":"State/County"}),e.jsx("input",{type:"text",value:((pe=w.address)==null?void 0:pe.state)||"",onChange:X=>C("address.state",X.target.value),className:"w-full px-4 py-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-afri-green focus:border-transparent transition-all",placeholder:((ye=w.address)==null?void 0:ye.country)==="United Kingdom"?"e.g., Greater London":"State or County"})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-semibold text-afri-gray-900 mb-2",children:((_=w.address)==null?void 0:_.country)==="United Kingdom"?"Postcode":"Postal/Zip Code"}),e.jsxs("div",{className:"flex gap-2",children:[e.jsx("input",{type:"text",value:((R=w.address)==null?void 0:R.postalCode)||"",onChange:X=>C("address.postalCode",X.target.value.toUpperCase()),className:"flex-1 px-4 py-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-afri-green focus:border-transparent transition-all",placeholder:((M=w.address)==null?void 0:M.country)==="United Kingdom"?"e.g., SW1A 1AA":"Postal Code"}),((B=w.address)==null?void 0:B.country)==="United Kingdom"&&e.jsx("button",{type:"button",onClick:P,disabled:x||!((Y=w.address)!=null&&Y.postalCode),className:"px-4 py-3 bg-blue-600 text-white rounded-lg font-medium hover:bg-blue-700 transition-all disabled:opacity-50 disabled:cursor-not-allowed flex items-center whitespace-nowrap",children:x?e.jsxs(e.Fragment,{children:[e.jsxs("svg",{className:"animate-spin h-4 w-4 mr-2",fill:"none",viewBox:"0 0 24 24",children:[e.jsx("circle",{className:"opacity-25",cx:"12",cy:"12",r:"10",stroke:"currentColor",strokeWidth:"4"}),e.jsx("path",{className:"opacity-75",fill:"currentColor",d:"M4 12a8 8 0 018-8V0C5.373 0 0 5.373 0 12h4zm2 5.291A7.962 7.962 0 014 12H0c0 3.042 1.135 5.824 3 7.938l3-2.647z"})]}),"Looking up..."]}):e.jsxs(e.Fragment,{children:[e.jsx("svg",{className:"w-4 h-4 mr-2",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M21 21l-6-6m2-5a7 7 0 11-14 0 7 7 0 0114 0z"})}),"Find Address"]})})]}),((fe=w.address)==null?void 0:fe.country)==="United Kingdom"&&e.jsx("p",{className:"mt-1 text-xs text-gray-500",children:'Enter your postcode and click "Find Address" to auto-fill city and county'})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-semibold text-afri-gray-900 mb-2",children:"Country"}),e.jsx("select",{value:((ae=w.address)==null?void 0:ae.country)||"United Kingdom",onChange:X=>C("address.country",X.target.value),className:"w-full px-4 py-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-afri-green focus:border-transparent transition-all",children:R3.map(X=>e.jsx("option",{value:X.name,children:X.name},X.code))})]})]})]}),e.jsx("div",{className:"flex justify-end pt-6 border-t",children:e.jsx("button",{onClick:W,disabled:h,className:"px-8 py-3 bg-gradient-to-r from-afri-green to-afri-green-dark text-white rounded-lg font-semibold shadow-lg hover:shadow-xl transition-all transform hover:scale-105 disabled:opacity-50 disabled:cursor-not-allowed disabled:transform-none flex items-center",children:h?e.jsxs(e.Fragment,{children:[e.jsxs("svg",{className:"animate-spin h-5 w-5 mr-2",fill:"none",viewBox:"0 0 24 24",children:[e.jsx("circle",{className:"opacity-25",cx:"12",cy:"12",r:"10",stroke:"currentColor",strokeWidth:"4"}),e.jsx("path",{className:"opacity-75",fill:"currentColor",d:"M4 12a8 8 0 018-8V0C5.373 0 0 5.373 0 12h4zm2 5.291A7.962 7.962 0 014 12H0c0 3.042 1.135 5.824 3 7.938l3-2.647z"})]}),"Saving..."]}):"Save Changes"})})]}),o==="account"&&e.jsxs("div",{className:"bg-white rounded-xl shadow-lg p-6 space-y-6 animate-fadeIn",children:[e.jsxs("div",{children:[e.jsx("h2",{className:"text-2xl font-bold text-afri-gray-900 mb-4",children:"Account Information"}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-semibold text-afri-gray-900 mb-2",children:"Full Name"}),e.jsx("input",{type:"text",value:j.name,onChange:X=>D("name",X.target.value),className:"w-full px-4 py-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-afri-green focus:border-transparent transition-all"})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-semibold text-afri-gray-900 mb-2",children:"Email Address"}),e.jsx("input",{type:"email",value:j.email,onChange:X=>D("email",X.target.value),className:"w-full px-4 py-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-afri-green focus:border-transparent transition-all"})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-semibold text-afri-gray-900 mb-2",children:"Phone Number"}),e.jsx("input",{type:"tel",value:j.phone||"",onChange:X=>D("phone",X.target.value),className:"w-full px-4 py-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-afri-green focus:border-transparent transition-all"})]})]})]}),e.jsx("div",{className:"flex justify-end pt-6 border-t",children:e.jsx("button",{onClick:z,disabled:h,className:"px-8 py-3 bg-gradient-to-r from-afri-green to-afri-green-dark text-white rounded-lg font-semibold shadow-lg hover:shadow-xl transition-all transform hover:scale-105 disabled:opacity-50 disabled:cursor-not-allowed disabled:transform-none flex items-center",children:h?e.jsxs(e.Fragment,{children:[e.jsxs("svg",{className:"animate-spin h-5 w-5 mr-2",fill:"none",viewBox:"0 0 24 24",children:[e.jsx("circle",{className:"opacity-25",cx:"12",cy:"12",r:"10",stroke:"currentColor",strokeWidth:"4"}),e.jsx("path",{className:"opacity-75",fill:"currentColor",d:"M4 12a8 8 0 018-8V0C5.373 0 0 5.373 0 12h4zm2 5.291A7.962 7.962 0 014 12H0c0 3.042 1.135 5.824 3 7.938l3-2.647z"})]}),"Saving..."]}):"Save Changes"})})]}),o==="hours"&&e.jsxs("div",{className:"bg-white rounded-xl shadow-lg p-6 space-y-6 animate-fadeIn",children:[e.jsxs("div",{children:[e.jsx("h2",{className:"text-2xl font-bold text-afri-gray-900 mb-4",children:"Business Hours"}),e.jsx("div",{className:"space-y-4",children:I3.map(X=>{var me,Ne,De,Ve,Ke,Ee,de,We;return e.jsxs("div",{className:"flex items-center gap-4 p-4 bg-gray-50 rounded-lg hover:bg-gray-100 transition-colors",children:[e.jsx("div",{className:"w-32",children:e.jsx("span",{className:"font-semibold text-afri-gray-900 capitalize",children:X})}),e.jsxs("label",{className:"flex items-center cursor-pointer",children:[e.jsx("input",{type:"checkbox",checked:(Ne=(me=w.businessHours)==null?void 0:me[X])==null?void 0:Ne.isOpen,onChange:tt=>I(X,"isOpen",tt.target.checked),className:"h-5 w-5 text-afri-green focus:ring-afri-green border-gray-300 rounded cursor-pointer"}),e.jsx("span",{className:"ml-2 text-sm text-afri-gray-700",children:"Open"})]}),(Ve=(De=w.businessHours)==null?void 0:De[X])!=null&&Ve.isOpen?e.jsxs(e.Fragment,{children:[e.jsx("input",{type:"time",value:((Ee=(Ke=w.businessHours)==null?void 0:Ke[X])==null?void 0:Ee.open)||"09:00",onChange:tt=>I(X,"open",tt.target.value),className:"px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-afri-green focus:border-transparent"}),e.jsx("span",{className:"text-gray-500",children:"to"}),e.jsx("input",{type:"time",value:((We=(de=w.businessHours)==null?void 0:de[X])==null?void 0:We.close)||"18:00",onChange:tt=>I(X,"close",tt.target.value),className:"px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-afri-green focus:border-transparent"})]}):e.jsx("span",{className:"text-gray-400 italic ml-4",children:"Closed"})]},X)})})]}),e.jsx("div",{className:"flex justify-end pt-6 border-t",children:e.jsx("button",{onClick:W,disabled:h,className:"px-8 py-3 bg-gradient-to-r from-afri-green to-afri-green-dark text-white rounded-lg font-semibold shadow-lg hover:shadow-xl transition-all transform hover:scale-105 disabled:opacity-50 disabled:cursor-not-allowed disabled:transform-none flex items-center",children:h?e.jsxs(e.Fragment,{children:[e.jsxs("svg",{className:"animate-spin h-5 w-5 mr-2",fill:"none",viewBox:"0 0 24 24",children:[e.jsx("circle",{className:"opacity-25",cx:"12",cy:"12",r:"10",stroke:"currentColor",strokeWidth:"4"}),e.jsx("path",{className:"opacity-75",fill:"currentColor",d:"M4 12a8 8 0 018-8V0C5.373 0 0 5.373 0 12h4zm2 5.291A7.962 7.962 0 014 12H0c0 3.042 1.135 5.824 3 7.938l3-2.647z"})]}),"Saving..."]}):"Save Changes"})})]}),o==="security"&&e.jsxs("div",{className:"bg-white rounded-xl shadow-lg p-6 space-y-6 animate-fadeIn",children:[e.jsxs("div",{children:[e.jsx("h2",{className:"text-2xl font-bold text-afri-gray-900 mb-4",children:"Change Password"}),e.jsxs("div",{className:"max-w-md space-y-4",children:[e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-semibold text-afri-gray-900 mb-2",children:"Current Password"}),e.jsx("input",{type:"password",value:L.currentPassword,onChange:X=>E("currentPassword",X.target.value),className:"w-full px-4 py-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-afri-green focus:border-transparent transition-all"})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-semibold text-afri-gray-900 mb-2",children:"New Password"}),e.jsx("input",{type:"password",value:L.newPassword,onChange:X=>E("newPassword",X.target.value),className:"w-full px-4 py-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-afri-green focus:border-transparent transition-all"}),e.jsx("p",{className:"mt-1 text-sm text-gray-500",children:"Must be at least 6 characters"})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-semibold text-afri-gray-900 mb-2",children:"Confirm New Password"}),e.jsx("input",{type:"password",value:L.confirmPassword,onChange:X=>E("confirmPassword",X.target.value),className:"w-full px-4 py-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-afri-green focus:border-transparent transition-all"})]})]})]}),e.jsx("div",{className:"flex justify-end pt-6 border-t",children:e.jsx("button",{onClick:ue,disabled:h,className:"px-8 py-3 bg-gradient-to-r from-afri-green to-afri-green-dark text-white rounded-lg font-semibold shadow-lg hover:shadow-xl transition-all transform hover:scale-105 disabled:opacity-50 disabled:cursor-not-allowed disabled:transform-none flex items-center",children:h?e.jsxs(e.Fragment,{children:[e.jsxs("svg",{className:"animate-spin h-5 w-5 mr-2",fill:"none",viewBox:"0 0 24 24",children:[e.jsx("circle",{className:"opacity-25",cx:"12",cy:"12",r:"10",stroke:"currentColor",strokeWidth:"4"}),e.jsx("path",{className:"opacity-75",fill:"currentColor",d:"M4 12a8 8 0 018-8V0C5.373 0 0 5.373 0 12h4zm2 5.291A7.962 7.962 0 014 12H0c0 3.042 1.135 5.824 3 7.938l3-2.647z"})]}),"Changing..."]}):"Change Password"})})]}),e.jsx("style",{jsx:!0,children:`
        @keyframes fadeIn {
          from {
            opacity: 0;
            transform: translateY(10px);
          }
          to {
            opacity: 1;
            transform: translateY(0);
          }
        }

        .animate-fadeIn {
          animation: fadeIn 0.3s ease-out;
        }
      `})]})}function B3(){var m,y,g;const[t,s]=J.useState([]),[r,a]=J.useState(null),[n,o]=J.useState(!0),[l,c]=J.useState(!1);J.useEffect(()=>{d()},[]);const d=async()=>{try{o(!0);const[b,w]=await Promise.all([cc.getPlans(),cc.getMySubscription()]);b.success&&s(b.data.plans),w.success&&a(w.data.subscription)}catch(b){console.error("Error fetching subscription data:",b)}finally{o(!1)}},h=async b=>{var w,N;try{c(!0),(await cc.subscribe({planId:b})).success&&(alert("Subscription activated successfully!"),d())}catch(j){alert(((N=(w=j.response)==null?void 0:w.data)==null?void 0:N.message)||"Failed to subscribe")}finally{c(!1)}},u=async()=>{var b,w;if(confirm("Are you sure you want to cancel your subscription?"))try{c(!0),(await cc.cancel()).success&&(alert("Subscription cancelled successfully"),d())}catch(N){alert(((w=(b=N.response)==null?void 0:b.data)==null?void 0:w.message)||"Failed to cancel subscription")}finally{c(!1)}},x=b=>({Free:["Up to 50 products","Basic analytics","Email support","5% transaction fee","Standard listing"],Starter:["Up to 200 products","Advanced analytics","Priority email support","3% transaction fee","Featured listing","Promotional tools"],Professional:["Unlimited products","Advanced analytics & reports","24/7 priority support","2% transaction fee","Premium listing","Marketing tools","Custom branding","API access"],Enterprise:["Everything in Professional","Dedicated account manager","1% transaction fee","White-label solution","Custom integrations","Advanced security","SLA guarantee"]})[b]||[],p=b=>({Free:"from-gray-400 to-gray-500",Starter:"from-blue-500 to-blue-600",Professional:"from-afri-green to-afri-green-dark",Enterprise:"from-purple-600 to-purple-700"})[b]||"from-gray-400 to-gray-500";return n?e.jsx("div",{className:"flex justify-center items-center h-screen",children:e.jsx("div",{className:"relative",children:e.jsx("div",{className:"w-20 h-20 border-4 border-afri-green border-t-transparent rounded-full animate-spin"})})}):e.jsxs("div",{className:"space-y-8",children:[e.jsxs("div",{className:"text-center",children:[e.jsx("h1",{className:"text-4xl font-bold bg-gradient-to-r from-afri-green to-afri-green-dark bg-clip-text text-transparent",children:"Subscription Plans"}),e.jsx("p",{className:"text-afri-gray-600 mt-2",children:"Choose the perfect plan for your business"})]}),r&&e.jsx("div",{className:"bg-gradient-to-r from-afri-green to-afri-green-dark rounded-xl shadow-2xl p-6 text-white animate-slideDown",children:e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{children:[e.jsxs("h3",{className:"text-2xl font-bold mb-2",children:["Current Plan: ",(m=r.plan)==null?void 0:m.name]}),e.jsx("p",{className:"opacity-90",children:r.status==="active"?e.jsxs(e.Fragment,{children:[(((y=r.plan)==null?void 0:y.interval)==="monthly","Renews")," on"," ",new Date(r.currentPeriodEnd).toLocaleDateString()]}):`Status: ${r.status}`})]}),r.status==="active"&&((g=r.plan)==null?void 0:g.name)!=="Free"&&e.jsx("button",{onClick:u,disabled:l,className:"px-6 py-3 bg-white text-afri-green rounded-lg font-semibold hover:bg-gray-100 transition-all transform hover:scale-105 disabled:opacity-50 disabled:cursor-not-allowed",children:"Cancel Subscription"})]})}),e.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-6",children:t.map((b,w)=>{var N,j;return e.jsxs("div",{className:`relative bg-white rounded-2xl shadow-xl overflow-hidden transform transition-all duration-300 hover:scale-105 hover:shadow-2xl animate-fadeIn ${((N=r==null?void 0:r.plan)==null?void 0:N._id)===b._id?"ring-4 ring-afri-green":""}`,style:{animationDelay:`${w*100}ms`},children:[b.name==="Professional"&&e.jsx("div",{className:"absolute top-0 right-0 bg-gradient-to-r from-afri-yellow to-afri-yellow-dark text-white px-4 py-1 text-xs font-bold rounded-bl-lg",children:"POPULAR"}),e.jsxs("div",{className:`bg-gradient-to-r ${p(b.name)} text-white p-6`,children:[e.jsx("h3",{className:"text-2xl font-bold mb-2",children:b.name}),e.jsxs("div",{className:"flex items-baseline",children:[e.jsxs("span",{className:"text-4xl font-bold",children:["Â£",b.price]}),e.jsxs("span",{className:"ml-2 opacity-90",children:["/",b.interval]})]})]}),e.jsxs("div",{className:"p-6",children:[e.jsx("ul",{className:"space-y-3 mb-6",children:x(b.name).map((k,L)=>e.jsxs("li",{className:"flex items-start",children:[e.jsx("svg",{className:"w-5 h-5 text-afri-green mr-2 mt-0.5 flex-shrink-0",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M5 13l4 4L19 7"})}),e.jsx("span",{className:"text-sm text-afri-gray-700",children:k})]},L))}),((j=r==null?void 0:r.plan)==null?void 0:j._id)===b._id?e.jsx("div",{className:"bg-afri-green text-white text-center py-3 rounded-lg font-semibold",children:"Current Plan"}):e.jsx("button",{onClick:()=>h(b._id),disabled:l||b.price===0,className:`w-full py-3 rounded-lg font-semibold transition-all transform hover:scale-105 disabled:opacity-50 disabled:cursor-not-allowed disabled:transform-none ${b.name==="Professional"?"bg-gradient-to-r from-afri-green to-afri-green-dark text-white shadow-lg hover:shadow-xl":"bg-gray-100 text-afri-gray-900 hover:bg-gray-200"}`,children:l?"Processing...":b.price===0?"Current Plan":"Upgrade Now"})]})]},b._id)})}),e.jsxs("div",{className:"bg-gradient-to-br from-blue-50 to-purple-50 rounded-2xl p-8 mt-12",children:[e.jsx("h2",{className:"text-3xl font-bold text-center text-afri-gray-900 mb-8",children:"Why Upgrade to Premium?"}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-6",children:[e.jsxs("div",{className:"bg-white rounded-xl p-6 shadow-lg transform transition-all hover:scale-105",children:[e.jsx("div",{className:"w-16 h-16 bg-gradient-to-br from-blue-500 to-blue-600 rounded-full flex items-center justify-center text-3xl mb-4 mx-auto",children:"ðŸ“ˆ"}),e.jsx("h3",{className:"text-xl font-bold text-center text-afri-gray-900 mb-2",children:"Grow Your Sales"}),e.jsx("p",{className:"text-center text-afri-gray-600",children:"Get featured listings and access to promotional tools to boost your visibility and sales."})]}),e.jsxs("div",{className:"bg-white rounded-xl p-6 shadow-lg transform transition-all hover:scale-105",children:[e.jsx("div",{className:"w-16 h-16 bg-gradient-to-br from-afri-green to-afri-green-dark rounded-full flex items-center justify-center text-3xl mb-4 mx-auto",children:"ðŸ“Š"}),e.jsx("h3",{className:"text-xl font-bold text-center text-afri-gray-900 mb-2",children:"Advanced Analytics"}),e.jsx("p",{className:"text-center text-afri-gray-600",children:"Make data-driven decisions with comprehensive reports and insights about your business."})]}),e.jsxs("div",{className:"bg-white rounded-xl p-6 shadow-lg transform transition-all hover:scale-105",children:[e.jsx("div",{className:"w-16 h-16 bg-gradient-to-br from-purple-500 to-purple-600 rounded-full flex items-center justify-center text-3xl mb-4 mx-auto",children:"ðŸŽ¨"}),e.jsx("h3",{className:"text-xl font-bold text-center text-afri-gray-900 mb-2",children:"Custom Branding"}),e.jsx("p",{className:"text-center text-afri-gray-600",children:"Stand out with custom branding options and create a unique shopping experience."})]})]})]}),e.jsxs("div",{className:"bg-white rounded-2xl shadow-lg p-8",children:[e.jsx("h2",{className:"text-3xl font-bold text-center text-afri-gray-900 mb-8",children:"Frequently Asked Questions"}),e.jsxs("div",{className:"space-y-4 max-w-3xl mx-auto",children:[e.jsxs("details",{className:"group",children:[e.jsxs("summary",{className:"flex items-center justify-between cursor-pointer p-4 bg-gray-50 rounded-lg hover:bg-gray-100 transition-colors",children:[e.jsx("span",{className:"font-semibold text-afri-gray-900",children:"Can I change my plan anytime?"}),e.jsx("svg",{className:"w-5 h-5 transition-transform group-open:rotate-180",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M19 9l-7 7-7-7"})})]}),e.jsx("p",{className:"p-4 text-afri-gray-600",children:"Yes! You can upgrade or downgrade your plan at any time. Changes will be reflected in your next billing cycle."})]}),e.jsxs("details",{className:"group",children:[e.jsxs("summary",{className:"flex items-center justify-between cursor-pointer p-4 bg-gray-50 rounded-lg hover:bg-gray-100 transition-colors",children:[e.jsx("span",{className:"font-semibold text-afri-gray-900",children:"What payment methods do you accept?"}),e.jsx("svg",{className:"w-5 h-5 transition-transform group-open:rotate-180",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M19 9l-7 7-7-7"})})]}),e.jsx("p",{className:"p-4 text-afri-gray-600",children:"We accept all major credit cards, debit cards, and bank transfers. All payments are processed securely through our payment gateway."})]}),e.jsxs("details",{className:"group",children:[e.jsxs("summary",{className:"flex items-center justify-between cursor-pointer p-4 bg-gray-50 rounded-lg hover:bg-gray-100 transition-colors",children:[e.jsx("span",{className:"font-semibold text-afri-gray-900",children:"Is there a contract or commitment?"}),e.jsx("svg",{className:"w-5 h-5 transition-transform group-open:rotate-180",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M19 9l-7 7-7-7"})})]}),e.jsx("p",{className:"p-4 text-afri-gray-600",children:"No long-term contracts! All plans are month-to-month and you can cancel at any time without penalty."})]}),e.jsxs("details",{className:"group",children:[e.jsxs("summary",{className:"flex items-center justify-between cursor-pointer p-4 bg-gray-50 rounded-lg hover:bg-gray-100 transition-colors",children:[e.jsx("span",{className:"font-semibold text-afri-gray-900",children:"What happens if I cancel?"}),e.jsx("svg",{className:"w-5 h-5 transition-transform group-open:rotate-180",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M19 9l-7 7-7-7"})})]}),e.jsx("p",{className:"p-4 text-afri-gray-600",children:"Your subscription will remain active until the end of your current billing period. After that, you'll be automatically moved to the Free plan."})]})]})]}),e.jsx("style",{jsx:!0,children:`
        @keyframes fadeIn {
          from {
            opacity: 0;
            transform: translateY(20px);
          }
          to {
            opacity: 1;
            transform: translateY(0);
          }
        }

        @keyframes slideDown {
          from {
            opacity: 0;
            transform: translateY(-20px);
          }
          to {
            opacity: 1;
            transform: translateY(0);
          }
        }

        .animate-fadeIn {
          animation: fadeIn 0.5s ease-out forwards;
        }

        .animate-slideDown {
          animation: slideDown 0.4s ease-out;
        }
      `})]})}function U3({title:t,titleId:s,...r},a){return J.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",fill:"currentColor","aria-hidden":"true","data-slot":"icon",ref:a,"aria-labelledby":s},r),t?J.createElement("title",{id:s},t):null,J.createElement("path",{fillRule:"evenodd",d:"M12 2.25c-5.385 0-9.75 4.365-9.75 9.75s4.365 9.75 9.75 9.75 9.75-4.365 9.75-9.75S17.385 2.25 12 2.25ZM12.75 6a.75.75 0 0 0-1.5 0v6c0 .414.336.75.75.75h4.5a.75.75 0 0 0 0-1.5h-3.75V6Z",clipRule:"evenodd"}))}const H3=J.forwardRef(U3);function W3({title:t,titleId:s,...r},a){return J.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",fill:"currentColor","aria-hidden":"true","data-slot":"icon",ref:a,"aria-labelledby":s},r),t?J.createElement("title",{id:s},t):null,J.createElement("path",{fillRule:"evenodd",d:"M10.5 3.75a6.75 6.75 0 1 0 0 13.5 6.75 6.75 0 0 0 0-13.5ZM2.25 10.5a8.25 8.25 0 1 1 14.59 5.28l4.69 4.69a.75.75 0 1 1-1.06 1.06l-4.69-4.69A8.25 8.25 0 0 1 2.25 10.5Z",clipRule:"evenodd"}))}const q3=J.forwardRef(W3);function z3({title:t,titleId:s,...r},a){return J.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",fill:"currentColor","aria-hidden":"true","data-slot":"icon",ref:a,"aria-labelledby":s},r),t?J.createElement("title",{id:s},t):null,J.createElement("path",{fillRule:"evenodd",d:"m11.54 22.351.07.04.028.016a.76.76 0 0 0 .723 0l.028-.015.071-.041a16.975 16.975 0 0 0 1.144-.742 19.58 19.58 0 0 0 2.683-2.282c1.944-1.99 3.963-4.98 3.963-8.827a8.25 8.25 0 0 0-16.5 0c0 3.846 2.02 6.837 3.963 8.827a19.58 19.58 0 0 0 2.682 2.282 16.975 16.975 0 0 0 1.145.742ZM12 13.5a3 3 0 1 0 0-6 3 3 0 0 0 0 6Z",clipRule:"evenodd"}))}const V3=J.forwardRef(z3);function $3({title:t,titleId:s,...r},a){return J.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",fill:"currentColor","aria-hidden":"true","data-slot":"icon",ref:a,"aria-labelledby":s},r),t?J.createElement("title",{id:s},t):null,J.createElement("path",{fillRule:"evenodd",d:"M10.788 3.21c.448-1.077 1.976-1.077 2.424 0l2.082 5.006 5.404.434c1.164.093 1.636 1.545.749 2.305l-4.117 3.527 1.257 5.273c.271 1.136-.964 2.033-1.96 1.425L12 18.354 7.373 21.18c-.996.608-2.231-.29-1.96-1.425l1.257-5.273-4.117-3.527c-.887-.76-.415-2.212.749-2.305l5.404-.434 2.082-5.005Z",clipRule:"evenodd"}))}const G3=J.forwardRef($3);function Y3(){const t=Zt(),[s,r]=J.useState(""),[a,n]=J.useState(!1),o=[{id:1,name:"Green Valley Farms",category:"Fresh Produce",image:"https://images.unsplash.com/photo-1542838132-92c53300491e?w=600",rating:4.8,deliveryTime:"20-30 min",minOrder:"Â£10",tags:["Vegetables","Fruits","Organic"]},{id:2,name:"African Spice Market",category:"African Groceries",image:"https://images.unsplash.com/photo-1488459716781-31db52582fe9?w=600",rating:4.9,deliveryTime:"25-35 min",minOrder:"Â£15",tags:["Spices","Grains","Authentic"]},{id:3,name:"Fresh Meat & Fish",category:"Butcher & Seafood",image:"https://images.unsplash.com/photo-1607623814075-e51df1bdc82f?w=600",rating:4.7,deliveryTime:"30-40 min",minOrder:"Â£20",tags:["Halal","Fresh Fish","Quality"]},{id:4,name:"Daily Dairy",category:"Dairy & Bakery",image:"https://images.unsplash.com/photo-1563636619-e9143da7973b?w=600",rating:4.6,deliveryTime:"15-25 min",minOrder:"Â£8",tags:["Milk","Cheese","Bread"]},{id:5,name:"Tropical Fruits Hub",category:"Exotic Fruits",image:"https://images.unsplash.com/photo-1619566636858-adf3ef46400b?w=600",rating:4.8,deliveryTime:"20-30 min",minOrder:"Â£12",tags:["Plantain","Mango","Yam"]},{id:6,name:"Lagos Kitchen Store",category:"Nigerian Foods",image:"https://images.unsplash.com/photo-1555939594-58d7cb561ad1?w=600",rating:4.9,deliveryTime:"25-35 min",minOrder:"Â£15",tags:["Nigerian","Palm Oil","Cassava"]}],l=c=>{c.preventDefault(),s.trim()&&t(`/stores?location=${encodeURIComponent(s)}`)};return e.jsxs("div",{className:"min-h-screen bg-white",children:[e.jsx("nav",{className:"bg-white border-b border-gray-200 sticky top-0 z-50 shadow-sm",children:e.jsxs("div",{className:"max-w-7xl mx-auto px-4 sm:px-6",children:[e.jsxs("div",{className:"flex justify-between items-center h-16",children:[e.jsxs(Ie,{to:"/",className:"flex items-center space-x-2",children:[e.jsx("div",{className:"w-9 h-9 bg-gradient-to-br from-green-600 to-yellow-500 rounded-lg flex items-center justify-center",children:e.jsx("span",{className:"text-white font-bold text-lg",children:"ðŸ›’"})}),e.jsxs("span",{className:"text-xl font-bold text-gray-900",children:["Afri",e.jsx("span",{className:"text-green-600",children:"Mercato"})]})]}),e.jsxs("div",{className:"hidden md:flex items-center space-x-6",children:[e.jsx("a",{href:"#stores",className:"text-gray-600 hover:text-green-600",children:"Browse Stores"}),e.jsx("a",{href:"#how-it-works",className:"text-gray-600 hover:text-green-600",children:"How It Works"}),e.jsx(Ie,{to:"/partner",className:"text-gray-600 hover:text-green-600",children:"Partner With Us"}),e.jsx(Ie,{to:"/login",className:"text-green-600 hover:text-green-700 font-medium",children:"Sign In"}),e.jsx(Ie,{to:"/register?role=customer",className:"bg-green-600 hover:bg-green-700 text-white px-5 py-2 rounded-lg font-medium",children:"Sign Up"})]}),e.jsx("button",{onClick:()=>n(!a),className:"md:hidden p-2",children:e.jsx("svg",{className:"w-6 h-6",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:a?"M6 18L18 6M6 6l12 12":"M4 6h16M4 12h16M4 18h16"})})})]}),a&&e.jsxs("div",{className:"md:hidden py-4 border-t",children:[e.jsx("a",{href:"#stores",className:"block py-2 text-gray-600",children:"Browse Stores"}),e.jsx("a",{href:"#how-it-works",className:"block py-2 text-gray-600",children:"How It Works"}),e.jsx(Ie,{to:"/partner",className:"block py-2 text-gray-600",children:"Partner With Us"}),e.jsx(Ie,{to:"/login",className:"block py-2 text-green-600 font-medium",children:"Sign In"}),e.jsx(Ie,{to:"/register?role=customer",className:"block mt-2 bg-green-600 text-white px-4 py-2 rounded-lg text-center font-medium",children:"Sign Up"})]})]})}),e.jsxs("section",{className:"relative bg-gradient-to-br from-green-600 via-green-700 to-yellow-500 overflow-hidden",children:[e.jsx("div",{className:"absolute inset-0 opacity-10",children:e.jsx("div",{className:"absolute inset-0",style:{backgroundImage:`url("data:image/svg+xml,%3Csvg width='60' height='60' viewBox='0 0 60 60' xmlns='http://www.w3.org/2000/svg'%3E%3Cg fill='none' fill-rule='evenodd'%3E%3Cg fill='%23ffffff' fill-opacity='0.4'%3E%3Cpath d='M36 34v-4h-2v4h-4v2h4v4h2v-4h4v-2h-4zm0-30V0h-2v4h-4v2h4v4h2V6h4V4h-4zM6 34v-4H4v4H0v2h4v4h2v-4h4v-2H6zM6 4V0H4v4H0v2h4v4h2V6h4V4H6z'/%3E%3C/g%3E%3C/g%3E%3C/svg%3E")`}})}),e.jsx("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 py-16 sm:py-24 relative",children:e.jsxs("div",{className:"grid lg:grid-cols-2 gap-12 items-center",children:[e.jsxs("div",{className:"text-center lg:text-left",children:[e.jsxs(Fe.h1,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},className:"text-4xl sm:text-5xl lg:text-6xl font-bold text-white mb-6 leading-tight",children:["African Online Store",e.jsx("br",{}),e.jsx("span",{className:"text-yellow-300",children:"In the United Kingdom"})]}),e.jsx(Fe.p,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:.1},className:"text-lg sm:text-xl text-white/95 mb-8 max-w-2xl mx-auto lg:mx-0",children:"Use existing infrastructure of African products you depend on delivered to your doorstep. Open stores, fresh products delivered to you whenever convenient."}),e.jsxs(Fe.form,{onSubmit:l,initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:.2},className:"bg-white rounded-2xl shadow-2xl p-3 flex flex-col sm:flex-row gap-3 max-w-2xl mx-auto lg:mx-0",children:[e.jsxs("div",{className:"flex-1 flex items-center gap-3 bg-gray-50 rounded-xl px-4 py-3",children:[e.jsx(V3,{className:"w-6 h-6 text-green-600 flex-shrink-0"}),e.jsx("input",{type:"text",value:s,onChange:c=>r(c.target.value),placeholder:"Enter your location (e.g., London, Manchester)",className:"flex-1 bg-transparent border-none outline-none text-gray-900 placeholder-gray-500"})]}),e.jsxs("button",{type:"submit",className:"bg-gradient-to-r from-green-600 to-green-700 hover:from-green-700 hover:to-green-800 text-white px-8 py-3 rounded-xl font-bold shadow-lg flex items-center justify-center gap-2 transition-all",children:[e.jsx(q3,{className:"w-5 h-5"}),"Find Store"]})]}),e.jsxs(Fe.div,{initial:{opacity:0},animate:{opacity:1},transition:{delay:.3},className:"mt-6 text-white/90 flex items-center justify-center lg:justify-start gap-2",children:[e.jsx("span",{className:"text-2xl",children:"ðŸ‘¥"}),e.jsxs("span",{className:"font-semibold",children:["Trusted by: ",e.jsx("span",{className:"text-yellow-300",children:"4,320+ Vendors"})]})]})]}),e.jsx(Fe.div,{initial:{opacity:0,scale:.9},animate:{opacity:1,scale:1},transition:{delay:.2},className:"hidden lg:block",children:e.jsx("img",{src:"https://images.unsplash.com/photo-1567393537607-1e1a6df6763a?w=800",alt:"Happy customer with groceries",className:"rounded-3xl shadow-2xl w-full object-cover"})})]})})]}),e.jsx("section",{className:"py-8 bg-gray-50 border-b",children:e.jsx("div",{className:"max-w-7xl mx-auto px-4",children:e.jsx("div",{className:"flex gap-4 overflow-x-auto pb-2 scrollbar-hide",children:[{icon:"ðŸ¥¬",name:"Vegetables",color:"bg-green-100 text-green-700"},{icon:"ðŸŒ",name:"Fruits",color:"bg-yellow-100 text-yellow-700"},{icon:"ðŸ¥©",name:"Meat & Fish",color:"bg-red-100 text-red-700"},{icon:"ðŸ¥›",name:"Dairy",color:"bg-blue-100 text-blue-700"},{icon:"ðŸŒ¶ï¸",name:"Spices",color:"bg-orange-100 text-orange-700"},{icon:"ðŸŒ¾",name:"Grains",color:"bg-amber-100 text-amber-700"}].map((c,d)=>e.jsxs("button",{className:`${c.color} px-6 py-3 rounded-xl font-semibold whitespace-nowrap flex items-center gap-2 hover:scale-105 transition-transform`,children:[e.jsx("span",{className:"text-2xl",children:c.icon}),c.name]},d))})})}),e.jsx("section",{id:"stores",className:"py-16",children:e.jsxs("div",{className:"max-w-7xl mx-auto px-4 sm:px-6",children:[e.jsxs("div",{className:"flex justify-between items-center mb-8",children:[e.jsxs("div",{children:[e.jsx("h2",{className:"text-3xl sm:text-4xl font-bold text-gray-900 mb-2",children:"Browse Nearby"}),e.jsx("p",{className:"text-gray-600",children:"Popular stores in your area"})]}),e.jsxs("div",{className:"flex gap-4",children:[e.jsx("button",{className:"px-4 py-2 bg-green-600 text-white rounded-lg font-semibold",children:"Top Stores"}),e.jsx("button",{className:"px-4 py-2 bg-gray-100 text-gray-700 rounded-lg font-semibold hover:bg-gray-200",children:"Featured Stores"})]})]}),e.jsx("div",{className:"grid sm:grid-cols-2 lg:grid-cols-3 gap-6",children:o.map(c=>e.jsxs(Fe.div,{whileHover:{y:-5},className:"bg-white rounded-2xl shadow-lg hover:shadow-xl border border-gray-100 overflow-hidden cursor-pointer transition-all",onClick:()=>t(`/store/${c.id}`),children:[e.jsxs("div",{className:"relative h-48",children:[e.jsx("img",{src:c.image,alt:c.name,className:"w-full h-full object-cover"}),e.jsxs("div",{className:"absolute top-3 right-3 bg-white px-3 py-1 rounded-full shadow-md flex items-center gap-1",children:[e.jsx(G3,{className:"w-4 h-4 text-yellow-500"}),e.jsx("span",{className:"font-bold text-gray-900",children:c.rating})]})]}),e.jsxs("div",{className:"p-5",children:[e.jsx("h3",{className:"text-xl font-bold text-gray-900 mb-1",children:c.name}),e.jsx("p",{className:"text-sm text-gray-600 mb-3",children:c.category}),e.jsx("div",{className:"flex flex-wrap gap-2 mb-4",children:c.tags.slice(0,3).map((d,h)=>e.jsx("span",{className:"bg-gray-100 text-gray-700 px-3 py-1 rounded-full text-xs font-medium",children:d},h))}),e.jsxs("div",{className:"flex items-center justify-between text-sm text-gray-600 pt-3 border-t",children:[e.jsxs("div",{className:"flex items-center gap-1",children:[e.jsx(H3,{className:"w-4 h-4"}),e.jsx("span",{children:c.deliveryTime})]}),e.jsxs("div",{className:"font-semibold text-gray-900",children:["Min. ",c.minOrder]})]})]})]},c.id))}),e.jsx("div",{className:"text-center mt-10",children:e.jsx("button",{className:"bg-green-600 hover:bg-green-700 text-white px-8 py-3 rounded-xl font-bold shadow-lg",children:"View All Stores"})})]})}),e.jsx("section",{id:"how-it-works",className:"py-16 bg-gradient-to-br from-green-50 to-yellow-50",children:e.jsxs("div",{className:"max-w-7xl mx-auto px-4",children:[e.jsxs("div",{className:"text-center mb-12",children:[e.jsx("h2",{className:"text-3xl sm:text-4xl font-bold text-gray-900 mb-2",children:"How It Works"}),e.jsx("p",{className:"text-lg text-gray-600",children:"Get fresh African groceries delivered in 3 simple steps"})]}),e.jsx("div",{className:"grid sm:grid-cols-3 gap-8",children:[{num:1,icon:"ðŸ”",title:"Find Stores Near You",desc:"Enter your location and browse stores in your area"},{num:2,icon:"ðŸ›’",title:"Add to Cart",desc:"Choose products from multiple vendors in one order"},{num:3,icon:"ðŸšš",title:"Fast Delivery",desc:"Get your groceries delivered same-day"}].map(c=>e.jsxs(Fe.div,{className:"text-center",whileHover:{y:-5},children:[e.jsx("div",{className:"w-20 h-20 bg-gradient-to-br from-green-500 to-green-700 rounded-full flex items-center justify-center mx-auto mb-4 shadow-lg",children:e.jsx("span",{className:"text-4xl",children:c.icon})}),e.jsx("h3",{className:"text-xl font-bold text-gray-900 mb-2",children:c.title}),e.jsx("p",{className:"text-gray-600",children:c.desc})]},c.num))})]})}),e.jsx("section",{className:"bg-gradient-to-r from-yellow-400 via-yellow-500 to-green-600 py-16",children:e.jsxs("div",{className:"max-w-4xl mx-auto px-4 text-center",children:[e.jsx("h2",{className:"text-3xl sm:text-4xl font-bold text-gray-900 mb-4",children:"Are You a Food Vendor?"}),e.jsx("p",{className:"text-lg text-gray-800 mb-8",children:"Join 4,320+ vendors already selling on AfriMercato. Reach thousands of customers and grow your business online."}),e.jsx(Ie,{to:"/partner",className:"inline-block bg-gray-900 text-white hover:bg-gray-800 px-10 py-4 rounded-xl font-bold shadow-2xl text-lg",children:"Partner With Us â†’"})]})}),e.jsx("footer",{className:"bg-gray-900 text-gray-300 py-12",children:e.jsxs("div",{className:"max-w-7xl mx-auto px-4",children:[e.jsxs("div",{className:"grid grid-cols-2 sm:grid-cols-4 gap-8",children:[e.jsxs("div",{children:[e.jsx("h4",{className:"text-white font-bold mb-4",children:"AfriMercato"}),e.jsx("p",{className:"text-sm",children:"African groceries delivered to your door across the UK."})]}),e.jsxs("div",{children:[e.jsx("h4",{className:"text-white font-bold mb-4",children:"For Customers"}),e.jsxs("ul",{className:"space-y-2 text-sm",children:[e.jsx("li",{children:e.jsx("a",{href:"#stores",className:"hover:text-yellow-400",children:"Browse Stores"})}),e.jsx("li",{children:e.jsx("a",{href:"#how-it-works",className:"hover:text-yellow-400",children:"How It Works"})}),e.jsx("li",{children:e.jsx(Ie,{to:"/register?role=customer",className:"hover:text-yellow-400",children:"Sign Up"})})]})]}),e.jsxs("div",{children:[e.jsx("h4",{className:"text-white font-bold mb-4",children:"For Partners"}),e.jsxs("ul",{className:"space-y-2 text-sm",children:[e.jsx("li",{children:e.jsx(Ie,{to:"/partner",className:"hover:text-yellow-400",children:"Become a Vendor"})}),e.jsx("li",{children:e.jsx(Ie,{to:"/register?role=rider",className:"hover:text-yellow-400",children:"Become a Rider"})}),e.jsx("li",{children:e.jsx(Ie,{to:"/register?role=picker",className:"hover:text-yellow-400",children:"Become a Picker"})})]})]}),e.jsxs("div",{children:[e.jsx("h4",{className:"text-white font-bold mb-4",children:"Company"}),e.jsxs("ul",{className:"space-y-2 text-sm",children:[e.jsx("li",{children:e.jsx("a",{href:"#",className:"hover:text-yellow-400",children:"About Us"})}),e.jsx("li",{children:e.jsx("a",{href:"#",className:"hover:text-yellow-400",children:"Contact"})}),e.jsx("li",{children:e.jsx("a",{href:"#",className:"hover:text-yellow-400",children:"Privacy Policy"})})]})]})]}),e.jsx("div",{className:"border-t border-gray-800 mt-8 pt-8 text-center text-sm",children:e.jsx("p",{children:"Â© 2025 AfriMercato. All rights reserved."})})]})})]})}const K3="https://images.unsplash.com/photo-1542838132-92c53300491e?w=1200&q=90";function X3(){const t=Zt(),[s,r]=J.useState(""),[a,n]=J.useState("all"),[o,l]=J.useState("all"),[c,d]=J.useState(!1),[h,u]=J.useState(!1),[x]=J.useState(["Bristol","London","Manchester","Birmingham"]),[p,m]=J.useState(!1),y=J.useRef(null),{scrollY:g}=tg(),b=$h(g,[0,500],[0,150]),w=$h(g,[0,300],[1,.3]);J.useEffect(()=>{const L=()=>u(window.scrollY>20);return window.addEventListener("scroll",L),()=>window.removeEventListener("scroll",L)},[]);const N=L=>{var F;if(L==null||L.preventDefault(),!s.trim()){(F=y.current)==null||F.focus();return}t(`/stores?location=${encodeURIComponent(s)}&price=${a}&method=${o}`)},j=L=>{r(L),m(!1),t(`/stores?location=${encodeURIComponent(L)}`)},k=[{id:1,name:"Yours Supermarket",image:"https://images.unsplash.com/photo-1578916171728-46686eac8d58?w=600&q=80",hours:"06:00am - 09:00pm",location:"Leicester United Kingdom",distance:"0.1km",deliveryTime:"50 mins",priceRange:"Â£10-Â£500",rating:4.5,isOpen:!0,deliveryFee:"Â£25",methods:["Shopping","Pickup","Delivery"]},{id:2,name:"TESCO Supermarket",image:"https://images.unsplash.com/photo-1588964895597-cfccd6e2dbf9?w=600&q=80",hours:"06:00am - 08:00pm",location:"Leicester United Kingdom",distance:"1.2km",deliveryTime:"30 mins",priceRange:"Â£10-Â£500",rating:4.8,isOpen:!0,deliveryFee:"Â£25",methods:["In-Shopping","Delivery"]},{id:3,name:"Fresh Market",image:"https://images.unsplash.com/photo-1583258292688-d0213dc5a3a8?w=600&q=80",hours:"06:00am - 06:00pm",location:"Leicester United Kingdom",distance:"2.8km",deliveryTime:"20 mins",priceRange:"Â£10-Â£500",rating:4.2,isOpen:!0,deliveryFee:"Â£25",methods:["Shopping","Fitted","In-Shopping","Delivery"]}];return e.jsxs("div",{className:"min-h-screen bg-[#F5A623]",children:[e.jsx(Fe.nav,{initial:{y:-100},animate:{y:0},className:`fixed top-0 left-0 right-0 z-50 transition-all duration-300 ${h?"bg-white/95 backdrop-blur-md shadow-lg":"bg-transparent"}`,children:e.jsxs("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8",children:[e.jsxs("div",{className:"flex items-center justify-between h-16 sm:h-20",children:[e.jsxs(Ie,{to:"/",className:"flex items-center gap-2 group",children:[e.jsx(Fe.div,{whileHover:{rotate:360},transition:{duration:.5},className:"relative",children:e.jsx("svg",{className:"w-8 h-8 sm:w-10 sm:h-10",viewBox:"0 0 40 40",fill:"none",children:e.jsx("path",{d:"M8 8L32 32M32 8L8 32",stroke:"#1a1a1a",strokeWidth:"4",strokeLinecap:"round"})})}),e.jsx("span",{className:"text-xl sm:text-2xl font-bold tracking-tight text-gray-900",children:"Afrimercato"})]}),e.jsx("div",{className:"hidden md:flex items-center",children:e.jsxs("div",{className:`flex items-center gap-1 px-2 py-2 rounded-full ${h?"bg-gray-100":"bg-white/90 backdrop-blur-sm"} shadow-sm`,children:[e.jsx(kc,{href:"/delivery",children:"Delivery"}),e.jsx(kc,{href:"/stores",active:!0,children:"Stores"}),e.jsx(kc,{href:"/about",children:"About us"}),e.jsx(kc,{href:"/contact",children:"Contact us"})]})}),e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsx(Ie,{to:"/login",className:"hidden sm:block font-medium text-gray-800 hover:text-gray-900 transition-colors",children:"Log in"}),e.jsx(Fe.div,{whileHover:{scale:1.02},whileTap:{scale:.98},children:e.jsxs(Ie,{to:"/register",className:"flex items-center gap-2 bg-[#00897B] hover:bg-[#00695C] text-white px-4 sm:px-5 py-2.5 rounded-full font-semibold shadow-lg transition-all",children:[e.jsx("span",{className:"hidden sm:inline",children:"Sign Up"}),e.jsx("span",{className:"sm:hidden",children:"Join"}),e.jsx("svg",{className:"w-5 h-5",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M3 3h2l.4 2M7 13h10l4-8H5.4M7 13L5.4 5M7 13l-2.293 2.293c-.63.63-.184 1.707.707 1.707H17m0 0a2 2 0 100 4 2 2 0 000-4zm-8 2a2 2 0 11-4 0 2 2 0 014 0z"})})]})}),e.jsx("button",{onClick:()=>d(!c),className:"md:hidden p-2 rounded-lg hover:bg-white/20","aria-label":"Menu",children:e.jsx("svg",{className:"w-6 h-6",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:c?"M6 18L18 6M6 6l12 12":"M4 6h16M4 12h16M4 18h16"})})})]})]}),e.jsx(eo,{children:c&&e.jsx(Fe.div,{initial:{opacity:0,height:0},animate:{opacity:1,height:"auto"},exit:{opacity:0,height:0},className:"md:hidden bg-white rounded-2xl mb-4 overflow-hidden shadow-xl",children:e.jsxs("div",{className:"p-4 space-y-2",children:[e.jsx(Ac,{to:"/stores",onClick:()=>d(!1),children:"Stores"}),e.jsx(Ac,{to:"/delivery",onClick:()=>d(!1),children:"Delivery"}),e.jsx(Ac,{to:"/about",onClick:()=>d(!1),children:"About us"}),e.jsx(Ac,{to:"/contact",onClick:()=>d(!1),children:"Contact us"}),e.jsx("div",{className:"pt-3 border-t",children:e.jsx(Ie,{to:"/login",className:"block py-3 text-center text-[#00897B] font-semibold",onClick:()=>d(!1),children:"Log in"})})]})})})]})}),e.jsxs("section",{className:"relative min-h-screen pt-20 sm:pt-24 pb-8 overflow-hidden",children:[e.jsxs("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8",children:[e.jsxs("div",{className:"grid lg:grid-cols-2 gap-8 lg:gap-12 items-center min-h-[calc(100vh-180px)]",children:[e.jsxs(Fe.div,{style:{y:b,opacity:w},className:"relative z-10 pt-8 lg:pt-0",children:[e.jsxs(Fe.h1,{initial:{opacity:0,y:30},animate:{opacity:1,y:0},transition:{duration:.8,ease:[.22,1,.36,1]},className:"text-4xl sm:text-5xl lg:text-6xl xl:text-7xl font-bold text-gray-900 leading-[1.1] tracking-tight",children:["We Help With the Shopping and Bring it to your"," ",e.jsxs("span",{className:"text-[#00897B] relative inline-block",children:['"DoorStep"',e.jsx(Fe.svg,{initial:{pathLength:0},animate:{pathLength:1},transition:{delay:1,duration:.8},className:"absolute -bottom-2 left-0 w-full h-3",viewBox:"0 0 200 12",children:e.jsx(Fe.path,{d:"M2 10C50 2 150 2 198 10",stroke:"#00897B",strokeWidth:"3",fill:"none",strokeLinecap:"round"})})]})]}),e.jsx(Fe.p,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:.3,duration:.6},className:"mt-6 text-lg sm:text-xl text-gray-700 max-w-xl leading-relaxed",children:"Experience the convenience of African and international groceries delivered right to your door. Fresh produce, authentic flavors, fast delivery across the UK."}),e.jsxs(Fe.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:.5,duration:.6},className:"mt-8 flex flex-wrap items-center gap-4",children:[e.jsx(Fe.div,{whileHover:{scale:1.02},whileTap:{scale:.98},children:e.jsx(Ie,{to:"/partner",className:"inline-flex items-center gap-2 bg-[#00897B] hover:bg-[#00695C] text-white px-6 sm:px-8 py-3.5 sm:py-4 rounded-xl font-bold shadow-xl transition-all text-base sm:text-lg",children:"Partner With Us"})}),e.jsx(Fe.button,{whileHover:{scale:1.05},whileTap:{scale:.95},className:"relative group",children:e.jsxs("div",{className:"relative w-16 h-16 sm:w-20 sm:h-20",children:[e.jsxs("svg",{className:"absolute inset-0 w-full h-full animate-spin-slow",viewBox:"0 0 100 100",children:[e.jsx("defs",{children:e.jsx("path",{id:"circlePath",d:"M 50, 50 m -37, 0 a 37,37 0 1,1 74,0 a 37,37 0 1,1 -74,0"})}),e.jsx("text",{className:"text-[8px] sm:text-[9px] fill-gray-700 font-medium uppercase tracking-widest",children:e.jsx("textPath",{href:"#circlePath",children:"Learn about us through this video â€¢"})})]}),e.jsx("div",{className:"absolute inset-0 flex items-center justify-center",children:e.jsx("div",{className:"w-10 h-10 sm:w-12 sm:h-12 bg-white rounded-full flex items-center justify-center shadow-lg group-hover:shadow-xl transition-shadow",children:e.jsx("svg",{className:"w-4 h-4 sm:w-5 sm:h-5 text-[#00897B] ml-0.5",fill:"currentColor",viewBox:"0 0 20 20",children:e.jsx("path",{d:"M6.3 2.841A1.5 1.5 0 004 4.11V15.89a1.5 1.5 0 002.3 1.269l9.344-5.89a1.5 1.5 0 000-2.538L6.3 2.84z"})})})})]})})]}),e.jsxs(Fe.div,{initial:{opacity:0},animate:{opacity:1},transition:{delay:.8,duration:.6},className:"mt-10 flex items-center gap-4",children:[e.jsxs("div",{className:"flex -space-x-3",children:[[1,2,3].map(L=>e.jsx("div",{className:"w-10 h-10 sm:w-12 sm:h-12 rounded-full bg-white/80 border-3 border-[#F5A623] flex items-center justify-center text-lg",children:["ðŸ‘©ðŸ¾","ðŸ‘¨ðŸ¿","ðŸ‘©ðŸ½"][L-1]},L)),e.jsx("div",{className:"w-10 h-10 sm:w-12 sm:h-12 rounded-full bg-white border-3 border-[#F5A623] flex items-center justify-center text-xs sm:text-sm font-bold text-gray-700",children:"+4K"})]}),e.jsxs("p",{className:"text-gray-800 font-medium text-sm sm:text-base",children:["Trusted by ",e.jsx("span",{className:"font-bold text-gray-900",children:"4,320+"})," Vendors"]})]})]}),e.jsx(Fe.div,{initial:{opacity:0,x:100},animate:{opacity:1,x:0},transition:{duration:1,ease:[.22,1,.36,1]},className:"relative hidden lg:block",children:e.jsxs("div",{className:"relative",children:[e.jsx("div",{className:"relative z-10",children:e.jsx("img",{src:K3,alt:"Happy customer with fresh groceries",className:"w-full h-[500px] xl:h-[600px] object-cover object-top rounded-3xl",onError:L=>{L.target.src="https://images.unsplash.com/photo-1573497019940-1c28c88b4f3e?w=800&q=80"}})}),e.jsx(Fe.div,{animate:{y:[0,-10,0]},transition:{duration:3,repeat:1/0,ease:"easeInOut"},className:"absolute top-10 -left-8 bg-white rounded-2xl p-4 shadow-xl z-20",children:e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsx("div",{className:"w-12 h-12 bg-green-100 rounded-xl flex items-center justify-center",children:e.jsx("svg",{className:"w-6 h-6 text-green-600",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M5 13l4 4L19 7"})})}),e.jsxs("div",{children:[e.jsx("p",{className:"font-bold text-gray-900",children:"Fresh Daily"}),e.jsx("p",{className:"text-sm text-gray-600",children:"Quality guaranteed"})]})]})}),e.jsx(Fe.div,{animate:{y:[0,10,0]},transition:{duration:4,repeat:1/0,ease:"easeInOut",delay:1},className:"absolute bottom-20 -right-4 bg-white rounded-2xl p-4 shadow-xl z-20",children:e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsx("div",{className:"w-12 h-12 bg-yellow-100 rounded-xl flex items-center justify-center text-2xl",children:"ðŸšš"}),e.jsxs("div",{children:[e.jsx("p",{className:"font-bold text-gray-900",children:"Fast Delivery"}),e.jsx("p",{className:"text-sm text-gray-600",children:"20-30 minutes"})]})]})})]})})]}),e.jsxs(Fe.div,{initial:{opacity:0,y:50},animate:{opacity:1,y:0},transition:{delay:.6,duration:.8},className:"relative z-20 mt-8 lg:-mt-4",children:[e.jsx("form",{onSubmit:N,className:"bg-white rounded-2xl sm:rounded-full shadow-2xl p-3 sm:p-4",children:e.jsxs("div",{className:"flex flex-col sm:flex-row gap-3 sm:gap-0 sm:items-center",children:[e.jsxs("div",{className:"flex-1 relative",children:[e.jsxs("div",{className:"flex items-center gap-3 px-4 sm:px-6 py-3 sm:py-0",children:[e.jsx("svg",{className:"w-5 h-5 text-gray-400 flex-shrink-0",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M21 21l-6-6m2-5a7 7 0 11-14 0 7 7 0 0114 0z"})}),e.jsx("input",{ref:y,type:"text",value:s,onChange:L=>r(L.target.value),onFocus:()=>m(!0),onBlur:()=>setTimeout(()=>m(!1),200),placeholder:"Postcode, store name, location",className:"flex-1 bg-transparent border-none outline-none text-gray-900 placeholder-gray-500 text-base sm:text-lg"})]}),e.jsx(eo,{children:p&&e.jsx(Fe.div,{initial:{opacity:0,y:-10},animate:{opacity:1,y:0},exit:{opacity:0,y:-10},className:"absolute top-full left-0 right-0 mt-2 bg-white rounded-xl shadow-2xl border border-gray-100 overflow-hidden z-50",children:e.jsxs("div",{className:"p-3",children:[e.jsx("p",{className:"text-xs text-gray-500 font-medium mb-2 px-2",children:"Recent searches"}),x.map(L=>e.jsxs("button",{type:"button",onClick:()=>j(L),className:"w-full flex items-center gap-3 px-3 py-2.5 hover:bg-gray-50 rounded-lg transition-colors text-left",children:[e.jsx("svg",{className:"w-4 h-4 text-orange-500",fill:"currentColor",viewBox:"0 0 20 20",children:e.jsx("path",{fillRule:"evenodd",d:"M5.05 4.05a7 7 0 119.9 9.9L10 18.9l-4.95-4.95a7 7 0 010-9.9zM10 11a2 2 0 100-4 2 2 0 000 4z",clipRule:"evenodd"})}),e.jsx("span",{className:"text-gray-700",children:L})]},L))]})})})]}),e.jsx("div",{className:"hidden sm:block w-px h-10 bg-gray-200 mx-2"}),e.jsx("div",{className:"sm:w-36",children:e.jsxs("div",{className:"flex items-center gap-2 px-4 py-3 sm:py-0",children:[e.jsx("svg",{className:"w-5 h-5 text-gray-400 flex-shrink-0",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M7 7h.01M7 3h5c.512 0 1.024.195 1.414.586l7 7a2 2 0 010 2.828l-7 7a2 2 0 01-2.828 0l-7-7A1.994 1.994 0 013 12V7a4 4 0 014-4z"})}),e.jsxs("select",{value:a,onChange:L=>n(L.target.value),className:"flex-1 bg-transparent border-none outline-none text-gray-700 cursor-pointer text-sm appearance-none",children:[e.jsx("option",{value:"all",children:"Price Tag"}),e.jsx("option",{value:"budget",children:"Budget"}),e.jsx("option",{value:"mid",children:"Mid Range"}),e.jsx("option",{value:"premium",children:"Premium"})]})]})}),e.jsx("div",{className:"hidden sm:block w-px h-10 bg-gray-200 mx-2"}),e.jsx("div",{className:"sm:w-44",children:e.jsxs("div",{className:"flex items-center gap-2 px-4 py-3 sm:py-0",children:[e.jsx("svg",{className:"w-5 h-5 text-gray-400 flex-shrink-0",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M3 3h2l.4 2M7 13h10l4-8H5.4M7 13L5.4 5M7 13l-2.293 2.293c-.63.63-.184 1.707.707 1.707H17m0 0a2 2 0 100 4 2 2 0 000-4zm-8 2a2 2 0 11-4 0 2 2 0 014 0z"})}),e.jsxs("select",{value:o,onChange:L=>l(L.target.value),className:"flex-1 bg-transparent border-none outline-none text-gray-700 cursor-pointer text-sm appearance-none",children:[e.jsx("option",{value:"all",children:"Shopping Method"}),e.jsx("option",{value:"delivery",children:"Delivery"}),e.jsx("option",{value:"pickup",children:"Pickup"}),e.jsx("option",{value:"in-store",children:"In-Store"})]})]})}),e.jsx(Fe.button,{type:"submit",whileHover:{scale:1.02},whileTap:{scale:.98},className:"bg-[#00897B] hover:bg-[#00695C] text-white px-6 sm:px-8 py-3.5 sm:py-4 rounded-xl sm:rounded-full font-bold shadow-lg transition-all text-base whitespace-nowrap",children:"Find Store"})]})}),e.jsxs(Fe.div,{initial:{opacity:0},animate:{opacity:1},transition:{delay:1,duration:.6},className:"mt-4 flex flex-wrap items-center gap-2 justify-center sm:justify-start",children:[e.jsx("span",{className:"text-gray-700 text-sm font-medium",children:"Popular:"}),["London","Birmingham","Manchester","Leeds","Bristol"].map(L=>e.jsx("button",{onClick:()=>j(L),className:"px-3 py-1.5 bg-white/60 hover:bg-white text-gray-700 hover:text-gray-900 rounded-full text-sm font-medium transition-all shadow-sm hover:shadow-md",children:L},L))]})]})]}),e.jsxs("div",{className:"absolute inset-0 overflow-hidden pointer-events-none",children:[e.jsx("div",{className:"absolute top-1/4 right-0 w-96 h-96 bg-yellow-300/30 rounded-full blur-3xl"}),e.jsx("div",{className:"absolute bottom-0 left-1/4 w-64 h-64 bg-orange-300/20 rounded-full blur-2xl"})]})]}),e.jsx("section",{className:"bg-white py-16 sm:py-20",children:e.jsxs("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8",children:[e.jsxs("div",{className:"text-center mb-8",children:[e.jsx(Fe.h2,{initial:{opacity:0,y:20},whileInView:{opacity:1,y:0},viewport:{once:!0},className:"text-2xl sm:text-3xl lg:text-4xl font-bold text-gray-900 mb-3",children:"African Online Store In the United Kingdom"}),e.jsx(Fe.p,{initial:{opacity:0,y:20},whileInView:{opacity:1,y:0},viewport:{once:!0},transition:{delay:.1},className:"text-gray-600 max-w-2xl mx-auto",children:"Use existing infrastructure of African products delivered to your doorstep. Open stores, no staff needed, deliver to you however convenient."})]}),e.jsxs("div",{className:"text-center mb-8",children:[e.jsx("h3",{className:"text-xl font-semibold text-gray-900 mb-4",children:"Meet Our Partners"}),e.jsxs("div",{className:"inline-flex items-center gap-1 p-1 bg-gray-100 rounded-full mb-6",children:[e.jsx("button",{className:"px-6 py-2 bg-[#00897B] text-white rounded-full font-medium text-sm",children:"Stores"}),e.jsx("button",{className:"px-6 py-2 text-gray-700 hover:bg-gray-200 rounded-full font-medium text-sm transition-colors",children:"Pickers"}),e.jsx("button",{className:"px-6 py-2 text-gray-700 hover:bg-gray-200 rounded-full font-medium text-sm transition-colors",children:"Riders"})]}),e.jsxs("div",{className:"flex flex-wrap items-center justify-center gap-4 mb-8",children:[e.jsx("button",{className:"text-[#00897B] font-medium border-b-2 border-[#00897B] pb-1",children:"Stores near by"}),e.jsx("button",{className:"text-gray-600 hover:text-gray-900 font-medium pb-1",children:"Top stores"}),e.jsx("button",{className:"text-gray-600 hover:text-gray-900 font-medium pb-1",children:"Featured stores"}),e.jsx("button",{className:"flex items-center gap-2 px-4 py-2 border border-gray-300 rounded-full text-gray-700 hover:bg-gray-50",children:"Onboard your store"})]}),e.jsx("div",{className:"text-right mb-4",children:e.jsx(Ie,{to:"/stores",className:"text-[#00897B] font-medium hover:underline",children:"See All Stores â†’"})})]}),e.jsx("div",{className:"grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-3 gap-6",children:k.map((L,F)=>e.jsxs(Fe.div,{initial:{opacity:0,y:30},whileInView:{opacity:1,y:0},viewport:{once:!0},transition:{delay:F*.1},whileHover:{y:-8,transition:{duration:.2}},onClick:()=>t(`/store/${L.id}`),className:"bg-white rounded-2xl shadow-lg hover:shadow-2xl border border-gray-100 overflow-hidden cursor-pointer transition-all",children:[e.jsxs("div",{className:"relative h-48",children:[e.jsx("img",{src:L.image,alt:L.name,className:"w-full h-full object-cover"}),e.jsxs("div",{className:"absolute top-3 left-3 bg-white/90 backdrop-blur-sm px-3 py-1.5 rounded-full text-sm font-medium text-gray-700 shadow-md",children:["Shop from ",L.priceRange]}),e.jsxs("div",{className:`absolute top-3 right-3 px-3 py-1.5 rounded-full text-sm font-medium shadow-md ${L.isOpen?"bg-green-500 text-white":"bg-red-500 text-white"}`,children:[L.rating," ",L.isOpen?"Open":"Closed"]})]}),e.jsxs("div",{className:"p-5",children:[e.jsx("div",{className:"flex items-start justify-between mb-2",children:e.jsxs("h3",{className:"text-lg font-bold text-gray-900 flex items-center gap-2",children:[L.name,e.jsx("svg",{className:"w-5 h-5 text-green-500",fill:"currentColor",viewBox:"0 0 20 20",children:e.jsx("path",{fillRule:"evenodd",d:"M6.267 3.455a3.066 3.066 0 001.745-.723 3.066 3.066 0 013.976 0 3.066 3.066 0 001.745.723 3.066 3.066 0 012.812 2.812c.051.643.304 1.254.723 1.745a3.066 3.066 0 010 3.976 3.066 3.066 0 00-.723 1.745 3.066 3.066 0 01-2.812 2.812 3.066 3.066 0 00-1.745.723 3.066 3.066 0 01-3.976 0 3.066 3.066 0 00-1.745-.723 3.066 3.066 0 01-2.812-2.812 3.066 3.066 0 00-.723-1.745 3.066 3.066 0 010-3.976 3.066 3.066 0 00.723-1.745 3.066 3.066 0 012.812-2.812zm7.44 5.252a1 1 0 00-1.414-1.414L9 10.586 7.707 9.293a1 1 0 00-1.414 1.414l2 2a1 1 0 001.414 0l4-4z",clipRule:"evenodd"})})]})}),e.jsxs("p",{className:"text-sm text-gray-600 mb-1",children:["Available: ",L.hours]}),e.jsxs("p",{className:"text-sm text-gray-600 mb-3",children:["Location: ",L.location]}),e.jsxs("div",{className:"flex items-center gap-2 text-sm text-gray-600 mb-3",children:[e.jsxs("span",{className:"flex items-center gap-1",children:[e.jsxs("svg",{className:"w-4 h-4",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:[e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M17.657 16.657L13.414 20.9a1.998 1.998 0 01-2.827 0l-4.244-4.243a8 8 0 1111.314 0z"}),e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M15 11a3 3 0 11-6 0 3 3 0 016 0z"})]}),L.distance]}),e.jsx("span",{children:"â€¢"}),e.jsxs("span",{children:[L.deliveryFee," Deliveries"]}),e.jsx("span",{children:"â€¢"}),e.jsx("span",{children:L.deliveryTime})]}),e.jsx("div",{className:"flex items-center gap-1 mb-3",children:[1,2,3,4,5].map(T=>e.jsx("svg",{className:`w-4 h-4 ${T<=Math.floor(L.rating)?"text-yellow-400":"text-gray-300"}`,fill:"currentColor",viewBox:"0 0 20 20",children:e.jsx("path",{d:"M9.049 2.927c.3-.921 1.603-.921 1.902 0l1.07 3.292a1 1 0 00.95.69h3.462c.969 0 1.371 1.24.588 1.81l-2.8 2.034a1 1 0 00-.364 1.118l1.07 3.292c.3.921-.755 1.688-1.54 1.118l-2.8-2.034a1 1 0 00-1.175 0l-2.8 2.034c-.784.57-1.838-.197-1.539-1.118l1.07-3.292a1 1 0 00-.364-1.118L2.98 8.72c-.783-.57-.38-1.81.588-1.81h3.461a1 1 0 00.951-.69l1.07-3.292z"})},T))}),e.jsx("div",{className:"flex flex-wrap gap-1",children:L.methods.map(T=>e.jsx("span",{className:"px-2 py-1 bg-gray-100 text-gray-600 rounded text-xs font-medium",children:T},T))})]})]},L.id))}),e.jsx("div",{className:"text-center mt-10",children:e.jsx(Fe.div,{whileHover:{scale:1.02},whileTap:{scale:.98},children:e.jsxs(Ie,{to:"/stores",className:"inline-flex items-center gap-2 bg-[#00897B] hover:bg-[#00695C] text-white px-8 py-4 rounded-xl font-bold shadow-lg transition-all text-lg",children:["View All Stores",e.jsx("svg",{className:"w-5 h-5",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M17 8l4 4m0 0l-4 4m4-4H3"})})]})})})]})}),e.jsxs("section",{className:"relative py-16 overflow-hidden",children:[e.jsx("div",{className:"absolute inset-0 bg-[#F5A623]",children:e.jsx("svg",{className:"absolute top-0 left-0 w-full",viewBox:"0 0 1440 100",fill:"none",preserveAspectRatio:"none",children:e.jsx("path",{d:"M0 50C240 100 480 0 720 50C960 100 1200 0 1440 50V0H0V50Z",fill:"white"})})}),e.jsxs("div",{className:"relative max-w-3xl mx-auto px-4 sm:px-6 text-center py-12",children:[e.jsx(Fe.h2,{initial:{opacity:0,y:20},whileInView:{opacity:1,y:0},viewport:{once:!0},className:"text-2xl sm:text-3xl font-bold text-gray-900 mb-4",children:"Join the waitlist for Our App"}),e.jsx(Fe.p,{initial:{opacity:0,y:20},whileInView:{opacity:1,y:0},viewport:{once:!0},transition:{delay:.1},className:"text-gray-700 mb-8 max-w-xl mx-auto",children:"Exciting things are coming your way! Be the first to experience the ultimate shopping convenience with our upcoming app. Whether you prefer an in-store shopping experience or hassle-free home delivery, our app puts the power of choice in your hands."}),e.jsxs(Fe.form,{initial:{opacity:0,y:20},whileInView:{opacity:1,y:0},viewport:{once:!0},transition:{delay:.2},className:"flex flex-col sm:flex-row gap-3 max-w-md mx-auto",children:[e.jsx("input",{type:"email",placeholder:"Enter email address",className:"flex-1 px-5 py-3 rounded-full border-2 border-gray-200 focus:border-[#00897B] outline-none text-gray-900"}),e.jsx(Fe.button,{whileHover:{scale:1.02},whileTap:{scale:.98},type:"submit",className:"bg-[#00897B] hover:bg-[#00695C] text-white px-8 py-3 rounded-full font-bold shadow-lg transition-all whitespace-nowrap",children:"Join List"})]})]})]}),e.jsx("footer",{id:"contact",className:"bg-[#1a1a1a] text-white py-12",children:e.jsxs("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8",children:[e.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-5 gap-8 mb-10",children:[e.jsxs("div",{className:"lg:col-span-2",children:[e.jsxs("h3",{className:"text-xl font-bold mb-4",children:["You've Got Questions?",e.jsx("br",{}),"Do Reach Out!"]}),e.jsxs("div",{className:"space-y-3 text-gray-400",children:[e.jsxs("p",{className:"flex items-center gap-2",children:[e.jsx("span",{className:"text-yellow-500",children:"ðŸ“§"}),"Email: info@afrimercato.co.uk"]}),e.jsxs("p",{className:"flex items-center gap-2",children:[e.jsx("span",{className:"text-yellow-500",children:"ðŸ“"}),"Location: Washington Ave, Manchester, United Kingdom."]})]})]}),e.jsxs("div",{children:[e.jsx("h4",{className:"font-bold mb-4",children:"Company"}),e.jsxs("ul",{className:"space-y-2 text-gray-400",children:[e.jsx("li",{children:e.jsx(Ie,{to:"/delivery",className:"hover:text-yellow-500 transition-colors",children:"Delivery"})}),e.jsx("li",{children:e.jsx(Ie,{to:"/stores",className:"hover:text-yellow-500 transition-colors",children:"Stores"})}),e.jsx("li",{children:e.jsx(Ie,{to:"/about",className:"hover:text-yellow-500 transition-colors",children:"About us"})}),e.jsx("li",{children:e.jsx(Ie,{to:"/contact",className:"hover:text-yellow-500 transition-colors",children:"Contact us"})}),e.jsx("li",{children:e.jsx(Ie,{to:"/stores",className:"hover:text-yellow-500 transition-colors",children:"Stores near me"})}),e.jsx("li",{children:e.jsx(Ie,{to:"/partner",className:"hover:text-yellow-500 transition-colors",children:"Partner With Us"})})]})]}),e.jsxs("div",{children:[e.jsx("h4",{className:"font-bold mb-4",children:"Cities"}),e.jsxs("ul",{className:"space-y-2 text-gray-400",children:[e.jsx("li",{children:e.jsx("button",{onClick:()=>j("Bristol"),className:"hover:text-yellow-500 transition-colors",children:"Bristol"})}),e.jsx("li",{children:e.jsx("button",{onClick:()=>j("London"),className:"hover:text-yellow-500 transition-colors",children:"London"})}),e.jsx("li",{children:e.jsx("button",{onClick:()=>j("Leicester"),className:"hover:text-yellow-500 transition-colors",children:"Leicester"})}),e.jsx("li",{children:e.jsx("button",{onClick:()=>j("Liverpool"),className:"hover:text-yellow-500 transition-colors",children:"Liverpool"})}),e.jsx("li",{children:e.jsx("button",{onClick:()=>j("Beckham"),className:"hover:text-yellow-500 transition-colors",children:"Beckham"})}),e.jsx("li",{children:e.jsx("button",{onClick:()=>j("Birmingham"),className:"hover:text-yellow-500 transition-colors",children:"Birmingham"})})]})]}),e.jsxs("div",{children:[e.jsx("h4",{className:"font-bold mb-4",children:"Quick stores"}),e.jsxs("ul",{className:"space-y-2 text-gray-400",children:[e.jsx("li",{children:e.jsx(Ie,{to:"#",className:"hover:text-yellow-500 transition-colors",children:"Supermart"})}),e.jsx("li",{children:e.jsx(Ie,{to:"#",className:"hover:text-yellow-500 transition-colors",children:"Justeat"})}),e.jsx("li",{children:e.jsx(Ie,{to:"#",className:"hover:text-yellow-500 transition-colors",children:"Shoprite"})}),e.jsx("li",{children:e.jsx(Ie,{to:"#",className:"hover:text-yellow-500 transition-colors",children:"Jendol"})}),e.jsx("li",{children:e.jsx(Ie,{to:"#",className:"hover:text-yellow-500 transition-colors",children:"Buka"})})]})]})]}),e.jsxs("div",{className:"border-t border-gray-800 pt-8 flex flex-col sm:flex-row justify-between items-center gap-4 text-gray-500 text-sm",children:[e.jsx("p",{children:"Â© 2024 Afrimercato"}),e.jsx("p",{children:"Designed By thedesignpygi"}),e.jsx("p",{children:"All Right Reserved."})]})]})}),e.jsx("style",{children:`
        @keyframes spin-slow {
          from { transform: rotate(0deg); }
          to { transform: rotate(360deg); }
        }
        .animate-spin-slow {
          animation: spin-slow 10s linear infinite;
        }
        .border-3 {
          border-width: 3px;
        }
      `})]})}function kc({href:t,children:s,active:r}){const a=t==null?void 0:t.startsWith("/"),n=a?Ie:"a";return e.jsx(n,{to:a?t:void 0,href:a?void 0:t,className:`px-4 py-2 rounded-full text-sm font-medium transition-all ${r?"bg-[#00897B] text-white":"text-gray-800 hover:bg-white/50"}`,children:s})}function Ac({to:t,onClick:s,children:r}){const a=t==null?void 0:t.startsWith("/"),n=a?Ie:"a";return e.jsx(n,{to:a?t:void 0,href:a?void 0:t,onClick:s,className:"block py-3 px-4 text-gray-700 font-medium hover:bg-gray-50 rounded-xl transition-colors",children:r})}function J3({title:t,titleId:s,...r},a){return J.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:a,"aria-labelledby":s},r),t?J.createElement("title",{id:s},t):null,J.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M3 13.125C3 12.504 3.504 12 4.125 12h2.25c.621 0 1.125.504 1.125 1.125v6.75C7.5 20.496 6.996 21 6.375 21h-2.25A1.125 1.125 0 0 1 3 19.875v-6.75ZM9.75 8.625c0-.621.504-1.125 1.125-1.125h2.25c.621 0 1.125.504 1.125 1.125v11.25c0 .621-.504 1.125-1.125 1.125h-2.25a1.125 1.125 0 0 1-1.125-1.125V8.625ZM16.5 4.125c0-.621.504-1.125 1.125-1.125h2.25C20.496 3 21 3.504 21 4.125v15.75c0 .621-.504 1.125-1.125 1.125h-2.25a1.125 1.125 0 0 1-1.125-1.125V4.125Z"}))}const Q3=J.forwardRef(J3);function Z3({title:t,titleId:s,...r},a){return J.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:a,"aria-labelledby":s},r),t?J.createElement("title",{id:s},t):null,J.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M9 12.75 11.25 15 15 9.75M21 12a9 9 0 1 1-18 0 9 9 0 0 1 18 0Z"}))}const uf=J.forwardRef(Z3);function ej({title:t,titleId:s,...r},a){return J.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:a,"aria-labelledby":s},r),t?J.createElement("title",{id:s},t):null,J.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M10.5 1.5H8.25A2.25 2.25 0 0 0 6 3.75v16.5a2.25 2.25 0 0 0 2.25 2.25h7.5A2.25 2.25 0 0 0 18 20.25V3.75a2.25 2.25 0 0 0-2.25-2.25H13.5m-3 0V3h3V1.5m-3 0h3m-3 18.75h3"}))}const tj=J.forwardRef(ej);function rj({title:t,titleId:s,...r},a){return J.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:a,"aria-labelledby":s},r),t?J.createElement("title",{id:s},t):null,J.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M15.75 10.5V6a3.75 3.75 0 1 0-7.5 0v4.5m11.356-1.993 1.263 12c.07.665-.45 1.243-1.119 1.243H4.25a1.125 1.125 0 0 1-1.12-1.243l1.264-12A1.125 1.125 0 0 1 5.513 7.5h12.974c.576 0 1.059.435 1.119 1.007ZM8.625 10.5a.375.375 0 1 1-.75 0 .375.375 0 0 1 .75 0Zm7.5 0a.375.375 0 1 1-.75 0 .375.375 0 0 1 .75 0Z"}))}const sj=J.forwardRef(rj);function aj({title:t,titleId:s,...r},a){return J.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:a,"aria-labelledby":s},r),t?J.createElement("title",{id:s},t):null,J.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M8.25 18.75a1.5 1.5 0 0 1-3 0m3 0a1.5 1.5 0 0 0-3 0m3 0h6m-9 0H3.375a1.125 1.125 0 0 1-1.125-1.125V14.25m17.25 4.5a1.5 1.5 0 0 1-3 0m3 0a1.5 1.5 0 0 0-3 0m3 0h1.125c.621 0 1.129-.504 1.09-1.124a17.902 17.902 0 0 0-3.213-9.193 2.056 2.056 0 0 0-1.58-.86H14.25M16.5 18.75h-2.25m0-11.177v-.958c0-.568-.422-1.048-.987-1.106a48.554 48.554 0 0 0-10.026 0 1.106 1.106 0 0 0-.987 1.106v7.635m12-6.677v6.677m0 4.5v-4.5m0 0h-12"}))}const nj=J.forwardRef(aj);function ij({title:t,titleId:s,...r},a){return J.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:a,"aria-labelledby":s},r),t?J.createElement("title",{id:s},t):null,J.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M18 18.72a9.094 9.094 0 0 0 3.741-.479 3 3 0 0 0-4.682-2.72m.94 3.198.001.031c0 .225-.012.447-.037.666A11.944 11.944 0 0 1 12 21c-2.17 0-4.207-.576-5.963-1.584A6.062 6.062 0 0 1 6 18.719m12 0a5.971 5.971 0 0 0-.941-3.197m0 0A5.995 5.995 0 0 0 12 12.75a5.995 5.995 0 0 0-5.058 2.772m0 0a3 3 0 0 0-4.681 2.72 8.986 8.986 0 0 0 3.74.477m.94-3.197a5.971 5.971 0 0 0-.94 3.197M15 6.75a3 3 0 1 1-6 0 3 3 0 0 1 6 0Zm6 3a2.25 2.25 0 1 1-4.5 0 2.25 2.25 0 0 1 4.5 0Zm-13.5 0a2.25 2.25 0 1 1-4.5 0 2.25 2.25 0 0 1 4.5 0Z"}))}const oj=J.forwardRef(ij);function lj(){const t=[{icon:sj,title:"Reach Thousands of Customers",description:"Get your products in front of 4,320+ active shoppers looking for African groceries."},{icon:Q3,title:"Grow Your Business Online",description:"Track sales, manage inventory, and grow your revenue with our easy-to-use vendor dashboard."},{icon:tj,title:"Easy Store Management",description:"Manage your store from anywhere with our mobile-friendly vendor dashboard."},{icon:nj,title:"We Handle Delivery",description:"Focus on preparing quality products. Our riders handle pickup and delivery to customers."},{icon:oj,title:"Dedicated Support",description:"24/7 support to help you succeed. We're here to answer questions and solve problems."},{icon:uf,title:"Verified & Trusted",description:"Join a trusted marketplace where quality vendors are verified and customer trust is high."}],s=[{number:1,title:"Submit Application",description:"Fill out the vendor application form with your business details and documents.",color:"from-green-500 to-green-600"},{number:2,title:"Verification Process",description:"Our team reviews your application and verifies your business credentials (1-3 business days).",color:"from-yellow-500 to-yellow-600"},{number:3,title:"Set Up Your Store",description:"Once approved, set up your store profile, add products, and configure delivery settings.",color:"from-green-600 to-green-700"},{number:4,title:"Start Selling",description:"Go live and start receiving orders from customers in your area!",color:"from-yellow-600 to-yellow-700"}],r=["Valid business registration or tax ID","Proof of address (business location)","Food safety/handling certification (for food vendors)","Bank account for receiving payments","High-quality photos of your products","Commitment to quality and customer service"],a=[{q:"How much does it cost to join?",a:"Joining AfriMercato is free! We charge a small commission (12-15%) on each sale to cover platform costs, payment processing, and support."},{q:"How long does verification take?",a:"Verification typically takes 1-3 business days. We'll review your documents and get back to you via email."},{q:"What products can I sell?",a:"You can sell fresh produce, meats, dairy, African foods, spices, grains, and packaged goods. All products must meet UK food safety standards."},{q:"How do I receive payments?",a:"Payments are processed through Paystack and deposited directly to your bank account weekly."},{q:"Can I manage multiple stores?",a:"Yes! You can manage multiple store locations from a single vendor account."}];return e.jsxs("div",{className:"min-h-screen bg-white",children:[e.jsx("nav",{className:"bg-white border-b border-gray-200 sticky top-0 z-50 shadow-sm",children:e.jsx("div",{className:"max-w-7xl mx-auto px-4 sm:px-6",children:e.jsxs("div",{className:"flex justify-between items-center h-16",children:[e.jsxs(Ie,{to:"/",className:"flex items-center space-x-2",children:[e.jsx("div",{className:"w-9 h-9 bg-gradient-to-br from-green-600 to-yellow-500 rounded-lg flex items-center justify-center",children:e.jsx("span",{className:"text-white font-bold text-lg",children:"ðŸ›’"})}),e.jsxs("span",{className:"text-xl font-bold text-gray-900",children:["Afri",e.jsx("span",{className:"text-green-600",children:"Hub"})]})]}),e.jsxs("div",{className:"flex items-center gap-4",children:[e.jsx(Ie,{to:"/",className:"text-gray-600 hover:text-green-600",children:"Home"}),e.jsx(Ie,{to:"/login",className:"text-green-600 hover:text-green-700 font-medium",children:"Vendor Sign In"})]})]})})}),e.jsx("section",{className:"bg-gradient-to-br from-green-600 via-green-700 to-yellow-500 py-20",children:e.jsxs("div",{className:"max-w-7xl mx-auto px-4 text-center",children:[e.jsx(Fe.h1,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},className:"text-4xl sm:text-5xl lg:text-6xl font-bold text-white mb-6",children:"Grow Your Food Business with AfriMercato"}),e.jsx(Fe.p,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:.1},className:"text-xl text-white/95 mb-8 max-w-3xl mx-auto",children:"Join 4,320+ vendors already selling African groceries and reaching thousands of customers across the UK."}),e.jsxs(Fe.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:.2},className:"flex flex-col sm:flex-row gap-4 justify-center",children:[e.jsx(Ie,{to:"/register?role=vendor",className:"bg-yellow-400 text-gray-900 hover:bg-yellow-300 px-10 py-4 rounded-xl font-bold text-lg shadow-2xl inline-flex items-center justify-center gap-2",children:"Apply Now â†’"}),e.jsx("a",{href:"#how-it-works",className:"bg-white/10 backdrop-blur text-white hover:bg-white/20 px-10 py-4 rounded-xl font-bold text-lg border-2 border-white/30 inline-flex items-center justify-center",children:"Learn More"})]}),e.jsx("div",{className:"grid grid-cols-3 gap-8 max-w-3xl mx-auto mt-16",children:[{value:"4,320+",label:"Active Vendors"},{value:"Â£2.5M+",label:"Monthly Sales"},{value:"98%",label:"Satisfaction Rate"}].map((n,o)=>e.jsxs(Fe.div,{initial:{opacity:0,scale:.8},animate:{opacity:1,scale:1},transition:{delay:.3+o*.1},className:"text-center",children:[e.jsx("div",{className:"text-3xl sm:text-4xl font-bold text-white mb-2",children:n.value}),e.jsx("div",{className:"text-sm text-white/80",children:n.label})]},o))})]})}),e.jsx("section",{className:"py-20 bg-gray-50",children:e.jsxs("div",{className:"max-w-7xl mx-auto px-4",children:[e.jsxs("div",{className:"text-center mb-12",children:[e.jsx("h2",{className:"text-3xl sm:text-4xl font-bold text-gray-900 mb-4",children:"Why Sell on AfriMercato?"}),e.jsx("p",{className:"text-lg text-gray-600 max-w-2xl mx-auto",children:"Everything you need to run a successful online grocery business"})]}),e.jsx("div",{className:"grid sm:grid-cols-2 lg:grid-cols-3 gap-8",children:t.map((n,o)=>e.jsxs(Fe.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:o*.1},className:"bg-white rounded-2xl p-6 shadow-lg hover:shadow-xl transition-all",children:[e.jsx("div",{className:"w-14 h-14 bg-gradient-to-br from-green-500 to-green-700 rounded-xl flex items-center justify-center mb-4",children:e.jsx(n.icon,{className:"w-8 h-8 text-white"})}),e.jsx("h3",{className:"text-xl font-bold text-gray-900 mb-2",children:n.title}),e.jsx("p",{className:"text-gray-600",children:n.description})]},o))})]})}),e.jsx("section",{id:"how-it-works",className:"py-20",children:e.jsxs("div",{className:"max-w-7xl mx-auto px-4",children:[e.jsxs("div",{className:"text-center mb-12",children:[e.jsx("h2",{className:"text-3xl sm:text-4xl font-bold text-gray-900 mb-4",children:"How to Get Started"}),e.jsx("p",{className:"text-lg text-gray-600",children:"Simple 4-step process to start selling"})]}),e.jsx("div",{className:"grid sm:grid-cols-2 lg:grid-cols-4 gap-8",children:s.map((n,o)=>e.jsxs(Fe.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:o*.1},className:"text-center",children:[e.jsx("div",{className:`w-20 h-20 bg-gradient-to-br ${n.color} rounded-full flex items-center justify-center mx-auto mb-4 shadow-lg`,children:e.jsx("span",{className:"text-3xl font-bold text-white",children:n.number})}),e.jsx("h3",{className:"text-xl font-bold text-gray-900 mb-2",children:n.title}),e.jsx("p",{className:"text-gray-600 text-sm",children:n.description})]},o))})]})}),e.jsx("section",{className:"py-20 bg-gray-50",children:e.jsxs("div",{className:"max-w-4xl mx-auto px-4",children:[e.jsxs("div",{className:"text-center mb-12",children:[e.jsx("h2",{className:"text-3xl sm:text-4xl font-bold text-gray-900 mb-4",children:"What You'll Need"}),e.jsx("p",{className:"text-lg text-gray-600",children:"Requirements for vendor verification"})]}),e.jsx("div",{className:"bg-white rounded-2xl shadow-lg p-8",children:e.jsx("ul",{className:"space-y-4",children:r.map((n,o)=>e.jsxs("li",{className:"flex items-start gap-3",children:[e.jsx(uf,{className:"w-6 h-6 text-green-600 flex-shrink-0 mt-0.5"}),e.jsx("span",{className:"text-gray-700",children:n})]},o))})})]})}),e.jsx("section",{className:"py-20",children:e.jsxs("div",{className:"max-w-4xl mx-auto px-4",children:[e.jsx("div",{className:"text-center mb-12",children:e.jsx("h2",{className:"text-3xl sm:text-4xl font-bold text-gray-900 mb-4",children:"Frequently Asked Questions"})}),e.jsx("div",{className:"space-y-6",children:a.map((n,o)=>e.jsxs(Fe.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:o*.1},className:"bg-white rounded-xl shadow-md p-6 hover:shadow-lg transition-all",children:[e.jsx("h3",{className:"text-lg font-bold text-gray-900 mb-2",children:n.q}),e.jsx("p",{className:"text-gray-600",children:n.a})]},o))})]})}),e.jsx("section",{className:"bg-gradient-to-r from-green-600 via-green-700 to-yellow-500 py-20",children:e.jsxs("div",{className:"max-w-4xl mx-auto px-4 text-center",children:[e.jsx("h2",{className:"text-3xl sm:text-4xl font-bold text-white mb-6",children:"Ready to Start Selling?"}),e.jsx("p",{className:"text-xl text-white/95 mb-8",children:"Join thousands of vendors growing their business on AfriMercato"}),e.jsxs("div",{className:"flex flex-col sm:flex-row gap-4 justify-center",children:[e.jsx(Ie,{to:"/register?role=vendor",className:"bg-yellow-400 text-gray-900 hover:bg-yellow-300 px-10 py-4 rounded-xl font-bold text-lg shadow-2xl inline-flex items-center justify-center gap-2",children:"Apply as Vendor â†’"}),e.jsx(Ie,{to:"/login",className:"bg-white text-green-700 hover:bg-gray-100 px-10 py-4 rounded-xl font-bold text-lg shadow-2xl inline-flex items-center justify-center",children:"Already a Vendor? Sign In"})]})]})}),e.jsx("footer",{className:"bg-gray-900 text-gray-300 py-12",children:e.jsxs("div",{className:"max-w-7xl mx-auto px-4",children:[e.jsxs("div",{className:"grid grid-cols-2 sm:grid-cols-4 gap-8",children:[e.jsxs("div",{children:[e.jsx("h4",{className:"text-white font-bold mb-4",children:"AfriMercato"}),e.jsx("p",{className:"text-sm",children:"African groceries delivered to your door across the UK."})]}),e.jsxs("div",{children:[e.jsx("h4",{className:"text-white font-bold mb-4",children:"For Customers"}),e.jsxs("ul",{className:"space-y-2 text-sm",children:[e.jsx("li",{children:e.jsx(Ie,{to:"/",className:"hover:text-yellow-400",children:"Browse Stores"})}),e.jsx("li",{children:e.jsx(Ie,{to:"/#how-it-works",className:"hover:text-yellow-400",children:"How It Works"})})]})]}),e.jsxs("div",{children:[e.jsx("h4",{className:"text-white font-bold mb-4",children:"For Partners"}),e.jsxs("ul",{className:"space-y-2 text-sm",children:[e.jsx("li",{children:e.jsx(Ie,{to:"/partner",className:"hover:text-yellow-400",children:"Become a Vendor"})}),e.jsx("li",{children:e.jsx(Ie,{to:"/register?role=rider",className:"hover:text-yellow-400",children:"Become a Rider"})})]})]}),e.jsxs("div",{children:[e.jsx("h4",{className:"text-white font-bold mb-4",children:"Company"}),e.jsxs("ul",{className:"space-y-2 text-sm",children:[e.jsx("li",{children:e.jsx("a",{href:"#",className:"hover:text-yellow-400",children:"About"})}),e.jsx("li",{children:e.jsx("a",{href:"#",className:"hover:text-yellow-400",children:"Contact"})})]})]})]}),e.jsx("div",{className:"border-t border-gray-800 mt-8 pt-8 text-center text-sm",children:e.jsx("p",{children:"Â© 2025 AfriMercato. All rights reserved."})})]})})]})}function cj(){const[t]=Xc(),s=t.get("location")||"",r=Zt(),[a,n]=J.useState([]),[o,l]=J.useState(!0),[c,d]=J.useState(s),[h,u]=J.useState("stores"),[x,p]=J.useState("nearby"),[m,y]=J.useState(!1);J.useEffect(()=>{g()},[s]);const g=async()=>{var N;try{l(!0);const j=await Lg(s,50);j.success&&((N=j.data)!=null&&N.vendors)&&j.data.vendors.length>0?n(j.data.vendors):n(b(s))}catch(j){console.log("Using sample stores:",j.message),n(b(s))}finally{l(!1)}},b=N=>{const j=[{_id:"sample-joshs-african-supermarket",name:"Josh's African Supermarket",image:"https://images.unsplash.com/photo-1604719312566-8912e9227c6a?w=600",hours:"07:00am - 10:00pm",location:"London United Kingdom",distance:"0.3km",deliveryTime:"25 mins",priceRange:"Â£5-Â£200",rating:4.9,isOpen:!0,deliveryFee:"Free over Â£50",miles:"0.5 miles",methods:["Delivery","Pickup","In-Store"],verified:!0,description:"Authentic Nigerian, Ghanaian & Caribbean groceries. Fresh yams, plantain, palm oil & more."},{_id:"sample-mama-africa-foods",name:"Mama Africa Foods",image:"https://images.unsplash.com/photo-1542838132-92c53300491e?w=600",hours:"08:00am - 09:00pm",location:"Manchester United Kingdom",distance:"1.2km",deliveryTime:"30 mins",priceRange:"Â£3-Â£150",rating:4.8,isOpen:!0,deliveryFee:"Â£3.99",miles:"1.8 miles",methods:["Delivery","Pickup"],verified:!0,description:"Traditional African spices, seasonings, and fresh produce from trusted suppliers."},{_id:"sample-lagos-provisions",name:"Lagos Provisions",image:"https://images.unsplash.com/photo-1578916171728-46686eac8d58?w=600",hours:"06:00am - 11:00pm",location:"Birmingham United Kingdom",distance:"0.8km",deliveryTime:"20 mins",priceRange:"Â£2-Â£100",rating:4.7,isOpen:!0,deliveryFee:"Â£2.99",miles:"1.2 miles",methods:["Delivery","Pickup","In-Store"],verified:!0,description:"Fresh Nigerian ingredients, frozen fish, stockfish, and authentic seasonings."},{_id:"sample-accra-spice-house",name:"Accra Spice House",image:"https://images.unsplash.com/photo-1596040033229-a9821ebd058d?w=600",hours:"09:00am - 08:00pm",location:"Leeds United Kingdom",distance:"2.1km",deliveryTime:"35 mins",priceRange:"Â£5-Â£180",rating:4.6,isOpen:!0,deliveryFee:"Â£4.50",miles:"3.2 miles",methods:["Delivery","Pickup"],verified:!0,description:"Ghanaian specialty foods, kenkey, banku flour, shito, and palm soup base."},{_id:"sample-ethiopian-delights",name:"Ethiopian Delights",image:"https://images.unsplash.com/photo-1555939594-58d7cb561ad1?w=600",hours:"10:00am - 09:00pm",location:"Bristol United Kingdom",distance:"1.5km",deliveryTime:"40 mins",priceRange:"Â£8-Â£120",rating:4.5,isOpen:!0,deliveryFee:"Â£3.50",miles:"2.3 miles",methods:["Delivery","In-Store"],verified:!0,description:"Authentic Ethiopian & Eritrean foods. Injera, berbere spice, teff flour."},{_id:"sample-caribbean-african-mart",name:"Caribbean & African Mart",image:"https://images.unsplash.com/photo-1619566636858-adf3ef46400b?w=600",hours:"07:00am - 10:00pm",location:"Leicester United Kingdom",distance:"0.6km",deliveryTime:"25 mins",priceRange:"Â£4-Â£200",rating:4.8,isOpen:!0,deliveryFee:"Free over Â£40",miles:"0.9 miles",methods:["Delivery","Pickup","In-Store"],verified:!0,description:"Best of Caribbean & African cuisine. Jerk seasoning, ackee, callaloo & more."},{_id:"sample-naija-fresh-market",name:"Naija Fresh Market",image:"https://images.unsplash.com/photo-1488459716781-31db52582fe9?w=600",hours:"06:00am - 10:00pm",location:"Liverpool United Kingdom",distance:"1.0km",deliveryTime:"30 mins",priceRange:"Â£3-Â£150",rating:4.7,isOpen:!0,deliveryFee:"Â£2.99",miles:"1.5 miles",methods:["Delivery","Pickup"],verified:!0,description:"Fresh egusi, ogbono, crayfish, dried fish, and Nigerian cooking essentials."},{_id:"sample-taste-of-kenya",name:"Taste of Kenya",image:"https://images.unsplash.com/photo-1610832958506-aa56368176cf?w=600",hours:"08:00am - 09:00pm",location:"Sheffield United Kingdom",distance:"1.8km",deliveryTime:"35 mins",priceRange:"Â£5-Â£100",rating:4.4,isOpen:!0,deliveryFee:"Â£3.99",miles:"2.7 miles",methods:["Delivery","In-Store"],verified:!0,description:"Kenyan & East African groceries. Ugali flour, sukuma wiki, nyama choma spices."}];if(N){const k=j.filter(L=>L.location.toLowerCase().includes(N.toLowerCase()));return k.length>0?k:j}return j},w=N=>{N.preventDefault(),c.trim()&&r(`/stores?location=${encodeURIComponent(c)}`)};return e.jsxs("div",{className:"min-h-screen bg-[#F8F8F8]",children:[e.jsx("nav",{className:"bg-white border-b border-gray-200 sticky top-0 z-50 shadow-sm",children:e.jsx("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8",children:e.jsxs("div",{className:"flex justify-between items-center h-16",children:[e.jsxs(Ie,{to:"/",className:"flex items-center gap-2",children:[e.jsx("svg",{className:"w-8 h-8",viewBox:"0 0 40 40",fill:"none",children:e.jsx("path",{d:"M8 8L32 32M32 8L8 32",stroke:"#1a1a1a",strokeWidth:"4",strokeLinecap:"round"})}),e.jsx("span",{className:"text-xl font-bold text-gray-900",children:"Afrimercato"})]}),e.jsxs("div",{className:"hidden md:flex items-center gap-6",children:[e.jsx(Ie,{to:"/",className:"text-gray-600 hover:text-gray-900 font-medium",children:"Home"}),e.jsx(Ie,{to:"/stores",className:"text-[#00897B] font-medium",children:"Stores"}),e.jsx(Ie,{to:"/partner",className:"text-gray-600 hover:text-gray-900 font-medium",children:"Partner With Us"})]}),e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsx(Ie,{to:"/login",className:"text-gray-700 hover:text-gray-900 font-medium",children:"Log in"}),e.jsxs(Ie,{to:"/register",className:"flex items-center gap-2 bg-[#00897B] hover:bg-[#00695C] text-white px-4 py-2 rounded-full font-semibold transition-all",children:["Sign Up",e.jsx("svg",{className:"w-5 h-5",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M3 3h2l.4 2M7 13h10l4-8H5.4M7 13L5.4 5M7 13l-2.293 2.293c-.63.63-.184 1.707.707 1.707H17m0 0a2 2 0 100 4 2 2 0 000-4zm-8 2a2 2 0 11-4 0 2 2 0 014 0z"})})]})]})]})})}),e.jsx("section",{className:"bg-white py-10 border-b",children:e.jsx("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8",children:e.jsxs("div",{className:"grid lg:grid-cols-2 gap-8 items-center",children:[e.jsxs("div",{children:[e.jsxs(Fe.h1,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},className:"text-3xl sm:text-4xl font-bold text-gray-900 mb-4",children:["African Online Store",e.jsx("br",{}),"In the United Kingdom"]}),e.jsx(Fe.p,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:.1},className:"text-gray-600 mb-6",children:"Use existing infrastructure of African products delivered to your doorstep. Open stores, no staff needed, deliver to you however convenient."}),e.jsxs("form",{onSubmit:w,className:"flex gap-2 mb-6",children:[e.jsx("div",{className:"flex-1 relative",children:e.jsxs("div",{className:"flex items-center gap-2 bg-gray-100 rounded-lg px-4 py-3",children:[e.jsx("svg",{className:"w-5 h-5 text-gray-400",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M21 21l-6-6m2-5a7 7 0 11-14 0 7 7 0 0114 0z"})}),e.jsx("input",{type:"text",value:c,onChange:N=>d(N.target.value),onFocus:()=>y(!0),onBlur:()=>setTimeout(()=>y(!1),200),placeholder:"Postcode, store name, location",className:"flex-1 bg-transparent outline-none text-gray-900 placeholder-gray-500"})]})}),e.jsx("button",{type:"submit",className:"bg-[#00897B] hover:bg-[#00695C] text-white px-6 py-3 rounded-lg font-semibold transition-all",children:"Find Store"})]}),e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsx("span",{className:"text-gray-600 text-sm",children:"Trusted by"}),e.jsx("div",{className:"flex -space-x-2",children:[1,2,3].map(N=>e.jsx("div",{className:"w-8 h-8 rounded-full bg-gray-200 border-2 border-white flex items-center justify-center text-sm",children:["ðŸ‘©ðŸ¾","ðŸ‘¨ðŸ¿","ðŸ‘©ðŸ½"][N-1]},N))}),e.jsx("span",{className:"bg-white border border-gray-200 px-3 py-1 rounded-full text-sm font-medium text-gray-700",children:"4,320+ Vendors"})]})]}),e.jsx("div",{className:"hidden lg:block",children:e.jsx("div",{className:"relative bg-[#F5A623] rounded-2xl p-6 overflow-hidden",children:e.jsx("img",{src:"https://images.unsplash.com/photo-1610832958506-aa56368176cf?w=600",alt:"Fresh produce",className:"w-full h-64 object-cover rounded-xl"})})})]})})}),e.jsx("section",{className:"py-10",children:e.jsxs("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8",children:[e.jsx("h2",{className:"text-2xl font-bold text-gray-900 text-center mb-6",children:"Meet Our Partners"}),e.jsx("div",{className:"flex justify-center mb-6",children:e.jsx("div",{className:"inline-flex items-center gap-1 p-1 bg-gray-100 rounded-full",children:["stores","pickers","riders"].map(N=>e.jsx("button",{onClick:()=>u(N),className:`px-6 py-2 rounded-full font-medium text-sm capitalize transition-all ${h===N?"bg-[#00897B] text-white":"text-gray-700 hover:bg-gray-200"}`,children:N},N))})}),e.jsxs("div",{className:"flex flex-wrap items-center justify-between gap-4 mb-6",children:[e.jsx("div",{className:"flex flex-wrap items-center gap-4",children:[{id:"nearby",label:"Stores near by"},{id:"top",label:"Top stores"},{id:"featured",label:"Featured stores"}].map(N=>e.jsx("button",{onClick:()=>p(N.id),className:`font-medium pb-1 transition-colors ${x===N.id?"text-[#00897B] border-b-2 border-[#00897B]":"text-gray-600 hover:text-gray-900"}`,children:N.label},N.id))}),e.jsxs("div",{className:"flex items-center gap-4",children:[e.jsx(Ie,{to:"/partner",className:"flex items-center gap-2 px-4 py-2 border border-gray-300 rounded-full text-gray-700 hover:bg-gray-50 font-medium text-sm",children:"Onboard your store"}),e.jsx("span",{className:"text-[#00897B] font-medium",children:"See All Stores"})]})]}),o&&e.jsxs("div",{className:"text-center py-12",children:[e.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-[#00897B] mx-auto"}),e.jsx("p",{className:"text-gray-600 mt-4",children:"Finding stores..."})]}),!o&&e.jsx("div",{className:"grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-3 gap-6",children:a.map((N,j)=>e.jsxs(Fe.div,{initial:{opacity:0,y:30},animate:{opacity:1,y:0},transition:{delay:j*.1},whileHover:{y:-8},onClick:()=>{const k=N._id||N.id;sessionStorage.setItem(`vendor_${k}`,JSON.stringify({storeName:N.name||N.storeName||N.businessName,businessName:N.businessName||N.name||N.storeName,phone:N.phone||"+44 20 7123 4567",deliveryTime:N.deliveryTime||"30 mins",location:N.location,rating:N.rating,image:N.image||N.logo,description:N.description})),r(`/store/${k}`)},className:"bg-white rounded-2xl shadow-lg hover:shadow-xl overflow-hidden cursor-pointer transition-all border border-gray-100",children:[e.jsxs("div",{className:"relative h-48",children:[e.jsx("img",{src:N.image||"https://images.unsplash.com/photo-1604719312566-8912e9227c6a?w=600",alt:N.name||N.storeName,className:"w-full h-full object-cover"}),e.jsxs("div",{className:"absolute top-3 left-3 bg-white/90 backdrop-blur-sm px-3 py-1.5 rounded-full text-sm font-medium text-gray-700 shadow-md",children:["Shop from ",N.priceRange||"Â£10-Â£500"]}),e.jsxs("div",{className:`absolute top-3 right-3 px-3 py-1.5 rounded-full text-sm font-medium shadow-md flex items-center gap-1 ${N.isOpen!==!1?"bg-green-500 text-white":"bg-red-500 text-white"}`,children:[e.jsx("span",{children:N.rating||4.5}),e.jsx("span",{children:N.isOpen!==!1?"Open":"Closed"})]})]}),e.jsxs("div",{className:"p-5",children:[e.jsxs("div",{className:"flex items-center gap-2 mb-2",children:[e.jsx("h3",{className:"text-lg font-bold text-gray-900",children:N.name||N.storeName||N.businessName}),N.verified!==!1&&e.jsx("svg",{className:"w-5 h-5 text-green-500",fill:"currentColor",viewBox:"0 0 20 20",children:e.jsx("path",{fillRule:"evenodd",d:"M6.267 3.455a3.066 3.066 0 001.745-.723 3.066 3.066 0 013.976 0 3.066 3.066 0 001.745.723 3.066 3.066 0 012.812 2.812c.051.643.304 1.254.723 1.745a3.066 3.066 0 010 3.976 3.066 3.066 0 00-.723 1.745 3.066 3.066 0 01-2.812 2.812 3.066 3.066 0 00-1.745.723 3.066 3.066 0 01-3.976 0 3.066 3.066 0 00-1.745-.723 3.066 3.066 0 01-2.812-2.812 3.066 3.066 0 00-.723-1.745 3.066 3.066 0 010-3.976 3.066 3.066 0 00.723-1.745 3.066 3.066 0 012.812-2.812zm7.44 5.252a1 1 0 00-1.414-1.414L9 10.586 7.707 9.293a1 1 0 00-1.414 1.414l2 2a1 1 0 001.414 0l4-4z",clipRule:"evenodd"})})]}),e.jsxs("p",{className:"text-sm text-gray-600 mb-1",children:["Available: ",N.hours||"06:00am - 09:00pm"]}),e.jsxs("p",{className:"text-sm text-gray-600 mb-3",children:["Location: ",N.location||"United Kingdom"]}),e.jsxs("div",{className:"flex items-center gap-2 text-sm text-gray-600 mb-3",children:[e.jsx("svg",{className:"w-4 h-4",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M17.657 16.657L13.414 20.9a1.998 1.998 0 01-2.827 0l-4.244-4.243a8 8 0 1111.314 0z"})}),e.jsx("span",{children:N.distance||"0.1km"}),e.jsx("span",{children:"â€¢"}),e.jsxs("span",{children:[N.deliveryFee||"Â£25"," Deliveries"]}),e.jsx("span",{children:"â€¢"}),e.jsx("span",{children:N.deliveryTime||"30 mins"})]}),e.jsx("div",{className:"flex items-center gap-1 mb-3",children:[1,2,3,4,5].map(k=>e.jsx("svg",{className:`w-4 h-4 ${k<=Math.floor(N.rating||4.5)?"text-yellow-400":"text-gray-300"}`,fill:"currentColor",viewBox:"0 0 20 20",children:e.jsx("path",{d:"M9.049 2.927c.3-.921 1.603-.921 1.902 0l1.07 3.292a1 1 0 00.95.69h3.462c.969 0 1.371 1.24.588 1.81l-2.8 2.034a1 1 0 00-.364 1.118l1.07 3.292c.3.921-.755 1.688-1.54 1.118l-2.8-2.034a1 1 0 00-1.175 0l-2.8 2.034c-.784.57-1.838-.197-1.539-1.118l1.07-3.292a1 1 0 00-.364-1.118L2.98 8.72c-.783-.57-.38-1.81.588-1.81h3.461a1 1 0 00.951-.69l1.07-3.292z"})},k))}),e.jsx("div",{className:"flex flex-wrap gap-1",children:(N.methods||["Shopping","In-Shopping","Delivery"]).map(k=>e.jsx("span",{className:"px-2 py-1 bg-gray-100 text-gray-600 rounded text-xs font-medium",children:k},k))})]})]},N._id||N.id||j))})]})}),e.jsx("footer",{className:"bg-[#1a1a1a] text-white py-12 mt-10",children:e.jsxs("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8",children:[e.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-4 gap-8",children:[e.jsxs("div",{children:[e.jsx("h4",{className:"font-bold mb-4",children:"Afrimercato"}),e.jsx("p",{className:"text-gray-400 text-sm",children:"Fresh African groceries delivered across the UK."})]}),e.jsxs("div",{children:[e.jsx("h4",{className:"font-bold mb-4",children:"Company"}),e.jsxs("ul",{className:"space-y-2 text-gray-400 text-sm",children:[e.jsx("li",{children:e.jsx(Ie,{to:"/",className:"hover:text-yellow-500",children:"Home"})}),e.jsx("li",{children:e.jsx(Ie,{to:"/stores",className:"hover:text-yellow-500",children:"Stores"})}),e.jsx("li",{children:e.jsx(Ie,{to:"/partner",className:"hover:text-yellow-500",children:"Partner With Us"})})]})]}),e.jsxs("div",{children:[e.jsx("h4",{className:"font-bold mb-4",children:"Cities"}),e.jsxs("ul",{className:"space-y-2 text-gray-400 text-sm",children:[e.jsx("li",{children:e.jsx("button",{onClick:()=>r("/stores?location=London"),className:"hover:text-yellow-500",children:"London"})}),e.jsx("li",{children:e.jsx("button",{onClick:()=>r("/stores?location=Manchester"),className:"hover:text-yellow-500",children:"Manchester"})}),e.jsx("li",{children:e.jsx("button",{onClick:()=>r("/stores?location=Birmingham"),className:"hover:text-yellow-500",children:"Birmingham"})})]})]}),e.jsxs("div",{children:[e.jsx("h4",{className:"font-bold mb-4",children:"Contact"}),e.jsx("p",{className:"text-gray-400 text-sm",children:"info@afrimercato.co.uk"})]})]}),e.jsx("div",{className:"border-t border-gray-800 mt-8 pt-8 text-center text-gray-500 text-sm",children:e.jsx("p",{children:"Â© 2024 Afrimercato. All rights reserved."})})]})})]})}function dj(){const t=[{name:"Sarah Adeyemi",role:"Founder & CEO",image:"https://images.unsplash.com/photo-1573496359142-b8d87734a5a2?w=300",bio:"Passionate about connecting African communities with authentic products across the UK."},{name:"David Okonkwo",role:"Head of Operations",image:"https://images.unsplash.com/photo-1507003211169-0a1dd7228f2d?w=300",bio:"Ensuring seamless delivery experiences for thousands of customers daily."},{name:"Amara Johnson",role:"Head of Vendor Relations",image:"https://images.unsplash.com/photo-1580489944761-15a19d654956?w=300",bio:"Building strong partnerships with vendors across the United Kingdom."}],s=[{year:"2022",title:"Founded",description:"Afrimercato launched in Manchester"},{year:"2023",title:"Expansion",description:"Extended to 15+ UK cities"},{year:"2024",title:"4,320+ Vendors",description:"Trusted by thousands of vendors"},{year:"2025",title:"Growing",description:"Serving communities nationwide"}];return e.jsxs("div",{className:"min-h-screen bg-white",children:[e.jsx("nav",{className:"bg-white border-b border-gray-200 sticky top-0 z-50 shadow-sm",children:e.jsx("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8",children:e.jsxs("div",{className:"flex justify-between items-center h-16",children:[e.jsxs(Ie,{to:"/",className:"flex items-center gap-2",children:[e.jsx("svg",{className:"w-8 h-8",viewBox:"0 0 40 40",fill:"none",children:e.jsx("path",{d:"M8 8L32 32M32 8L8 32",stroke:"#1a1a1a",strokeWidth:"4",strokeLinecap:"round"})}),e.jsx("span",{className:"text-xl font-bold text-gray-900",children:"Afrimercato"})]}),e.jsxs("div",{className:"hidden md:flex items-center gap-6",children:[e.jsx(Ie,{to:"/",className:"text-gray-600 hover:text-gray-900 font-medium",children:"Home"}),e.jsx(Ie,{to:"/stores",className:"text-gray-600 hover:text-gray-900 font-medium",children:"Stores"}),e.jsx(Ie,{to:"/delivery",className:"text-gray-600 hover:text-gray-900 font-medium",children:"Delivery"}),e.jsx(Ie,{to:"/about",className:"text-[#00897B] font-medium",children:"About us"}),e.jsx(Ie,{to:"/contact",className:"text-gray-600 hover:text-gray-900 font-medium",children:"Contact us"})]}),e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsx(Ie,{to:"/login",className:"text-gray-700 hover:text-gray-900 font-medium",children:"Log in"}),e.jsx(Ie,{to:"/register",className:"flex items-center gap-2 bg-[#00897B] hover:bg-[#00695C] text-white px-4 py-2 rounded-full font-semibold transition-all",children:"Sign Up"})]})]})})}),e.jsxs("section",{className:"relative bg-gradient-to-br from-[#F5A623] to-[#FF9800] py-20 overflow-hidden",children:[e.jsxs("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 text-center",children:[e.jsx(Fe.h1,{initial:{opacity:0,y:30},animate:{opacity:1,y:0},className:"text-4xl md:text-6xl font-bold text-gray-900 mb-6",children:"About Afrimercato"}),e.jsx(Fe.p,{initial:{opacity:0,y:30},animate:{opacity:1,y:0},transition:{delay:.1},className:"text-xl text-gray-800 max-w-3xl mx-auto",children:"We're on a mission to bring authentic African products and groceries to every doorstep across the United Kingdom."})]}),e.jsx("div",{className:"absolute bottom-0 left-0 right-0",children:e.jsx("svg",{viewBox:"0 0 1440 120",fill:"none",preserveAspectRatio:"none",className:"w-full h-20",children:e.jsx("path",{d:"M0 120L1440 120L1440 0C1200 80 800 40 400 60C200 70 0 40 0 0L0 120Z",fill:"white"})})})]}),e.jsx("section",{className:"py-20",children:e.jsx("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8",children:e.jsxs("div",{className:"grid lg:grid-cols-2 gap-12 items-center",children:[e.jsxs(Fe.div,{initial:{opacity:0,x:-50},whileInView:{opacity:1,x:0},viewport:{once:!0},children:[e.jsx("h2",{className:"text-3xl md:text-4xl font-bold text-gray-900 mb-6",children:"Our Story"}),e.jsx("p",{className:"text-gray-600 mb-4 text-lg leading-relaxed",children:"Afrimercato was born from a simple idea: to make authentic African products accessible to everyone in the UK, no matter where they live."}),e.jsx("p",{className:"text-gray-600 mb-4 text-lg leading-relaxed",children:"We noticed that many African communities struggled to find the products they loved from home. Supermarkets often lacked variety, and specialty stores were few and far between."}),e.jsx("p",{className:"text-gray-600 text-lg leading-relaxed",children:"Today, we partner with over 4,320 vendors across the UK, bringing fresh produce, authentic spices, and traditional products directly to your doorstep. We're more than a marketplace - we're a bridge connecting cultures and communities."})]}),e.jsxs(Fe.div,{initial:{opacity:0,x:50},whileInView:{opacity:1,x:0},viewport:{once:!0},className:"relative",children:[e.jsx("img",{src:"https://images.unsplash.com/photo-1604719312566-8912e9227c6a?w=600",alt:"African marketplace",className:"rounded-2xl shadow-2xl w-full h-96 object-cover"}),e.jsxs("div",{className:"absolute -bottom-6 -left-6 bg-[#00897B] text-white p-6 rounded-xl shadow-xl",children:[e.jsx("p",{className:"text-3xl font-bold",children:"4,320+"}),e.jsx("p",{className:"text-sm opacity-90",children:"Trusted Vendors"})]})]})]})})}),e.jsx("section",{className:"py-20 bg-gray-50",children:e.jsxs("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8",children:[e.jsx("h2",{className:"text-3xl md:text-4xl font-bold text-gray-900 text-center mb-12",children:"Our Values"}),e.jsx("div",{className:"grid md:grid-cols-3 gap-8",children:[{icon:"ðŸŒ",title:"Community First",description:"We believe in supporting local businesses and connecting communities through food."},{icon:"âœ¨",title:"Quality Always",description:"Every product on our platform meets strict quality standards for freshness and authenticity."},{icon:"ðŸšš",title:"Reliable Delivery",description:"Fast, reliable delivery ensures your groceries arrive fresh at your doorstep."}].map((r,a)=>e.jsxs(Fe.div,{initial:{opacity:0,y:30},whileInView:{opacity:1,y:0},viewport:{once:!0},transition:{delay:a*.1},className:"bg-white p-8 rounded-2xl shadow-lg hover:shadow-xl transition-shadow",children:[e.jsx("div",{className:"text-5xl mb-4",children:r.icon}),e.jsx("h3",{className:"text-xl font-bold text-gray-900 mb-3",children:r.title}),e.jsx("p",{className:"text-gray-600",children:r.description})]},r.title))})]})}),e.jsx("section",{className:"py-20",children:e.jsxs("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8",children:[e.jsx("h2",{className:"text-3xl md:text-4xl font-bold text-gray-900 text-center mb-12",children:"Our Journey"}),e.jsxs("div",{className:"relative",children:[e.jsx("div",{className:"absolute left-1/2 transform -translate-x-1/2 h-full w-1 bg-[#00897B] hidden md:block"}),e.jsx("div",{className:"space-y-12",children:s.map((r,a)=>e.jsxs(Fe.div,{initial:{opacity:0,x:a%2===0?-50:50},whileInView:{opacity:1,x:0},viewport:{once:!0},className:`flex items-center ${a%2===0?"md:flex-row":"md:flex-row-reverse"}`,children:[e.jsx("div",{className:"flex-1 text-center md:text-right md:pr-8",children:a%2===0&&e.jsxs("div",{className:"bg-white p-6 rounded-xl shadow-lg inline-block",children:[e.jsx("p",{className:"text-[#00897B] font-bold text-2xl mb-1",children:r.year}),e.jsx("h3",{className:"text-xl font-bold text-gray-900 mb-2",children:r.title}),e.jsx("p",{className:"text-gray-600",children:r.description})]})}),e.jsx("div",{className:"hidden md:flex w-8 h-8 bg-[#00897B] rounded-full items-center justify-center text-white font-bold z-10",children:a+1}),e.jsx("div",{className:"flex-1 text-center md:text-left md:pl-8",children:a%2!==0&&e.jsxs("div",{className:"bg-white p-6 rounded-xl shadow-lg inline-block",children:[e.jsx("p",{className:"text-[#00897B] font-bold text-2xl mb-1",children:r.year}),e.jsx("h3",{className:"text-xl font-bold text-gray-900 mb-2",children:r.title}),e.jsx("p",{className:"text-gray-600",children:r.description})]})})]},r.year))})]})]})}),e.jsx("section",{className:"py-20 bg-gray-50",children:e.jsxs("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8",children:[e.jsx("h2",{className:"text-3xl md:text-4xl font-bold text-gray-900 text-center mb-4",children:"Meet Our Team"}),e.jsx("p",{className:"text-gray-600 text-center mb-12 max-w-2xl mx-auto",children:"The passionate people behind Afrimercato, working every day to bring you the best experience."}),e.jsx("div",{className:"grid md:grid-cols-3 gap-8",children:t.map((r,a)=>e.jsxs(Fe.div,{initial:{opacity:0,y:30},whileInView:{opacity:1,y:0},viewport:{once:!0},transition:{delay:a*.1},className:"bg-white rounded-2xl shadow-lg overflow-hidden hover:shadow-xl transition-shadow",children:[e.jsx("img",{src:r.image,alt:r.name,className:"w-full h-64 object-cover"}),e.jsxs("div",{className:"p-6",children:[e.jsx("h3",{className:"text-xl font-bold text-gray-900",children:r.name}),e.jsx("p",{className:"text-[#00897B] font-medium mb-3",children:r.role}),e.jsx("p",{className:"text-gray-600 text-sm",children:r.bio})]})]},r.name))})]})}),e.jsx("section",{className:"py-20 bg-[#00897B]",children:e.jsxs("div",{className:"max-w-4xl mx-auto px-4 sm:px-6 lg:px-8 text-center",children:[e.jsx("h2",{className:"text-3xl md:text-4xl font-bold text-white mb-6",children:"Ready to Start Shopping?"}),e.jsx("p",{className:"text-white/90 text-lg mb-8",children:"Join thousands of happy customers who trust Afrimercato for their grocery needs."}),e.jsxs("div",{className:"flex flex-wrap justify-center gap-4",children:[e.jsx(Ie,{to:"/stores",className:"bg-white text-[#00897B] px-8 py-4 rounded-xl font-bold shadow-lg hover:shadow-xl transition-all",children:"Browse Stores"}),e.jsx(Ie,{to:"/partner",className:"border-2 border-white text-white px-8 py-4 rounded-xl font-bold hover:bg-white hover:text-[#00897B] transition-all",children:"Become a Vendor"})]})]})}),e.jsx("footer",{className:"bg-[#1a1a1a] text-white py-12",children:e.jsxs("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8",children:[e.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-4 gap-8",children:[e.jsxs("div",{children:[e.jsx("h4",{className:"font-bold mb-4",children:"Afrimercato"}),e.jsx("p",{className:"text-gray-400 text-sm",children:"Fresh African groceries delivered across the UK."})]}),e.jsxs("div",{children:[e.jsx("h4",{className:"font-bold mb-4",children:"Company"}),e.jsxs("ul",{className:"space-y-2 text-gray-400 text-sm",children:[e.jsx("li",{children:e.jsx(Ie,{to:"/",className:"hover:text-[#F5A623]",children:"Home"})}),e.jsx("li",{children:e.jsx(Ie,{to:"/stores",className:"hover:text-[#F5A623]",children:"Stores"})}),e.jsx("li",{children:e.jsx(Ie,{to:"/about",className:"hover:text-[#F5A623]",children:"About Us"})}),e.jsx("li",{children:e.jsx(Ie,{to:"/contact",className:"hover:text-[#F5A623]",children:"Contact"})})]})]}),e.jsxs("div",{children:[e.jsx("h4",{className:"font-bold mb-4",children:"Support"}),e.jsxs("ul",{className:"space-y-2 text-gray-400 text-sm",children:[e.jsx("li",{children:e.jsx(Ie,{to:"/delivery",className:"hover:text-[#F5A623]",children:"Delivery Info"})}),e.jsx("li",{children:e.jsx(Ie,{to:"/partner",className:"hover:text-[#F5A623]",children:"Partner With Us"})})]})]}),e.jsxs("div",{children:[e.jsx("h4",{className:"font-bold mb-4",children:"Contact"}),e.jsx("p",{className:"text-gray-400 text-sm",children:"info@afrimercato.co.uk"}),e.jsx("p",{className:"text-gray-400 text-sm mt-2",children:"Manchester, United Kingdom"})]})]}),e.jsx("div",{className:"border-t border-gray-800 mt-8 pt-8 text-center text-gray-500 text-sm",children:e.jsx("p",{children:"Â© 2024 Afrimercato. All rights reserved."})})]})})]})}function hj(){const t=[{title:"Standard Delivery",time:"2-4 hours",price:"Â£5.00",description:"Perfect for planned shopping",icon:"ðŸ“¦"},{title:"Express Delivery",time:"30-60 mins",price:"Â£8.00",description:"When you need it fast",icon:"ðŸš€"},{title:"Scheduled Delivery",time:"Pick your slot",price:"Â£4.00",description:"Choose your preferred time",icon:"ðŸ“…"}],s=["London","Manchester","Birmingham","Leeds","Liverpool","Bristol","Leicester","Sheffield","Nottingham","Newcastle","Cardiff","Glasgow","Edinburgh","Belfast","Southampton"],r=[{question:"What are your delivery hours?",answer:"We deliver from 8:00 AM to 10:00 PM, 7 days a week. Specific hours may vary by location and vendor."},{question:"Is there a minimum order for delivery?",answer:"The minimum order is Â£15 for standard delivery. Orders over Â£50 qualify for free delivery!"},{question:"Can I track my delivery?",answer:"Yes! Once your order is dispatched, you'll receive real-time tracking updates via SMS and our app."},{question:"What if I'm not home?",answer:"You can add delivery instructions for safe places to leave your order, or reschedule for a more convenient time."},{question:"Do you deliver to my area?",answer:"We cover most major UK cities. Enter your postcode on our homepage to check availability in your area."}];return e.jsxs("div",{className:"min-h-screen bg-white",children:[e.jsx("nav",{className:"bg-white border-b border-gray-200 sticky top-0 z-50 shadow-sm",children:e.jsx("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8",children:e.jsxs("div",{className:"flex justify-between items-center h-16",children:[e.jsxs(Ie,{to:"/",className:"flex items-center gap-2",children:[e.jsx("svg",{className:"w-8 h-8",viewBox:"0 0 40 40",fill:"none",children:e.jsx("path",{d:"M8 8L32 32M32 8L8 32",stroke:"#1a1a1a",strokeWidth:"4",strokeLinecap:"round"})}),e.jsx("span",{className:"text-xl font-bold text-gray-900",children:"Afrimercato"})]}),e.jsxs("div",{className:"hidden md:flex items-center gap-6",children:[e.jsx(Ie,{to:"/",className:"text-gray-600 hover:text-gray-900 font-medium",children:"Home"}),e.jsx(Ie,{to:"/stores",className:"text-gray-600 hover:text-gray-900 font-medium",children:"Stores"}),e.jsx(Ie,{to:"/delivery",className:"text-[#00897B] font-medium",children:"Delivery"}),e.jsx(Ie,{to:"/about",className:"text-gray-600 hover:text-gray-900 font-medium",children:"About us"}),e.jsx(Ie,{to:"/contact",className:"text-gray-600 hover:text-gray-900 font-medium",children:"Contact us"})]}),e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsx(Ie,{to:"/login",className:"text-gray-700 hover:text-gray-900 font-medium",children:"Log in"}),e.jsx(Ie,{to:"/register",className:"flex items-center gap-2 bg-[#00897B] hover:bg-[#00695C] text-white px-4 py-2 rounded-full font-semibold transition-all",children:"Sign Up"})]})]})})}),e.jsxs("section",{className:"relative bg-gradient-to-br from-[#00897B] to-[#00695C] py-20 overflow-hidden",children:[e.jsx("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8",children:e.jsxs("div",{className:"grid lg:grid-cols-2 gap-12 items-center",children:[e.jsxs(Fe.div,{initial:{opacity:0,y:30},animate:{opacity:1,y:0},children:[e.jsx("h1",{className:"text-4xl md:text-6xl font-bold text-white mb-6",children:"Fast, Reliable Delivery Across the UK"}),e.jsx("p",{className:"text-xl text-white/90 mb-8",children:"From our trusted vendors to your doorstep. Fresh groceries delivered when you need them, where you need them."}),e.jsxs("div",{className:"flex flex-wrap gap-4",children:[e.jsx(Ie,{to:"/stores",className:"bg-white text-[#00897B] px-8 py-4 rounded-xl font-bold shadow-lg hover:shadow-xl transition-all",children:"Start Shopping"}),e.jsx("a",{href:"#coverage",className:"border-2 border-white text-white px-8 py-4 rounded-xl font-bold hover:bg-white hover:text-[#00897B] transition-all",children:"Check Coverage"})]})]}),e.jsx(Fe.div,{initial:{opacity:0,x:50},animate:{opacity:1,x:0},transition:{delay:.2},className:"hidden lg:block",children:e.jsx("img",{src:"https://images.unsplash.com/photo-1566576912321-d58ddd7a6088?w=600",alt:"Delivery",className:"rounded-2xl shadow-2xl"})})]})}),e.jsx("div",{className:"absolute bottom-0 left-0 right-0",children:e.jsx("svg",{viewBox:"0 0 1440 120",fill:"none",preserveAspectRatio:"none",className:"w-full h-20",children:e.jsx("path",{d:"M0 120L1440 120L1440 0C1200 80 800 40 400 60C200 70 0 40 0 0L0 120Z",fill:"white"})})})]}),e.jsx("section",{className:"py-20",children:e.jsxs("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8",children:[e.jsx("h2",{className:"text-3xl md:text-4xl font-bold text-gray-900 text-center mb-4",children:"Delivery Options"}),e.jsx("p",{className:"text-gray-600 text-center mb-12 max-w-2xl mx-auto",children:"Choose the delivery option that works best for you"}),e.jsx("div",{className:"grid md:grid-cols-3 gap-8",children:t.map((a,n)=>e.jsxs(Fe.div,{initial:{opacity:0,y:30},whileInView:{opacity:1,y:0},viewport:{once:!0},transition:{delay:n*.1},className:"bg-white border-2 border-gray-100 p-8 rounded-2xl hover:border-[#00897B] hover:shadow-xl transition-all text-center",children:[e.jsx("div",{className:"text-5xl mb-4",children:a.icon}),e.jsx("h3",{className:"text-xl font-bold text-gray-900 mb-2",children:a.title}),e.jsx("p",{className:"text-[#00897B] text-2xl font-bold mb-2",children:a.time}),e.jsx("p",{className:"text-gray-600 mb-4",children:a.description}),e.jsx("p",{className:"text-gray-900 font-semibold",children:a.price})]},a.title))}),e.jsxs("div",{className:"mt-12 text-center bg-[#F5A623]/10 rounded-2xl p-8",children:[e.jsx("p",{className:"text-2xl font-bold text-gray-900 mb-2",children:"Free Delivery"}),e.jsx("p",{className:"text-gray-600",children:"On all orders over Â£50!"})]})]})}),e.jsx("section",{className:"py-20 bg-gray-50",children:e.jsxs("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8",children:[e.jsx("h2",{className:"text-3xl md:text-4xl font-bold text-gray-900 text-center mb-12",children:"How Delivery Works"}),e.jsx("div",{className:"grid md:grid-cols-4 gap-8",children:[{step:1,title:"Browse & Order",description:"Find your favorite products from local vendors",icon:"ðŸ›’"},{step:2,title:"Vendor Prepares",description:"Fresh products are carefully packed",icon:"ðŸ“¦"},{step:3,title:"On The Way",description:"Track your delivery in real-time",icon:"ðŸšš"},{step:4,title:"Delivered!",description:"Enjoy your fresh groceries at home",icon:"ðŸ "}].map((a,n)=>e.jsxs(Fe.div,{initial:{opacity:0,y:30},whileInView:{opacity:1,y:0},viewport:{once:!0},transition:{delay:n*.1},className:"text-center relative",children:[e.jsx("div",{className:"text-5xl mb-4",children:a.icon}),e.jsx("div",{className:"w-10 h-10 bg-[#00897B] text-white rounded-full flex items-center justify-center font-bold mx-auto mb-4",children:a.step}),e.jsx("h3",{className:"text-lg font-bold text-gray-900 mb-2",children:a.title}),e.jsx("p",{className:"text-gray-600 text-sm",children:a.description}),n<3&&e.jsx("div",{className:"hidden md:block absolute top-16 left-full w-full h-0.5 bg-[#00897B]/30 -translate-x-1/2"})]},a.step))})]})}),e.jsx("section",{id:"coverage",className:"py-20",children:e.jsxs("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8",children:[e.jsx("h2",{className:"text-3xl md:text-4xl font-bold text-gray-900 text-center mb-4",children:"Delivery Coverage"}),e.jsx("p",{className:"text-gray-600 text-center mb-12 max-w-2xl mx-auto",children:"We're rapidly expanding! Currently serving these major cities and surrounding areas."}),e.jsx("div",{className:"flex flex-wrap justify-center gap-4",children:s.map(a=>e.jsx(Fe.div,{whileHover:{scale:1.05},className:"bg-white border border-gray-200 px-6 py-3 rounded-full shadow-sm hover:shadow-md hover:border-[#00897B] transition-all cursor-pointer",children:e.jsx("span",{className:"text-gray-900 font-medium",children:a})},a))}),e.jsxs("p",{className:"text-center mt-8 text-gray-600",children:["Don't see your area? ",e.jsx(Ie,{to:"/contact",className:"text-[#00897B] font-semibold hover:underline",children:"Contact us"})," - we're expanding!"]})]})}),e.jsx("section",{className:"py-20 bg-gray-50",children:e.jsxs("div",{className:"max-w-4xl mx-auto px-4 sm:px-6 lg:px-8",children:[e.jsx("h2",{className:"text-3xl md:text-4xl font-bold text-gray-900 text-center mb-12",children:"Frequently Asked Questions"}),e.jsx("div",{className:"space-y-4",children:r.map((a,n)=>e.jsxs(Fe.details,{initial:{opacity:0,y:20},whileInView:{opacity:1,y:0},viewport:{once:!0},className:"bg-white rounded-xl shadow-sm border border-gray-100 overflow-hidden group",children:[e.jsxs("summary",{className:"p-6 cursor-pointer font-semibold text-gray-900 flex justify-between items-center hover:bg-gray-50",children:[a.question,e.jsx("span",{className:"text-[#00897B] group-open:rotate-180 transition-transform",children:e.jsx("svg",{className:"w-5 h-5",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M19 9l-7 7-7-7"})})})]}),e.jsx("div",{className:"px-6 pb-6 text-gray-600",children:a.answer})]},n))})]})}),e.jsx("section",{className:"py-20 bg-[#F5A623]",children:e.jsxs("div",{className:"max-w-4xl mx-auto px-4 sm:px-6 lg:px-8 text-center",children:[e.jsx("h2",{className:"text-3xl md:text-4xl font-bold text-gray-900 mb-6",children:"Ready to Order?"}),e.jsx("p",{className:"text-gray-800 text-lg mb-8",children:"Experience the convenience of fresh African groceries delivered to your door."}),e.jsx(Ie,{to:"/stores",className:"inline-block bg-[#00897B] text-white px-10 py-4 rounded-xl font-bold shadow-lg hover:bg-[#00695C] transition-all",children:"Browse Stores Near You"})]})}),e.jsx("footer",{className:"bg-[#1a1a1a] text-white py-12",children:e.jsxs("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8",children:[e.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-4 gap-8",children:[e.jsxs("div",{children:[e.jsx("h4",{className:"font-bold mb-4",children:"Afrimercato"}),e.jsx("p",{className:"text-gray-400 text-sm",children:"Fresh African groceries delivered across the UK."})]}),e.jsxs("div",{children:[e.jsx("h4",{className:"font-bold mb-4",children:"Company"}),e.jsxs("ul",{className:"space-y-2 text-gray-400 text-sm",children:[e.jsx("li",{children:e.jsx(Ie,{to:"/",className:"hover:text-[#F5A623]",children:"Home"})}),e.jsx("li",{children:e.jsx(Ie,{to:"/stores",className:"hover:text-[#F5A623]",children:"Stores"})}),e.jsx("li",{children:e.jsx(Ie,{to:"/about",className:"hover:text-[#F5A623]",children:"About Us"})}),e.jsx("li",{children:e.jsx(Ie,{to:"/contact",className:"hover:text-[#F5A623]",children:"Contact"})})]})]}),e.jsxs("div",{children:[e.jsx("h4",{className:"font-bold mb-4",children:"Support"}),e.jsxs("ul",{className:"space-y-2 text-gray-400 text-sm",children:[e.jsx("li",{children:e.jsx(Ie,{to:"/delivery",className:"hover:text-[#F5A623]",children:"Delivery Info"})}),e.jsx("li",{children:e.jsx(Ie,{to:"/partner",className:"hover:text-[#F5A623]",children:"Partner With Us"})})]})]}),e.jsxs("div",{children:[e.jsx("h4",{className:"font-bold mb-4",children:"Contact"}),e.jsx("p",{className:"text-gray-400 text-sm",children:"info@afrimercato.co.uk"}),e.jsx("p",{className:"text-gray-400 text-sm mt-2",children:"Manchester, United Kingdom"})]})]}),e.jsx("div",{className:"border-t border-gray-800 mt-8 pt-8 text-center text-gray-500 text-sm",children:e.jsx("p",{children:"Â© 2024 Afrimercato. All rights reserved."})})]})})]})}function uj(){const[t,s]=J.useState({name:"",email:"",subject:"general",message:""}),[r,a]=J.useState(!1),[n,o]=J.useState(!1),[l,c]=J.useState(""),d=async x=>{x.preventDefault(),c(""),o(!0);try{const p=await Fg(t);p.success?(a(!0),setTimeout(()=>{s({name:"",email:"",subject:"general",message:""}),a(!1)},3e3)):c(p.message||"Failed to send message. Please try again.")}catch(p){c("Failed to send message. Please try again or email us directly."),console.error("Contact form error:",p)}finally{o(!1)}},h=[{icon:"ðŸ“§",title:"Email Us",content:"info@afrimercato.co.uk",description:"We reply within 24 hours"},{icon:"ðŸ“",title:"Visit Us",content:"Washington Ave, Manchester",description:"United Kingdom"},{icon:"ðŸ“ž",title:"Call Us",content:"+44 161 123 4567",description:"Mon-Fri, 9am-6pm"}],u=[{value:"general",label:"General Inquiry"},{value:"order",label:"Order Support"},{value:"delivery",label:"Delivery Issue"},{value:"vendor",label:"Vendor Partnership"},{value:"feedback",label:"Feedback & Suggestions"},{value:"press",label:"Press & Media"}];return e.jsxs("div",{className:"min-h-screen bg-white",children:[e.jsx("nav",{className:"bg-white border-b border-gray-200 sticky top-0 z-50 shadow-sm",children:e.jsx("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8",children:e.jsxs("div",{className:"flex justify-between items-center h-16",children:[e.jsxs(Ie,{to:"/",className:"flex items-center gap-2",children:[e.jsx("svg",{className:"w-8 h-8",viewBox:"0 0 40 40",fill:"none",children:e.jsx("path",{d:"M8 8L32 32M32 8L8 32",stroke:"#1a1a1a",strokeWidth:"4",strokeLinecap:"round"})}),e.jsx("span",{className:"text-xl font-bold text-gray-900",children:"Afrimercato"})]}),e.jsxs("div",{className:"hidden md:flex items-center gap-6",children:[e.jsx(Ie,{to:"/",className:"text-gray-600 hover:text-gray-900 font-medium",children:"Home"}),e.jsx(Ie,{to:"/stores",className:"text-gray-600 hover:text-gray-900 font-medium",children:"Stores"}),e.jsx(Ie,{to:"/delivery",className:"text-gray-600 hover:text-gray-900 font-medium",children:"Delivery"}),e.jsx(Ie,{to:"/about",className:"text-gray-600 hover:text-gray-900 font-medium",children:"About us"}),e.jsx(Ie,{to:"/contact",className:"text-[#00897B] font-medium",children:"Contact us"})]}),e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsx(Ie,{to:"/login",className:"text-gray-700 hover:text-gray-900 font-medium",children:"Log in"}),e.jsx(Ie,{to:"/register",className:"flex items-center gap-2 bg-[#00897B] hover:bg-[#00695C] text-white px-4 py-2 rounded-full font-semibold transition-all",children:"Sign Up"})]})]})})}),e.jsxs("section",{className:"relative bg-gradient-to-br from-[#1a1a1a] to-[#333] py-20 overflow-hidden",children:[e.jsxs("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 text-center",children:[e.jsx(Fe.h1,{initial:{opacity:0,y:30},animate:{opacity:1,y:0},className:"text-4xl md:text-6xl font-bold text-white mb-6",children:"Get In Touch"}),e.jsx(Fe.p,{initial:{opacity:0,y:30},animate:{opacity:1,y:0},transition:{delay:.1},className:"text-xl text-gray-300 max-w-2xl mx-auto",children:"Have questions? We'd love to hear from you. Send us a message and we'll respond as soon as possible."})]}),e.jsx("div",{className:"absolute bottom-0 left-0 right-0",children:e.jsx("svg",{viewBox:"0 0 1440 120",fill:"none",preserveAspectRatio:"none",className:"w-full h-20",children:e.jsx("path",{d:"M0 120L1440 120L1440 0C1200 80 800 40 400 60C200 70 0 40 0 0L0 120Z",fill:"white"})})})]}),e.jsx("section",{className:"py-16 -mt-12",children:e.jsx("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8",children:e.jsx("div",{className:"grid md:grid-cols-3 gap-6",children:h.map((x,p)=>e.jsxs(Fe.div,{initial:{opacity:0,y:30},whileInView:{opacity:1,y:0},viewport:{once:!0},transition:{delay:p*.1},className:"bg-white rounded-2xl shadow-xl p-8 text-center hover:shadow-2xl transition-shadow border border-gray-100",children:[e.jsx("div",{className:"text-5xl mb-4",children:x.icon}),e.jsx("h3",{className:"text-xl font-bold text-gray-900 mb-2",children:x.title}),e.jsx("p",{className:"text-[#00897B] font-semibold mb-1",children:x.content}),e.jsx("p",{className:"text-gray-500 text-sm",children:x.description})]},x.title))})})}),e.jsx("section",{className:"py-16",children:e.jsx("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8",children:e.jsxs("div",{className:"grid lg:grid-cols-2 gap-12",children:[e.jsxs(Fe.div,{initial:{opacity:0,x:-50},whileInView:{opacity:1,x:0},viewport:{once:!0},children:[e.jsx("h2",{className:"text-3xl font-bold text-gray-900 mb-6",children:"Send Us a Message"}),e.jsxs("form",{onSubmit:d,className:"space-y-6",children:[e.jsxs("div",{className:"grid md:grid-cols-2 gap-6",children:[e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-semibold text-gray-700 mb-2",children:"Your Name *"}),e.jsx("input",{type:"text",required:!0,value:t.name,onChange:x=>s({...t,name:x.target.value}),className:"w-full px-4 py-3 border border-gray-300 rounded-xl focus:ring-2 focus:ring-[#00897B] focus:border-transparent transition-all",placeholder:"John Doe"})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-semibold text-gray-700 mb-2",children:"Email Address *"}),e.jsx("input",{type:"email",required:!0,value:t.email,onChange:x=>s({...t,email:x.target.value}),className:"w-full px-4 py-3 border border-gray-300 rounded-xl focus:ring-2 focus:ring-[#00897B] focus:border-transparent transition-all",placeholder:"john@example.com"})]})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-semibold text-gray-700 mb-2",children:"Subject *"}),e.jsx("select",{required:!0,value:t.subject,onChange:x=>s({...t,subject:x.target.value}),className:"w-full px-4 py-3 border border-gray-300 rounded-xl focus:ring-2 focus:ring-[#00897B] focus:border-transparent transition-all",children:u.map(x=>e.jsx("option",{value:x.value,children:x.label},x.value))})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-semibold text-gray-700 mb-2",children:"Message *"}),e.jsx("textarea",{required:!0,rows:5,value:t.message,onChange:x=>s({...t,message:x.target.value}),className:"w-full px-4 py-3 border border-gray-300 rounded-xl focus:ring-2 focus:ring-[#00897B] focus:border-transparent transition-all resize-none",placeholder:"How can we help you?"})]}),l&&e.jsx("div",{className:"bg-red-50 border-l-4 border-red-500 p-4 rounded",children:e.jsx("p",{className:"text-red-700 text-sm",children:l})}),e.jsx("button",{type:"submit",disabled:r||n,className:`w-full py-4 rounded-xl font-bold text-lg transition-all ${r?"bg-green-500 text-white":n?"bg-gray-400 text-white cursor-not-allowed":"bg-[#00897B] hover:bg-[#00695C] text-white shadow-lg hover:shadow-xl"}`,children:r?"Message Sent! âœ“":n?"Sending...":"Send Message"})]})]}),e.jsxs(Fe.div,{initial:{opacity:0,x:50},whileInView:{opacity:1,x:0},viewport:{once:!0},className:"space-y-8",children:[e.jsx("div",{className:"bg-gray-100 rounded-2xl h-64 flex items-center justify-center overflow-hidden",children:e.jsx("img",{src:"https://images.unsplash.com/photo-1526778548025-fa2f459cd5c1?w=600",alt:"Location",className:"w-full h-full object-cover"})}),e.jsxs("div",{className:"bg-[#F5A623]/10 rounded-2xl p-6",children:[e.jsx("h3",{className:"text-xl font-bold text-gray-900 mb-4",children:"Office Hours"}),e.jsxs("div",{className:"space-y-3",children:[e.jsxs("div",{className:"flex justify-between",children:[e.jsx("span",{className:"text-gray-600",children:"Monday - Friday"}),e.jsx("span",{className:"font-semibold text-gray-900",children:"9:00 AM - 6:00 PM"})]}),e.jsxs("div",{className:"flex justify-between",children:[e.jsx("span",{className:"text-gray-600",children:"Saturday"}),e.jsx("span",{className:"font-semibold text-gray-900",children:"10:00 AM - 4:00 PM"})]}),e.jsxs("div",{className:"flex justify-between",children:[e.jsx("span",{className:"text-gray-600",children:"Sunday"}),e.jsx("span",{className:"font-semibold text-gray-900",children:"Closed"})]})]})]}),e.jsxs("div",{className:"bg-gray-50 rounded-2xl p-6",children:[e.jsx("h3",{className:"text-xl font-bold text-gray-900 mb-4",children:"Follow Us"}),e.jsx("div",{className:"flex gap-4",children:[{name:"Facebook",icon:"ðŸ“˜"},{name:"Twitter",icon:"ðŸ¦"},{name:"Instagram",icon:"ðŸ“·"},{name:"LinkedIn",icon:"ðŸ’¼"}].map(x=>e.jsx("a",{href:"#",className:"w-12 h-12 bg-white rounded-xl shadow-md flex items-center justify-center text-2xl hover:shadow-lg hover:-translate-y-1 transition-all",title:x.name,children:x.icon},x.name))})]}),e.jsxs("div",{className:"bg-[#00897B] rounded-2xl p-6 text-white",children:[e.jsx("h3",{className:"text-xl font-bold mb-4",children:"Need Quick Help?"}),e.jsx("p",{className:"text-white/80 mb-4",children:"Check our FAQ section for instant answers to common questions."}),e.jsx(Ie,{to:"/delivery#faqs",className:"inline-block bg-white text-[#00897B] px-6 py-3 rounded-xl font-semibold hover:bg-gray-100 transition-all",children:"View FAQs"})]})]})]})})}),e.jsx("section",{className:"py-16 bg-gray-50",children:e.jsxs("div",{className:"max-w-4xl mx-auto px-4 sm:px-6 lg:px-8 text-center",children:[e.jsx("h2",{className:"text-3xl font-bold text-gray-900 mb-4",children:"Interested in Partnering With Us?"}),e.jsx("p",{className:"text-gray-600 mb-8",children:"Join over 4,320 vendors already selling on Afrimercato and reach thousands of customers."}),e.jsx(Ie,{to:"/partner",className:"inline-block bg-[#F5A623] text-gray-900 px-10 py-4 rounded-xl font-bold shadow-lg hover:bg-[#FF9800] transition-all",children:"Become a Vendor"})]})}),e.jsx("footer",{className:"bg-[#1a1a1a] text-white py-12",children:e.jsxs("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8",children:[e.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-4 gap-8",children:[e.jsxs("div",{children:[e.jsx("h4",{className:"font-bold mb-4",children:"Afrimercato"}),e.jsx("p",{className:"text-gray-400 text-sm",children:"Fresh African groceries delivered across the UK."})]}),e.jsxs("div",{children:[e.jsx("h4",{className:"font-bold mb-4",children:"Company"}),e.jsxs("ul",{className:"space-y-2 text-gray-400 text-sm",children:[e.jsx("li",{children:e.jsx(Ie,{to:"/",className:"hover:text-[#F5A623]",children:"Home"})}),e.jsx("li",{children:e.jsx(Ie,{to:"/stores",className:"hover:text-[#F5A623]",children:"Stores"})}),e.jsx("li",{children:e.jsx(Ie,{to:"/about",className:"hover:text-[#F5A623]",children:"About Us"})}),e.jsx("li",{children:e.jsx(Ie,{to:"/contact",className:"hover:text-[#F5A623]",children:"Contact"})})]})]}),e.jsxs("div",{children:[e.jsx("h4",{className:"font-bold mb-4",children:"Support"}),e.jsxs("ul",{className:"space-y-2 text-gray-400 text-sm",children:[e.jsx("li",{children:e.jsx(Ie,{to:"/delivery",className:"hover:text-[#F5A623]",children:"Delivery Info"})}),e.jsx("li",{children:e.jsx(Ie,{to:"/partner",className:"hover:text-[#F5A623]",children:"Partner With Us"})})]})]}),e.jsxs("div",{children:[e.jsx("h4",{className:"font-bold mb-4",children:"Contact"}),e.jsx("p",{className:"text-gray-400 text-sm",children:"info@afrimercato.co.uk"}),e.jsx("p",{className:"text-gray-400 text-sm mt-2",children:"Manchester, United Kingdom"})]})]}),e.jsx("div",{className:"border-t border-gray-800 mt-8 pt-8 text-center text-gray-500 text-sm",children:e.jsx("p",{children:"Â© 2024 Afrimercato. All rights reserved."})})]})})]})}function fj(){return e.jsxs("div",{className:"min-h-screen bg-gray-50",children:[e.jsx("div",{className:"bg-gradient-to-r from-afri-green to-afri-green-dark text-white py-16",children:e.jsxs("div",{className:"max-w-4xl mx-auto px-4",children:[e.jsx(Fe.h1,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},className:"text-4xl md:text-5xl font-bold mb-4",children:"Privacy Policy"}),e.jsxs(Fe.p,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:.1},className:"text-lg text-white/90",children:["Last updated: ",new Date().toLocaleDateString("en-GB")]})]})}),e.jsx("div",{className:"max-w-4xl mx-auto px-4 py-12",children:e.jsxs(Fe.div,{initial:{opacity:0},animate:{opacity:1},transition:{delay:.2},className:"bg-white rounded-xl shadow-lg p-8 md:p-12 space-y-8",children:[e.jsxs("section",{children:[e.jsx("h2",{className:"text-2xl font-bold text-gray-900 mb-4",children:"1. Introduction"}),e.jsx("p",{className:"text-gray-700 leading-relaxed",children:"Welcome to Afrimercato. We respect your privacy and are committed to protecting your personal data. This privacy policy will inform you about how we look after your personal data when you visit our website or use our services, and tell you about your privacy rights and how the law protects you."})]}),e.jsxs("section",{children:[e.jsx("h2",{className:"text-2xl font-bold text-gray-900 mb-4",children:"2. Data We Collect"}),e.jsx("p",{className:"text-gray-700 leading-relaxed mb-3",children:"We may collect, use, store and transfer different kinds of personal data about you:"}),e.jsxs("ul",{className:"list-disc list-inside space-y-2 text-gray-700 ml-4",children:[e.jsxs("li",{children:[e.jsx("strong",{children:"Identity Data:"})," Name, username, date of birth"]}),e.jsxs("li",{children:[e.jsx("strong",{children:"Contact Data:"})," Email address, telephone numbers, billing and delivery addresses"]}),e.jsxs("li",{children:[e.jsx("strong",{children:"Financial Data:"})," Payment card details (processed securely by our payment providers)"]}),e.jsxs("li",{children:[e.jsx("strong",{children:"Transaction Data:"})," Details about payments and products/services purchased"]}),e.jsxs("li",{children:[e.jsx("strong",{children:"Technical Data:"})," IP address, browser type, device information"]}),e.jsxs("li",{children:[e.jsx("strong",{children:"Profile Data:"})," Username, purchases, preferences, feedback"]}),e.jsxs("li",{children:[e.jsx("strong",{children:"Usage Data:"})," Information about how you use our website and services"]}),e.jsxs("li",{children:[e.jsx("strong",{children:"Marketing Data:"})," Your preferences in receiving marketing from us"]}),e.jsxs("li",{children:[e.jsx("strong",{children:"Location Data:"})," For delivery services and finding nearby stores"]})]})]}),e.jsxs("section",{children:[e.jsx("h2",{className:"text-2xl font-bold text-gray-900 mb-4",children:"3. How We Use Your Data"}),e.jsx("p",{className:"text-gray-700 leading-relaxed mb-3",children:"We will only use your personal data when the law allows us to. Most commonly, we use your data to:"}),e.jsxs("ul",{className:"list-disc list-inside space-y-2 text-gray-700 ml-4",children:[e.jsx("li",{children:"Process and deliver your orders"}),e.jsx("li",{children:"Manage payments, fees, and charges"}),e.jsx("li",{children:"Collect and recover money owed to us"}),e.jsx("li",{children:"Send you service, support and administrative messages"}),e.jsx("li",{children:"Respond to your comments, questions and requests"}),e.jsx("li",{children:"Improve our website, products and services"}),e.jsx("li",{children:"Send you marketing communications (with your consent)"}),e.jsx("li",{children:"Protect against fraudulent or illegal activity"})]})]}),e.jsxs("section",{children:[e.jsx("h2",{className:"text-2xl font-bold text-gray-900 mb-4",children:"4. Data Sharing"}),e.jsx("p",{className:"text-gray-700 leading-relaxed mb-3",children:"We may share your personal data with:"}),e.jsxs("ul",{className:"list-disc list-inside space-y-2 text-gray-700 ml-4",children:[e.jsxs("li",{children:[e.jsx("strong",{children:"Vendors:"})," To fulfill your orders"]}),e.jsxs("li",{children:[e.jsx("strong",{children:"Delivery Partners:"})," To deliver your orders"]}),e.jsxs("li",{children:[e.jsx("strong",{children:"Payment Processors:"})," Stripe, PayPal for secure payment processing"]}),e.jsxs("li",{children:[e.jsx("strong",{children:"Service Providers:"})," For analytics, email services, and customer support"]}),e.jsxs("li",{children:[e.jsx("strong",{children:"Legal Authorities:"})," When required by law"]})]}),e.jsx("p",{className:"text-gray-700 leading-relaxed mt-3",children:"We never sell your personal data to third parties."})]}),e.jsxs("section",{children:[e.jsx("h2",{className:"text-2xl font-bold text-gray-900 mb-4",children:"5. Data Security"}),e.jsx("p",{className:"text-gray-700 leading-relaxed",children:"We have put in place appropriate security measures to prevent your personal data from being accidentally lost, used or accessed in an unauthorized way, altered or disclosed. All payment information is encrypted using SSL technology. We limit access to your personal data to those employees, agents, contractors and other third parties who have a business need to know."})]}),e.jsxs("section",{children:[e.jsx("h2",{className:"text-2xl font-bold text-gray-900 mb-4",children:"6. Your Rights Under GDPR"}),e.jsx("p",{className:"text-gray-700 leading-relaxed mb-3",children:"Under UK GDPR, you have the following rights:"}),e.jsxs("ul",{className:"list-disc list-inside space-y-2 text-gray-700 ml-4",children:[e.jsxs("li",{children:[e.jsx("strong",{children:"Right to Access:"})," Request a copy of your personal data"]}),e.jsxs("li",{children:[e.jsx("strong",{children:"Right to Rectification:"})," Correct inaccurate or incomplete data"]}),e.jsxs("li",{children:[e.jsx("strong",{children:"Right to Erasure:"})," Request deletion of your personal data"]}),e.jsxs("li",{children:[e.jsx("strong",{children:"Right to Restrict Processing:"})," Limit how we use your data"]}),e.jsxs("li",{children:[e.jsx("strong",{children:"Right to Data Portability:"})," Receive your data in a portable format"]}),e.jsxs("li",{children:[e.jsx("strong",{children:"Right to Object:"})," Object to processing of your data"]}),e.jsxs("li",{children:[e.jsx("strong",{children:"Right to Withdraw Consent:"})," Withdraw consent at any time"]})]}),e.jsxs("p",{className:"text-gray-700 leading-relaxed mt-4",children:["To exercise any of these rights, please contact us at"," ",e.jsx("a",{href:"mailto:privacy@afrimercato.com",className:"text-afri-green hover:underline",children:"privacy@afrimercato.com"})]})]}),e.jsxs("section",{children:[e.jsx("h2",{className:"text-2xl font-bold text-gray-900 mb-4",children:"7. Data Retention"}),e.jsx("p",{className:"text-gray-700 leading-relaxed",children:"We will only retain your personal data for as long as necessary to fulfill the purposes we collected it for, including for the purposes of satisfying any legal, accounting, or reporting requirements. Account data is retained for 7 years after account closure for legal and accounting purposes. Order data is retained for 6 years to comply with UK tax law."})]}),e.jsxs("section",{children:[e.jsx("h2",{className:"text-2xl font-bold text-gray-900 mb-4",children:"8. Cookies"}),e.jsx("p",{className:"text-gray-700 leading-relaxed",children:"Our website uses cookies to distinguish you from other users. This helps us provide you with a good experience when you browse our website and also allows us to improve our site. You can manage your cookie preferences at any time through your browser settings or our cookie consent tool."})]}),e.jsxs("section",{children:[e.jsx("h2",{className:"text-2xl font-bold text-gray-900 mb-4",children:"9. Contact Us"}),e.jsx("p",{className:"text-gray-700 leading-relaxed mb-4",children:"If you have any questions about this privacy policy or our privacy practices, please contact us:"}),e.jsxs("div",{className:"bg-gray-50 p-6 rounded-lg",children:[e.jsxs("p",{className:"text-gray-700",children:[e.jsx("strong",{children:"Email:"})," privacy@afrimercato.com"]}),e.jsxs("p",{className:"text-gray-700",children:[e.jsx("strong",{children:"Address:"})," Afrimercato Ltd, United Kingdom"]}),e.jsxs("p",{className:"text-gray-700",children:[e.jsx("strong",{children:"Data Protection Officer:"})," dpo@afrimercato.com"]})]})]}),e.jsxs("section",{children:[e.jsx("h2",{className:"text-2xl font-bold text-gray-900 mb-4",children:"10. Changes to This Policy"}),e.jsx("p",{className:"text-gray-700 leading-relaxed",children:'We may update this privacy policy from time to time. We will notify you of any changes by posting the new privacy policy on this page and updating the "Last updated" date.'})]}),e.jsx("div",{className:"pt-8 border-t border-gray-200",children:e.jsxs(Ie,{to:"/",className:"inline-flex items-center text-afri-green hover:text-afri-green-dark font-semibold",children:[e.jsx("svg",{className:"w-5 h-5 mr-2",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M10 19l-7-7m0 0l7-7m-7 7h18"})}),"Back to Home"]})})]})})]})}function mj(){return e.jsxs("div",{className:"min-h-screen bg-gray-50",children:[e.jsx("div",{className:"bg-gradient-to-r from-afri-green to-afri-green-dark text-white py-16",children:e.jsxs("div",{className:"max-w-4xl mx-auto px-4",children:[e.jsx(Fe.h1,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},className:"text-4xl md:text-5xl font-bold mb-4",children:"Terms of Service"}),e.jsxs(Fe.p,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:.1},className:"text-lg text-white/90",children:["Last updated: ",new Date().toLocaleDateString("en-GB")]})]})}),e.jsx("div",{className:"max-w-4xl mx-auto px-4 py-12",children:e.jsxs(Fe.div,{initial:{opacity:0},animate:{opacity:1},transition:{delay:.2},className:"bg-white rounded-xl shadow-lg p-8 md:p-12 space-y-8",children:[e.jsxs("section",{children:[e.jsx("h2",{className:"text-2xl font-bold text-gray-900 mb-4",children:"1. Acceptance of Terms"}),e.jsx("p",{className:"text-gray-700 leading-relaxed",children:"By accessing and using Afrimercato's website and services, you accept and agree to be bound by the terms and provision of this agreement. If you do not agree to these terms, please do not use our services."})]}),e.jsxs("section",{children:[e.jsx("h2",{className:"text-2xl font-bold text-gray-900 mb-4",children:"2. Description of Services"}),e.jsx("p",{className:"text-gray-700 leading-relaxed mb-3",children:"Afrimercato provides an online marketplace connecting:"}),e.jsxs("ul",{className:"list-disc list-inside space-y-2 text-gray-700 ml-4",children:[e.jsx("li",{children:"Customers seeking to purchase African groceries and products"}),e.jsx("li",{children:"Vendors offering products for sale"}),e.jsx("li",{children:"Delivery riders providing fulfillment services"}),e.jsx("li",{children:"Pickers assisting with order preparation"})]})]}),e.jsxs("section",{children:[e.jsx("h2",{className:"text-2xl font-bold text-gray-900 mb-4",children:"3. User Accounts"}),e.jsxs("div",{className:"space-y-3 text-gray-700",children:[e.jsxs("p",{children:[e.jsx("strong",{children:"3.1 Registration:"})," You must provide accurate and complete information when creating an account."]}),e.jsxs("p",{children:[e.jsx("strong",{children:"3.2 Security:"})," You are responsible for maintaining the confidentiality of your account credentials."]}),e.jsxs("p",{children:[e.jsx("strong",{children:"3.3 Age Requirement:"})," You must be at least 18 years old to use our services."]}),e.jsxs("p",{children:[e.jsx("strong",{children:"3.4 Account Termination:"})," We reserve the right to suspend or terminate accounts that violate these terms."]})]})]}),e.jsxs("section",{children:[e.jsx("h2",{className:"text-2xl font-bold text-gray-900 mb-4",children:"4. Customer Terms"}),e.jsxs("div",{className:"space-y-3 text-gray-700",children:[e.jsxs("p",{children:[e.jsx("strong",{children:"4.1 Orders:"})," All orders are subject to availability and acceptance by vendors."]}),e.jsxs("p",{children:[e.jsx("strong",{children:"4.2 Pricing:"})," Prices are set by vendors and may change without notice."]}),e.jsxs("p",{children:[e.jsx("strong",{children:"4.3 Payment:"})," Payment is required at the time of order placement."]}),e.jsxs("p",{children:[e.jsx("strong",{children:"4.4 Delivery:"})," Delivery times are estimates and not guaranteed."]}),e.jsxs("p",{children:[e.jsx("strong",{children:"4.5 Cancellations:"})," Orders may be cancelled before vendor acceptance."]}),e.jsxs("p",{children:[e.jsx("strong",{children:"4.6 Returns:"})," Return policy is determined by individual vendors."]})]})]}),e.jsxs("section",{children:[e.jsx("h2",{className:"text-2xl font-bold text-gray-900 mb-4",children:"5. Vendor Terms"}),e.jsxs("div",{className:"space-y-3 text-gray-700",children:[e.jsxs("p",{children:[e.jsx("strong",{children:"5.1 Registration:"})," Vendors must provide valid business registration details."]}),e.jsxs("p",{children:[e.jsx("strong",{children:"5.2 Product Listings:"})," Vendors are responsible for accurate product descriptions and pricing."]}),e.jsxs("p",{children:[e.jsx("strong",{children:"5.3 Order Fulfillment:"})," Vendors must fulfill accepted orders in a timely manner."]}),e.jsxs("p",{children:[e.jsx("strong",{children:"5.4 Quality Standards:"})," All products must meet UK food safety standards."]}),e.jsxs("p",{children:[e.jsx("strong",{children:"5.5 Commission:"})," Afrimercato charges a commission on each sale as per vendor agreement."]}),e.jsxs("p",{children:[e.jsx("strong",{children:"5.6 Payments:"})," Vendor payments are processed according to payment schedule."]})]})]}),e.jsxs("section",{children:[e.jsx("h2",{className:"text-2xl font-bold text-gray-900 mb-4",children:"6. Rider & Picker Terms"}),e.jsxs("div",{className:"space-y-3 text-gray-700",children:[e.jsxs("p",{children:[e.jsx("strong",{children:"6.1 Independent Contractor:"})," Riders and pickers are independent contractors, not employees."]}),e.jsxs("p",{children:[e.jsx("strong",{children:"6.2 Requirements:"})," Must have valid vehicle documentation and insurance."]}),e.jsxs("p",{children:[e.jsx("strong",{children:"6.3 Background Check:"})," May be subject to background verification."]}),e.jsxs("p",{children:[e.jsx("strong",{children:"6.4 Service Quality:"})," Must maintain professional service standards."]}),e.jsxs("p",{children:[e.jsx("strong",{children:"6.5 Earnings:"})," Compensation is based on completed deliveries."]})]})]}),e.jsxs("section",{children:[e.jsx("h2",{className:"text-2xl font-bold text-gray-900 mb-4",children:"7. Prohibited Conduct"}),e.jsx("p",{className:"text-gray-700 leading-relaxed mb-3",children:"You agree not to:"}),e.jsxs("ul",{className:"list-disc list-inside space-y-2 text-gray-700 ml-4",children:[e.jsx("li",{children:"Use the platform for any illegal purpose"}),e.jsx("li",{children:"Post false, inaccurate or misleading information"}),e.jsx("li",{children:"Interfere with the proper functioning of the platform"}),e.jsx("li",{children:"Attempt to gain unauthorized access to any systems"}),e.jsx("li",{children:"Harass, abuse or harm other users"}),e.jsx("li",{children:"Engage in fraudulent activity"}),e.jsx("li",{children:"Violate any applicable laws or regulations"})]})]}),e.jsxs("section",{children:[e.jsx("h2",{className:"text-2xl font-bold text-gray-900 mb-4",children:"8. Intellectual Property"}),e.jsx("p",{className:"text-gray-700 leading-relaxed",children:"All content on Afrimercato, including text, graphics, logos, images, and software, is the property of Afrimercato or its content suppliers and protected by UK and international copyright laws. You may not reproduce, distribute, or create derivative works without express written permission."})]}),e.jsxs("section",{children:[e.jsx("h2",{className:"text-2xl font-bold text-gray-900 mb-4",children:"9. Limitation of Liability"}),e.jsx("p",{className:"text-gray-700 leading-relaxed",children:"Afrimercato acts as a marketplace platform connecting users. We are not responsible for the quality, safety, or legality of products listed, the accuracy of listings, the ability of vendors to sell items, or the ability of customers to pay. To the fullest extent permitted by law, Afrimercato shall not be liable for any indirect, incidental, special, consequential, or punitive damages."})]}),e.jsxs("section",{children:[e.jsx("h2",{className:"text-2xl font-bold text-gray-900 mb-4",children:"10. Indemnification"}),e.jsx("p",{className:"text-gray-700 leading-relaxed",children:"You agree to indemnify and hold harmless Afrimercato and its affiliates from any claims, losses, damages, liabilities, and expenses arising out of your use of the service, violation of these terms, or violation of any rights of another."})]}),e.jsxs("section",{children:[e.jsx("h2",{className:"text-2xl font-bold text-gray-900 mb-4",children:"11. Dispute Resolution"}),e.jsx("p",{className:"text-gray-700 leading-relaxed",children:"Any disputes arising from these terms or use of Afrimercato shall be resolved through good faith negotiation. If negotiation fails, disputes shall be subject to the exclusive jurisdiction of the courts of England and Wales."})]}),e.jsxs("section",{children:[e.jsx("h2",{className:"text-2xl font-bold text-gray-900 mb-4",children:"12. Changes to Terms"}),e.jsx("p",{className:"text-gray-700 leading-relaxed",children:"We reserve the right to modify these terms at any time. We will notify users of material changes via email or platform notification. Continued use of the service after changes constitutes acceptance of the modified terms."})]}),e.jsxs("section",{children:[e.jsx("h2",{className:"text-2xl font-bold text-gray-900 mb-4",children:"13. Contact Information"}),e.jsxs("div",{className:"bg-gray-50 p-6 rounded-lg",children:[e.jsxs("p",{className:"text-gray-700",children:[e.jsx("strong",{children:"Email:"})," legal@afrimercato.com"]}),e.jsxs("p",{className:"text-gray-700",children:[e.jsx("strong",{children:"Address:"})," Afrimercato Ltd, United Kingdom"]})]})]}),e.jsx("div",{className:"pt-8 border-t border-gray-200",children:e.jsxs(Ie,{to:"/",className:"inline-flex items-center text-afri-green hover:text-afri-green-dark font-semibold",children:[e.jsx("svg",{className:"w-5 h-5 mr-2",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M10 19l-7-7m0 0l7-7m-7 7h18"})}),"Back to Home"]})})]})})]})}const xj=[{name:"Fresh Produce",image:"https://images.unsplash.com/photo-1610832958506-aa56368176cf?w=300",items:45,price:"Â£2"},{name:"Spices & Seasonings",image:"https://images.unsplash.com/photo-1596040033229-a9821ebd058d?w=300",items:60,price:"Â£3"},{name:"Grains & Flour",image:"https://images.unsplash.com/photo-1586201375761-83865001e31c?w=300",items:35,price:"Â£4"},{name:"Dried Fish & Meat",image:"https://images.unsplash.com/photo-1544943910-4c1dc44aab44?w=300",items:28,price:"Â£8"}],pj=[{id:1,name:"Fresh Plantain (Ripe)",category:"Fresh Produce",price:3.99,originalPrice:4.5,rating:5,image:"https://images.unsplash.com/photo-1528825871115-3581a5387919?w=300"},{id:2,name:"Yam Tuber 2kg",category:"Fresh Produce",price:8.99,originalPrice:10,rating:5,image:"https://images.unsplash.com/photo-1598170845058-32b9d6a5da37?w=300"},{id:3,name:"Egusi (Ground) 500g",category:"Spices & Seasonings",price:7.99,originalPrice:9,rating:5,image:"https://images.unsplash.com/photo-1596040033229-a9821ebd058d?w=300"},{id:4,name:"Palm Oil 1L",category:"Cooking Oils",price:6.99,originalPrice:8,rating:4,image:"https://images.unsplash.com/photo-1474979266404-7eaacbcd87c5?w=300"},{id:5,name:"Ogbono (Ground) 400g",category:"Spices & Seasonings",price:8.99,originalPrice:10,rating:5,image:"https://images.unsplash.com/photo-1599909533681-74d488b9dddf?w=300"},{id:6,name:"Stockfish (Medium)",category:"Dried Fish & Meat",price:12.99,originalPrice:15,rating:4,image:"https://images.unsplash.com/photo-1544943910-4c1dc44aab44?w=300"},{id:7,name:"Crayfish (Ground) 200g",category:"Dried Fish & Meat",price:5.99,originalPrice:7,rating:5,image:"https://images.unsplash.com/photo-1565680018434-b513d5e5fd47?w=300"},{id:8,name:"Garri (White) 2kg",category:"Grains & Flour",price:4.99,originalPrice:6,rating:5,image:"https://images.unsplash.com/photo-1586201375761-83865001e31c?w=300"},{id:9,name:"Scotch Bonnet Peppers",category:"Fresh Produce",price:2.99,originalPrice:3.5,rating:4,image:"https://images.unsplash.com/photo-1583119022894-919a68a3d0e3?w=300"},{id:10,name:"Jollof Rice Spice Mix",category:"Spices & Seasonings",price:4.99,originalPrice:5.5,rating:5,image:"https://images.unsplash.com/photo-1596040033229-a9821ebd058d?w=300"},{id:11,name:"Fufu Flour (Pounded Yam)",category:"Grains & Flour",price:5.99,originalPrice:7,rating:5,image:"https://images.unsplash.com/photo-1586201375761-83865001e31c?w=300"},{id:12,name:"Suya Spice Mix 100g",category:"Spices & Seasonings",price:3.99,originalPrice:4.5,rating:5,image:"https://images.unsplash.com/photo-1596040033229-a9821ebd058d?w=300"}];function gj(){const{vendorId:t}=In(),s=Zt(),[r,a]=J.useState(null),[n,o]=J.useState(pj),[l,c]=J.useState(!0),[d,h]=J.useState("All"),[u,x]=J.useState(""),[p,m]=J.useState([]),[y,g]=J.useState(!1),[b,w]=J.useState({hours:10,minutes:56,seconds:21}),N=["All","Fresh Produce","Spices & Seasonings","Grains & Flour","Dried Fish & Meat","Cooking Oils"];J.useEffect(()=>{j()},[t]),J.useEffect(()=>{const D=setInterval(()=>{w(E=>E.seconds>0?{...E,seconds:E.seconds-1}:E.minutes>0?{...E,minutes:E.minutes-1,seconds:59}:E.hours>0?{hours:E.hours-1,minutes:59,seconds:59}:E)},1e3);return()=>clearInterval(D)},[]);const j=async()=>{var D,E,P;try{c(!0);const W=await Og(t);if(W.success&&W.data)a(W.data);else if(W.storeName)a(W);else{const ue=sessionStorage.getItem(`vendor_${t}`);a(ue?JSON.parse(ue):{storeName:"Store Not Found",businessName:"Store Not Found",phone:"N/A",deliveryTime:"30 mins",notFound:!0})}const z=await Dg(t);((E=(D=z.data)==null?void 0:D.products)==null?void 0:E.length)>0?o(z.data.products):((P=z.products)==null?void 0:P.length)>0&&o(z.products)}catch(W){console.log("Fetching vendor data:",W.message);const z=sessionStorage.getItem(`vendor_${t}`);a(z?JSON.parse(z):{storeName:"Store Unavailable",businessName:"Store Unavailable",phone:"Contact support",deliveryTime:"30 mins",notFound:!0})}finally{c(!1)}},k=D=>{const E=p.find(P=>P.id===D.id||P._id===D._id);m(E?p.map(P=>P.id===D.id||P._id===D._id?{...P,quantity:P.quantity+1}:P):[...p,{...D,quantity:1}])},L=(D,E)=>{E<=0?m(p.filter(P=>P.id!==D&&P._id!==D)):m(p.map(P=>P.id===D||P._id===D?{...P,quantity:E}:P))},F=D=>{m(p.filter(E=>E.id!==D&&E._id!==D))},T=p.reduce((D,E)=>D+(E.price||0)*(E.quantity||1),0),C=p.reduce((D,E)=>D+(E.quantity||1),0),I=n.filter(D=>{var P;return(P=D.name)==null?void 0:P.toLowerCase().includes(u.toLowerCase())});return l?e.jsx("div",{className:"min-h-screen flex items-center justify-center bg-gray-50",children:e.jsxs("div",{className:"text-center",children:[e.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-[#00897B] mx-auto"}),e.jsx("p",{className:"text-gray-600 mt-4",children:"Loading store..."})]})}):e.jsxs("div",{className:"min-h-screen bg-gray-50",children:[e.jsx("header",{className:"bg-white border-b sticky top-0 z-50",children:e.jsxs("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8",children:[e.jsxs("div",{className:"flex items-center justify-between h-16",children:[e.jsx("div",{className:"flex items-center gap-6",children:e.jsxs(Ie,{to:"/",className:"flex items-center gap-2",children:[e.jsx("svg",{className:"w-8 h-8",viewBox:"0 0 40 40",fill:"none",children:e.jsx("path",{d:"M8 8L32 32M32 8L8 32",stroke:"#1a1a1a",strokeWidth:"4",strokeLinecap:"round"})}),e.jsx("span",{className:"text-lg font-bold text-gray-900",children:"Afrimercato"})]})}),e.jsxs("div",{className:"flex items-center gap-4",children:[e.jsx(Ie,{to:"/login",className:"text-gray-600 hover:text-gray-900 font-medium",children:"Account"}),e.jsxs("button",{onClick:()=>g(!0),className:"relative flex items-center gap-2 bg-[#00897B] hover:bg-[#00695C] text-white px-4 py-2 rounded-lg font-semibold transition-all",children:[e.jsx("svg",{className:"w-5 h-5",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M3 3h2l.4 2M7 13h10l4-8H5.4M7 13L5.4 5M7 13l-2.293 2.293c-.63.63-.184 1.707.707 1.707H17m0 0a2 2 0 100 4 2 2 0 000-4zm-8 2a2 2 0 11-4 0 2 2 0 014 0z"})}),"Cart",C>0&&e.jsx("span",{className:"absolute -top-2 -right-2 bg-red-500 text-white w-6 h-6 rounded-full flex items-center justify-center text-xs font-bold",children:C})]})]})]}),e.jsxs("div",{className:"flex items-center justify-between py-2 border-t text-sm",children:[e.jsxs("div",{className:"flex items-center gap-6",children:[e.jsx("button",{onClick:()=>s(-1),className:"flex items-center gap-1 text-[#00897B] font-medium hover:underline",children:"â† Go Back"}),e.jsxs("span",{className:"text-gray-600",children:["Shopping Method: ",e.jsx("span",{className:"text-gray-900 font-medium",children:"In-Shopping, Delivery"})]})]}),e.jsxs("div",{className:"flex items-center gap-6 text-gray-600",children:[e.jsxs("span",{className:"flex items-center gap-1",children:[e.jsx("svg",{className:"w-4 h-4",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M12 8v4l3 3m6-3a9 9 0 11-18 0 9 9 0 0118 0z"})}),"Deliveries in ",(r==null?void 0:r.deliveryTime)||"20 mins"]}),e.jsxs("span",{className:"flex items-center gap-1",children:[e.jsx("svg",{className:"w-4 h-4",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M3 5a2 2 0 012-2h3.28a1 1 0 01.948.684l1.498 4.493a1 1 0 01-.502 1.21l-2.257 1.13a11.042 11.042 0 005.516 5.516l1.13-2.257a1 1 0 011.21-.502l4.493 1.498a1 1 0 01.684.949V19a2 2 0 01-2 2h-1C9.716 21 3 14.284 3 6V5z"})}),(r==null?void 0:r.phone)||"+44 - 2071 - 234567"]})]})]})]})}),e.jsxs("section",{className:"bg-gradient-to-r from-[#E8F5E9] to-[#FFF8E1] py-12 relative overflow-hidden",children:[e.jsx("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8",children:e.jsxs("div",{className:"grid lg:grid-cols-2 gap-8 items-center",children:[e.jsxs("div",{children:[e.jsx(Fe.h1,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},className:"text-4xl sm:text-5xl font-bold text-gray-900 mb-2",children:(r==null?void 0:r.storeName)||(r==null?void 0:r.businessName)||"African Store"}),e.jsx(Fe.p,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:.1},className:"text-2xl text-[#00897B] font-semibold mb-4",children:"Got You."}),e.jsx(Fe.p,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:.2},className:"text-lg text-gray-600 mb-6",children:"Save up to 60% off on your first order"}),e.jsxs("div",{className:"flex gap-2",children:[e.jsx("input",{type:"email",placeholder:"Email Address",className:"flex-1 max-w-xs px-4 py-3 rounded-lg border border-gray-300 focus:border-[#00897B] outline-none"}),e.jsx("button",{className:"bg-[#00897B] hover:bg-[#00695C] text-white px-6 py-3 rounded-lg font-semibold transition-all",children:"Find Store"})]})]}),e.jsx("div",{className:"hidden lg:block",children:e.jsx("img",{src:"https://images.unsplash.com/photo-1610832958506-aa56368176cf?w=600",alt:"Fresh produce",className:"w-full h-64 object-cover rounded-2xl shadow-xl"})})]})}),e.jsx("div",{className:"absolute top-0 right-0 w-64 h-64 bg-[#E8F5E9] rounded-full blur-3xl opacity-50"})]}),e.jsx("div",{className:"bg-white border-b sticky top-[104px] z-40",children:e.jsx("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8",children:e.jsxs("div",{className:"flex items-center justify-between py-4",children:[e.jsx("div",{className:"flex gap-6 overflow-x-auto",children:N.map(D=>e.jsx("button",{onClick:()=>h(D),className:`whitespace-nowrap font-medium pb-2 transition-colors ${d===D?"text-[#00897B] border-b-2 border-[#00897B]":"text-gray-600 hover:text-gray-900"}`,children:D},D))}),e.jsxs("div",{className:"flex items-center gap-2 bg-gray-100 rounded-lg px-4 py-2 min-w-[200px]",children:[e.jsx("svg",{className:"w-5 h-5 text-gray-400",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M21 21l-6-6m2-5a7 7 0 11-14 0 7 7 0 0114 0z"})}),e.jsx("input",{type:"text",placeholder:"Search",value:u,onChange:D=>x(D.target.value),className:"bg-transparent outline-none flex-1 text-gray-900"})]})]})})}),e.jsxs("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 py-8",children:[e.jsx("div",{className:"mb-12",children:e.jsx("div",{className:"grid grid-cols-2 md:grid-cols-4 gap-4",children:xj.map((D,E)=>e.jsxs(Fe.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:E*.1},className:"bg-white rounded-2xl p-4 shadow-md hover:shadow-lg cursor-pointer transition-all text-center",children:[e.jsx("img",{src:D.image,alt:D.name,className:"w-24 h-24 mx-auto object-cover rounded-xl mb-3"}),e.jsxs("p",{className:"text-xs text-gray-500 mb-1",children:[D.items," Items in Store"]}),e.jsx("h3",{className:"font-bold text-gray-900 mb-1",children:D.name}),e.jsxs("p",{className:"text-sm text-gray-600",children:["From ",D.price]})]},D.name))})}),e.jsxs("div",{className:"mb-12",children:[e.jsx("h2",{className:"text-2xl font-bold text-gray-900 mb-6",children:"Daily Best Sales"}),e.jsx("div",{className:"grid grid-cols-2 md:grid-cols-3 lg:grid-cols-5 gap-4",children:I.slice(0,10).map((D,E)=>e.jsx(ff,{product:D,onAddToCart:()=>k(D)},D.id||D._id||E))})]}),e.jsxs("div",{className:"grid md:grid-cols-3 gap-6 mb-12",children:[e.jsxs("div",{className:"bg-gradient-to-r from-[#00897B] to-[#00695C] text-white p-6 rounded-2xl relative overflow-hidden",children:[e.jsx("img",{src:"https://images.unsplash.com/photo-1498837167922-ddd27525d352?w=200",alt:"Fresh produce",className:"absolute right-0 bottom-0 w-32 h-32 object-cover opacity-30"}),e.jsx("h3",{className:"text-xl font-bold mb-2 relative z-10",children:"Free delivery"}),e.jsx("p",{className:"mb-4 relative z-10",children:"over Â£50"}),e.jsx("button",{className:"bg-white text-[#00897B] px-4 py-2 rounded-lg font-semibold hover:bg-gray-100 transition relative z-10",children:"Shop Now â†’"})]}),e.jsxs("div",{className:"bg-gradient-to-r from-[#F5A623] to-[#FF9800] text-white p-6 rounded-2xl relative overflow-hidden",children:[e.jsx("span",{className:"absolute top-4 right-4 bg-white/20 px-2 py-1 rounded text-sm font-medium",children:"60% off"}),e.jsx("img",{src:"https://images.unsplash.com/photo-1610832958506-aa56368176cf?w=200",alt:"Organic food",className:"absolute right-0 bottom-0 w-32 h-32 object-cover opacity-30"}),e.jsx("h3",{className:"text-xl font-bold mb-2 relative z-10",children:"Organic Food"}),e.jsx("p",{className:"mb-4 relative z-10",children:"Save up to 60% off on your first order"}),e.jsx("button",{className:"bg-white text-[#F5A623] px-4 py-2 rounded-lg font-semibold hover:bg-gray-100 transition relative z-10",children:"Order Now â†’"})]}),e.jsxs("div",{className:"bg-gradient-to-r from-[#00897B] to-[#00695C] text-white p-6 rounded-2xl relative overflow-hidden",children:[e.jsx("img",{src:"https://images.unsplash.com/photo-1542838132-92c53300491e?w=200",alt:"Free delivery",className:"absolute right-0 bottom-0 w-32 h-32 object-cover opacity-30"}),e.jsx("h3",{className:"text-xl font-bold mb-2 relative z-10",children:"Free delivery"}),e.jsx("p",{className:"mb-4 relative z-10",children:"Shop Â£50 get free delivery"}),e.jsx("button",{className:"bg-white text-[#00897B] px-4 py-2 rounded-lg font-semibold hover:bg-gray-100 transition relative z-10",children:"Shop Now â†’"})]})]}),e.jsxs("div",{className:"mb-12",children:[e.jsxs("div",{className:"flex items-center justify-between mb-6",children:[e.jsx("h2",{className:"text-2xl font-bold text-gray-900",children:"Discounts Sales"}),e.jsxs("div",{className:"flex items-center gap-2 bg-[#00897B] text-white px-4 py-2 rounded-lg",children:[e.jsx("span",{className:"text-sm",children:"Expires in:"}),e.jsxs("span",{className:"font-bold",children:[String(b.hours).padStart(2,"0"),":",String(b.minutes).padStart(2,"0"),":",String(b.seconds).padStart(2,"0")]})]})]}),e.jsx("div",{className:"grid grid-cols-2 md:grid-cols-3 lg:grid-cols-5 gap-4",children:I.slice(0,10).map((D,E)=>e.jsx(ff,{product:D,onAddToCart:()=>k(D),isDiscount:!0},`discount-${D.id||D._id||E}`))})]})]}),e.jsxs("section",{className:"relative py-16 overflow-hidden",children:[e.jsx("div",{className:"absolute inset-0 bg-[#F5A623]",children:e.jsx("svg",{className:"absolute top-0 left-0 w-full",viewBox:"0 0 1440 100",fill:"none",preserveAspectRatio:"none",children:e.jsx("path",{d:"M0 50C240 100 480 0 720 50C960 100 1200 0 1440 50V0H0V50Z",fill:"#F8F8F8"})})}),e.jsxs("div",{className:"relative max-w-3xl mx-auto px-4 sm:px-6 text-center py-8",children:[e.jsx("h2",{className:"text-2xl sm:text-3xl font-bold text-gray-900 mb-4",children:"Join the waitlist for Our App"}),e.jsx("p",{className:"text-gray-700 mb-6 max-w-xl mx-auto",children:"Exciting things are coming your way! Be the first to experience the ultimate shopping convenience with our upcoming app."}),e.jsxs("form",{className:"flex flex-col sm:flex-row gap-3 max-w-md mx-auto",children:[e.jsx("input",{type:"email",placeholder:"Enter email address",className:"flex-1 px-5 py-3 rounded-full border-2 border-gray-200 focus:border-[#00897B] outline-none"}),e.jsx("button",{type:"submit",className:"bg-[#00897B] hover:bg-[#00695C] text-white px-8 py-3 rounded-full font-bold transition-all",children:"Join List"})]})]})]}),e.jsx("footer",{className:"bg-[#1a1a1a] text-white py-12",children:e.jsxs("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8",children:[e.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-5 gap-8 mb-10",children:[e.jsxs("div",{className:"lg:col-span-2",children:[e.jsxs("h3",{className:"text-xl font-bold mb-4",children:["You've Got Questions?",e.jsx("br",{}),"Do Reach Out!"]}),e.jsx("p",{className:"text-gray-400 text-sm mb-2",children:"Email: info@afrimercato.co.uk"}),e.jsx("p",{className:"text-gray-400 text-sm",children:"Location: Washington Ave, Manchester, UK"})]}),e.jsxs("div",{children:[e.jsx("h4",{className:"font-bold mb-4",children:"Company"}),e.jsxs("ul",{className:"space-y-2 text-gray-400 text-sm",children:[e.jsx("li",{children:e.jsx(Ie,{to:"/",className:"hover:text-yellow-500",children:"Home"})}),e.jsx("li",{children:e.jsx(Ie,{to:"/stores",className:"hover:text-yellow-500",children:"Stores"})}),e.jsx("li",{children:e.jsx(Ie,{to:"/partner",className:"hover:text-yellow-500",children:"Partner"})})]})]}),e.jsxs("div",{children:[e.jsx("h4",{className:"font-bold mb-4",children:"Cities"}),e.jsxs("ul",{className:"space-y-2 text-gray-400 text-sm",children:[e.jsx("li",{children:e.jsx(Ie,{to:"/stores?location=London",className:"hover:text-yellow-500",children:"London"})}),e.jsx("li",{children:e.jsx(Ie,{to:"/stores?location=Manchester",className:"hover:text-yellow-500",children:"Manchester"})}),e.jsx("li",{children:e.jsx(Ie,{to:"/stores?location=Birmingham",className:"hover:text-yellow-500",children:"Birmingham"})})]})]}),e.jsxs("div",{children:[e.jsx("h4",{className:"font-bold mb-4",children:"Quick stores"}),e.jsxs("ul",{className:"space-y-2 text-gray-400 text-sm",children:[e.jsx("li",{children:e.jsx("span",{className:"hover:text-yellow-500 cursor-pointer",children:"Supermart"})}),e.jsx("li",{children:e.jsx("span",{className:"hover:text-yellow-500 cursor-pointer",children:"Shoprite"})}),e.jsx("li",{children:e.jsx("span",{className:"hover:text-yellow-500 cursor-pointer",children:"Buka"})})]})]})]}),e.jsxs("div",{className:"border-t border-gray-800 pt-8 flex flex-col sm:flex-row justify-between items-center gap-4 text-gray-500 text-sm",children:[e.jsx("p",{children:"Â© 2024 Afrimercato"}),e.jsx("p",{children:"Designed By thedesignpygi"}),e.jsx("p",{children:"All Right Reserved."})]})]})}),e.jsx(eo,{children:y&&e.jsxs(e.Fragment,{children:[e.jsx(Fe.div,{initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},onClick:()=>g(!1),className:"fixed inset-0 bg-black/50 z-50"}),e.jsx(Fe.div,{initial:{x:"100%"},animate:{x:0},exit:{x:"100%"},className:"fixed right-0 top-0 bottom-0 w-full max-w-md bg-white shadow-2xl z-50 overflow-y-auto",children:e.jsxs("div",{className:"p-6",children:[e.jsxs("div",{className:"flex items-center justify-between mb-6",children:[e.jsx("h2",{className:"text-2xl font-bold text-gray-900",children:"Shopping Cart"}),e.jsx("button",{onClick:()=>g(!1),className:"text-gray-400 hover:text-gray-600 text-2xl",children:"Ã—"})]}),p.length===0?e.jsxs("div",{className:"text-center py-12",children:[e.jsx("p",{className:"text-4xl mb-2",children:"ðŸ›’"}),e.jsx("p",{className:"text-gray-600",children:"Your cart is empty"})]}):e.jsxs(e.Fragment,{children:[e.jsx("div",{className:"space-y-4 mb-6",children:p.map(D=>e.jsxs("div",{className:"flex gap-4 border-b pb-4",children:[e.jsx("img",{src:D.image||"https://images.unsplash.com/photo-1542838132-92c53300491e?w=100",alt:D.name,className:"w-20 h-20 object-cover rounded-lg"}),e.jsxs("div",{className:"flex-1",children:[e.jsx("h3",{className:"font-semibold text-gray-900",children:D.name}),e.jsxs("p",{className:"text-sm text-gray-600",children:["Â£",(D.price||0).toFixed(2)]}),e.jsxs("div",{className:"flex items-center gap-2 mt-2",children:[e.jsx("button",{onClick:()=>L(D.id||D._id,D.quantity-1),className:"w-6 h-6 bg-gray-200 rounded hover:bg-gray-300",children:"-"}),e.jsx("span",{className:"font-semibold",children:D.quantity}),e.jsx("button",{onClick:()=>L(D.id||D._id,D.quantity+1),className:"w-6 h-6 bg-gray-200 rounded hover:bg-gray-300",children:"+"}),e.jsx("button",{onClick:()=>F(D.id||D._id),className:"ml-auto text-red-500 hover:text-red-700",children:"ðŸ—‘ï¸"})]})]})]},D.id||D._id))}),e.jsxs("div",{className:"border-t pt-4 mb-6",children:[e.jsxs("div",{className:"flex justify-between mb-2",children:[e.jsx("span",{className:"text-gray-600",children:"Subtotal:"}),e.jsxs("span",{className:"font-semibold",children:["Â£",T.toFixed(2)]})]}),e.jsxs("div",{className:"flex justify-between mb-2",children:[e.jsx("span",{className:"text-gray-600",children:"Delivery:"}),e.jsxs("span",{className:"font-semibold",children:["Â£",T>=50?"0.00":"5.00"]})]}),e.jsxs("div",{className:"flex justify-between text-xl font-bold border-t pt-2",children:[e.jsx("span",{children:"Total:"}),e.jsxs("span",{children:["Â£",(T+(T>=50?0:5)).toFixed(2)]})]})]}),e.jsx("button",{onClick:()=>{localStorage.setItem("cart",JSON.stringify(p)),s("/checkout")},className:"w-full bg-[#00897B] hover:bg-[#00695C] text-white py-4 rounded-lg font-bold text-lg transition-all",children:"Proceed to Checkout"})]})]})})]})})]})}function ff({product:t,onAddToCart:s,isDiscount:r}){const[a,n]=J.useState(!1),o=()=>{s(),n(!0),setTimeout(()=>n(!1),1e3)};return e.jsxs(Fe.div,{whileHover:{y:-5},className:"bg-white rounded-xl shadow-md hover:shadow-lg transition-all overflow-hidden",children:[e.jsxs("div",{className:"relative h-32 bg-gray-100",children:[e.jsx("img",{src:t.image||"https://images.unsplash.com/photo-1542838132-92c53300491e?w=200",alt:t.name,className:"w-full h-full object-cover",onError:l=>{l.target.src="https://images.unsplash.com/photo-1542838132-92c53300491e?w=200"}}),r&&e.jsx("span",{className:"absolute top-2 right-2 bg-red-500 text-white px-2 py-0.5 rounded text-xs font-bold",children:"Sale"})]}),e.jsxs("div",{className:"p-3",children:[e.jsx("p",{className:"text-xs text-gray-500 mb-1",children:t.category||"Vegetables"}),e.jsx("h3",{className:"font-semibold text-gray-900 text-sm mb-1 truncate",children:t.name}),e.jsx("div",{className:"flex items-center gap-0.5 mb-2",children:[...Array(5)].map((l,c)=>e.jsx("span",{className:`text-xs ${c<(t.rating||4)?"text-yellow-400":"text-gray-300"}`,children:"â˜…"},c))}),e.jsxs("div",{className:"flex items-center gap-2 mb-2",children:[t.originalPrice&&e.jsxs("span",{className:"text-xs text-gray-400 line-through",children:["Â£",t.originalPrice.toFixed(2)]}),e.jsxs("span",{className:"font-bold text-[#00B207]",children:["Â£",(t.price||18.99).toFixed(2)]})]}),e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx("button",{className:"p-1.5 bg-gray-100 hover:bg-gray-200 rounded transition",children:e.jsx("svg",{className:"w-4 h-4 text-gray-600",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M4.318 6.318a4.5 4.5 0 000 6.364L12 20.364l7.682-7.682a4.5 4.5 0 00-6.364-6.364L12 7.636l-1.318-1.318a4.5 4.5 0 00-6.364 0z"})})}),e.jsx("button",{onClick:o,className:`flex-1 py-1.5 rounded text-sm font-semibold transition ${a?"bg-green-500 text-white":"bg-[#00897B] hover:bg-[#00695C] text-white"}`,children:a?"âœ“ Added":"Add"})]})]})]})}function vj(){const t=Zt(),[s,r]=J.useState(!0),[a,n]=J.useState({activeOrders:0,totalOrders:0,wishlistItems:0,rewardPoints:0}),[o,l]=J.useState([]),[c,d]=J.useState([]);J.useEffect(()=>{h()},[]);const h=async()=>{try{r(!0);const[p,m,y]=await Promise.all([Ra.getDashboardStats(),Ra.getRecentOrders({limit:5}),Ra.getRecommendedProducts({limit:4})]);p.success&&n(p.data),m.success&&l(m.data.orders||m.data||[]),y.success&&d(y.data.products||y.data||[])}catch(p){console.error("Dashboard error:",p)}finally{r(!1)}},u=p=>({pending:"bg-yellow-100 text-yellow-800",confirmed:"bg-blue-100 text-blue-800",preparing:"bg-orange-100 text-orange-800","out-for-delivery":"bg-purple-100 text-purple-800",delivered:"bg-green-100 text-green-800",cancelled:"bg-red-100 text-red-800"})[p]||"bg-gray-100 text-gray-800",x=[{icon:"ðŸ›ï¸",title:"Browse Products",description:"Explore our fresh products",action:()=>t("/products"),color:"from-blue-500 to-blue-600"},{icon:"ðŸ“",title:"Find Vendors",description:"Discover local stores",action:()=>t("/vendors"),color:"from-green-500 to-green-600"},{icon:"ðŸ“¦",title:"Track Orders",description:"Check delivery status",action:()=>t("/orders"),color:"from-purple-500 to-purple-600"},{icon:"â¤ï¸",title:"Wishlist",description:"View saved items",action:()=>t("/wishlist"),color:"from-red-500 to-red-600"}];return s?e.jsx("div",{className:"min-h-screen bg-gray-50 flex items-center justify-center",children:e.jsxs("div",{className:"text-center",children:[e.jsx("div",{className:"animate-spin rounded-full h-16 w-16 border-b-2 border-afri-green mx-auto mb-4"}),e.jsx("p",{className:"text-afri-gray-600",children:"Loading your dashboard..."})]})}):e.jsxs("div",{className:"min-h-screen bg-gray-50 pb-12",children:[e.jsx("div",{className:"bg-gradient-to-r from-afri-green to-afri-green-dark text-white py-8 animate-slideDown",children:e.jsxs("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8",children:[e.jsx("h1",{className:"text-3xl font-bold mb-2",children:"Welcome Back! ðŸ‘‹"}),e.jsx("p",{className:"text-afri-green-light",children:"Here's what's happening with your orders"})]})}),e.jsxs("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 -mt-4",children:[e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-6 mb-8",children:[e.jsxs("div",{className:"bg-white rounded-xl shadow-lg p-6 transform hover:scale-105 transition-all duration-300 animate-fadeIn",children:[e.jsxs("div",{className:"flex items-center justify-between mb-4",children:[e.jsx("div",{className:"w-12 h-12 bg-gradient-to-br from-yellow-400 to-yellow-500 rounded-lg flex items-center justify-center text-2xl shadow-lg",children:"ðŸ“¦"}),e.jsxs("div",{className:"text-right",children:[e.jsx("p",{className:"text-2xl font-bold text-gray-900",children:a.activeOrders}),e.jsx("p",{className:"text-sm text-gray-500",children:"Active Orders"})]})]}),e.jsx("div",{className:"w-full bg-gray-200 rounded-full h-2",children:e.jsx("div",{className:"bg-gradient-to-r from-yellow-400 to-yellow-500 h-2 rounded-full",style:{width:"70%"}})})]}),e.jsxs("div",{className:"bg-white rounded-xl shadow-lg p-6 transform hover:scale-105 transition-all duration-300 animate-fadeIn",style:{animationDelay:"100ms"},children:[e.jsxs("div",{className:"flex items-center justify-between mb-4",children:[e.jsx("div",{className:"w-12 h-12 bg-gradient-to-br from-blue-400 to-blue-500 rounded-lg flex items-center justify-center text-2xl shadow-lg",children:"ðŸ“Š"}),e.jsxs("div",{className:"text-right",children:[e.jsx("p",{className:"text-2xl font-bold text-gray-900",children:a.totalOrders}),e.jsx("p",{className:"text-sm text-gray-500",children:"Total Orders"})]})]}),e.jsx("div",{className:"w-full bg-gray-200 rounded-full h-2",children:e.jsx("div",{className:"bg-gradient-to-r from-blue-400 to-blue-500 h-2 rounded-full",style:{width:"100%"}})})]}),e.jsxs("div",{className:"bg-white rounded-xl shadow-lg p-6 transform hover:scale-105 transition-all duration-300 animate-fadeIn",style:{animationDelay:"200ms"},children:[e.jsxs("div",{className:"flex items-center justify-between mb-4",children:[e.jsx("div",{className:"w-12 h-12 bg-gradient-to-br from-red-400 to-red-500 rounded-lg flex items-center justify-center text-2xl shadow-lg",children:"â¤ï¸"}),e.jsxs("div",{className:"text-right",children:[e.jsx("p",{className:"text-2xl font-bold text-gray-900",children:a.wishlistItems}),e.jsx("p",{className:"text-sm text-gray-500",children:"Wishlist Items"})]})]}),e.jsx("div",{className:"w-full bg-gray-200 rounded-full h-2",children:e.jsx("div",{className:"bg-gradient-to-r from-red-400 to-red-500 h-2 rounded-full",style:{width:"85%"}})})]}),e.jsxs("div",{className:"bg-white rounded-xl shadow-lg p-6 transform hover:scale-105 transition-all duration-300 animate-fadeIn",style:{animationDelay:"300ms"},children:[e.jsxs("div",{className:"flex items-center justify-between mb-4",children:[e.jsx("div",{className:"w-12 h-12 bg-gradient-to-br from-purple-400 to-purple-500 rounded-lg flex items-center justify-center text-2xl shadow-lg",children:"â­"}),e.jsxs("div",{className:"text-right",children:[e.jsx("p",{className:"text-2xl font-bold text-gray-900",children:a.rewardPoints}),e.jsx("p",{className:"text-sm text-gray-500",children:"Reward Points"})]})]}),e.jsx("div",{className:"w-full bg-gray-200 rounded-full h-2",children:e.jsx("div",{className:"bg-gradient-to-r from-purple-400 to-purple-500 h-2 rounded-full",style:{width:"60%"}})})]})]}),e.jsxs("div",{className:"bg-white rounded-xl shadow-lg p-6 mb-8 animate-slideUp",children:[e.jsx("h2",{className:"text-xl font-bold text-gray-900 mb-6",children:"Quick Actions"}),e.jsx("div",{className:"grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-4 gap-4",children:x.map((p,m)=>e.jsxs("button",{onClick:p.action,className:"flex flex-col items-center p-6 bg-gradient-to-br from-gray-50 to-gray-100 rounded-xl hover:shadow-xl transition-all duration-300 transform hover:scale-105 group",children:[e.jsx("div",{className:`w-16 h-16 bg-gradient-to-r ${p.color} rounded-full flex items-center justify-center text-3xl mb-3 shadow-lg group-hover:scale-110 transition-transform`,children:p.icon}),e.jsx("h3",{className:"font-semibold text-gray-900 mb-1",children:p.title}),e.jsx("p",{className:"text-sm text-gray-500 text-center",children:p.description})]},m))})]}),e.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-3 gap-8",children:[e.jsxs("div",{className:"lg:col-span-2 bg-white rounded-xl shadow-lg p-6 animate-fadeIn",children:[e.jsxs("div",{className:"flex items-center justify-between mb-6",children:[e.jsx("h2",{className:"text-xl font-bold text-gray-900",children:"Recent Orders"}),e.jsx("button",{onClick:()=>t("/orders"),className:"text-afri-green hover:text-afri-green-dark font-semibold text-sm",children:"View All â†’"})]}),o.length===0?e.jsxs("div",{className:"text-center py-12",children:[e.jsx("div",{className:"text-6xl mb-4",children:"ðŸ“¦"}),e.jsx("p",{className:"text-gray-500 mb-4",children:"No orders yet"}),e.jsx("button",{onClick:()=>t("/products"),className:"px-6 py-2 bg-gradient-to-r from-afri-green to-afri-green-dark text-white rounded-lg font-semibold hover:shadow-lg transition-all",children:"Start Shopping"})]}):e.jsx("div",{className:"space-y-4",children:o.map((p,m)=>{var y,g,b,w;return e.jsxs("div",{className:"flex items-center justify-between p-4 bg-gray-50 rounded-lg hover:bg-gray-100 transition-colors cursor-pointer",onClick:()=>t(`/orders/${p._id}`),children:[e.jsxs("div",{className:"flex items-center space-x-4",children:[e.jsxs("div",{className:"w-12 h-12 bg-gradient-to-br from-afri-green to-afri-green-dark rounded-lg flex items-center justify-center text-white font-bold",children:["#",((y=p.orderNumber)==null?void 0:y.slice(-4))||"N/A"]}),e.jsxs("div",{children:[e.jsxs("p",{className:"font-semibold text-gray-900",children:[((g=p.items)==null?void 0:g.length)||0," items"]}),e.jsx("p",{className:"text-sm text-gray-500",children:new Date(p.createdAt).toLocaleDateString("en-GB",{day:"numeric",month:"short",year:"numeric"})})]})]}),e.jsxs("div",{className:"text-right",children:[e.jsxs("p",{className:"font-bold text-gray-900",children:["Â£",((b=p.totalAmount)==null?void 0:b.toFixed(2))||"0.00"]}),e.jsx("span",{className:`text-xs px-3 py-1 rounded-full font-semibold ${u(p.status)}`,children:((w=p.status)==null?void 0:w.replace(/-/g," ").replace(/\b\w/g,N=>N.toUpperCase()))||"Pending"})]})]},p._id||m)})})]}),e.jsxs("div",{className:"bg-white rounded-xl shadow-lg p-6 animate-fadeIn",style:{animationDelay:"200ms"},children:[e.jsx("h2",{className:"text-xl font-bold text-gray-900 mb-6",children:"Recommended for You"}),c.length===0?e.jsxs("div",{className:"text-center py-8",children:[e.jsx("div",{className:"text-5xl mb-3",children:"ðŸ›ï¸"}),e.jsx("p",{className:"text-gray-500 text-sm",children:"No recommendations yet"})]}):e.jsx("div",{className:"space-y-4",children:c.map((p,m)=>{var y;return e.jsxs("div",{className:"flex items-center space-x-3 p-3 bg-gray-50 rounded-lg hover:bg-gray-100 transition-colors cursor-pointer",onClick:()=>t(`/products/${p._id}`),children:[e.jsx("img",{src:En(p),alt:p.name,className:"w-16 h-16 rounded-lg object-cover"}),e.jsxs("div",{className:"flex-1",children:[e.jsx("p",{className:"font-semibold text-gray-900 text-sm line-clamp-1",children:p.name}),e.jsx("p",{className:"text-xs text-gray-500",children:p.unit||"per item"}),e.jsxs("p",{className:"text-afri-green font-bold mt-1",children:["Â£",((y=p.price)==null?void 0:y.toFixed(2))||"0.00"]})]})]},p._id||m)})}),e.jsx("button",{onClick:()=>t("/products"),className:"w-full mt-4 py-2 bg-gradient-to-r from-afri-green to-afri-green-dark text-white rounded-lg font-semibold hover:shadow-lg transition-all",children:"Browse All Products"})]})]})]}),e.jsx("style",{jsx:!0,children:`
        @keyframes slideDown {
          from {
            opacity: 0;
            transform: translateY(-20px);
          }
          to {
            opacity: 1;
            transform: translateY(0);
          }
        }

        @keyframes slideUp {
          from {
            opacity: 0;
            transform: translateY(20px);
          }
          to {
            opacity: 1;
            transform: translateY(0);
          }
        }

        @keyframes fadeIn {
          from {
            opacity: 0;
          }
          to {
            opacity: 1;
          }
        }

        .animate-slideDown {
          animation: slideDown 0.5s ease-out;
        }

        .animate-slideUp {
          animation: slideUp 0.6s ease-out;
        }

        .animate-fadeIn {
          animation: fadeIn 0.6s ease-out;
        }

        .line-clamp-1 {
          overflow: hidden;
          display: -webkit-box;
          -webkit-line-clamp: 1;
          -webkit-box-orient: vertical;
        }
      `})]})}const yj=[{id:"all",name:"All Products",icon:"ðŸ›’"},{id:"fresh-produce",name:"Fresh Produce",icon:"ðŸ¥¬"},{id:"fruits",name:"Fruits",icon:"ðŸŽ"},{id:"vegetables",name:"Vegetables",icon:"ðŸ¥•"},{id:"meat-fish",name:"Meat & Fish",icon:"ðŸ¥©"},{id:"dairy",name:"Dairy",icon:"ðŸ¥›"},{id:"grains",name:"Grains & Cereals",icon:"ðŸŒ¾"},{id:"spices",name:"Spices",icon:"ðŸŒ¶ï¸"},{id:"beverages",name:"Beverages",icon:"ðŸ¹"}],bj=[{value:"newest",label:"Newest First"},{value:"price-low",label:"Price: Low to High"},{value:"price-high",label:"Price: High to Low"},{value:"popular",label:"Most Popular"},{value:"rating",label:"Highest Rated"}];function wj(){const t=Zt(),[s,r]=Xc(),[a,n]=J.useState([]),[o,l]=J.useState(!0),[c,d]=J.useState("grid"),[h,u]=J.useState([]),[x,p]=J.useState({search:s.get("search")||"",category:s.get("category")||"all",sort:s.get("sort")||"newest",minPrice:s.get("minPrice")||"",maxPrice:s.get("maxPrice")||"",inStock:s.get("inStock")==="true"}),[m,y]=J.useState({page:1,limit:12,total:0,pages:0});J.useEffect(()=>{g(),b()},[x,m.page]);const g=async()=>{try{l(!0);const k={page:m.page,limit:m.limit,...x.search&&{search:x.search},...x.category!=="all"&&{category:x.category},...x.sort&&{sort:x.sort},...x.minPrice&&{minPrice:x.minPrice},...x.maxPrice&&{maxPrice:x.maxPrice},...x.inStock&&{inStock:!0}},L=await Fc.getAll(k);L.success&&(n(L.data.products||L.data||[]),L.data.pagination&&y(F=>({...F,...L.data.pagination})))}catch(k){console.error("Error fetching products:",k)}finally{l(!1)}},b=async()=>{var k;try{const L=await Ra.getWishlist();L.success&&u(((k=L.data)==null?void 0:k.map(F=>F.productId||F._id))||[])}catch(L){console.error("Error fetching wishlist:",L)}},w=(k,L)=>{p(T=>({...T,[k]:L})),y(T=>({...T,page:1}));const F=new URLSearchParams(s);L&&L!=="all"?F.set(k,L):F.delete(k),r(F)},N=async k=>{try{h.includes(k)?(await Ra.removeFromWishlist(k),u(L=>L.filter(F=>F!==k))):(await Ra.addToWishlist(k),u(L=>[...L,k]))}catch(L){console.error("Wishlist error:",L)}},j=k=>{const L=JSON.parse(localStorage.getItem("afrimercato_cart")||"[]"),F=L.findIndex(T=>T._id===k._id);F>=0?L[F].quantity+=1:L.push({...k,quantity:1}),localStorage.setItem("afrimercato_cart",JSON.stringify(L)),window.dispatchEvent(new Event("cartUpdated")),alert(`${k.name} added to cart!`)};return e.jsxs("div",{className:"min-h-screen bg-gray-50",children:[e.jsx("div",{className:"bg-gradient-to-r from-afri-green to-afri-green-dark text-white py-8",children:e.jsxs("div",{className:"max-w-7xl mx-auto px-4",children:[e.jsx("h1",{className:"text-3xl font-bold mb-4",children:"Browse Products"}),e.jsxs("div",{className:"flex gap-4",children:[e.jsxs("div",{className:"flex-1 relative",children:[e.jsx("input",{type:"text",placeholder:"Search products...",value:x.search,onChange:k=>w("search",k.target.value),className:"w-full px-4 py-3 pl-12 rounded-xl text-gray-900 focus:ring-2 focus:ring-yellow-400"}),e.jsx("span",{className:"absolute left-4 top-1/2 -translate-y-1/2 text-gray-400",children:"ðŸ”"})]}),e.jsx("select",{value:x.sort,onChange:k=>w("sort",k.target.value),className:"px-4 py-3 rounded-xl text-gray-900 bg-white",children:bj.map(k=>e.jsx("option",{value:k.value,children:k.label},k.value))})]})]})}),e.jsx("div",{className:"max-w-7xl mx-auto px-4 py-8",children:e.jsxs("div",{className:"flex gap-8",children:[e.jsx("div",{className:"w-64 flex-shrink-0 hidden lg:block",children:e.jsxs("div",{className:"bg-white rounded-xl shadow-lg p-6 sticky top-4",children:[e.jsx("h3",{className:"font-bold text-lg mb-4",children:"Categories"}),e.jsx("div",{className:"space-y-2",children:yj.map(k=>e.jsxs("button",{onClick:()=>w("category",k.id),className:`w-full text-left px-4 py-2 rounded-lg flex items-center gap-2 transition-all ${x.category===k.id?"bg-afri-green text-white":"hover:bg-gray-100"}`,children:[e.jsx("span",{children:k.icon}),e.jsx("span",{children:k.name})]},k.id))}),e.jsx("hr",{className:"my-6"}),e.jsx("h3",{className:"font-bold text-lg mb-4",children:"Price Range"}),e.jsxs("div",{className:"flex gap-2",children:[e.jsx("input",{type:"number",placeholder:"Min",value:x.minPrice,onChange:k=>w("minPrice",k.target.value),className:"w-1/2 px-3 py-2 border rounded-lg"}),e.jsx("input",{type:"number",placeholder:"Max",value:x.maxPrice,onChange:k=>w("maxPrice",k.target.value),className:"w-1/2 px-3 py-2 border rounded-lg"})]}),e.jsxs("label",{className:"flex items-center gap-2 mt-4 cursor-pointer",children:[e.jsx("input",{type:"checkbox",checked:x.inStock,onChange:k=>w("inStock",k.target.checked),className:"w-5 h-5 rounded text-afri-green"}),e.jsx("span",{children:"In Stock Only"})]})]})}),e.jsxs("div",{className:"flex-1",children:[e.jsxs("div",{className:"flex items-center justify-between mb-6",children:[e.jsxs("p",{className:"text-gray-600",children:[m.total||a.length," products found"]}),e.jsxs("div",{className:"flex gap-2",children:[e.jsx("button",{onClick:()=>d("grid"),className:`p-2 rounded-lg ${c==="grid"?"bg-afri-green text-white":"bg-gray-200"}`,children:"â–¦"}),e.jsx("button",{onClick:()=>d("list"),className:`p-2 rounded-lg ${c==="list"?"bg-afri-green text-white":"bg-gray-200"}`,children:"â˜°"})]})]}),o?e.jsx("div",{className:"grid grid-cols-2 md:grid-cols-3 lg:grid-cols-4 gap-6",children:[...Array(8)].map((k,L)=>e.jsxs("div",{className:"bg-white rounded-xl p-4 animate-pulse",children:[e.jsx("div",{className:"bg-gray-200 h-40 rounded-lg mb-4"}),e.jsx("div",{className:"bg-gray-200 h-4 rounded mb-2"}),e.jsx("div",{className:"bg-gray-200 h-4 w-2/3 rounded"})]},L))}):a.length===0?e.jsxs("div",{className:"text-center py-16",children:[e.jsx("span",{className:"text-6xl",children:"ðŸ”"}),e.jsx("p",{className:"text-gray-500 mt-4",children:"No products found"}),e.jsx("button",{onClick:()=>{p({search:"",category:"all",sort:"newest",minPrice:"",maxPrice:"",inStock:!1}),r({})},className:"mt-4 px-6 py-2 bg-afri-green text-white rounded-lg",children:"Clear Filters"})]}):e.jsx("div",{className:c==="grid"?"grid grid-cols-2 md:grid-cols-3 lg:grid-cols-4 gap-6":"space-y-4",children:a.map(k=>{var L,F;return e.jsxs("div",{className:`bg-white rounded-xl shadow-lg overflow-hidden hover:shadow-xl transition-all group ${c==="list"?"flex":""}`,children:[e.jsxs("div",{className:`relative cursor-pointer ${c==="list"?"w-48 flex-shrink-0":""}`,onClick:()=>t(`/product/${k._id}`),children:[e.jsx("img",{src:En(k),alt:k.name,className:`w-full object-cover group-hover:scale-105 transition-transform ${c==="list"?"h-full":"h-48"}`}),k.originalPrice&&k.originalPrice>k.price&&e.jsxs("span",{className:"absolute top-2 left-2 bg-red-500 text-white text-xs px-2 py-1 rounded-full",children:[Math.round((1-k.price/k.originalPrice)*100),"% OFF"]}),e.jsx("button",{onClick:T=>{T.stopPropagation(),N(k._id)},className:"absolute top-2 right-2 w-8 h-8 bg-white rounded-full flex items-center justify-center shadow-lg hover:scale-110 transition-transform",children:h.includes(k._id)?"â¤ï¸":"ðŸ¤"})]}),e.jsxs("div",{className:"p-4 flex-1",children:[e.jsx("p",{className:"text-xs text-afri-green font-semibold mb-1",children:((L=k.vendor)==null?void 0:L.storeName)||"AfriMercato"}),e.jsx("h3",{className:"font-semibold text-gray-900 mb-1 line-clamp-2 cursor-pointer hover:text-afri-green",onClick:()=>t(`/product/${k._id}`),children:k.name}),e.jsx("p",{className:"text-xs text-gray-500 mb-2",children:k.unit||"per item"}),e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{children:[e.jsxs("span",{className:"text-lg font-bold text-afri-green",children:["Â£",(F=k.price)==null?void 0:F.toFixed(2)]}),k.originalPrice&&k.originalPrice>k.price&&e.jsxs("span",{className:"text-sm text-gray-400 line-through ml-2",children:["Â£",k.originalPrice.toFixed(2)]})]}),e.jsx("button",{onClick:()=>j(k),className:"bg-afri-green text-white px-3 py-1.5 rounded-lg text-sm font-semibold hover:bg-afri-green-dark transition-colors",children:"+ Add"})]})]})]},k._id)})}),m.pages>1&&e.jsx("div",{className:"flex justify-center gap-2 mt-8",children:[...Array(m.pages)].map((k,L)=>e.jsx("button",{onClick:()=>y(F=>({...F,page:L+1})),className:`w-10 h-10 rounded-lg ${m.page===L+1?"bg-afri-green text-white":"bg-white hover:bg-gray-100"}`,children:L+1},L))})]})]})})]})}function Nj(){const t=Zt(),[s,r]=J.useState([]),[a,n]=J.useState(!0);J.useEffect(()=>(o(),window.addEventListener("cartUpdated",o),()=>window.removeEventListener("cartUpdated",o)),[]);const o=()=>{const p=JSON.parse(localStorage.getItem("afrimercato_cart")||"[]");r(p),n(!1)},l=(p,m)=>{if(m<1){c(p);return}const y=s.map(g=>g._id===p?{...g,quantity:m}:g);r(y),localStorage.setItem("afrimercato_cart",JSON.stringify(y)),window.dispatchEvent(new Event("cartUpdated"))},c=p=>{const m=s.filter(y=>y._id!==p);r(m),localStorage.setItem("afrimercato_cart",JSON.stringify(m)),window.dispatchEvent(new Event("cartUpdated"))},d=()=>{r([]),localStorage.removeItem("afrimercato_cart"),window.dispatchEvent(new Event("cartUpdated"))},h=s.reduce((p,m)=>p+m.price*m.quantity,0),u=h>30?0:3.99,x=h+u;return a?e.jsx("div",{className:"min-h-screen bg-gray-50 flex items-center justify-center",children:e.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-afri-green"})}):e.jsxs("div",{className:"min-h-screen bg-gray-50",children:[e.jsx("div",{className:"bg-gradient-to-r from-afri-green to-afri-green-dark text-white py-8",children:e.jsxs("div",{className:"max-w-7xl mx-auto px-4",children:[e.jsx("h1",{className:"text-3xl font-bold",children:"Shopping Cart"}),e.jsxs("p",{className:"text-afri-green-light mt-1",children:[s.length," items in your cart"]})]})}),e.jsx("div",{className:"max-w-7xl mx-auto px-4 py-8",children:s.length===0?e.jsxs("div",{className:"text-center py-16 bg-white rounded-xl shadow-lg",children:[e.jsx("span",{className:"text-8xl",children:"ðŸ›’"}),e.jsx("h2",{className:"text-2xl font-bold text-gray-900 mt-6",children:"Your cart is empty"}),e.jsx("p",{className:"text-gray-500 mt-2",children:"Add some delicious products to get started!"}),e.jsx("button",{onClick:()=>t("/products"),className:"mt-6 px-8 py-3 bg-gradient-to-r from-afri-green to-afri-green-dark text-white rounded-xl font-semibold hover:shadow-lg transition-all",children:"Browse Products"})]}):e.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-3 gap-8",children:[e.jsxs("div",{className:"lg:col-span-2 space-y-4",children:[e.jsxs("div",{className:"flex justify-between items-center mb-4",children:[e.jsx("h2",{className:"text-xl font-bold text-gray-900",children:"Cart Items"}),e.jsx("button",{onClick:d,className:"text-red-500 hover:text-red-600 text-sm font-semibold",children:"Clear All"})]}),s.map(p=>{var m;return e.jsxs("div",{className:"bg-white rounded-xl shadow-lg p-4 flex gap-4 hover:shadow-xl transition-shadow",children:[e.jsx("img",{src:En(p),alt:p.name,className:"w-24 h-24 rounded-lg object-cover cursor-pointer",onClick:()=>t(`/product/${p._id}`)}),e.jsxs("div",{className:"flex-1",children:[e.jsxs("div",{className:"flex justify-between",children:[e.jsxs("div",{children:[e.jsx("h3",{className:"font-semibold text-gray-900 hover:text-afri-green cursor-pointer",onClick:()=>t(`/product/${p._id}`),children:p.name}),e.jsx("p",{className:"text-sm text-gray-500",children:p.unit||"per item"}),e.jsx("p",{className:"text-sm text-afri-green",children:((m=p.vendor)==null?void 0:m.storeName)||"AfriMercato"})]}),e.jsx("button",{onClick:()=>c(p._id),className:"text-gray-400 hover:text-red-500 transition-colors h-fit",children:"âœ•"})]}),e.jsxs("div",{className:"flex items-center justify-between mt-4",children:[e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsx("button",{onClick:()=>l(p._id,p.quantity-1),className:"w-8 h-8 rounded-full bg-gray-100 hover:bg-gray-200 flex items-center justify-center font-bold",children:"âˆ’"}),e.jsx("span",{className:"font-semibold w-8 text-center",children:p.quantity}),e.jsx("button",{onClick:()=>l(p._id,p.quantity+1),className:"w-8 h-8 rounded-full bg-afri-green text-white hover:bg-afri-green-dark flex items-center justify-center font-bold",children:"+"})]}),e.jsxs("div",{className:"text-right",children:[e.jsxs("p",{className:"text-lg font-bold text-afri-green",children:["Â£",(p.price*p.quantity).toFixed(2)]}),e.jsxs("p",{className:"text-xs text-gray-500",children:["Â£",p.price.toFixed(2)," each"]})]})]})]})]},p._id)})]}),e.jsx("div",{className:"lg:col-span-1",children:e.jsxs("div",{className:"bg-white rounded-xl shadow-lg p-6 sticky top-4",children:[e.jsx("h2",{className:"text-xl font-bold text-gray-900 mb-6",children:"Order Summary"}),e.jsxs("div",{className:"space-y-3 pb-4 border-b",children:[e.jsxs("div",{className:"flex justify-between text-gray-600",children:[e.jsxs("span",{children:["Subtotal (",s.reduce((p,m)=>p+m.quantity,0)," items)"]}),e.jsxs("span",{children:["Â£",h.toFixed(2)]})]}),e.jsxs("div",{className:"flex justify-between text-gray-600",children:[e.jsx("span",{children:"Delivery"}),e.jsx("span",{className:u===0?"text-green-600 font-semibold":"",children:u===0?"FREE":`Â£${u.toFixed(2)}`})]}),h<30&&e.jsxs("p",{className:"text-xs text-yellow-600 bg-yellow-50 p-2 rounded-lg",children:["Add Â£",(30-h).toFixed(2)," more for FREE delivery!"]})]}),e.jsxs("div",{className:"flex justify-between items-center py-4 text-lg font-bold",children:[e.jsx("span",{children:"Total"}),e.jsxs("span",{className:"text-afri-green text-2xl",children:["Â£",x.toFixed(2)]})]}),e.jsx("button",{onClick:()=>t("/checkout"),className:"w-full py-4 bg-gradient-to-r from-afri-green to-afri-green-dark text-white rounded-xl font-bold text-lg hover:shadow-lg transition-all transform hover:scale-105",children:"Proceed to Checkout"}),e.jsx("button",{onClick:()=>t("/products"),className:"w-full py-3 mt-3 border-2 border-afri-green text-afri-green rounded-xl font-semibold hover:bg-afri-green hover:text-white transition-all",children:"Continue Shopping"}),e.jsxs("div",{className:"mt-6 pt-4 border-t",children:[e.jsxs("div",{className:"flex items-center gap-2 text-sm text-gray-500 mb-2",children:[e.jsx("span",{children:"ðŸ”’"})," Secure Payment"]}),e.jsxs("div",{className:"flex items-center gap-2 text-sm text-gray-500 mb-2",children:[e.jsx("span",{children:"ðŸšš"})," Fast Delivery"]}),e.jsxs("div",{className:"flex items-center gap-2 text-sm text-gray-500",children:[e.jsx("span",{children:"â†©ï¸"})," Easy Returns"]})]})]})})]})})]})}const jj={pending:"bg-yellow-100 text-yellow-800",confirmed:"bg-blue-100 text-blue-800",preparing:"bg-orange-100 text-orange-800","out-for-delivery":"bg-purple-100 text-purple-800",delivered:"bg-green-100 text-green-800",completed:"bg-gray-100 text-gray-800",cancelled:"bg-red-100 text-red-800"};function Sj(){const t=Zt(),[s,r]=J.useState([]),[a,n]=J.useState(!0),[o,l]=J.useState("all"),[c,d]=J.useState("");J.useEffect(()=>{h()},[o]);const h=async()=>{try{n(!0);const p=o!=="all"?{status:o}:{},m=await Rf.getUserOrders(p);m.success&&r(m.data.orders||m.data||[])}catch(p){console.error("Error fetching orders:",p)}finally{n(!1)}},u=s.filter(p=>{var m,y;return((m=p.orderNumber)==null?void 0:m.toLowerCase().includes(c.toLowerCase()))||((y=p.items)==null?void 0:y.some(g=>{var b;return(b=g.name)==null?void 0:b.toLowerCase().includes(c.toLowerCase())}))}),x=[{id:"all",label:"All Orders"},{id:"pending",label:"Pending"},{id:"confirmed",label:"Confirmed"},{id:"out-for-delivery",label:"In Transit"},{id:"delivered",label:"Delivered"},{id:"cancelled",label:"Cancelled"}];return e.jsxs("div",{className:"min-h-screen bg-gray-50",children:[e.jsx("div",{className:"bg-gradient-to-r from-afri-green to-afri-green-dark text-white py-8",children:e.jsxs("div",{className:"max-w-7xl mx-auto px-4",children:[e.jsx("h1",{className:"text-3xl font-bold",children:"Order History"}),e.jsx("p",{className:"text-afri-green-light mt-1",children:"Track and manage your orders"})]})}),e.jsxs("div",{className:"max-w-7xl mx-auto px-4 py-8",children:[e.jsx("div",{className:"bg-white rounded-xl shadow-lg p-4 mb-6",children:e.jsxs("div",{className:"flex flex-col md:flex-row gap-4",children:[e.jsx("div",{className:"flex-1",children:e.jsx("input",{type:"text",placeholder:"Search orders...",value:c,onChange:p=>d(p.target.value),className:"w-full px-4 py-2 border rounded-lg focus:ring-2 focus:ring-afri-green focus:border-transparent"})}),e.jsx("div",{className:"flex gap-2 flex-wrap",children:x.map(p=>e.jsx("button",{onClick:()=>l(p.id),className:`px-4 py-2 rounded-lg text-sm font-medium transition-all ${o===p.id?"bg-afri-green text-white":"bg-gray-100 hover:bg-gray-200"}`,children:p.label},p.id))})]})}),a?e.jsx("div",{className:"space-y-4",children:[1,2,3].map(p=>e.jsxs("div",{className:"bg-white rounded-xl p-6 animate-pulse",children:[e.jsx("div",{className:"h-4 bg-gray-200 rounded w-1/4 mb-4"}),e.jsx("div",{className:"h-4 bg-gray-200 rounded w-1/2"})]},p))}):u.length===0?e.jsxs("div",{className:"text-center py-16 bg-white rounded-xl shadow-lg",children:[e.jsx("span",{className:"text-6xl",children:"ðŸ“¦"}),e.jsx("h2",{className:"text-2xl font-bold text-gray-900 mt-4",children:"No orders found"}),e.jsx("p",{className:"text-gray-500 mt-2",children:"Start shopping to see your orders here!"}),e.jsx("button",{onClick:()=>t("/products"),className:"mt-6 px-6 py-3 bg-afri-green text-white rounded-xl font-semibold",children:"Browse Products"})]}):e.jsx("div",{className:"space-y-4",children:u.map(p=>{var m,y,g,b,w,N;return e.jsxs("div",{className:"bg-white rounded-xl shadow-lg p-6 hover:shadow-xl transition-shadow cursor-pointer",onClick:()=>t(`/order/${p._id}`),children:[e.jsxs("div",{className:"flex flex-col md:flex-row md:items-center justify-between gap-4",children:[e.jsxs("div",{children:[e.jsxs("div",{className:"flex items-center gap-3 mb-2",children:[e.jsxs("h3",{className:"text-lg font-bold text-gray-900",children:["Order #",p.orderNumber]}),e.jsx("span",{className:`px-3 py-1 rounded-full text-xs font-semibold ${jj[p.status]}`,children:(m=p.status)==null?void 0:m.replace(/-/g," ").replace(/\b\w/g,j=>j.toUpperCase())})]}),e.jsx("p",{className:"text-sm text-gray-500",children:new Date(p.createdAt).toLocaleDateString("en-GB",{weekday:"short",day:"numeric",month:"short",year:"numeric",hour:"2-digit",minute:"2-digit"})}),e.jsxs("p",{className:"text-sm text-gray-600 mt-1",children:[((y=p.items)==null?void 0:y.length)||0," items â€¢ ",((g=p.vendor)==null?void 0:g.storeName)||"AfriMercato"]})]}),e.jsxs("div",{className:"text-right",children:[e.jsxs("p",{className:"text-2xl font-bold text-afri-green",children:["Â£",(b=p.totalAmount)==null?void 0:b.toFixed(2)]}),e.jsx("button",{onClick:j=>{j.stopPropagation(),t(`/order/${p._id}`)},className:"mt-2 text-sm text-afri-green hover:underline font-semibold",children:"View Details â†’"})]})]}),e.jsxs("div",{className:"mt-4 pt-4 border-t flex gap-2 overflow-x-auto",children:[(w=p.items)==null?void 0:w.slice(0,4).map((j,k)=>e.jsxs("div",{className:"flex-shrink-0 text-center",children:[e.jsx("div",{className:"w-16 h-16 bg-gray-100 rounded-lg flex items-center justify-center text-2xl",children:"ðŸ›’"}),e.jsx("p",{className:"text-xs text-gray-500 mt-1 truncate w-16",children:j.name||"Item"})]},k)),((N=p.items)==null?void 0:N.length)>4&&e.jsxs("div",{className:"flex-shrink-0 w-16 h-16 bg-gray-100 rounded-lg flex items-center justify-center text-sm text-gray-500",children:["+",p.items.length-4]})]})]},p._id)})})]})]})}function kj(){const{user:t,updateUser:s}=Ua(),[r,a]=J.useState("profile"),[n,o]=J.useState(!1),[l,c]=J.useState({type:"",text:""}),[d,h]=J.useState({name:(t==null?void 0:t.name)||"",email:(t==null?void 0:t.email)||"",phone:(t==null?void 0:t.phone)||""}),[u,x]=J.useState([]),[p,m]=J.useState({current:"",new:"",confirm:""});J.useEffect(()=>{y()},[]);const y=async()=>{try{const N=await Yi.getProfile();N.success&&(h({name:N.data.name||"",email:N.data.email||"",phone:N.data.phone||""}),x(N.data.addresses||[]))}catch(N){console.error("Error fetching profile:",N)}},g=async N=>{N.preventDefault(),o(!0);try{const j=await Yi.updateProfile(d);j.success&&(c({type:"success",text:"Profile updated successfully!"}),s&&s(j.data))}catch(j){c({type:"error",text:j.message||"Failed to update profile"})}finally{o(!1),setTimeout(()=>c({type:"",text:""}),3e3)}},b=async N=>{if(N.preventDefault(),p.new!==p.confirm){c({type:"error",text:"Passwords do not match"});return}o(!0);try{await Yi.changePassword({currentPassword:p.current,newPassword:p.new}),c({type:"success",text:"Password changed successfully!"}),m({current:"",new:"",confirm:""})}catch(j){c({type:"error",text:j.message||"Failed to change password"})}finally{o(!1),setTimeout(()=>c({type:"",text:""}),3e3)}},w=[{id:"profile",label:"Profile",icon:"ðŸ‘¤"},{id:"addresses",label:"Addresses",icon:"ðŸ“"},{id:"security",label:"Security",icon:"ðŸ”’"},{id:"preferences",label:"Preferences",icon:"âš™ï¸"}];return e.jsxs("div",{className:"min-h-screen bg-gray-50",children:[e.jsx("div",{className:"bg-gradient-to-r from-afri-green to-afri-green-dark text-white py-8",children:e.jsxs("div",{className:"max-w-4xl mx-auto px-4",children:[e.jsx("h1",{className:"text-3xl font-bold",children:"My Profile"}),e.jsx("p",{className:"text-afri-green-light mt-1",children:"Manage your account settings"})]})}),e.jsxs("div",{className:"max-w-4xl mx-auto px-4 py-8",children:[l.text&&e.jsx("div",{className:`mb-6 p-4 rounded-lg ${l.type==="success"?"bg-green-100 text-green-800":"bg-red-100 text-red-800"}`,children:l.text}),e.jsxs("div",{className:"bg-white rounded-xl shadow-lg overflow-hidden",children:[e.jsx("div",{className:"flex border-b overflow-x-auto",children:w.map(N=>e.jsxs("button",{onClick:()=>a(N.id),className:`flex items-center gap-2 px-6 py-4 font-medium whitespace-nowrap transition-colors ${r===N.id?"text-afri-green border-b-2 border-afri-green bg-gray-50":"text-gray-500 hover:text-gray-700"}`,children:[e.jsx("span",{children:N.icon}),N.label]},N.id))}),e.jsxs("div",{className:"p-6",children:[r==="profile"&&e.jsxs("form",{onSubmit:g,className:"space-y-6",children:[e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Full Name"}),e.jsx("input",{type:"text",value:d.name,onChange:N=>h({...d,name:N.target.value}),className:"w-full px-4 py-3 border rounded-lg focus:ring-2 focus:ring-afri-green"})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Email"}),e.jsx("input",{type:"email",value:d.email,disabled:!0,className:"w-full px-4 py-3 border rounded-lg bg-gray-50 text-gray-500"})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Phone"}),e.jsx("input",{type:"tel",value:d.phone,onChange:N=>h({...d,phone:N.target.value}),className:"w-full px-4 py-3 border rounded-lg focus:ring-2 focus:ring-afri-green"})]}),e.jsx("button",{type:"submit",disabled:n,className:"px-6 py-3 bg-afri-green text-white rounded-lg font-semibold hover:bg-afri-green-dark disabled:opacity-50",children:n?"Saving...":"Save Changes"})]}),r==="addresses"&&e.jsxs("div",{className:"space-y-4",children:[u.length===0?e.jsx("p",{className:"text-gray-500 text-center py-8",children:"No saved addresses"}):u.map((N,j)=>e.jsx("div",{className:"p-4 border rounded-lg",children:e.jsxs("div",{className:"flex justify-between",children:[e.jsxs("div",{children:[e.jsx("p",{className:"font-semibold",children:N.label||"Address"}),e.jsx("p",{className:"text-gray-600",children:N.street}),e.jsxs("p",{className:"text-gray-600",children:[N.city,", ",N.postcode]})]}),N.isDefault&&e.jsx("span",{className:"text-xs bg-afri-green text-white px-2 py-1 rounded h-fit",children:"Default"})]})},j)),e.jsx("button",{className:"w-full py-3 border-2 border-dashed border-gray-300 rounded-lg text-gray-500 hover:border-afri-green hover:text-afri-green",children:"+ Add New Address"})]}),r==="security"&&e.jsxs("form",{onSubmit:b,className:"space-y-6",children:[e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Current Password"}),e.jsx("input",{type:"password",value:p.current,onChange:N=>m({...p,current:N.target.value}),className:"w-full px-4 py-3 border rounded-lg focus:ring-2 focus:ring-afri-green"})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"New Password"}),e.jsx("input",{type:"password",value:p.new,onChange:N=>m({...p,new:N.target.value}),className:"w-full px-4 py-3 border rounded-lg focus:ring-2 focus:ring-afri-green"})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Confirm Password"}),e.jsx("input",{type:"password",value:p.confirm,onChange:N=>m({...p,confirm:N.target.value}),className:"w-full px-4 py-3 border rounded-lg focus:ring-2 focus:ring-afri-green"})]}),e.jsx("button",{type:"submit",disabled:n,className:"px-6 py-3 bg-afri-green text-white rounded-lg font-semibold hover:bg-afri-green-dark disabled:opacity-50",children:n?"Updating...":"Change Password"})]}),r==="preferences"&&e.jsxs("div",{className:"space-y-6",children:[e.jsxs("div",{className:"flex items-center justify-between p-4 bg-gray-50 rounded-lg",children:[e.jsxs("div",{children:[e.jsx("p",{className:"font-semibold",children:"Email Notifications"}),e.jsx("p",{className:"text-sm text-gray-500",children:"Receive order updates via email"})]}),e.jsx("input",{type:"checkbox",defaultChecked:!0,className:"w-5 h-5 text-afri-green rounded"})]}),e.jsxs("div",{className:"flex items-center justify-between p-4 bg-gray-50 rounded-lg",children:[e.jsxs("div",{children:[e.jsx("p",{className:"font-semibold",children:"SMS Notifications"}),e.jsx("p",{className:"text-sm text-gray-500",children:"Receive delivery updates via SMS"})]}),e.jsx("input",{type:"checkbox",defaultChecked:!0,className:"w-5 h-5 text-afri-green rounded"})]}),e.jsxs("div",{className:"flex items-center justify-between p-4 bg-gray-50 rounded-lg",children:[e.jsxs("div",{children:[e.jsx("p",{className:"font-semibold",children:"Promotional Emails"}),e.jsx("p",{className:"text-sm text-gray-500",children:"Receive deals and offers"})]}),e.jsx("input",{type:"checkbox",className:"w-5 h-5 text-afri-green rounded"})]})]})]})]})]})]})}function Aj(){const t=Zt(),[s,r]=J.useState([]),[a,n]=J.useState(!0);J.useEffect(()=>{o()},[]);const o=async()=>{try{n(!0);const d=await Ra.getWishlist();d.success&&r(d.data||[])}catch(d){console.error("Error fetching wishlist:",d)}finally{n(!1)}},l=async d=>{try{await Ra.removeFromWishlist(d),r(h=>h.filter(u=>(u._id||u.productId)!==d))}catch(h){console.error("Error removing from wishlist:",h)}},c=d=>{const h=JSON.parse(localStorage.getItem("afrimercato_cart")||"[]"),u=h.findIndex(x=>x._id===d._id);u>=0?h[u].quantity+=1:h.push({...d,quantity:1}),localStorage.setItem("afrimercato_cart",JSON.stringify(h)),window.dispatchEvent(new Event("cartUpdated")),alert(`${d.name} added to cart!`)};return e.jsxs("div",{className:"min-h-screen bg-gray-50",children:[e.jsx("div",{className:"bg-gradient-to-r from-afri-green to-afri-green-dark text-white py-8",children:e.jsxs("div",{className:"max-w-7xl mx-auto px-4",children:[e.jsx("h1",{className:"text-3xl font-bold",children:"My Wishlist"}),e.jsxs("p",{className:"text-afri-green-light mt-1",children:[s.length," saved items"]})]})}),e.jsx("div",{className:"max-w-7xl mx-auto px-4 py-8",children:a?e.jsx("div",{className:"grid grid-cols-2 md:grid-cols-4 gap-6",children:[1,2,3,4].map(d=>e.jsxs("div",{className:"bg-white rounded-xl p-4 animate-pulse",children:[e.jsx("div",{className:"bg-gray-200 h-40 rounded-lg mb-4"}),e.jsx("div",{className:"bg-gray-200 h-4 rounded mb-2"}),e.jsx("div",{className:"bg-gray-200 h-4 w-2/3 rounded"})]},d))}):s.length===0?e.jsxs("div",{className:"text-center py-16 bg-white rounded-xl shadow-lg",children:[e.jsx("span",{className:"text-8xl",children:"â¤ï¸"}),e.jsx("h2",{className:"text-2xl font-bold text-gray-900 mt-6",children:"Your wishlist is empty"}),e.jsx("p",{className:"text-gray-500 mt-2",children:"Save items you love for later!"}),e.jsx("button",{onClick:()=>t("/products"),className:"mt-6 px-8 py-3 bg-afri-green text-white rounded-xl font-semibold",children:"Browse Products"})]}):e.jsx("div",{className:"grid grid-cols-2 md:grid-cols-3 lg:grid-cols-4 gap-6",children:s.map(d=>{var u;const h=d.product||d;return e.jsxs("div",{className:"bg-white rounded-xl shadow-lg overflow-hidden hover:shadow-xl transition-all group",children:[e.jsxs("div",{className:"relative",children:[e.jsx("img",{src:En(h),alt:h.name,className:"w-full h-48 object-cover cursor-pointer group-hover:scale-105 transition-transform",onClick:()=>t(`/product/${h._id}`)}),e.jsx("button",{onClick:()=>l(h._id),className:"absolute top-2 right-2 w-8 h-8 bg-white rounded-full flex items-center justify-center shadow-lg hover:bg-red-50",children:"âŒ"})]}),e.jsxs("div",{className:"p-4",children:[e.jsx("h3",{className:"font-semibold text-gray-900 mb-1 line-clamp-2 cursor-pointer hover:text-afri-green",onClick:()=>t(`/product/${h._id}`),children:h.name}),e.jsx("p",{className:"text-sm text-gray-500 mb-2",children:h.unit||"per item"}),e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("span",{className:"text-lg font-bold text-afri-green",children:["Â£",(u=h.price)==null?void 0:u.toFixed(2)]}),e.jsx("button",{onClick:()=>c(h),className:"bg-afri-green text-white px-4 py-2 rounded-lg text-sm font-semibold hover:bg-afri-green-dark",children:"Add to Cart"})]})]})]},d._id||h._id)})})})]})}const _j="https://afrimercato-backend.onrender.com/api";function Cj(){const t=Zt(),{isAuthenticated:s}=Ua(),[r,a]=J.useState([]),[n,o]=J.useState(1),[l,c]=J.useState(!1),[d,h]=J.useState({fullName:"",phone:"",street:"",city:"",postcode:"",instructions:""}),[u,x]=J.useState({method:"card",saveCard:!1});J.useEffect(()=>{const w=JSON.parse(localStorage.getItem("cart")||"[]");a(w),w.length===0&&t("/stores"),s||(localStorage.setItem("checkout_redirect","true"),t("/login"))},[s,t]);const p=r.reduce((w,N)=>w+N.price*N.quantity,0),m=p>=50?0:5,y=p+m,g=w=>{w.preventDefault(),o(2)},b=async w=>{w.preventDefault(),c(!0);try{const N={items:r.map(L=>({product:L._id,name:L.name,price:L.price,quantity:L.quantity,unit:L.unit||"piece"})),deliveryAddress:d,payment:{method:u.method,status:"pending"},pricing:{subtotal:p,deliveryFee:m,total:y}},k=await(await fetch(`${_j}/api/checkout/payment/initialize`,{method:"POST",headers:{"Content-Type":"application/json",Authorization:`Bearer ${localStorage.getItem("afrimercato_token")}`},body:JSON.stringify(N)})).json();k.success?(localStorage.removeItem("cart"),t(`/order-confirmation/${k.data.order._id}`)):alert("Order failed: "+k.message)}catch(N){console.error("Order error:",N),alert("Failed to place order. Please try again.")}finally{c(!1)}};return r.length===0?null:e.jsxs("div",{className:"min-h-screen bg-gray-50",children:[e.jsx("header",{className:"bg-white border-b sticky top-0 z-40 shadow-sm",children:e.jsx("div",{className:"container mx-auto px-6 py-4",children:e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx("span",{className:"text-2xl",children:"ðŸ›’"}),e.jsx("span",{className:"text-xl font-bold text-gray-900",children:"Afrimercato Checkout"})]}),e.jsx("button",{onClick:()=>t(-1),className:"text-gray-600 hover:text-gray-900",children:"â¬…ï¸ Back"})]})})}),e.jsx("div",{className:"container mx-auto px-6 py-8",children:e.jsxs("div",{className:"grid lg:grid-cols-3 gap-8",children:[e.jsxs("div",{className:"lg:col-span-2",children:[e.jsxs("div",{className:"flex items-center justify-between mb-8",children:[e.jsxs("div",{className:`flex items-center ${n>=1?"text-green-600":"text-gray-400"}`,children:[e.jsx("div",{className:`w-8 h-8 rounded-full flex items-center justify-center ${n>=1?"bg-green-600 text-white":"bg-gray-200"}`,children:n>1?"âœ“":"1"}),e.jsx("span",{className:"ml-2 font-semibold",children:"Delivery"})]}),e.jsx("div",{className:"flex-1 h-1 bg-gray-200 mx-4"}),e.jsxs("div",{className:`flex items-center ${n>=2?"text-green-600":"text-gray-400"}`,children:[e.jsx("div",{className:`w-8 h-8 rounded-full flex items-center justify-center ${n>=2?"bg-green-600 text-white":"bg-gray-200"}`,children:n>2?"âœ“":"2"}),e.jsx("span",{className:"ml-2 font-semibold",children:"Payment"})]}),e.jsx("div",{className:"flex-1 h-1 bg-gray-200 mx-4"}),e.jsxs("div",{className:`flex items-center ${n>=3?"text-green-600":"text-gray-400"}`,children:[e.jsx("div",{className:`w-8 h-8 rounded-full flex items-center justify-center ${n>=3?"bg-green-600 text-white":"bg-gray-200"}`,children:"3"}),e.jsx("span",{className:"ml-2 font-semibold",children:"Confirm"})]})]}),n===1&&e.jsxs("div",{className:"bg-white rounded-xl shadow-md p-6",children:[e.jsx("h2",{className:"text-2xl font-bold text-gray-900 mb-6",children:"Delivery Address"}),e.jsxs("form",{onSubmit:g,children:[e.jsxs("div",{className:"grid md:grid-cols-2 gap-4 mb-4",children:[e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-semibold text-gray-700 mb-2",children:"Full Name *"}),e.jsx("input",{type:"text",required:!0,value:d.fullName,onChange:w=>h({...d,fullName:w.target.value}),className:"w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-green-500 focus:border-transparent",placeholder:"John Doe"})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-semibold text-gray-700 mb-2",children:"Phone Number *"}),e.jsx("input",{type:"tel",required:!0,value:d.phone,onChange:w=>h({...d,phone:w.target.value}),className:"w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-green-500 focus:border-transparent",placeholder:"+44 7700 900000"})]})]}),e.jsxs("div",{className:"mb-4",children:[e.jsx("label",{className:"block text-sm font-semibold text-gray-700 mb-2",children:"Street Address *"}),e.jsx("input",{type:"text",required:!0,value:d.street,onChange:w=>h({...d,street:w.target.value}),className:"w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-green-500 focus:border-transparent",placeholder:"123 High Street"})]}),e.jsxs("div",{className:"grid md:grid-cols-2 gap-4 mb-4",children:[e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-semibold text-gray-700 mb-2",children:"City *"}),e.jsx("input",{type:"text",required:!0,value:d.city,onChange:w=>h({...d,city:w.target.value}),className:"w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-green-500 focus:border-transparent",placeholder:"London"})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-semibold text-gray-700 mb-2",children:"Postcode *"}),e.jsx("input",{type:"text",required:!0,value:d.postcode,onChange:w=>h({...d,postcode:w.target.value}),className:"w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-green-500 focus:border-transparent",placeholder:"SW1A 1AA"})]})]}),e.jsxs("div",{className:"mb-6",children:[e.jsx("label",{className:"block text-sm font-semibold text-gray-700 mb-2",children:"Delivery Instructions (Optional)"}),e.jsx("textarea",{value:d.instructions,onChange:w=>h({...d,instructions:w.target.value}),className:"w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-green-500 focus:border-transparent",rows:"3",placeholder:"e.g., Leave at door, Ring doorbell, etc."})]}),e.jsx("button",{type:"submit",className:"w-full bg-gradient-to-r from-green-600 to-green-700 text-white py-3 rounded-lg font-bold text-lg hover:shadow-lg transition",children:"Continue to Payment â†’"})]})]}),n===2&&e.jsxs("div",{className:"bg-white rounded-xl shadow-md p-6",children:[e.jsx("h2",{className:"text-2xl font-bold text-gray-900 mb-6",children:"Payment Method"}),e.jsxs("form",{onSubmit:()=>o(3),children:[e.jsxs("div",{className:"space-y-4 mb-6",children:[e.jsx("div",{onClick:()=>x({...u,method:"card"}),className:`border-2 rounded-lg p-4 cursor-pointer transition ${u.method==="card"?"border-green-600 bg-green-50":"border-gray-200"}`,children:e.jsxs("div",{className:"flex items-center",children:[e.jsx("input",{type:"radio",checked:u.method==="card",onChange:()=>x({...u,method:"card"}),className:"mr-3"}),e.jsxs("div",{children:[e.jsx("div",{className:"font-semibold text-gray-900",children:"ðŸ’³ Card Payment"}),e.jsx("div",{className:"text-sm text-gray-600",children:"Pay securely with Paystack"})]})]})}),e.jsx("div",{onClick:()=>x({...u,method:"cash"}),className:`border-2 rounded-lg p-4 cursor-pointer transition ${u.method==="cash"?"border-green-600 bg-green-50":"border-gray-200"}`,children:e.jsxs("div",{className:"flex items-center",children:[e.jsx("input",{type:"radio",checked:u.method==="cash",onChange:()=>x({...u,method:"cash"}),className:"mr-3"}),e.jsxs("div",{children:[e.jsx("div",{className:"font-semibold text-gray-900",children:"ðŸ’µ Cash on Delivery"}),e.jsx("div",{className:"text-sm text-gray-600",children:"Pay when you receive your order"})]})]})})]}),e.jsxs("div",{className:"flex gap-4",children:[e.jsx("button",{type:"button",onClick:()=>o(1),className:"flex-1 bg-gray-200 text-gray-700 py-3 rounded-lg font-bold hover:bg-gray-300 transition",children:"â† Back"}),e.jsx("button",{type:"button",onClick:()=>o(3),className:"flex-1 bg-gradient-to-r from-green-600 to-green-700 text-white py-3 rounded-lg font-bold hover:shadow-lg transition",children:"Review Order â†’"})]})]})]}),n===3&&e.jsxs("div",{className:"bg-white rounded-xl shadow-md p-6",children:[e.jsx("h2",{className:"text-2xl font-bold text-gray-900 mb-6",children:"Review & Confirm"}),e.jsxs("div",{className:"mb-6 pb-6 border-b",children:[e.jsx("h3",{className:"font-semibold text-gray-900 mb-3",children:"Delivery Address"}),e.jsxs("p",{className:"text-gray-700",children:[d.fullName,e.jsx("br",{}),d.phone,e.jsx("br",{}),d.street,e.jsx("br",{}),d.city,", ",d.postcode]}),d.instructions&&e.jsxs("p",{className:"text-sm text-gray-600 mt-2",children:[e.jsx("strong",{children:"Instructions:"})," ",d.instructions]}),e.jsx("button",{onClick:()=>o(1),className:"text-green-600 text-sm font-semibold mt-2 hover:underline",children:"Edit"})]}),e.jsxs("div",{className:"mb-6 pb-6 border-b",children:[e.jsx("h3",{className:"font-semibold text-gray-900 mb-3",children:"Payment Method"}),e.jsx("p",{className:"text-gray-700",children:u.method==="card"?"ðŸ’³ Card Payment (Paystack)":"ðŸ’µ Cash on Delivery"}),e.jsx("button",{onClick:()=>o(2),className:"text-green-600 text-sm font-semibold mt-2 hover:underline",children:"Edit"})]}),e.jsxs("div",{className:"mb-6",children:[e.jsx("h3",{className:"font-semibold text-gray-900 mb-3",children:"Order Items"}),r.map(w=>e.jsxs("div",{className:"flex justify-between py-2",children:[e.jsxs("span",{className:"text-gray-700",children:[w.name," x ",w.quantity]}),e.jsxs("span",{className:"font-semibold",children:["Â£",(w.price*w.quantity).toFixed(2)]})]},w._id))]}),e.jsx("form",{onSubmit:b,children:e.jsxs("div",{className:"flex gap-4",children:[e.jsx("button",{type:"button",onClick:()=>o(2),className:"flex-1 bg-gray-200 text-gray-700 py-3 rounded-lg font-bold hover:bg-gray-300 transition",children:"â† Back"}),e.jsx("button",{type:"submit",disabled:l,className:"flex-1 bg-gradient-to-r from-green-600 to-green-700 text-white py-3 rounded-lg font-bold hover:shadow-lg transition disabled:opacity-50",children:l?"Placing Order...":`Place Order (Â£${y.toFixed(2)})`})]})})]})]}),e.jsx("div",{className:"lg:col-span-1",children:e.jsxs("div",{className:"bg-white rounded-xl shadow-md p-6 sticky top-24",children:[e.jsx("h3",{className:"text-xl font-bold text-gray-900 mb-4",children:"Order Summary"}),e.jsx("div",{className:"space-y-3 mb-4 max-h-60 overflow-y-auto",children:r.map(w=>{var N,j;return e.jsxs("div",{className:"flex gap-3",children:[e.jsx("img",{src:((j=(N=w.images)==null?void 0:N[0])==null?void 0:j.url)||"https://images.unsplash.com/photo-1542838132-92c53300491e?w=200&q=80",alt:w.name,className:"w-16 h-16 object-cover rounded",onError:k=>{k.target.src="https://images.unsplash.com/photo-1542838132-92c53300491e?w=200&q=80"}}),e.jsxs("div",{className:"flex-1",children:[e.jsx("p",{className:"font-semibold text-sm text-gray-900",children:w.name}),e.jsxs("p",{className:"text-sm text-gray-600",children:["Qty: ",w.quantity]}),e.jsxs("p",{className:"text-sm font-bold text-green-600",children:["Â£",w.price.toFixed(2)]})]})]},w._id)})}),e.jsxs("div",{className:"border-t pt-4 space-y-2",children:[e.jsxs("div",{className:"flex justify-between text-gray-700",children:[e.jsx("span",{children:"Subtotal"}),e.jsxs("span",{children:["Â£",p.toFixed(2)]})]}),e.jsxs("div",{className:"flex justify-between text-gray-700",children:[e.jsx("span",{children:"Delivery Fee"}),e.jsx("span",{children:m===0?"FREE":`Â£${m.toFixed(2)}`})]}),p>=50&&e.jsx("p",{className:"text-xs text-green-600",children:"ðŸŽ‰ Free delivery on orders over Â£50"}),e.jsxs("div",{className:"flex justify-between text-xl font-bold text-gray-900 border-t pt-2",children:[e.jsx("span",{children:"Total"}),e.jsxs("span",{children:["Â£",y.toFixed(2)]})]})]}),e.jsx("div",{className:"mt-6 bg-green-50 rounded-lg p-3 text-center",children:e.jsx("p",{className:"text-xs text-green-800",children:"ðŸ”’ Secure checkout powered by Paystack"})})]})})]})})]})}const Tj="https://afrimercato-backend.onrender.com/api";function Ej(){var o,l,c,d,h,u,x,p,m,y,g,b,w,N,j,k,L;const{orderId:t}=In();Zt();const[s,r]=J.useState(null),[a,n]=J.useState(!0);return J.useEffect(()=>{(async()=>{try{const C=await(await fetch(`${Tj}/api/orders/${t}`,{headers:{Authorization:`Bearer ${localStorage.getItem("afrimercato_token")}`}})).json();C.success&&r(C.data)}catch(T){console.error("Error fetching order:",T)}finally{n(!1)}})()},[t]),a?e.jsx("div",{className:"min-h-screen flex items-center justify-center",children:e.jsxs("div",{className:"text-center",children:[e.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-t-4 border-b-4 border-green-600 mx-auto"}),e.jsx("p",{className:"text-gray-600 mt-4",children:"Loading order..."})]})}):s?e.jsxs("div",{className:"min-h-screen bg-gray-50",children:[e.jsx("header",{className:"bg-white border-b shadow-sm",children:e.jsx("div",{className:"container mx-auto px-6 py-4",children:e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx("span",{className:"text-2xl",children:"ðŸ›’"}),e.jsx("span",{className:"text-xl font-bold text-gray-900",children:"Afrimercato"})]}),e.jsx(Ie,{to:"/stores",className:"text-gray-600 hover:text-gray-900",children:"Continue Shopping"})]})})}),e.jsxs("div",{className:"container mx-auto px-6 py-12",children:[e.jsxs("div",{className:"max-w-2xl mx-auto text-center mb-8",children:[e.jsx("div",{className:"w-20 h-20 bg-green-100 rounded-full flex items-center justify-center mx-auto mb-4",children:e.jsx("span",{className:"text-4xl",children:"âœ“"})}),e.jsx("h1",{className:"text-3xl font-bold text-gray-900 mb-2",children:"Order Placed Successfully!"}),e.jsx("p",{className:"text-gray-600 mb-4",children:"Thank you for your order. We've received your order and will start preparing it shortly."}),e.jsxs("p",{className:"text-sm text-gray-500",children:["Order Number: ",e.jsx("span",{className:"font-bold text-gray-900",children:s.orderNumber})]})]}),e.jsxs("div",{className:"max-w-2xl mx-auto",children:[e.jsxs("div",{className:"bg-white rounded-xl shadow-md p-6 mb-6",children:[e.jsx("h2",{className:"text-xl font-bold text-gray-900 mb-4",children:"Order Details"}),e.jsxs("div",{className:"mb-6 pb-6 border-b",children:[e.jsx("h3",{className:"font-semibold text-gray-700 mb-2",children:"Delivery Address"}),e.jsxs("p",{className:"text-gray-600",children:[(o=s.deliveryAddress)==null?void 0:o.fullName,e.jsx("br",{}),(l=s.deliveryAddress)==null?void 0:l.phone,e.jsx("br",{}),(c=s.deliveryAddress)==null?void 0:c.street,e.jsx("br",{}),(d=s.deliveryAddress)==null?void 0:d.city,", ",(h=s.deliveryAddress)==null?void 0:h.postalCode]})]}),e.jsxs("div",{className:"mb-6 pb-6 border-b",children:[e.jsx("h3",{className:"font-semibold text-gray-700 mb-3",children:"Order Items"}),e.jsx("div",{className:"space-y-3",children:(u=s.items)==null?void 0:u.map((F,T)=>e.jsxs("div",{className:"flex justify-between",children:[e.jsxs("div",{children:[e.jsx("p",{className:"text-gray-900",children:F.name}),e.jsxs("p",{className:"text-sm text-gray-500",children:["Qty: ",F.quantity]})]}),e.jsxs("p",{className:"font-semibold text-gray-900",children:["Â£",(F.price*F.quantity).toFixed(2)]})]},T))})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsxs("div",{className:"flex justify-between text-gray-700",children:[e.jsx("span",{children:"Subtotal"}),e.jsxs("span",{children:["Â£",(p=(x=s.pricing)==null?void 0:x.subtotal)==null?void 0:p.toFixed(2)]})]}),e.jsxs("div",{className:"flex justify-between text-gray-700",children:[e.jsx("span",{children:"Delivery Fee"}),e.jsxs("span",{children:["Â£",(y=(m=s.pricing)==null?void 0:m.deliveryFee)==null?void 0:y.toFixed(2)]})]}),e.jsxs("div",{className:"flex justify-between text-xl font-bold text-gray-900 border-t pt-2",children:[e.jsx("span",{children:"Total"}),e.jsxs("span",{children:["Â£",(b=(g=s.pricing)==null?void 0:g.total)==null?void 0:b.toFixed(2)]})]})]})]}),e.jsxs("div",{className:"bg-white rounded-xl shadow-md p-6 mb-6",children:[e.jsx("h2",{className:"text-xl font-bold text-gray-900 mb-4",children:"Order Status"}),e.jsxs("div",{className:"flex items-center gap-4",children:[e.jsx("div",{className:"w-12 h-12 bg-yellow-100 rounded-full flex items-center justify-center",children:e.jsx("span",{className:"text-2xl",children:"ðŸ“¦"})}),e.jsxs("div",{children:[e.jsx("p",{className:"font-semibold text-gray-900 capitalize",children:(w=s.status)==null?void 0:w.replace("-"," ")}),e.jsx("p",{className:"text-sm text-gray-600",children:"Your order is being prepared"})]})]}),e.jsx(Ie,{to:`/track-order/${s._id}`,className:"mt-4 block w-full text-center bg-green-600 text-white py-3 rounded-lg font-semibold hover:bg-green-700 transition",children:"Track Your Order"})]}),e.jsxs("div",{className:"bg-white rounded-xl shadow-md p-6 mb-6",children:[e.jsx("h2",{className:"text-xl font-bold text-gray-900 mb-4",children:"Payment"}),e.jsxs("div",{className:"flex justify-between items-center",children:[e.jsx("span",{className:"text-gray-700",children:((N=s.payment)==null?void 0:N.method)==="card"?"ðŸ’³ Card Payment":"ðŸ’µ Cash on Delivery"}),e.jsx("span",{className:`px-3 py-1 rounded-full text-sm font-semibold ${((j=s.payment)==null?void 0:j.status)==="paid"?"bg-green-100 text-green-700":"bg-yellow-100 text-yellow-700"}`,children:(L=(k=s.payment)==null?void 0:k.status)==null?void 0:L.toUpperCase()})]})]}),e.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[e.jsx(Ie,{to:"/stores",className:"bg-gray-200 text-gray-700 py-3 rounded-lg font-semibold text-center hover:bg-gray-300 transition",children:"Continue Shopping"}),e.jsx(Ie,{to:"/my-dashboard",className:"bg-green-600 text-white py-3 rounded-lg font-semibold text-center hover:bg-green-700 transition",children:"View All Orders"})]})]}),e.jsxs("div",{className:"max-w-2xl mx-auto mt-8 bg-blue-50 rounded-xl p-6",children:[e.jsx("h3",{className:"font-bold text-gray-900 mb-3",children:"What happens next?"}),e.jsxs("ul",{className:"space-y-2 text-sm text-gray-700",children:[e.jsxs("li",{className:"flex items-start gap-2",children:[e.jsx("span",{children:"1ï¸âƒ£"}),e.jsx("span",{children:"Your order will be picked and packed by our team"})]}),e.jsxs("li",{className:"flex items-start gap-2",children:[e.jsx("span",{children:"2ï¸âƒ£"}),e.jsx("span",{children:"A rider will be assigned to deliver your order"})]}),e.jsxs("li",{className:"flex items-start gap-2",children:[e.jsx("span",{children:"3ï¸âƒ£"}),e.jsx("span",{children:"You'll receive real-time updates on delivery status"})]}),e.jsxs("li",{className:"flex items-start gap-2",children:[e.jsx("span",{children:"4ï¸âƒ£"}),e.jsx("span",{children:"Estimated delivery time: 20-40 minutes"})]})]})]})]})]}):e.jsx("div",{className:"min-h-screen flex items-center justify-center",children:e.jsxs("div",{className:"text-center",children:[e.jsx("p",{className:"text-2xl mb-4",children:"ðŸ˜”"}),e.jsx("p",{className:"text-gray-600 mb-4",children:"Order not found"}),e.jsx(Ie,{to:"/stores",className:"text-green-600 hover:underline",children:"Continue Shopping"})]})})}const Pj="https://afrimercato-backend.onrender.com/api";function Fj(){var h,u,x,p,m,y,g,b,w,N;const{orderId:t}=In(),[s,r]=J.useState(null),[a,n]=J.useState(null),[o,l]=J.useState(!0);J.useEffect(()=>{const j=async()=>{try{const F=await(await fetch(`${Pj}/api/orders/${t}`,{headers:{Authorization:`Bearer ${localStorage.getItem("afrimercato_token")}`}})).json();F.success&&r(F.data)}catch(L){console.error("Error fetching order:",L)}finally{l(!1)}};j();const k=setInterval(j,1e4);return()=>clearInterval(k)},[t]);const c=j=>({pending:1,confirmed:2,picking:3,ready_for_pickup:4,"out-for-delivery":5,delivered:6})[j]||1;if(o)return e.jsx("div",{className:"min-h-screen flex items-center justify-center",children:e.jsxs("div",{className:"text-center",children:[e.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-t-4 border-b-4 border-green-600 mx-auto"}),e.jsx("p",{className:"text-gray-600 mt-4",children:"Loading tracking info..."})]})});if(!s)return e.jsx("div",{className:"min-h-screen flex items-center justify-center",children:e.jsxs("div",{className:"text-center",children:[e.jsx("p",{className:"text-2xl mb-4",children:"ðŸ˜”"}),e.jsx("p",{className:"text-gray-600 mb-4",children:"Order not found"}),e.jsx(Ie,{to:"/stores",className:"text-green-600 hover:underline",children:"Continue Shopping"})]})});const d=c(s.status);return e.jsxs("div",{className:"min-h-screen bg-gray-50",children:[e.jsx("header",{className:"bg-white border-b shadow-sm",children:e.jsx("div",{className:"container mx-auto px-6 py-4",children:e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx("span",{className:"text-2xl",children:"ðŸ›’"}),e.jsx("span",{className:"text-xl font-bold text-gray-900",children:"Afrimercato"})]}),e.jsx(Ie,{to:"/my-dashboard",className:"text-gray-600 hover:text-gray-900",children:"My Orders"})]})})}),e.jsx("div",{className:"container mx-auto px-6 py-8",children:e.jsxs("div",{className:"max-w-4xl mx-auto",children:[e.jsxs("div",{className:"bg-white rounded-xl shadow-md p-6 mb-6",children:[e.jsxs("div",{className:"flex justify-between items-start mb-4",children:[e.jsxs("div",{children:[e.jsx("h1",{className:"text-2xl font-bold text-gray-900 mb-1",children:"Track Your Order"}),e.jsxs("p",{className:"text-gray-600",children:["Order #",s.orderNumber]})]}),e.jsx("div",{className:`px-4 py-2 rounded-full text-sm font-semibold ${s.status==="delivered"?"bg-green-100 text-green-700":"bg-yellow-100 text-yellow-700"}`,children:(h=s.status)==null?void 0:h.replace("-"," ").toUpperCase()})]}),s.status!=="delivered"&&e.jsx("div",{className:"bg-blue-50 rounded-lg p-4",children:e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsx("span",{className:"text-3xl",children:"ðŸšš"}),e.jsxs("div",{children:[e.jsx("p",{className:"font-semibold text-gray-900",children:"Estimated Delivery Time"}),e.jsx("p",{className:"text-sm text-gray-600",children:"20-40 minutes from now"})]})]})})]}),e.jsxs("div",{className:"bg-white rounded-xl shadow-md p-6 mb-6",children:[e.jsx("h2",{className:"text-xl font-bold text-gray-900 mb-6",children:"Order Progress"}),e.jsxs("div",{className:"space-y-6",children:[e.jsxs("div",{className:"flex gap-4",children:[e.jsxs("div",{className:"flex flex-col items-center",children:[e.jsx("div",{className:`w-10 h-10 rounded-full flex items-center justify-center ${d>=1?"bg-green-600 text-white":"bg-gray-200 text-gray-500"}`,children:d>1?"âœ“":"1"}),d>1&&e.jsx("div",{className:"w-1 h-16 bg-green-600 mt-2"}),d===1&&e.jsx("div",{className:"w-1 h-16 bg-gray-200 mt-2"})]}),e.jsxs("div",{className:"flex-1 pb-6",children:[e.jsx("h3",{className:"font-semibold text-gray-900",children:"Order Placed"}),e.jsx("p",{className:"text-sm text-gray-600",children:"Your order has been received"}),e.jsx("p",{className:"text-xs text-gray-500 mt-1",children:new Date(s.createdAt).toLocaleString()})]})]}),e.jsxs("div",{className:"flex gap-4",children:[e.jsxs("div",{className:"flex flex-col items-center",children:[e.jsx("div",{className:`w-10 h-10 rounded-full flex items-center justify-center ${d>=2?"bg-green-600 text-white":"bg-gray-200 text-gray-500"}`,children:d>2?"âœ“":"2"}),d>2&&e.jsx("div",{className:"w-1 h-16 bg-green-600 mt-2"}),d<=2&&e.jsx("div",{className:"w-1 h-16 bg-gray-200 mt-2"})]}),e.jsxs("div",{className:"flex-1 pb-6",children:[e.jsx("h3",{className:"font-semibold text-gray-900",children:"Order Confirmed"}),e.jsx("p",{className:"text-sm text-gray-600",children:"Store is preparing your order"})]})]}),e.jsxs("div",{className:"flex gap-4",children:[e.jsxs("div",{className:"flex flex-col items-center",children:[e.jsx("div",{className:`w-10 h-10 rounded-full flex items-center justify-center ${d>=3?"bg-green-600 text-white":"bg-gray-200 text-gray-500"}`,children:d>3?"âœ“":"3"}),d>3&&e.jsx("div",{className:"w-1 h-16 bg-green-600 mt-2"}),d<=3&&e.jsx("div",{className:"w-1 h-16 bg-gray-200 mt-2"})]}),e.jsxs("div",{className:"flex-1 pb-6",children:[e.jsx("h3",{className:"font-semibold text-gray-900",children:"Picking Items"}),e.jsx("p",{className:"text-sm text-gray-600",children:"Items are being picked from shelves"})]})]}),e.jsxs("div",{className:"flex gap-4",children:[e.jsxs("div",{className:"flex flex-col items-center",children:[e.jsx("div",{className:`w-10 h-10 rounded-full flex items-center justify-center ${d>=4?"bg-green-600 text-white":"bg-gray-200 text-gray-500"}`,children:d>4?"âœ“":"4"}),d>4&&e.jsx("div",{className:"w-1 h-16 bg-green-600 mt-2"}),d<=4&&e.jsx("div",{className:"w-1 h-16 bg-gray-200 mt-2"})]}),e.jsxs("div",{className:"flex-1 pb-6",children:[e.jsx("h3",{className:"font-semibold text-gray-900",children:"Ready for Pickup"}),e.jsx("p",{className:"text-sm text-gray-600",children:"Packed and waiting for rider"})]})]}),e.jsxs("div",{className:"flex gap-4",children:[e.jsxs("div",{className:"flex flex-col items-center",children:[e.jsx("div",{className:`w-10 h-10 rounded-full flex items-center justify-center ${d>=5?"bg-green-600 text-white":"bg-gray-200 text-gray-500"}`,children:d>5?"âœ“":"5"}),d>5&&e.jsx("div",{className:"w-1 h-16 bg-green-600 mt-2"}),d<=5&&e.jsx("div",{className:"w-1 h-16 bg-gray-200 mt-2"})]}),e.jsxs("div",{className:"flex-1 pb-6",children:[e.jsx("h3",{className:"font-semibold text-gray-900",children:"Out for Delivery"}),e.jsx("p",{className:"text-sm text-gray-600",children:"Rider is on the way"}),a&&e.jsx("div",{className:"mt-2 bg-blue-50 rounded p-2",children:e.jsx("p",{className:"text-xs text-blue-700",children:"ðŸ“ Rider location updating in real-time"})})]})]}),e.jsxs("div",{className:"flex gap-4",children:[e.jsx("div",{className:"flex flex-col items-center",children:e.jsx("div",{className:`w-10 h-10 rounded-full flex items-center justify-center ${d>=6?"bg-green-600 text-white":"bg-gray-200 text-gray-500"}`,children:d>=6?"âœ“":"6"})}),e.jsxs("div",{className:"flex-1",children:[e.jsx("h3",{className:"font-semibold text-gray-900",children:"Delivered"}),e.jsx("p",{className:"text-sm text-gray-600",children:"Order delivered successfully"})]})]})]})]}),e.jsxs("div",{className:"bg-white rounded-xl shadow-md p-6 mb-6",children:[e.jsx("h2",{className:"text-xl font-bold text-gray-900 mb-4",children:"Order Items"}),e.jsx("div",{className:"space-y-3",children:(u=s.items)==null?void 0:u.map((j,k)=>e.jsxs("div",{className:"flex justify-between items-center pb-3 border-b last:border-b-0",children:[e.jsxs("div",{children:[e.jsx("p",{className:"font-semibold text-gray-900",children:j.name}),e.jsxs("p",{className:"text-sm text-gray-600",children:["Quantity: ",j.quantity]})]}),e.jsxs("p",{className:"font-semibold text-gray-900",children:["Â£",(j.price*j.quantity).toFixed(2)]})]},k))}),e.jsxs("div",{className:"flex justify-between text-xl font-bold text-gray-900 border-t mt-4 pt-4",children:[e.jsx("span",{children:"Total"}),e.jsxs("span",{children:["Â£",(p=(x=s.pricing)==null?void 0:x.total)==null?void 0:p.toFixed(2)]})]})]}),e.jsxs("div",{className:"bg-white rounded-xl shadow-md p-6 mb-6",children:[e.jsx("h2",{className:"text-xl font-bold text-gray-900 mb-4",children:"Delivery Address"}),e.jsxs("p",{className:"text-gray-700",children:[(m=s.deliveryAddress)==null?void 0:m.fullName,e.jsx("br",{}),(y=s.deliveryAddress)==null?void 0:y.phone,e.jsx("br",{}),(g=s.deliveryAddress)==null?void 0:g.street,e.jsx("br",{}),(b=s.deliveryAddress)==null?void 0:b.city,", ",(w=s.deliveryAddress)==null?void 0:w.postalCode]}),((N=s.deliveryAddress)==null?void 0:N.instructions)&&e.jsx("div",{className:"mt-3 bg-yellow-50 rounded p-3",children:e.jsxs("p",{className:"text-sm text-gray-700",children:[e.jsx("strong",{children:"Instructions:"})," ",s.deliveryAddress.instructions]})})]}),s.status==="delivered"&&e.jsxs("div",{className:"bg-white rounded-xl shadow-md p-6",children:[e.jsx("h2",{className:"text-xl font-bold text-gray-900 mb-4",children:"Rate Your Experience"}),e.jsx("p",{className:"text-gray-600 mb-4",children:"How was your delivery experience?"}),e.jsx("button",{className:"w-full bg-green-600 text-white py-3 rounded-lg font-semibold hover:bg-green-700 transition",children:"Leave a Review"})]})]})})]})}function Lj(){var N;const{productId:t}=In(),s=Zt(),[r,a]=J.useState(null),[n,o]=J.useState([]),[l,c]=J.useState(!0),[d,h]=J.useState(!1),[u,x]=J.useState({rating:5,comment:""}),[p,m]=J.useState(!1);J.useEffect(()=>{y()},[t]);const y=async()=>{try{c(!0);const j=await Fc.getById(t);j.success&&(a(j.data),o(j.data.reviews||[]))}catch(j){console.error("Error:",j)}finally{c(!1)}},g=async j=>{if(j.preventDefault(),!u.comment.trim()){alert("Please write a review");return}m(!0);try{const k={...u,user:{name:"You"},createdAt:new Date().toISOString()};o([k,...n]),x({rating:5,comment:""}),h(!1),alert("Review submitted successfully!")}catch(k){console.error("Error submitting review:",k)}finally{m(!1)}},b=n.length?(n.reduce((j,k)=>j+k.rating,0)/n.length).toFixed(1):0,w=[5,4,3,2,1].map(j=>({star:j,count:n.filter(k=>k.rating===j).length,percentage:n.length?n.filter(k=>k.rating===j).length/n.length*100:0}));return l?e.jsx("div",{className:"min-h-screen bg-gray-50 flex items-center justify-center",children:e.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-afri-green"})}):e.jsxs("div",{className:"min-h-screen bg-gray-50",children:[e.jsx("div",{className:"bg-gradient-to-r from-afri-green to-afri-green-dark text-white py-8",children:e.jsxs("div",{className:"max-w-4xl mx-auto px-4",children:[e.jsx("button",{onClick:()=>s(-1),className:"mb-4 text-white/80 hover:text-white",children:"â† Back to Product"}),e.jsx("h1",{className:"text-3xl font-bold",children:"Reviews & Ratings"})]})}),e.jsxs("div",{className:"max-w-4xl mx-auto px-4 py-8",children:[r&&e.jsxs("div",{className:"bg-white rounded-xl shadow-lg p-6 mb-8 flex gap-6",children:[e.jsx("img",{src:En(r),alt:r.name,className:"w-24 h-24 rounded-lg object-cover"}),e.jsxs("div",{className:"flex-1",children:[e.jsx("h2",{className:"text-xl font-bold text-gray-900",children:r.name}),e.jsxs("p",{className:"text-afri-green font-semibold",children:["Â£",(N=r.price)==null?void 0:N.toFixed(2)]}),e.jsxs("div",{className:"flex items-center gap-2 mt-2",children:[e.jsx("div",{className:"flex",children:[1,2,3,4,5].map(j=>e.jsx("span",{className:j<=b?"text-yellow-400":"text-gray-300",children:"â˜…"},j))}),e.jsx("span",{className:"font-semibold",children:b}),e.jsxs("span",{className:"text-gray-500",children:["(",n.length," reviews)"]})]})]})]}),e.jsxs("div",{className:"bg-white rounded-xl shadow-lg p-6 mb-8",children:[e.jsx("h3",{className:"text-lg font-bold text-gray-900 mb-4",children:"Rating Distribution"}),e.jsx("div",{className:"space-y-3",children:w.map(({star:j,count:k,percentage:L})=>e.jsxs("div",{className:"flex items-center gap-4",children:[e.jsxs("span",{className:"w-12 text-sm text-gray-600",children:[j," stars"]}),e.jsx("div",{className:"flex-1 h-3 bg-gray-200 rounded-full overflow-hidden",children:e.jsx("div",{className:"h-full bg-yellow-400 rounded-full transition-all duration-500",style:{width:`${L}%`}})}),e.jsx("span",{className:"w-12 text-sm text-gray-600 text-right",children:k})]},j))})]}),e.jsx("button",{onClick:()=>h(!d),className:"w-full mb-6 py-3 bg-afri-green text-white rounded-xl font-semibold hover:bg-afri-green-dark",children:d?"Cancel":"âœï¸ Write a Review"}),d&&e.jsxs("form",{onSubmit:g,className:"bg-white rounded-xl shadow-lg p-6 mb-8",children:[e.jsx("h3",{className:"text-lg font-bold text-gray-900 mb-4",children:"Your Review"}),e.jsxs("div",{className:"mb-4",children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Rating"}),e.jsx("div",{className:"flex gap-2",children:[1,2,3,4,5].map(j=>e.jsx("button",{type:"button",onClick:()=>x({...u,rating:j}),className:`text-3xl transition-colors ${j<=u.rating?"text-yellow-400":"text-gray-300"}`,children:"â˜…"},j))})]}),e.jsxs("div",{className:"mb-4",children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Your Review"}),e.jsx("textarea",{value:u.comment,onChange:j=>x({...u,comment:j.target.value}),rows:4,className:"w-full px-4 py-3 border rounded-lg focus:ring-2 focus:ring-afri-green",placeholder:"Share your experience with this product..."})]}),e.jsx("button",{type:"submit",disabled:p,className:"px-6 py-3 bg-afri-green text-white rounded-lg font-semibold hover:bg-afri-green-dark disabled:opacity-50",children:p?"Submitting...":"Submit Review"})]}),e.jsxs("div",{className:"space-y-4",children:[e.jsxs("h3",{className:"text-lg font-bold text-gray-900",children:["All Reviews (",n.length,")"]}),n.length===0?e.jsxs("div",{className:"text-center py-12 bg-white rounded-xl shadow-lg",children:[e.jsx("span",{className:"text-5xl",children:"ðŸ“"}),e.jsx("p",{className:"text-gray-500 mt-4",children:"No reviews yet. Be the first to review!"})]}):n.map((j,k)=>{var L;return e.jsxs("div",{className:"bg-white rounded-xl shadow-lg p-6",children:[e.jsx("div",{className:"flex items-start justify-between mb-3",children:e.jsxs("div",{children:[e.jsx("p",{className:"font-semibold text-gray-900",children:((L=j.user)==null?void 0:L.name)||"Customer"}),e.jsxs("div",{className:"flex items-center gap-2 mt-1",children:[e.jsx("div",{className:"flex",children:[1,2,3,4,5].map(F=>e.jsx("span",{className:`text-sm ${F<=j.rating?"text-yellow-400":"text-gray-300"}`,children:"â˜…"},F))}),e.jsx("span",{className:"text-sm text-gray-500",children:new Date(j.createdAt).toLocaleDateString("en-GB")})]})]})}),e.jsx("p",{className:"text-gray-600",children:j.comment})]},k)})]})]})]})}const Oj=[{id:1,type:"order",title:"Order Delivered",message:"Your order #AFM123 has been delivered",time:"2 mins ago",read:!1},{id:2,type:"promo",title:"20% Off Fresh Produce",message:"Limited time offer on all vegetables",time:"1 hour ago",read:!1},{id:3,type:"order",title:"Order Confirmed",message:"Your order #AFM122 is being prepared",time:"3 hours ago",read:!0},{id:4,type:"system",title:"Welcome to AfriMercato!",message:"Thanks for joining. Explore fresh African groceries.",time:"1 day ago",read:!0}],Dj={order:"ðŸ“¦",promo:"ðŸŽ‰",system:"ðŸ””",delivery:"ðŸšš"},Ij={order:"bg-blue-100 text-blue-600",promo:"bg-yellow-100 text-yellow-600",system:"bg-gray-100 text-gray-600",delivery:"bg-purple-100 text-purple-600"};function Rj(){Zt();const[t,s]=J.useState([]),[r,a]=J.useState("all"),[n,o]=J.useState(!0);J.useEffect(()=>{setTimeout(()=>{s(Oj),o(!1)},500)},[]);const l=m=>{s(y=>y.map(g=>g.id===m?{...g,read:!0}:g))},c=()=>{s(m=>m.map(y=>({...y,read:!0})))},d=m=>{s(y=>y.filter(g=>g.id!==m))},h=()=>{s([])},u=r==="all"?t:r==="unread"?t.filter(m=>!m.read):t.filter(m=>m.type===r),x=t.filter(m=>!m.read).length,p=[{id:"all",label:"All"},{id:"unread",label:`Unread (${x})`},{id:"order",label:"Orders"},{id:"promo",label:"Promotions"}];return e.jsxs("div",{className:"min-h-screen bg-gray-50",children:[e.jsx("div",{className:"bg-gradient-to-r from-afri-green to-afri-green-dark text-white py-8",children:e.jsx("div",{className:"max-w-2xl mx-auto px-4",children:e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{children:[e.jsx("h1",{className:"text-3xl font-bold",children:"Notifications"}),e.jsxs("p",{className:"text-afri-green-light mt-1",children:[x," unread"]})]}),t.length>0&&e.jsxs("div",{className:"flex gap-3",children:[e.jsx("button",{onClick:c,className:"text-sm text-white/80 hover:text-white",children:"Mark all read"}),e.jsx("button",{onClick:h,className:"text-sm text-white/80 hover:text-white",children:"Clear all"})]})]})})}),e.jsxs("div",{className:"max-w-2xl mx-auto px-4 py-8",children:[e.jsx("div",{className:"flex gap-2 mb-6 overflow-x-auto pb-2",children:p.map(m=>e.jsx("button",{onClick:()=>a(m.id),className:`px-4 py-2 rounded-full text-sm font-medium whitespace-nowrap transition-all ${r===m.id?"bg-afri-green text-white":"bg-white text-gray-600 hover:bg-gray-100"}`,children:m.label},m.id))}),n?e.jsx("div",{className:"space-y-4",children:[1,2,3].map(m=>e.jsx("div",{className:"bg-white rounded-xl p-4 animate-pulse",children:e.jsxs("div",{className:"flex gap-4",children:[e.jsx("div",{className:"w-12 h-12 bg-gray-200 rounded-full"}),e.jsxs("div",{className:"flex-1",children:[e.jsx("div",{className:"h-4 bg-gray-200 rounded w-1/2 mb-2"}),e.jsx("div",{className:"h-3 bg-gray-200 rounded w-3/4"})]})]})},m))}):u.length===0?e.jsxs("div",{className:"text-center py-16 bg-white rounded-xl shadow-lg",children:[e.jsx("span",{className:"text-6xl",children:"ðŸ””"}),e.jsx("h2",{className:"text-xl font-bold text-gray-900 mt-4",children:"No notifications"}),e.jsx("p",{className:"text-gray-500 mt-2",children:"You're all caught up!"})]}):e.jsx("div",{className:"space-y-3",children:u.map(m=>e.jsx("div",{className:`bg-white rounded-xl shadow-lg p-4 cursor-pointer transition-all hover:shadow-xl ${m.read?"":"border-l-4 border-afri-green"}`,onClick:()=>l(m.id),children:e.jsxs("div",{className:"flex gap-4",children:[e.jsx("div",{className:`w-12 h-12 rounded-full flex items-center justify-center text-2xl ${Ij[m.type]}`,children:Dj[m.type]}),e.jsxs("div",{className:"flex-1",children:[e.jsxs("div",{className:"flex items-start justify-between",children:[e.jsxs("div",{children:[e.jsx("h3",{className:`font-semibold ${m.read?"text-gray-600":"text-gray-900"}`,children:m.title}),e.jsx("p",{className:"text-sm text-gray-500 mt-1",children:m.message})]}),e.jsx("button",{onClick:y=>{y.stopPropagation(),d(m.id)},className:"text-gray-400 hover:text-red-500 p-1",children:"âœ•"})]}),e.jsx("p",{className:"text-xs text-gray-400 mt-2",children:m.time})]})]})},m.id))})]})]})}const Mj=[{id:"all",name:"All Stores",icon:"ðŸª"},{id:"fresh-produce",name:"Fresh Produce",icon:"ðŸ¥¬"},{id:"meat-fish",name:"Meat & Fish",icon:"ðŸ¥©"},{id:"dairy",name:"Dairy",icon:"ðŸ¥›"},{id:"bakery",name:"Bakery",icon:"ðŸž"},{id:"spices",name:"Spices",icon:"ðŸŒ¶ï¸"},{id:"beverages",name:"Beverages",icon:"ðŸ§ƒ"},{id:"pantry",name:"Pantry",icon:"ðŸ¥«"}],Bj=[{id:"distance",name:"Nearest First"},{id:"rating",name:"Highest Rated"},{id:"popular",name:"Most Popular"},{id:"newest",name:"Newest"}];function Uj(){const t=Zt(),[s,r]=Xc(),[a,n]=J.useState([]),[o,l]=J.useState(!0),[c,d]=J.useState(s.get("q")||""),[h,u]=J.useState(s.get("category")||"all"),[x,p]=J.useState(s.get("sort")||"distance"),[m,y]=J.useState(s.get("location")||""),[g,b]=J.useState(!1),[w,N]=J.useState("grid"),[j,k]=J.useState(null),[L,F]=J.useState(!1);J.useEffect(()=>{T()},[h,x,m]),J.useEffect(()=>{const D=new URLSearchParams;c&&D.set("q",c),h!=="all"&&D.set("category",h),x!=="distance"&&D.set("sort",x),m&&D.set("location",m),r(D)},[c,h,x,m]);const T=async()=>{try{l(!0);const D={category:h!=="all"?h:void 0,sort:x,search:c,location:j?`${j.lat},${j.lng}`:m},E=await xr.getVendors(D);E.success&&n(E.data||[])}catch(D){console.error("Error fetching vendors:",D)}finally{l(!1)}},C=()=>{if(!navigator.geolocation){alert("Geolocation is not supported by your browser");return}F(!0),navigator.geolocation.getCurrentPosition(D=>{k({lat:D.coords.latitude,lng:D.coords.longitude}),y("Current Location"),F(!1)},D=>{console.error("Location error:",D),alert("Unable to get your location. Please enter it manually."),F(!1)})},I=D=>{D.preventDefault(),T()};return e.jsxs("div",{className:"min-h-screen bg-gray-50",children:[e.jsx("div",{className:"bg-gradient-to-r from-afri-green to-afri-green-dark text-white py-12",children:e.jsxs("div",{className:"max-w-7xl mx-auto px-4",children:[e.jsx("h1",{className:"text-4xl font-bold text-center mb-2",children:"Discover African Grocery Stores"}),e.jsx("p",{className:"text-afri-green-light text-center mb-8",children:"Fresh produce, authentic spices, and more near you"}),e.jsx("form",{onSubmit:I,className:"max-w-3xl mx-auto",children:e.jsxs("div",{className:"flex flex-col md:flex-row gap-3",children:[e.jsxs("div",{className:"flex-1 relative",children:[e.jsx("span",{className:"absolute left-4 top-1/2 -translate-y-1/2 text-gray-400",children:"ðŸ”"}),e.jsx("input",{type:"text",value:c,onChange:D=>d(D.target.value),placeholder:"Search stores or products...",className:"w-full pl-12 pr-4 py-4 rounded-xl text-gray-900 focus:ring-2 focus:ring-afri-gold"})]}),e.jsxs("div",{className:"relative flex-1 md:max-w-xs",children:[e.jsx("span",{className:"absolute left-4 top-1/2 -translate-y-1/2 text-gray-400",children:"ðŸ“"}),e.jsx("input",{type:"text",value:m,onChange:D=>y(D.target.value),placeholder:"Enter postcode or area",className:"w-full pl-12 pr-12 py-4 rounded-xl text-gray-900 focus:ring-2 focus:ring-afri-gold"}),e.jsx("button",{type:"button",onClick:C,disabled:L,className:"absolute right-3 top-1/2 -translate-y-1/2 text-afri-green hover:text-afri-green-dark",title:"Use current location",children:L?"â³":"ðŸŽ¯"})]}),e.jsx("button",{type:"submit",className:"bg-afri-gold text-gray-900 px-8 py-4 rounded-xl font-semibold hover:bg-yellow-400 transition-colors",children:"Search"})]})})]})}),e.jsxs("div",{className:"max-w-7xl mx-auto px-4 py-8",children:[e.jsx("div",{className:"flex gap-3 overflow-x-auto pb-4 mb-6 scrollbar-hide",children:Mj.map(D=>e.jsxs("button",{onClick:()=>u(D.id),className:`flex items-center gap-2 px-5 py-3 rounded-full whitespace-nowrap transition-all ${h===D.id?"bg-afri-green text-white shadow-lg":"bg-white text-gray-700 hover:bg-gray-100 shadow"}`,children:[e.jsx("span",{className:"text-xl",children:D.icon}),e.jsx("span",{className:"font-medium",children:D.name})]},D.id))}),e.jsxs("div",{className:"flex flex-col md:flex-row justify-between items-start md:items-center gap-4 mb-6",children:[e.jsx("p",{className:"text-gray-600",children:o?"Finding stores...":`${a.length} stores found`}),e.jsxs("div",{className:"flex items-center gap-4",children:[e.jsx("select",{value:x,onChange:D=>p(D.target.value),className:"px-4 py-2 border rounded-lg focus:ring-2 focus:ring-afri-green",children:Bj.map(D=>e.jsx("option",{value:D.id,children:D.name},D.id))}),e.jsxs("div",{className:"flex bg-white rounded-lg border overflow-hidden",children:[e.jsx("button",{onClick:()=>N("grid"),className:`p-2 ${w==="grid"?"bg-afri-green text-white":""}`,children:"â–¦"}),e.jsx("button",{onClick:()=>N("list"),className:`p-2 ${w==="list"?"bg-afri-green text-white":""}`,children:"â˜°"})]})]})]}),o?e.jsx("div",{className:`grid ${w==="grid"?"grid-cols-1 md:grid-cols-2 lg:grid-cols-3":"grid-cols-1"} gap-6`,children:[1,2,3,4,5,6].map(D=>e.jsxs("div",{className:"bg-white rounded-xl p-4 animate-pulse",children:[e.jsx("div",{className:"bg-gray-200 h-48 rounded-lg mb-4"}),e.jsx("div",{className:"bg-gray-200 h-5 rounded w-2/3 mb-2"}),e.jsx("div",{className:"bg-gray-200 h-4 rounded w-1/2"})]},D))}):a.length===0?e.jsxs("div",{className:"text-center py-16 bg-white rounded-xl shadow-lg",children:[e.jsx("span",{className:"text-8xl",children:"ðŸª"}),e.jsx("h2",{className:"text-2xl font-bold text-gray-900 mt-6",children:"No stores found"}),e.jsx("p",{className:"text-gray-500 mt-2",children:"Try adjusting your search or location"}),e.jsx("button",{onClick:()=>{d(""),u("all"),y("")},className:"mt-6 px-6 py-3 bg-afri-green text-white rounded-xl font-semibold",children:"Clear Filters"})]}):e.jsx("div",{className:`grid ${w==="grid"?"grid-cols-1 md:grid-cols-2 lg:grid-cols-3":"grid-cols-1"} gap-6`,children:a.map(D=>{var E,P,W;return e.jsxs("div",{className:`bg-white rounded-xl shadow-lg overflow-hidden hover:shadow-xl transition-all cursor-pointer group ${w==="list"?"flex":""}`,onClick:()=>t(`/store/${D._id}`),children:[e.jsxs("div",{className:`relative ${w==="list"?"w-48 flex-shrink-0":""}`,children:[e.jsx("img",{src:D.coverImage||D.logo||"https://images.unsplash.com/photo-1542838132-92c53300491e?w=400",alt:D.storeName,className:`w-full object-cover group-hover:scale-105 transition-transform ${w==="list"?"h-full":"h-48"}`}),D.isOpen!==!1&&e.jsx("span",{className:"absolute top-3 left-3 bg-green-500 text-white text-xs px-2 py-1 rounded-full",children:"Open Now"}),D.featured&&e.jsx("span",{className:"absolute top-3 right-3 bg-afri-gold text-gray-900 text-xs px-2 py-1 rounded-full",children:"Featured"})]}),e.jsxs("div",{className:"p-4 flex-1",children:[e.jsxs("div",{className:"flex items-start justify-between mb-2",children:[e.jsxs("div",{children:[e.jsx("h3",{className:"font-bold text-lg text-gray-900",children:D.storeName}),e.jsx("p",{className:"text-sm text-gray-500",children:D.category||"African Groceries"})]}),D.logo&&e.jsx("img",{src:D.logo,alt:"",className:"w-12 h-12 rounded-full object-cover border-2 border-white shadow"})]}),e.jsxs("div",{className:"flex items-center gap-4 text-sm mb-3",children:[e.jsxs("div",{className:"flex items-center gap-1",children:[e.jsx("span",{className:"text-yellow-400",children:"â˜…"}),e.jsx("span",{className:"font-semibold",children:((E=D.rating)==null?void 0:E.toFixed(1))||"4.5"}),e.jsxs("span",{className:"text-gray-400",children:["(",D.reviewCount||0,")"]})]}),D.distance&&e.jsxs("div",{className:"flex items-center gap-1 text-gray-500",children:[e.jsx("span",{children:"ðŸ“"}),e.jsxs("span",{children:[D.distance.toFixed(1)," miles"]})]})]}),e.jsx("div",{className:"flex flex-wrap gap-2 mb-3",children:(P=D.tags)==null?void 0:P.slice(0,3).map((z,ue)=>e.jsx("span",{className:"text-xs bg-gray-100 text-gray-600 px-2 py-1 rounded",children:z},ue))}),e.jsxs("div",{className:"flex items-center justify-between text-sm pt-3 border-t",children:[e.jsxs("div",{className:"flex items-center gap-2 text-gray-600",children:[e.jsx("span",{children:"ðŸšš"}),e.jsx("span",{children:D.deliveryTime||"30-45 min"})]}),e.jsx("div",{className:"text-gray-600",children:D.deliveryFee===0?e.jsx("span",{className:"text-green-600 font-semibold",children:"Free Delivery"}):e.jsxs("span",{children:["Delivery: Â£",((W=D.deliveryFee)==null?void 0:W.toFixed(2))||"2.99"]})})]})]})]},D._id)})}),!o&&a.length>0&&e.jsxs("div",{className:"mt-12",children:[e.jsx("h2",{className:"text-2xl font-bold text-gray-900 mb-6",children:"Popular in Your Area"}),e.jsx("div",{className:"grid grid-cols-2 md:grid-cols-4 gap-4",children:a.slice(0,4).map(D=>{var E;return e.jsxs("div",{className:"bg-white rounded-xl p-4 text-center cursor-pointer hover:shadow-lg transition-shadow",onClick:()=>t(`/store/${D._id}`),children:[e.jsx("img",{src:D.logo||"https://images.unsplash.com/photo-1542838132-92c53300491e?w=100",alt:D.storeName,className:"w-20 h-20 rounded-full mx-auto object-cover mb-3"}),e.jsx("h3",{className:"font-semibold text-gray-900 truncate",children:D.storeName}),e.jsxs("div",{className:"flex items-center justify-center gap-1 text-sm",children:[e.jsx("span",{className:"text-yellow-400",children:"â˜…"}),e.jsx("span",{children:((E=D.rating)==null?void 0:E.toFixed(1))||"4.5"})]})]},D._id+"-featured")})})]})]})]})}const Hj=[{id:1,name:"Jollof Rice",description:"Classic West African rice dish cooked in a rich tomato sauce with spices",image:"https://images.unsplash.com/photo-1574484284002-952d92456975?w=400",cuisine:"Nigerian",prepTime:"15 min",cookTime:"45 min",servings:6,difficulty:"Medium",rating:4.8,reviewCount:234,calories:350,tags:["Rice","One-Pot","Party"],ingredients:[{name:"Long grain rice",quantity:"2 cups",available:!0,price:2.5},{name:"Tomato paste",quantity:"3 tbsp",available:!0,price:1.2},{name:"Fresh tomatoes",quantity:"4 large",available:!0,price:1.8},{name:"Onions",quantity:"2 medium",available:!0,price:.8},{name:"Scotch bonnet",quantity:"2",available:!0,price:.5},{name:"Chicken stock",quantity:"3 cups",available:!0,price:1.5}]},{id:2,name:"Egusi Soup",description:"Traditional Nigerian soup made with ground melon seeds and leafy greens",image:"https://images.unsplash.com/photo-1604329760661-e71dc83f8f26?w=400",cuisine:"Nigerian",prepTime:"20 min",cookTime:"40 min",servings:4,difficulty:"Medium",rating:4.7,reviewCount:189,calories:420,tags:["Soup","Protein-Rich","Traditional"],ingredients:[{name:"Egusi (melon seeds)",quantity:"2 cups",available:!0,price:4.5},{name:"Spinach or Ugu",quantity:"500g",available:!0,price:2.5},{name:"Palm oil",quantity:"1/2 cup",available:!0,price:3},{name:"Stockfish",quantity:"200g",available:!1,price:5},{name:"Crayfish",quantity:"2 tbsp",available:!0,price:2}]},{id:3,name:"Suya Skewers",description:"Spicy grilled beef skewers with traditional suya spice blend",image:"https://images.unsplash.com/photo-1555939594-58d7cb561ad1?w=400",cuisine:"Nigerian",prepTime:"30 min",cookTime:"15 min",servings:4,difficulty:"Easy",rating:4.9,reviewCount:312,calories:280,tags:["Grill","Protein","Quick"],ingredients:[{name:"Beef sirloin",quantity:"500g",available:!0,price:8},{name:"Suya spice",quantity:"4 tbsp",available:!0,price:2.5},{name:"Groundnut oil",quantity:"3 tbsp",available:!0,price:1.5},{name:"Onions",quantity:"2 medium",available:!0,price:.8}]},{id:4,name:"Injera with Doro Wat",description:"Ethiopian sourdough flatbread served with spicy chicken stew",image:"https://images.unsplash.com/photo-1567364816519-cbc9c4ffe1eb?w=400",cuisine:"Ethiopian",prepTime:"24 hours",cookTime:"2 hours",servings:6,difficulty:"Hard",rating:4.6,reviewCount:145,calories:480,tags:["Traditional","Fermented","Special Occasion"],ingredients:[{name:"Teff flour",quantity:"3 cups",available:!0,price:6},{name:"Chicken pieces",quantity:"1 kg",available:!0,price:7.5},{name:"Berbere spice",quantity:"4 tbsp",available:!0,price:3.5},{name:"Niter kibbeh",quantity:"1/4 cup",available:!1,price:4}]},{id:5,name:"Puff Puff",description:"Sweet Nigerian fried dough balls - perfect snack or dessert",image:"https://images.unsplash.com/photo-1558961363-fa8fdf82db35?w=400",cuisine:"Nigerian",prepTime:"1 hour",cookTime:"20 min",servings:20,difficulty:"Easy",rating:4.8,reviewCount:278,calories:120,tags:["Snack","Sweet","Party"],ingredients:[{name:"All-purpose flour",quantity:"3 cups",available:!0,price:1.5},{name:"Sugar",quantity:"1/2 cup",available:!0,price:.8},{name:"Yeast",quantity:"1 packet",available:!0,price:.5},{name:"Vegetable oil",quantity:"For frying",available:!0,price:2}]},{id:6,name:"Moroccan Tagine",description:"Slow-cooked lamb with apricots, almonds and aromatic spices",image:"https://images.unsplash.com/photo-1511690656952-34342bb7c2f2?w=400",cuisine:"Moroccan",prepTime:"20 min",cookTime:"2 hours",servings:4,difficulty:"Medium",rating:4.7,reviewCount:167,calories:520,tags:["Slow-Cook","Lamb","Aromatic"],ingredients:[{name:"Lamb shoulder",quantity:"800g",available:!0,price:12},{name:"Dried apricots",quantity:"1 cup",available:!0,price:3.5},{name:"Ras el hanout",quantity:"2 tbsp",available:!0,price:2.5},{name:"Almonds",quantity:"1/2 cup",available:!0,price:2}]}],Wj=["All","Nigerian","Ethiopian","Moroccan","Ghanaian","South African"],qj=["All","Easy","Medium","Hard"];function zj(){Zt();const[t,s]=J.useState([]),[r,a]=J.useState(!0),[n,o]=J.useState(null),[l,c]=J.useState({cuisine:"All",difficulty:"All",mealType:"All",search:""}),[d,h]=J.useState([]);J.useEffect(()=>{setTimeout(()=>{s(Hj),a(!1)},500)},[]);const u=t.filter(g=>!(l.cuisine!=="All"&&g.cuisine!==l.cuisine||l.difficulty!=="All"&&g.difficulty!==l.difficulty||l.search&&!g.name.toLowerCase().includes(l.search.toLowerCase()))),x=g=>{d.find(b=>b.id===g.id)||h([...d,g])},p=g=>{h(d.filter(b=>b.id!==g))},m=g=>{const b=JSON.parse(localStorage.getItem("afrimercato_cart")||"[]");g.ingredients.forEach(w=>{w.available&&b.findIndex(j=>j.name===w.name)<0&&b.push({_id:`ing-${Date.now()}-${Math.random()}`,name:w.name,price:w.price,quantity:1,unit:w.quantity})}),localStorage.setItem("afrimercato_cart",JSON.stringify(b)),window.dispatchEvent(new Event("cartUpdated")),alert("Available ingredients added to cart!")},y=g=>g.ingredients.filter(b=>b.available).reduce((b,w)=>b+w.price,0).toFixed(2);return e.jsxs("div",{className:"min-h-screen bg-gray-50",children:[e.jsx("div",{className:"bg-gradient-to-r from-afri-green to-afri-green-dark text-white py-12",children:e.jsxs("div",{className:"max-w-7xl mx-auto px-4 text-center",children:[e.jsx("h1",{className:"text-4xl font-bold mb-2",children:"African Recipe Collection"}),e.jsx("p",{className:"text-afri-green-light text-lg",children:"Discover authentic dishes and plan your meals"})]})}),e.jsx("div",{className:"max-w-7xl mx-auto px-4 py-8",children:e.jsxs("div",{className:"flex flex-col lg:flex-row gap-8",children:[e.jsxs("div",{className:"flex-1",children:[e.jsx("div",{className:"bg-white rounded-xl shadow-lg p-4 mb-6",children:e.jsxs("div",{className:"flex flex-col md:flex-row gap-4",children:[e.jsx("div",{className:"flex-1",children:e.jsx("input",{type:"text",placeholder:"Search recipes...",value:l.search,onChange:g=>c({...l,search:g.target.value}),className:"w-full px-4 py-2 border rounded-lg focus:ring-2 focus:ring-afri-green"})}),e.jsx("select",{value:l.cuisine,onChange:g=>c({...l,cuisine:g.target.value}),className:"px-4 py-2 border rounded-lg focus:ring-2 focus:ring-afri-green",children:Wj.map(g=>e.jsxs("option",{value:g,children:[g," Cuisine"]},g))}),e.jsx("select",{value:l.difficulty,onChange:g=>c({...l,difficulty:g.target.value}),className:"px-4 py-2 border rounded-lg focus:ring-2 focus:ring-afri-green",children:qj.map(g=>e.jsx("option",{value:g,children:g==="All"?"Any Difficulty":g},g))})]})}),r?e.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6",children:[1,2,3,4,5,6].map(g=>e.jsxs("div",{className:"bg-white rounded-xl p-4 animate-pulse",children:[e.jsx("div",{className:"bg-gray-200 h-48 rounded-lg mb-4"}),e.jsx("div",{className:"bg-gray-200 h-5 rounded w-2/3 mb-2"}),e.jsx("div",{className:"bg-gray-200 h-4 rounded w-1/2"})]},g))}):e.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6",children:u.map(g=>e.jsxs("div",{className:"bg-white rounded-xl shadow-lg overflow-hidden hover:shadow-xl transition-all cursor-pointer group",onClick:()=>o(g),children:[e.jsxs("div",{className:"relative",children:[e.jsx("img",{src:g.image,alt:g.name,className:"w-full h-48 object-cover group-hover:scale-105 transition-transform"}),e.jsx("div",{className:"absolute top-3 left-3",children:e.jsx("span",{className:`px-2 py-1 rounded-full text-xs font-semibold ${g.difficulty==="Easy"?"bg-green-100 text-green-700":g.difficulty==="Medium"?"bg-yellow-100 text-yellow-700":"bg-red-100 text-red-700"}`,children:g.difficulty})}),e.jsx("div",{className:"absolute top-3 right-3",children:e.jsx("span",{className:"bg-white/90 px-2 py-1 rounded-full text-xs font-semibold",children:g.cuisine})})]}),e.jsxs("div",{className:"p-4",children:[e.jsx("h3",{className:"font-bold text-lg text-gray-900 mb-1",children:g.name}),e.jsx("p",{className:"text-sm text-gray-500 mb-3 line-clamp-2",children:g.description}),e.jsxs("div",{className:"flex items-center gap-4 text-sm text-gray-600 mb-3",children:[e.jsxs("span",{children:["â±ï¸ ",g.prepTime," + ",g.cookTime]}),e.jsxs("span",{children:["ðŸ‘¥ ",g.servings]})]}),e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{className:"flex items-center gap-1",children:[e.jsx("span",{className:"text-yellow-400",children:"â˜…"}),e.jsx("span",{className:"font-semibold",children:g.rating}),e.jsxs("span",{className:"text-gray-400 text-sm",children:["(",g.reviewCount,")"]})]}),e.jsx("button",{onClick:b=>{b.stopPropagation(),x(g)},className:"text-afri-green hover:text-afri-green-dark font-semibold text-sm",children:"+ Add to Plan"})]})]})]},g.id))})]}),e.jsx("div",{className:"lg:w-80",children:e.jsxs("div",{className:"bg-white rounded-xl shadow-lg p-6 sticky top-4",children:[e.jsxs("h2",{className:"text-xl font-bold text-gray-900 mb-4",children:["My Meal Plan (",d.length,")"]}),d.length===0?e.jsxs("div",{className:"text-center py-8",children:[e.jsx("span",{className:"text-4xl",children:"ðŸ“"}),e.jsx("p",{className:"text-gray-500 mt-2",children:"Add recipes to your meal plan"})]}):e.jsxs("div",{className:"space-y-3",children:[d.map(g=>e.jsxs("div",{className:"flex items-center gap-3 p-2 bg-gray-50 rounded-lg",children:[e.jsx("img",{src:g.image,alt:g.name,className:"w-12 h-12 rounded object-cover"}),e.jsxs("div",{className:"flex-1 min-w-0",children:[e.jsx("p",{className:"font-semibold text-sm truncate",children:g.name}),e.jsxs("p",{className:"text-xs text-gray-500",children:[g.servings," servings"]})]}),e.jsx("button",{onClick:()=>p(g.id),className:"text-red-500 hover:text-red-700",children:"âœ•"})]},g.id)),e.jsxs("div",{className:"pt-4 border-t space-y-2",children:[e.jsx("button",{onClick:()=>{d.forEach(g=>m(g))},className:"w-full py-3 bg-afri-green text-white rounded-lg font-semibold hover:bg-afri-green-dark",children:"ðŸ›’ Shop All Ingredients"}),e.jsx("button",{onClick:()=>h([]),className:"w-full py-2 text-gray-500 hover:text-gray-700 text-sm",children:"Clear Plan"})]})]})]})})]})}),n&&e.jsx("div",{className:"fixed inset-0 bg-black/50 flex items-center justify-center z-50 p-4",children:e.jsxs("div",{className:"bg-white rounded-2xl max-w-2xl w-full max-h-[90vh] overflow-y-auto",children:[e.jsxs("div",{className:"relative",children:[e.jsx("img",{src:n.image,alt:n.name,className:"w-full h-64 object-cover"}),e.jsx("button",{onClick:()=>o(null),className:"absolute top-4 right-4 w-10 h-10 bg-white rounded-full flex items-center justify-center shadow-lg hover:bg-gray-100",children:"âœ•"})]}),e.jsxs("div",{className:"p-6",children:[e.jsxs("div",{className:"flex items-start justify-between mb-4",children:[e.jsxs("div",{children:[e.jsx("h2",{className:"text-2xl font-bold text-gray-900",children:n.name}),e.jsxs("p",{className:"text-gray-500",children:[n.cuisine," Cuisine"]})]}),e.jsxs("div",{className:"flex items-center gap-1 bg-yellow-100 px-3 py-1 rounded-full",children:[e.jsx("span",{className:"text-yellow-500",children:"â˜…"}),e.jsx("span",{className:"font-semibold",children:n.rating})]})]}),e.jsx("p",{className:"text-gray-600 mb-6",children:n.description}),e.jsxs("div",{className:"grid grid-cols-4 gap-4 mb-6",children:[e.jsxs("div",{className:"text-center p-3 bg-gray-50 rounded-lg",children:[e.jsx("p",{className:"text-2xl",children:"â±ï¸"}),e.jsx("p",{className:"text-sm font-semibold",children:n.prepTime}),e.jsx("p",{className:"text-xs text-gray-500",children:"Prep"})]}),e.jsxs("div",{className:"text-center p-3 bg-gray-50 rounded-lg",children:[e.jsx("p",{className:"text-2xl",children:"ðŸ³"}),e.jsx("p",{className:"text-sm font-semibold",children:n.cookTime}),e.jsx("p",{className:"text-xs text-gray-500",children:"Cook"})]}),e.jsxs("div",{className:"text-center p-3 bg-gray-50 rounded-lg",children:[e.jsx("p",{className:"text-2xl",children:"ðŸ‘¥"}),e.jsx("p",{className:"text-sm font-semibold",children:n.servings}),e.jsx("p",{className:"text-xs text-gray-500",children:"Servings"})]}),e.jsxs("div",{className:"text-center p-3 bg-gray-50 rounded-lg",children:[e.jsx("p",{className:"text-2xl",children:"ðŸ”¥"}),e.jsx("p",{className:"text-sm font-semibold",children:n.calories}),e.jsx("p",{className:"text-xs text-gray-500",children:"Calories"})]})]}),e.jsxs("div",{className:"mb-6",children:[e.jsxs("div",{className:"flex items-center justify-between mb-3",children:[e.jsx("h3",{className:"text-lg font-bold",children:"Ingredients"}),e.jsxs("span",{className:"text-afri-green font-semibold",children:["Est. Â£",y(n)]})]}),e.jsx("div",{className:"space-y-2",children:n.ingredients.map((g,b)=>e.jsxs("div",{className:`flex items-center justify-between p-3 rounded-lg ${g.available?"bg-green-50":"bg-red-50"}`,children:[e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsx("span",{children:g.available?"âœ“":"âœ—"}),e.jsxs("div",{children:[e.jsx("p",{className:"font-medium",children:g.name}),e.jsx("p",{className:"text-sm text-gray-500",children:g.quantity})]})]}),e.jsxs("span",{className:"font-semibold",children:["Â£",g.price.toFixed(2)]})]},b))})]}),e.jsxs("div",{className:"flex gap-3",children:[e.jsx("button",{onClick:()=>m(n),className:"flex-1 py-3 bg-afri-green text-white rounded-xl font-semibold hover:bg-afri-green-dark",children:"ðŸ›’ Add Ingredients to Cart"}),e.jsx("button",{onClick:()=>{x(n),o(null)},className:"px-6 py-3 border-2 border-afri-green text-afri-green rounded-xl font-semibold hover:bg-afri-green hover:text-white",children:"ðŸ“ Add to Plan"})]})]})]})})]})}function Vj(){var k,L,F,T;const{productId:t}=In(),s=Zt(),[r,a]=J.useState(null),[n,o]=J.useState(!0),[l,c]=J.useState(1),[d,h]=J.useState(0),[u,x]=J.useState(!1),[p,m]=J.useState([]);J.useEffect(()=>{y()},[t]);const y=async()=>{try{o(!0);const C=await Fc.getById(t);if(C.success){a(C.data);const I=await Fc.getProducts({category:C.data.category,limit:4});I.success&&m((I.data.products||I.data||[]).filter(D=>D._id!==t).slice(0,4))}}catch(C){console.error("Error fetching product:",C)}finally{o(!1)}},g=()=>{const C=JSON.parse(localStorage.getItem("afrimercato_cart")||"[]"),I=C.findIndex(D=>D._id===r._id);I>=0?C[I].quantity+=l:C.push({...r,quantity:l}),localStorage.setItem("afrimercato_cart",JSON.stringify(C)),window.dispatchEvent(new Event("cartUpdated")),alert(`${r.name} added to cart!`)},b=()=>{g(),s("/cart")},w=async()=>{try{u?await Ra.removeFromWishlist(t):await Ra.addToWishlist(t),x(!u)}catch(C){console.error("Error updating wishlist:",C)}};if(n)return e.jsx("div",{className:"min-h-screen bg-gray-50 flex items-center justify-center",children:e.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-afri-green"})});if(!r)return e.jsx("div",{className:"min-h-screen bg-gray-50 flex items-center justify-center",children:e.jsxs("div",{className:"text-center",children:[e.jsx("span",{className:"text-6xl",children:"ðŸ”"}),e.jsx("h2",{className:"text-2xl font-bold text-gray-900 mt-4",children:"Product not found"}),e.jsx("button",{onClick:()=>s("/products"),className:"mt-4 px-6 py-3 bg-afri-green text-white rounded-xl font-semibold",children:"Browse Products"})]})});const N=((k=r.images)==null?void 0:k.length)>0?r.images.map(C=>C.url||C):[En(r)],j=(L=r.reviews)!=null&&L.length?(r.reviews.reduce((C,I)=>C+I.rating,0)/r.reviews.length).toFixed(1):4.5;return e.jsxs("div",{className:"min-h-screen bg-gray-50",children:[e.jsx("div",{className:"bg-white border-b",children:e.jsx("div",{className:"max-w-7xl mx-auto px-4 py-3",children:e.jsxs("nav",{className:"text-sm",children:[e.jsx("button",{onClick:()=>s("/"),className:"text-gray-500 hover:text-afri-green",children:"Home"}),e.jsx("span",{className:"mx-2 text-gray-400",children:"/"}),e.jsx("button",{onClick:()=>s("/products"),className:"text-gray-500 hover:text-afri-green",children:"Products"}),e.jsx("span",{className:"mx-2 text-gray-400",children:"/"}),e.jsx("span",{className:"text-gray-900",children:r.name})]})})}),e.jsxs("div",{className:"max-w-7xl mx-auto px-4 py-8",children:[e.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-12",children:[e.jsxs("div",{children:[e.jsx("div",{className:"bg-white rounded-2xl shadow-lg overflow-hidden mb-4",children:e.jsx("img",{src:N[d],alt:r.name,className:"w-full h-96 object-cover"})}),N.length>1&&e.jsx("div",{className:"flex gap-3 overflow-x-auto",children:N.map((C,I)=>e.jsx("button",{onClick:()=>h(I),className:`flex-shrink-0 w-20 h-20 rounded-lg overflow-hidden border-2 transition-all ${d===I?"border-afri-green":"border-transparent"}`,children:e.jsx("img",{src:C,alt:"",className:"w-full h-full object-cover"})},I))})]}),e.jsxs("div",{children:[e.jsxs("div",{className:"bg-white rounded-2xl shadow-lg p-6",children:[r.vendor&&e.jsxs("button",{onClick:()=>s(`/store/${r.vendor._id||r.vendor}`),className:"inline-flex items-center gap-2 px-3 py-1 bg-gray-100 rounded-full text-sm text-gray-600 hover:bg-gray-200 mb-4",children:[e.jsx("span",{children:"ðŸª"}),e.jsx("span",{children:r.vendor.storeName||"AfriMercato Vendor"})]}),e.jsx("h1",{className:"text-3xl font-bold text-gray-900 mb-2",children:r.name}),e.jsxs("div",{className:"flex items-center gap-3 mb-4",children:[e.jsx("div",{className:"flex items-center gap-1",children:[1,2,3,4,5].map(C=>e.jsx("span",{className:C<=j?"text-yellow-400":"text-gray-300",children:"â˜…"},C))}),e.jsx("span",{className:"font-semibold",children:j}),e.jsxs("button",{onClick:()=>s(`/product/${t}/reviews`),className:"text-afri-green hover:underline",children:["(",((F=r.reviews)==null?void 0:F.length)||0," reviews)"]})]}),e.jsxs("div",{className:"mb-6",children:[e.jsxs("span",{className:"text-4xl font-bold text-afri-green",children:["Â£",(T=r.price)==null?void 0:T.toFixed(2)]}),r.originalPrice&&r.originalPrice>r.price&&e.jsxs(e.Fragment,{children:[e.jsxs("span",{className:"text-xl text-gray-400 line-through ml-3",children:["Â£",r.originalPrice.toFixed(2)]}),e.jsxs("span",{className:"ml-2 text-sm text-red-500 font-semibold",children:[Math.round((1-r.price/r.originalPrice)*100),"% OFF"]})]}),e.jsxs("p",{className:"text-gray-500 mt-1",children:["per ",r.unit||"item"]})]}),e.jsx("p",{className:"text-gray-600 mb-6",children:r.description}),e.jsx("div",{className:"mb-6",children:r.inStock!==!1&&r.stock>0?e.jsxs("span",{className:"inline-flex items-center gap-2 text-green-600",children:[e.jsx("span",{className:"w-2 h-2 bg-green-500 rounded-full"}),"In Stock (",r.stock," available)"]}):e.jsxs("span",{className:"inline-flex items-center gap-2 text-red-600",children:[e.jsx("span",{className:"w-2 h-2 bg-red-500 rounded-full"}),"Out of Stock"]})}),e.jsxs("div",{className:"flex items-center gap-4 mb-6",children:[e.jsx("span",{className:"text-gray-700 font-medium",children:"Quantity:"}),e.jsxs("div",{className:"flex items-center border rounded-lg",children:[e.jsx("button",{onClick:()=>c(Math.max(1,l-1)),className:"px-4 py-2 text-xl hover:bg-gray-100",children:"âˆ’"}),e.jsx("span",{className:"px-6 py-2 font-semibold",children:l}),e.jsx("button",{onClick:()=>c(Math.min(r.stock||10,l+1)),className:"px-4 py-2 text-xl hover:bg-gray-100",children:"+"})]})]}),e.jsxs("div",{className:"flex gap-3 mb-6",children:[e.jsx("button",{onClick:g,disabled:!r.inStock,className:"flex-1 py-4 bg-afri-green text-white rounded-xl font-semibold hover:bg-afri-green-dark disabled:opacity-50 disabled:cursor-not-allowed",children:"Add to Cart"}),e.jsx("button",{onClick:b,disabled:!r.inStock,className:"flex-1 py-4 bg-afri-gold text-gray-900 rounded-xl font-semibold hover:bg-yellow-400 disabled:opacity-50 disabled:cursor-not-allowed",children:"Buy Now"}),e.jsx("button",{onClick:w,className:`p-4 rounded-xl border-2 transition-colors ${u?"border-red-500 text-red-500 bg-red-50":"border-gray-300 text-gray-500 hover:border-red-500 hover:text-red-500"}`,children:u?"â¤ï¸":"ðŸ¤"})]}),e.jsxs("div",{className:"border-t pt-6",children:[e.jsx("h3",{className:"font-bold text-gray-900 mb-3",children:"Product Details"}),e.jsxs("div",{className:"space-y-2 text-sm",children:[r.category&&e.jsxs("div",{className:"flex justify-between",children:[e.jsx("span",{className:"text-gray-500",children:"Category"}),e.jsx("span",{className:"font-medium",children:r.category})]}),r.origin&&e.jsxs("div",{className:"flex justify-between",children:[e.jsx("span",{className:"text-gray-500",children:"Origin"}),e.jsx("span",{className:"font-medium",children:r.origin})]}),r.weight&&e.jsxs("div",{className:"flex justify-between",children:[e.jsx("span",{className:"text-gray-500",children:"Weight"}),e.jsx("span",{className:"font-medium",children:r.weight})]})]})]})]}),e.jsxs("div",{className:"bg-white rounded-2xl shadow-lg p-6 mt-6",children:[e.jsx("h3",{className:"font-bold text-gray-900 mb-4",children:"Delivery Information"}),e.jsxs("div",{className:"space-y-3",children:[e.jsxs("div",{className:"flex items-center gap-3 text-sm",children:[e.jsx("span",{className:"text-2xl",children:"ðŸšš"}),e.jsxs("div",{children:[e.jsx("p",{className:"font-medium",children:"Standard Delivery"}),e.jsx("p",{className:"text-gray-500",children:"2-4 business days â€¢ Â£2.99"})]})]}),e.jsxs("div",{className:"flex items-center gap-3 text-sm",children:[e.jsx("span",{className:"text-2xl",children:"âš¡"}),e.jsxs("div",{children:[e.jsx("p",{className:"font-medium",children:"Express Delivery"}),e.jsx("p",{className:"text-gray-500",children:"Next day â€¢ Â£5.99"})]})]}),e.jsxs("div",{className:"flex items-center gap-3 text-sm",children:[e.jsx("span",{className:"text-2xl",children:"ðŸŽ"}),e.jsxs("div",{children:[e.jsx("p",{className:"font-medium",children:"Free Delivery"}),e.jsx("p",{className:"text-gray-500",children:"On orders over Â£30"})]})]})]})]})]})]}),p.length>0&&e.jsxs("div",{className:"mt-16",children:[e.jsx("h2",{className:"text-2xl font-bold text-gray-900 mb-6",children:"You May Also Like"}),e.jsx("div",{className:"grid grid-cols-2 md:grid-cols-4 gap-6",children:p.map(C=>{var I;return e.jsxs("div",{className:"bg-white rounded-xl shadow-lg overflow-hidden hover:shadow-xl transition-all cursor-pointer group",onClick:()=>{s(`/product/${C._id}`),window.scrollTo(0,0)},children:[e.jsx("div",{className:"relative",children:e.jsx("img",{src:En(C),alt:C.name,className:"w-full h-40 object-cover group-hover:scale-105 transition-transform"})}),e.jsxs("div",{className:"p-4",children:[e.jsx("h3",{className:"font-semibold text-gray-900 mb-1 line-clamp-1",children:C.name}),e.jsxs("p",{className:"text-lg font-bold text-afri-green",children:["Â£",(I=C.price)==null?void 0:I.toFixed(2)]})]})]},C._id)})})]})]})]})}const p0=[{key:"pending",label:"Order Placed",icon:"ðŸ“"},{key:"confirmed",label:"Confirmed",icon:"âœ“"},{key:"preparing",label:"Preparing",icon:"ðŸ‘¨â€ðŸ³"},{key:"out-for-delivery",label:"Out for Delivery",icon:"ðŸšš"},{key:"delivered",label:"Delivered",icon:"ðŸ“¦"}],$j={pending:"bg-yellow-100 text-yellow-800",confirmed:"bg-blue-100 text-blue-800",preparing:"bg-orange-100 text-orange-800","out-for-delivery":"bg-purple-100 text-purple-800",delivered:"bg-green-100 text-green-800",completed:"bg-gray-100 text-gray-800",cancelled:"bg-red-100 text-red-800"};function Gj(){var u,x,p,m,y,g,b,w,N,j,k,L;const{orderId:t}=In(),s=Zt(),[r,a]=J.useState(null),[n,o]=J.useState(!0);J.useEffect(()=>{l()},[t]);const l=async()=>{try{o(!0);const F=await Rf.getById(t);F.success&&a(F.data)}catch(F){console.error("Error fetching order:",F)}finally{o(!1)}},c=()=>{const F=p0.findIndex(T=>T.key===(r==null?void 0:r.status));return F>=0?F:0},d=F=>new Date(F).toLocaleDateString("en-GB",{weekday:"long",day:"numeric",month:"long",year:"numeric",hour:"2-digit",minute:"2-digit"});if(n)return e.jsx("div",{className:"min-h-screen bg-gray-50 flex items-center justify-center",children:e.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-afri-green"})});if(!r)return e.jsx("div",{className:"min-h-screen bg-gray-50 flex items-center justify-center",children:e.jsxs("div",{className:"text-center",children:[e.jsx("span",{className:"text-6xl",children:"ðŸ”"}),e.jsx("h2",{className:"text-2xl font-bold text-gray-900 mt-4",children:"Order not found"}),e.jsx("button",{onClick:()=>s("/orders"),className:"mt-4 px-6 py-3 bg-afri-green text-white rounded-xl font-semibold",children:"View All Orders"})]})});const h=c();return e.jsxs("div",{className:"min-h-screen bg-gray-50",children:[e.jsx("div",{className:"bg-gradient-to-r from-afri-green to-afri-green-dark text-white py-8",children:e.jsxs("div",{className:"max-w-4xl mx-auto px-4",children:[e.jsx("button",{onClick:()=>s("/orders"),className:"mb-4 text-white/80 hover:text-white",children:"â† Back to Orders"}),e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{children:[e.jsxs("h1",{className:"text-3xl font-bold",children:["Order #",r.orderNumber]}),e.jsx("p",{className:"text-afri-green-light mt-1",children:d(r.createdAt)})]}),e.jsx("span",{className:`px-4 py-2 rounded-full text-sm font-semibold ${$j[r.status]}`,children:(u=r.status)==null?void 0:u.replace(/-/g," ").replace(/\b\w/g,F=>F.toUpperCase())})]})]})}),e.jsxs("div",{className:"max-w-4xl mx-auto px-4 py-8",children:[r.status!=="cancelled"&&e.jsxs("div",{className:"bg-white rounded-xl shadow-lg p-6 mb-6",children:[e.jsx("h2",{className:"text-lg font-bold text-gray-900 mb-6",children:"Order Progress"}),e.jsxs("div",{className:"relative",children:[e.jsx("div",{className:"absolute top-6 left-0 right-0 h-1 bg-gray-200",children:e.jsx("div",{className:"h-full bg-afri-green transition-all duration-500",style:{width:`${h/(p0.length-1)*100}%`}})}),e.jsx("div",{className:"relative flex justify-between",children:p0.map((F,T)=>e.jsxs("div",{className:"flex flex-col items-center",children:[e.jsx("div",{className:`w-12 h-12 rounded-full flex items-center justify-center text-2xl z-10 transition-all ${T<=h?"bg-afri-green text-white":"bg-gray-200 text-gray-400"}`,children:F.icon}),e.jsx("p",{className:`mt-2 text-sm font-medium text-center ${T<=h?"text-afri-green":"text-gray-400"}`,children:F.label})]},F.key))})]}),r.estimatedDelivery&&e.jsxs("div",{className:"mt-6 pt-6 border-t text-center",children:[e.jsx("p",{className:"text-gray-500",children:"Estimated Delivery"}),e.jsx("p",{className:"text-xl font-bold text-gray-900",children:new Date(r.estimatedDelivery).toLocaleDateString("en-GB",{weekday:"short",day:"numeric",month:"short"})})]})]}),r.status==="cancelled"&&e.jsx("div",{className:"bg-red-50 border border-red-200 rounded-xl p-6 mb-6",children:e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsx("span",{className:"text-3xl",children:"âŒ"}),e.jsxs("div",{children:[e.jsx("h3",{className:"font-bold text-red-800",children:"Order Cancelled"}),e.jsx("p",{className:"text-red-600",children:r.cancellationReason||"This order has been cancelled."})]})]})}),e.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-3 gap-6",children:[e.jsxs("div",{className:"lg:col-span-2",children:[e.jsxs("div",{className:"bg-white rounded-xl shadow-lg p-6",children:[e.jsxs("h2",{className:"text-lg font-bold text-gray-900 mb-4",children:["Order Items (",((x=r.items)==null?void 0:x.length)||0,")"]}),e.jsx("div",{className:"space-y-4",children:(p=r.items)==null?void 0:p.map((F,T)=>{var C;return e.jsxs("div",{className:"flex gap-4 pb-4 border-b last:border-0",children:[e.jsx("img",{src:En(F),alt:F.name,className:"w-20 h-20 rounded-lg object-cover"}),e.jsxs("div",{className:"flex-1",children:[e.jsx("h3",{className:"font-semibold text-gray-900",children:F.name}),e.jsxs("p",{className:"text-sm text-gray-500",children:["Quantity: ",F.quantity]}),F.unit&&e.jsx("p",{className:"text-sm text-gray-500",children:F.unit})]}),e.jsxs("div",{className:"text-right",children:[e.jsxs("p",{className:"font-bold text-gray-900",children:["Â£",(F.price*F.quantity).toFixed(2)]}),e.jsxs("p",{className:"text-sm text-gray-500",children:["Â£",(C=F.price)==null?void 0:C.toFixed(2)," each"]})]})]},T)})})]}),r.vendor&&e.jsxs("div",{className:"bg-white rounded-xl shadow-lg p-6 mt-6",children:[e.jsx("h2",{className:"text-lg font-bold text-gray-900 mb-4",children:"Sold By"}),e.jsxs("div",{className:"flex items-center gap-4",children:[r.vendor.logo&&e.jsx("img",{src:r.vendor.logo,alt:r.vendor.storeName,className:"w-16 h-16 rounded-full object-cover"}),e.jsxs("div",{className:"flex-1",children:[e.jsx("h3",{className:"font-semibold text-gray-900",children:r.vendor.storeName}),r.vendor.phone&&e.jsxs("p",{className:"text-sm text-gray-500",children:["ðŸ“ž ",r.vendor.phone]})]}),e.jsx("button",{onClick:()=>s(`/store/${r.vendor._id}`),className:"px-4 py-2 border border-afri-green text-afri-green rounded-lg hover:bg-afri-green hover:text-white",children:"Visit Store"})]})]})]}),e.jsxs("div",{className:"space-y-6",children:[e.jsxs("div",{className:"bg-white rounded-xl shadow-lg p-6",children:[e.jsx("h2",{className:"text-lg font-bold text-gray-900 mb-4",children:"Order Summary"}),e.jsxs("div",{className:"space-y-3 text-sm",children:[e.jsxs("div",{className:"flex justify-between",children:[e.jsx("span",{className:"text-gray-500",children:"Subtotal"}),e.jsxs("span",{className:"font-medium",children:["Â£",((m=r.subtotal)==null?void 0:m.toFixed(2))||(r.totalAmount-(r.deliveryFee||0)).toFixed(2)]})]}),e.jsxs("div",{className:"flex justify-between",children:[e.jsx("span",{className:"text-gray-500",children:"Delivery Fee"}),e.jsx("span",{className:"font-medium",children:r.deliveryFee===0?e.jsx("span",{className:"text-green-600",children:"Free"}):`Â£${((y=r.deliveryFee)==null?void 0:y.toFixed(2))||"0.00"}`})]}),r.discount>0&&e.jsxs("div",{className:"flex justify-between text-green-600",children:[e.jsx("span",{children:"Discount"}),e.jsxs("span",{children:["-Â£",r.discount.toFixed(2)]})]}),e.jsxs("div",{className:"flex justify-between pt-3 border-t text-lg font-bold",children:[e.jsx("span",{children:"Total"}),e.jsxs("span",{className:"text-afri-green",children:["Â£",(g=r.totalAmount)==null?void 0:g.toFixed(2)]})]})]}),e.jsxs("div",{className:"mt-4 pt-4 border-t",children:[e.jsx("p",{className:"text-sm text-gray-500",children:"Payment Method"}),e.jsx("p",{className:"font-medium",children:r.paymentMethod==="card"?"ðŸ’³ Card Payment":r.paymentMethod==="paypal"?"ðŸ…¿ï¸ PayPal":"ðŸ’µ Cash on Delivery"}),e.jsx("p",{className:`text-sm ${r.paymentStatus==="paid"?"text-green-600":"text-yellow-600"}`,children:r.paymentStatus==="paid"?"âœ“ Paid":"â³ Payment Pending"})]})]}),e.jsxs("div",{className:"bg-white rounded-xl shadow-lg p-6",children:[e.jsx("h2",{className:"text-lg font-bold text-gray-900 mb-4",children:"Delivery Address"}),e.jsxs("div",{className:"text-sm",children:[e.jsx("p",{className:"font-semibold",children:((b=r.deliveryAddress)==null?void 0:b.name)||r.customerName}),e.jsx("p",{className:"text-gray-600",children:(w=r.deliveryAddress)==null?void 0:w.street}),e.jsxs("p",{className:"text-gray-600",children:[(N=r.deliveryAddress)==null?void 0:N.city,", ",(j=r.deliveryAddress)==null?void 0:j.postcode]}),((k=r.deliveryAddress)==null?void 0:k.phone)&&e.jsxs("p",{className:"text-gray-600 mt-2",children:["ðŸ“ž ",r.deliveryAddress.phone]})]})]}),e.jsxs("div",{className:"space-y-3",children:[r.status==="delivered"&&e.jsx("button",{onClick:()=>{var F,T;return s(`/product/${(T=(F=r.items)==null?void 0:F[0])==null?void 0:T.productId}/reviews`)},className:"w-full py-3 bg-afri-green text-white rounded-xl font-semibold hover:bg-afri-green-dark",children:"â­ Write a Review"}),["pending","confirmed"].includes(r.status)&&e.jsx("button",{className:"w-full py-3 border-2 border-red-500 text-red-500 rounded-xl font-semibold hover:bg-red-50",onClick:()=>{confirm("Are you sure you want to cancel this order?")&&alert("Cancellation request submitted")},children:"Cancel Order"}),e.jsx("button",{onClick:()=>s("/products"),className:"w-full py-3 border-2 border-afri-green text-afri-green rounded-xl font-semibold hover:bg-afri-green hover:text-white",children:"Order Again"}),r.status==="out-for-delivery"&&e.jsx("button",{onClick:()=>s(`/track-order/${t}`),className:"w-full py-3 bg-purple-600 text-white rounded-xl font-semibold hover:bg-purple-700",children:"ðŸ—ºï¸ Track Delivery Live"})]})]})]}),e.jsxs("div",{className:"bg-white rounded-xl shadow-lg p-6 mt-6",children:[e.jsx("h2",{className:"text-lg font-bold text-gray-900 mb-4",children:"Order Timeline"}),e.jsx("div",{className:"space-y-4",children:((L=r.timeline)==null?void 0:L.map((F,T)=>e.jsxs("div",{className:"flex gap-4",children:[e.jsxs("div",{className:"flex flex-col items-center",children:[e.jsx("div",{className:"w-3 h-3 rounded-full bg-afri-green"}),T<r.timeline.length-1&&e.jsx("div",{className:"w-0.5 h-12 bg-gray-200"})]}),e.jsxs("div",{className:"flex-1 pb-4",children:[e.jsx("p",{className:"font-semibold text-gray-900",children:F.title}),e.jsx("p",{className:"text-sm text-gray-500",children:F.description}),e.jsx("p",{className:"text-xs text-gray-400 mt-1",children:new Date(F.timestamp).toLocaleString("en-GB")})]})]},T)))||e.jsx("div",{className:"text-center text-gray-500 py-4",children:"No timeline events available"})})]}),e.jsxs("div",{className:"bg-afri-green/10 rounded-xl p-6 mt-6",children:[e.jsx("h3",{className:"font-bold text-gray-900 mb-2",children:"Need Help?"}),e.jsx("p",{className:"text-gray-600 mb-4",children:"If you have any questions about your order, we're here to help."}),e.jsxs("div",{className:"flex gap-3",children:[e.jsx("button",{className:"px-4 py-2 bg-white rounded-lg text-gray-700 hover:bg-gray-100",children:"ðŸ“§ Contact Support"}),e.jsx("button",{className:"px-4 py-2 bg-white rounded-lg text-gray-700 hover:bg-gray-100",children:"ðŸ“ž Call Us"})]})]})]})]})}function Yj(){var b;const t=Zt(),{user:s}=Ua(),[r,a]=J.useState({todayDeliveries:0,todayEarnings:0,weeklyDeliveries:0,weeklyEarnings:0,rating:4.8,completionRate:98}),[n,o]=J.useState([]),[l,c]=J.useState([]),[d,h]=J.useState(!0),[u,x]=J.useState(!0);J.useEffect(()=>{p()},[]);const p=async()=>{try{setTimeout(()=>{a({todayDeliveries:8,todayEarnings:64.5,weeklyDeliveries:42,weeklyEarnings:336,rating:4.8,completionRate:98}),o([{id:"DEL001",orderNumber:"AFM-2024-001",customer:"Sarah Johnson",address:"42 High Street, London SW1A 1AA",distance:2.3,status:"picking-up",estimatedTime:"15 min",vendor:"Fresh Valley Farms",items:5,earnings:4.5},{id:"DEL002",orderNumber:"AFM-2024-002",customer:"James Wilson",address:"78 Oak Lane, London E1 6AN",distance:3.1,status:"pending-pickup",estimatedTime:"25 min",vendor:"Daily Dairy",items:3,earnings:5.2}]),c([{id:"DEL100",customer:"Emma Brown",earnings:4.8,time:"1 hour ago",rating:5},{id:"DEL099",customer:"Michael Davis",earnings:6.2,time:"2 hours ago",rating:5},{id:"DEL098",customer:"Lisa Chen",earnings:3.9,time:"3 hours ago",rating:4}]),x(!1)},500)}catch(w){console.error("Error fetching dashboard:",w),x(!1)}},m=()=>{h(!d)},y={"pending-pickup":"bg-yellow-100 text-yellow-800","picking-up":"bg-blue-100 text-blue-800","in-transit":"bg-purple-100 text-purple-800",arriving:"bg-green-100 text-green-800"},g={"pending-pickup":"Waiting for Pickup","picking-up":"Picking Up","in-transit":"In Transit",arriving:"Arriving Soon"};return u?e.jsx("div",{className:"min-h-screen bg-gray-50 flex items-center justify-center",children:e.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-afri-green"})}):e.jsxs("div",{className:"min-h-screen bg-gray-50",children:[e.jsx("div",{className:"bg-gradient-to-r from-purple-600 to-purple-800 text-white",children:e.jsx("div",{className:"max-w-7xl mx-auto px-4 py-6",children:e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{children:[e.jsxs("h1",{className:"text-2xl font-bold",children:["Hello, ",((b=s==null?void 0:s.name)==null?void 0:b.split(" ")[0])||"Rider","!"]}),e.jsx("p",{className:"text-purple-200",children:"Ready for deliveries?"})]}),e.jsx("button",{onClick:m,className:`px-6 py-3 rounded-full font-semibold transition-all ${d?"bg-green-500 text-white":"bg-gray-200 text-gray-700"}`,children:d?"ðŸŸ¢ Online":"âšª Offline"})]})})}),e.jsxs("div",{className:"max-w-7xl mx-auto px-4 py-6",children:[e.jsxs("div",{className:"grid grid-cols-2 md:grid-cols-4 gap-4 mb-8",children:[e.jsxs("div",{className:"bg-white rounded-xl shadow-lg p-4",children:[e.jsxs("div",{className:"flex items-center justify-between mb-2",children:[e.jsx("span",{className:"text-gray-500 text-sm",children:"Today's Deliveries"}),e.jsx("span",{className:"text-2xl",children:"ðŸšš"})]}),e.jsx("p",{className:"text-3xl font-bold text-gray-900",children:r.todayDeliveries}),e.jsx("p",{className:"text-sm text-green-600",children:"+3 from yesterday"})]}),e.jsxs("div",{className:"bg-white rounded-xl shadow-lg p-4",children:[e.jsxs("div",{className:"flex items-center justify-between mb-2",children:[e.jsx("span",{className:"text-gray-500 text-sm",children:"Today's Earnings"}),e.jsx("span",{className:"text-2xl",children:"ðŸ’·"})]}),e.jsxs("p",{className:"text-3xl font-bold text-green-600",children:["Â£",r.todayEarnings.toFixed(2)]}),e.jsx("p",{className:"text-sm text-gray-500",children:"+Â£12.50 from yesterday"})]}),e.jsxs("div",{className:"bg-white rounded-xl shadow-lg p-4",children:[e.jsxs("div",{className:"flex items-center justify-between mb-2",children:[e.jsx("span",{className:"text-gray-500 text-sm",children:"Your Rating"}),e.jsx("span",{className:"text-2xl",children:"â­"})]}),e.jsx("p",{className:"text-3xl font-bold text-yellow-500",children:r.rating}),e.jsx("p",{className:"text-sm text-gray-500",children:"Excellent!"})]}),e.jsxs("div",{className:"bg-white rounded-xl shadow-lg p-4",children:[e.jsxs("div",{className:"flex items-center justify-between mb-2",children:[e.jsx("span",{className:"text-gray-500 text-sm",children:"Completion Rate"}),e.jsx("span",{className:"text-2xl",children:"âœ“"})]}),e.jsxs("p",{className:"text-3xl font-bold text-purple-600",children:[r.completionRate,"%"]}),e.jsx("p",{className:"text-sm text-gray-500",children:"Top performer!"})]})]}),e.jsxs("div",{className:"mb-8",children:[e.jsxs("div",{className:"flex items-center justify-between mb-4",children:[e.jsx("h2",{className:"text-xl font-bold text-gray-900",children:"Active Deliveries"}),e.jsx("button",{onClick:()=>t("/rider/deliveries"),className:"text-purple-600 hover:underline font-semibold",children:"View All â†’"})]}),n.length===0?e.jsxs("div",{className:"bg-white rounded-xl shadow-lg p-8 text-center",children:[e.jsx("span",{className:"text-6xl",children:"ðŸ“¦"}),e.jsx("h3",{className:"text-xl font-bold text-gray-900 mt-4",children:"No active deliveries"}),e.jsx("p",{className:"text-gray-500 mt-2",children:"New orders will appear here when assigned"})]}):e.jsx("div",{className:"space-y-4",children:n.map(w=>e.jsxs("div",{className:"bg-white rounded-xl shadow-lg p-4 hover:shadow-xl transition-shadow cursor-pointer",onClick:()=>t(`/rider/delivery/${w.id}`),children:[e.jsxs("div",{className:"flex items-start justify-between mb-3",children:[e.jsxs("div",{children:[e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx("h3",{className:"font-bold text-gray-900",children:w.orderNumber}),e.jsx("span",{className:`px-2 py-1 rounded-full text-xs font-semibold ${y[w.status]}`,children:g[w.status]})]}),e.jsxs("p",{className:"text-sm text-gray-500",children:["from ",w.vendor]})]}),e.jsxs("span",{className:"text-lg font-bold text-green-600",children:["Â£",w.earnings.toFixed(2)]})]}),e.jsxs("div",{className:"flex items-center gap-2 mb-3",children:[e.jsx("span",{className:"text-xl",children:"ðŸ“"}),e.jsxs("div",{className:"flex-1",children:[e.jsx("p",{className:"font-medium text-gray-900",children:w.customer}),e.jsx("p",{className:"text-sm text-gray-500",children:w.address})]})]}),e.jsxs("div",{className:"flex items-center justify-between pt-3 border-t text-sm",children:[e.jsxs("div",{className:"flex items-center gap-4 text-gray-500",children:[e.jsxs("span",{children:["ðŸ“¦ ",w.items," items"]}),e.jsxs("span",{children:["ðŸ“ ",w.distance," km"]}),e.jsxs("span",{children:["â±ï¸ ",w.estimatedTime]})]}),e.jsx("button",{className:"px-4 py-2 bg-purple-600 text-white rounded-lg font-semibold hover:bg-purple-700",children:"Navigate"})]})]},w.id))})]}),e.jsxs("div",{className:"grid grid-cols-2 md:grid-cols-4 gap-4 mb-8",children:[e.jsxs("button",{onClick:()=>t("/rider/deliveries"),className:"bg-white rounded-xl shadow-lg p-4 text-center hover:shadow-xl transition-shadow",children:[e.jsx("span",{className:"text-3xl",children:"ðŸ“¦"}),e.jsx("p",{className:"font-semibold text-gray-900 mt-2",children:"All Deliveries"})]}),e.jsxs("button",{onClick:()=>t("/rider/earnings"),className:"bg-white rounded-xl shadow-lg p-4 text-center hover:shadow-xl transition-shadow",children:[e.jsx("span",{className:"text-3xl",children:"ðŸ’°"}),e.jsx("p",{className:"font-semibold text-gray-900 mt-2",children:"Earnings"})]}),e.jsxs("button",{onClick:()=>t("/rider/profile"),className:"bg-white rounded-xl shadow-lg p-4 text-center hover:shadow-xl transition-shadow",children:[e.jsx("span",{className:"text-3xl",children:"ðŸ‘¤"}),e.jsx("p",{className:"font-semibold text-gray-900 mt-2",children:"Profile"})]}),e.jsxs("button",{onClick:()=>t("/rider/support"),className:"bg-white rounded-xl shadow-lg p-4 text-center hover:shadow-xl transition-shadow",children:[e.jsx("span",{className:"text-3xl",children:"ðŸ†˜"}),e.jsx("p",{className:"font-semibold text-gray-900 mt-2",children:"Support"})]})]}),e.jsxs("div",{className:"mb-8",children:[e.jsx("h2",{className:"text-xl font-bold text-gray-900 mb-4",children:"Recent Deliveries"}),e.jsx("div",{className:"bg-white rounded-xl shadow-lg overflow-hidden",children:l.map((w,N)=>e.jsxs("div",{className:`flex items-center justify-between p-4 ${N<l.length-1?"border-b":""}`,children:[e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsx("div",{className:"w-10 h-10 bg-purple-100 rounded-full flex items-center justify-center",children:"âœ“"}),e.jsxs("div",{children:[e.jsx("p",{className:"font-semibold text-gray-900",children:w.customer}),e.jsx("p",{className:"text-sm text-gray-500",children:w.time})]})]}),e.jsxs("div",{className:"text-right",children:[e.jsxs("p",{className:"font-bold text-green-600",children:["Â£",w.earnings.toFixed(2)]}),e.jsx("div",{className:"flex items-center gap-1",children:[...Array(w.rating)].map((j,k)=>e.jsx("span",{className:"text-yellow-400 text-sm",children:"â˜…"},k))})]})]},w.id))})]}),e.jsxs("div",{className:"bg-gradient-to-r from-purple-600 to-purple-800 rounded-xl p-6 text-white",children:[e.jsx("h3",{className:"text-lg font-bold mb-4",children:"This Week's Summary"}),e.jsxs("div",{className:"grid grid-cols-2 gap-6",children:[e.jsxs("div",{children:[e.jsx("p",{className:"text-purple-200",children:"Total Deliveries"}),e.jsx("p",{className:"text-3xl font-bold",children:r.weeklyDeliveries})]}),e.jsxs("div",{children:[e.jsx("p",{className:"text-purple-200",children:"Total Earnings"}),e.jsxs("p",{className:"text-3xl font-bold",children:["Â£",r.weeklyEarnings.toFixed(2)]})]})]}),e.jsx("button",{onClick:()=>t("/rider/earnings"),className:"mt-4 w-full py-3 bg-white text-purple-600 rounded-lg font-semibold hover:bg-gray-100",children:"View Detailed Report â†’"})]})]})]})}function Kj(){const t=Zt(),[s,r]=J.useState([]),[a,n]=J.useState("active"),[o,l]=J.useState(!0);J.useEffect(()=>{c()},[a]);const c=async()=>{try{l(!0),setTimeout(()=>{r(a==="active"?[{id:"DEL001",orderNumber:"AFM-2024-001",customer:{name:"Sarah Johnson",phone:"+44 7700 900001"},address:"42 High Street, London SW1A 1AA",distance:2.3,status:"picking-up",estimatedTime:"15 min",vendor:{name:"Fresh Valley Farms",address:"123 Market Lane"},items:5,earnings:4.5,createdAt:new Date().toISOString()},{id:"DEL002",orderNumber:"AFM-2024-002",customer:{name:"James Wilson",phone:"+44 7700 900002"},address:"78 Oak Lane, London E1 6AN",distance:3.1,status:"pending-pickup",estimatedTime:"25 min",vendor:{name:"Daily Dairy",address:"456 Farm Road"},items:3,earnings:5.2,createdAt:new Date().toISOString()}]:a==="completed"?[{id:"DEL100",orderNumber:"AFM-2024-100",customer:{name:"Emma Brown"},address:"15 Park Avenue, London N1 2AB",earnings:4.8,status:"delivered",rating:5,completedAt:new Date(Date.now()-36e5).toISOString()},{id:"DEL099",orderNumber:"AFM-2024-099",customer:{name:"Michael Davis"},address:"89 Church Road, London W2 4GH",earnings:6.2,status:"delivered",rating:5,completedAt:new Date(Date.now()-72e5).toISOString()}]:[]),l(!1)},500)}catch(x){console.error("Error fetching deliveries:",x),l(!1)}},d={"pending-pickup":"bg-yellow-100 text-yellow-800","picking-up":"bg-blue-100 text-blue-800","in-transit":"bg-purple-100 text-purple-800",arriving:"bg-green-100 text-green-800",delivered:"bg-gray-100 text-gray-800"},h={"pending-pickup":"Waiting for Pickup","picking-up":"Picking Up","in-transit":"In Transit",arriving:"Arriving Soon",delivered:"Delivered"},u=[{id:"active",label:"Active",icon:"ðŸšš"},{id:"completed",label:"Completed",icon:"âœ“"},{id:"cancelled",label:"Cancelled",icon:"âœ•"}];return e.jsxs("div",{className:"min-h-screen bg-gray-50",children:[e.jsx("div",{className:"bg-gradient-to-r from-purple-600 to-purple-800 text-white py-6",children:e.jsxs("div",{className:"max-w-7xl mx-auto px-4",children:[e.jsx("button",{onClick:()=>t("/rider/dashboard"),className:"text-purple-200 hover:text-white mb-2",children:"â† Back to Dashboard"}),e.jsx("h1",{className:"text-2xl font-bold",children:"My Deliveries"})]})}),e.jsxs("div",{className:"max-w-7xl mx-auto px-4 py-6",children:[e.jsx("div",{className:"flex gap-2 mb-6 overflow-x-auto",children:u.map(x=>e.jsxs("button",{onClick:()=>n(x.id),className:`flex items-center gap-2 px-5 py-3 rounded-xl font-semibold transition-all whitespace-nowrap ${a===x.id?"bg-purple-600 text-white":"bg-white text-gray-700 hover:bg-gray-100"}`,children:[e.jsx("span",{children:x.icon}),x.label]},x.id))}),o?e.jsx("div",{className:"space-y-4",children:[1,2,3].map(x=>e.jsxs("div",{className:"bg-white rounded-xl p-6 animate-pulse",children:[e.jsx("div",{className:"h-5 bg-gray-200 rounded w-1/4 mb-4"}),e.jsx("div",{className:"h-4 bg-gray-200 rounded w-1/2"})]},x))}):s.length===0?e.jsxs("div",{className:"bg-white rounded-xl shadow-lg p-12 text-center",children:[e.jsx("span",{className:"text-6xl",children:"ðŸ“¦"}),e.jsxs("h2",{className:"text-xl font-bold text-gray-900 mt-4",children:["No ",a," deliveries"]}),e.jsx("p",{className:"text-gray-500 mt-2",children:a==="active"?"New orders will appear here when assigned to you":"No deliveries in this category"})]}):e.jsx("div",{className:"space-y-4",children:s.map(x=>e.jsxs("div",{className:"bg-white rounded-xl shadow-lg p-6 hover:shadow-xl transition-shadow cursor-pointer",onClick:()=>t(`/rider/delivery/${x.id}`),children:[e.jsxs("div",{className:"flex items-start justify-between mb-4",children:[e.jsxs("div",{children:[e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsx("h3",{className:"text-lg font-bold text-gray-900",children:x.orderNumber}),e.jsx("span",{className:`px-3 py-1 rounded-full text-xs font-semibold ${d[x.status]}`,children:h[x.status]})]}),x.vendor&&e.jsxs("p",{className:"text-sm text-gray-500 mt-1",children:["from ",x.vendor.name]})]}),e.jsxs("div",{className:"text-right",children:[e.jsxs("p",{className:"text-xl font-bold text-green-600",children:["Â£",x.earnings.toFixed(2)]}),x.rating&&e.jsx("div",{className:"flex items-center justify-end gap-1 mt-1",children:[...Array(x.rating)].map((p,m)=>e.jsx("span",{className:"text-yellow-400",children:"â˜…"},m))})]})]}),e.jsxs("div",{className:"flex items-start gap-3 mb-4",children:[e.jsx("span",{className:"text-xl mt-1",children:"ðŸ“"}),e.jsxs("div",{children:[e.jsx("p",{className:"font-medium text-gray-900",children:x.customer.name}),e.jsx("p",{className:"text-sm text-gray-500",children:x.address}),x.customer.phone&&e.jsx("p",{className:"text-sm text-purple-600",children:x.customer.phone})]})]}),a==="active"&&e.jsxs("div",{className:"flex items-center justify-between pt-4 border-t",children:[e.jsxs("div",{className:"flex items-center gap-4 text-sm text-gray-500",children:[e.jsxs("span",{children:["ðŸ“¦ ",x.items," items"]}),e.jsxs("span",{children:["ðŸ“ ",x.distance," km"]}),e.jsxs("span",{children:["â±ï¸ ",x.estimatedTime]})]}),e.jsxs("div",{className:"flex gap-2",children:[e.jsx("button",{onClick:p=>{p.stopPropagation()},className:"px-4 py-2 bg-gray-100 rounded-lg hover:bg-gray-200",children:"ðŸ“ž Call"}),e.jsx("button",{onClick:p=>{p.stopPropagation()},className:"px-4 py-2 bg-purple-600 text-white rounded-lg hover:bg-purple-700",children:"ðŸ—ºï¸ Navigate"})]})]}),a==="completed"&&e.jsx("div",{className:"flex items-center justify-between pt-4 border-t text-sm text-gray-500",children:e.jsxs("span",{children:["Completed ",new Date(x.completedAt).toLocaleString("en-GB")]})})]},x.id))})]})]})}function Xj(){const{deliveryId:t}=In(),s=Zt(),[r,a]=J.useState(null),[n,o]=J.useState(!0);J.useEffect(()=>{l()},[t]);const l=async()=>{try{setTimeout(()=>{a({id:t,orderNumber:"AFM-2024-001",status:"picking-up",customer:{name:"Sarah Johnson",phone:"+44 7700 900001",address:"42 High Street, London SW1A 1AA",instructions:"Ring doorbell twice. Leave at door if no answer."},vendor:{name:"Fresh Valley Farms",phone:"+44 7700 800001",address:"123 Market Lane, London EC1A 1BB"},items:[{name:"Organic Tomatoes",quantity:2,unit:"kg"},{name:"Fresh Spinach",quantity:1,unit:"bunch"},{name:"Free Range Eggs",quantity:1,unit:"dozen"},{name:"Whole Milk",quantity:2,unit:"litres"},{name:"Sourdough Bread",quantity:1,unit:"loaf"}],earnings:4.5,distance:2.3,estimatedTime:"15 min",createdAt:new Date().toISOString(),timeline:[{status:"assigned",time:"10:30 AM",description:"Order assigned to you"},{status:"picking-up",time:"10:35 AM",description:"On your way to pickup"}]}),o(!1)},500)}catch(b){console.error("Error fetching delivery:",b),o(!1)}},c=async b=>{try{a(w=>({...w,status:b})),b==="delivered"&&(alert("Delivery completed! Great job!"),s("/rider/dashboard"))}catch(w){console.error("Error updating status:",w)}},d=()=>{var b;window.open(`tel:${(b=r==null?void 0:r.customer)==null?void 0:b.phone}`)},h=()=>{var b;window.open(`tel:${(b=r==null?void 0:r.vendor)==null?void 0:b.phone}`)},u=b=>{const w=encodeURIComponent(b);window.open(`https://www.google.com/maps/dir/?api=1&destination=${w}`,"_blank")},x=[{key:"assigned",label:"Assigned",icon:"ðŸ“‹"},{key:"picking-up",label:"Picking Up",icon:"ðŸª"},{key:"picked-up",label:"Picked Up",icon:"ðŸ“¦"},{key:"in-transit",label:"In Transit",icon:"ðŸšš"},{key:"delivered",label:"Delivered",icon:"âœ“"}],p=()=>{const b=x.findIndex(w=>w.key===(r==null?void 0:r.status));return b>=0?b:0},m=()=>{switch(r==null?void 0:r.status){case"assigned":case"picking-up":return{label:"Confirm Pickup",status:"picked-up",color:"bg-blue-600 hover:bg-blue-700"};case"picked-up":return{label:"Start Delivery",status:"in-transit",color:"bg-purple-600 hover:bg-purple-700"};case"in-transit":return{label:"Mark as Delivered",status:"delivered",color:"bg-green-600 hover:bg-green-700"};default:return null}};if(n)return e.jsx("div",{className:"min-h-screen bg-gray-50 flex items-center justify-center",children:e.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-purple-600"})});if(!r)return e.jsx("div",{className:"min-h-screen bg-gray-50 flex items-center justify-center",children:e.jsxs("div",{className:"text-center",children:[e.jsx("span",{className:"text-6xl",children:"ðŸ”"}),e.jsx("h2",{className:"text-xl font-bold mt-4",children:"Delivery not found"}),e.jsx("button",{onClick:()=>s("/rider/deliveries"),className:"mt-4 px-6 py-3 bg-purple-600 text-white rounded-xl",children:"Back to Deliveries"})]})});const y=p(),g=m();return e.jsxs("div",{className:"min-h-screen bg-gray-50",children:[e.jsx("div",{className:"bg-gradient-to-r from-purple-600 to-purple-800 text-white py-6",children:e.jsxs("div",{className:"max-w-2xl mx-auto px-4",children:[e.jsx("button",{onClick:()=>s("/rider/deliveries"),className:"text-purple-200 hover:text-white mb-2",children:"â† Back to Deliveries"}),e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{children:[e.jsx("h1",{className:"text-2xl font-bold",children:r.orderNumber}),e.jsxs("p",{className:"text-purple-200",children:[r.items.length," items â€¢ ",r.distance," km"]})]}),e.jsxs("span",{className:"text-2xl font-bold",children:["Â£",r.earnings.toFixed(2)]})]})]})}),e.jsxs("div",{className:"max-w-2xl mx-auto px-4 py-6",children:[e.jsxs("div",{className:"bg-white rounded-xl shadow-lg p-6 mb-6",children:[e.jsx("h2",{className:"font-bold text-gray-900 mb-4",children:"Delivery Progress"}),e.jsxs("div",{className:"relative",children:[e.jsx("div",{className:"absolute top-6 left-0 right-0 h-1 bg-gray-200",children:e.jsx("div",{className:"h-full bg-purple-600 transition-all",style:{width:`${y/(x.length-1)*100}%`}})}),e.jsx("div",{className:"relative flex justify-between",children:x.map((b,w)=>e.jsxs("div",{className:"flex flex-col items-center",children:[e.jsx("div",{className:`w-12 h-12 rounded-full flex items-center justify-center text-xl z-10 ${w<=y?"bg-purple-600 text-white":"bg-gray-200 text-gray-400"}`,children:b.icon}),e.jsx("p",{className:`mt-2 text-xs font-medium text-center ${w<=y?"text-purple-600":"text-gray-400"}`,children:b.label})]},b.key))})]})]}),e.jsxs("div",{className:"bg-white rounded-xl shadow-lg p-6 mb-6",children:[e.jsxs("div",{className:"flex items-center justify-between mb-4",children:[e.jsx("h2",{className:"font-bold text-gray-900",children:"ðŸ“ Pickup"}),["assigned","picking-up"].includes(r.status)&&e.jsx("span",{className:"px-3 py-1 bg-blue-100 text-blue-800 rounded-full text-sm font-semibold",children:"Current Stop"})]}),e.jsxs("div",{className:"mb-3",children:[e.jsx("p",{className:"font-semibold text-gray-900",children:r.vendor.name}),e.jsx("p",{className:"text-gray-500",children:r.vendor.address})]}),e.jsxs("div",{className:"flex gap-2",children:[e.jsx("button",{onClick:()=>u(r.vendor.address),className:"flex-1 py-3 bg-purple-600 text-white rounded-lg font-semibold hover:bg-purple-700",children:"ðŸ—ºï¸ Navigate"}),e.jsx("button",{onClick:h,className:"px-4 py-3 bg-gray-100 rounded-lg hover:bg-gray-200",children:"ðŸ“ž"})]})]}),e.jsxs("div",{className:"bg-white rounded-xl shadow-lg p-6 mb-6",children:[e.jsxs("div",{className:"flex items-center justify-between mb-4",children:[e.jsx("h2",{className:"font-bold text-gray-900",children:"ðŸ  Delivery"}),["picked-up","in-transit"].includes(r.status)&&e.jsx("span",{className:"px-3 py-1 bg-purple-100 text-purple-800 rounded-full text-sm font-semibold",children:"Current Stop"})]}),e.jsxs("div",{className:"mb-3",children:[e.jsx("p",{className:"font-semibold text-gray-900",children:r.customer.name}),e.jsx("p",{className:"text-gray-500",children:r.customer.address})]}),r.customer.instructions&&e.jsxs("div",{className:"bg-yellow-50 border border-yellow-200 rounded-lg p-3 mb-3",children:[e.jsx("p",{className:"text-sm font-medium text-yellow-800",children:"ðŸ“ Instructions:"}),e.jsx("p",{className:"text-sm text-yellow-700",children:r.customer.instructions})]}),e.jsxs("div",{className:"flex gap-2",children:[e.jsx("button",{onClick:()=>u(r.customer.address),className:"flex-1 py-3 bg-purple-600 text-white rounded-lg font-semibold hover:bg-purple-700",children:"ðŸ—ºï¸ Navigate"}),e.jsx("button",{onClick:d,className:"px-4 py-3 bg-gray-100 rounded-lg hover:bg-gray-200",children:"ðŸ“ž"})]})]}),e.jsxs("div",{className:"bg-white rounded-xl shadow-lg p-6 mb-6",children:[e.jsxs("h2",{className:"font-bold text-gray-900 mb-4",children:["ðŸ“¦ Order Items (",r.items.length,")"]}),e.jsx("div",{className:"space-y-3",children:r.items.map((b,w)=>e.jsxs("div",{className:"flex items-center justify-between py-2 border-b last:border-0",children:[e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsx("div",{className:"w-8 h-8 bg-gray-100 rounded flex items-center justify-center text-sm font-semibold",children:b.quantity}),e.jsx("span",{className:"text-gray-900",children:b.name})]}),e.jsx("span",{className:"text-sm text-gray-500",children:b.unit})]},w))})]}),g&&e.jsx("button",{onClick:()=>c(g.status),className:`w-full py-4 rounded-xl text-white font-bold text-lg ${g.color}`,children:g.label}),e.jsx("button",{className:"w-full mt-4 py-3 border-2 border-red-500 text-red-500 rounded-xl font-semibold hover:bg-red-50",children:"âš ï¸ Report an Issue"})]})]})}function Jj(){const t=Zt(),[s,r]=J.useState("week"),[a,n]=J.useState({total:0,deliveries:0,tips:0,bonus:0}),[o,l]=J.useState([]),[c,d]=J.useState(!0);J.useEffect(()=>{h()},[s]);const h=async()=>{try{d(!0),setTimeout(()=>{const p={week:{total:336.5,deliveries:295,tips:31.5,bonus:10,count:42},month:{total:1420.75,deliveries:1250,tips:120.75,bonus:50,count:178},year:{total:15890,deliveries:14e3,tips:1390,bonus:500,count:1987}}[s];n({total:p.total,deliveries:p.deliveries,tips:p.tips,bonus:p.bonus,count:p.count}),l([{date:"2024-01-20",amount:64.5,deliveries:8,status:"paid"},{date:"2024-01-19",amount:52,deliveries:7,status:"paid"},{date:"2024-01-18",amount:78.25,deliveries:10,status:"paid"},{date:"2024-01-17",amount:45,deliveries:5,status:"paid"},{date:"2024-01-16",amount:58.75,deliveries:7,status:"paid"},{date:"2024-01-15",amount:38,deliveries:5,status:"pending"}]),d(!1)},500)}catch(x){console.error("Error fetching earnings:",x),d(!1)}},u=[{id:"week",label:"This Week"},{id:"month",label:"This Month"},{id:"year",label:"This Year"}];return e.jsxs("div",{className:"min-h-screen bg-gray-50",children:[e.jsx("div",{className:"bg-gradient-to-r from-purple-600 to-purple-800 text-white py-6",children:e.jsxs("div",{className:"max-w-4xl mx-auto px-4",children:[e.jsx("button",{onClick:()=>t("/rider/dashboard"),className:"text-purple-200 hover:text-white mb-2",children:"â† Back to Dashboard"}),e.jsx("h1",{className:"text-2xl font-bold",children:"My Earnings"})]})}),e.jsxs("div",{className:"max-w-4xl mx-auto px-4 py-6",children:[e.jsx("div",{className:"flex gap-2 mb-6",children:u.map(x=>e.jsx("button",{onClick:()=>r(x.id),className:`flex-1 py-3 rounded-xl font-semibold transition-all ${s===x.id?"bg-purple-600 text-white":"bg-white text-gray-700 hover:bg-gray-100"}`,children:x.label},x.id))}),c?e.jsx("div",{className:"space-y-4",children:e.jsx("div",{className:"bg-white rounded-xl p-6 animate-pulse",children:e.jsx("div",{className:"h-12 bg-gray-200 rounded w-1/2 mx-auto"})})}):e.jsxs(e.Fragment,{children:[e.jsxs("div",{className:"bg-gradient-to-r from-green-500 to-green-600 rounded-xl p-6 text-white text-center mb-6",children:[e.jsx("p",{className:"text-green-100 mb-1",children:"Total Earnings"}),e.jsxs("p",{className:"text-5xl font-bold",children:["Â£",a.total.toFixed(2)]}),e.jsxs("p",{className:"text-green-100 mt-2",children:[a.count," deliveries completed"]})]}),e.jsxs("div",{className:"grid grid-cols-3 gap-4 mb-6",children:[e.jsxs("div",{className:"bg-white rounded-xl shadow-lg p-4 text-center",children:[e.jsx("span",{className:"text-2xl",children:"ðŸšš"}),e.jsxs("p",{className:"text-2xl font-bold text-gray-900 mt-2",children:["Â£",a.deliveries.toFixed(2)]}),e.jsx("p",{className:"text-sm text-gray-500",children:"Delivery Fees"})]}),e.jsxs("div",{className:"bg-white rounded-xl shadow-lg p-4 text-center",children:[e.jsx("span",{className:"text-2xl",children:"ðŸ’"}),e.jsxs("p",{className:"text-2xl font-bold text-gray-900 mt-2",children:["Â£",a.tips.toFixed(2)]}),e.jsx("p",{className:"text-sm text-gray-500",children:"Tips"})]}),e.jsxs("div",{className:"bg-white rounded-xl shadow-lg p-4 text-center",children:[e.jsx("span",{className:"text-2xl",children:"ðŸŽ"}),e.jsxs("p",{className:"text-2xl font-bold text-gray-900 mt-2",children:["Â£",a.bonus.toFixed(2)]}),e.jsx("p",{className:"text-sm text-gray-500",children:"Bonuses"})]})]}),e.jsxs("div",{className:"bg-white rounded-xl shadow-lg p-6 mb-6",children:[e.jsxs("div",{className:"flex items-center justify-between mb-4",children:[e.jsx("h2",{className:"text-lg font-bold text-gray-900",children:"Next Payout"}),e.jsx("span",{className:"text-sm text-gray-500",children:"Scheduled for Friday"})]}),e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{children:[e.jsx("p",{className:"text-3xl font-bold text-green-600",children:"Â£64.50"}),e.jsx("p",{className:"text-sm text-gray-500",children:"8 deliveries since last payout"})]}),e.jsx("button",{className:"px-6 py-3 bg-purple-600 text-white rounded-lg font-semibold hover:bg-purple-700",children:"Request Early Payout"})]})]}),e.jsxs("div",{className:"bg-white rounded-xl shadow-lg overflow-hidden",children:[e.jsx("div",{className:"p-6 border-b",children:e.jsx("h2",{className:"text-lg font-bold text-gray-900",children:"Payout History"})}),e.jsx("div",{className:"divide-y",children:o.map((x,p)=>e.jsxs("div",{className:"p-4 flex items-center justify-between hover:bg-gray-50",children:[e.jsxs("div",{children:[e.jsx("p",{className:"font-semibold text-gray-900",children:new Date(x.date).toLocaleDateString("en-GB",{weekday:"short",day:"numeric",month:"short"})}),e.jsxs("p",{className:"text-sm text-gray-500",children:[x.deliveries," deliveries"]})]}),e.jsxs("div",{className:"text-right",children:[e.jsxs("p",{className:"font-bold text-gray-900",children:["Â£",x.amount.toFixed(2)]}),e.jsx("span",{className:`text-xs px-2 py-1 rounded-full ${x.status==="paid"?"bg-green-100 text-green-700":"bg-yellow-100 text-yellow-700"}`,children:x.status==="paid"?"Paid":"Pending"})]})]},p))})]}),e.jsxs("div",{className:"bg-white rounded-xl shadow-lg p-6 mt-6",children:[e.jsx("h2",{className:"text-lg font-bold text-gray-900 mb-4",children:"Payment Method"}),e.jsxs("div",{className:"flex items-center justify-between p-4 bg-gray-50 rounded-lg",children:[e.jsxs("div",{className:"flex items-center gap-4",children:[e.jsx("span",{className:"text-3xl",children:"ðŸ¦"}),e.jsxs("div",{children:[e.jsx("p",{className:"font-semibold",children:"Bank Account"}),e.jsx("p",{className:"text-sm text-gray-500",children:"****1234 - Barclays"})]})]}),e.jsx("button",{className:"text-purple-600 hover:underline font-semibold",children:"Update"})]})]})]})]})]})}function Qj(){const t=Zt(),{user:s,logout:r}=Ua(),[a,n]=J.useState("profile"),[o,l]=J.useState(!1),[c,d]=J.useState({type:"",text:""}),[h,u]=J.useState({name:(s==null?void 0:s.name)||"",email:(s==null?void 0:s.email)||"",phone:(s==null?void 0:s.phone)||"",vehicleType:"bicycle",licensePlate:""}),[x,p]=J.useState({totalDeliveries:1987,rating:4.8,completionRate:98,memberSince:"2023-06-15"}),m=async b=>{b.preventDefault(),l(!0);try{await new Promise(w=>setTimeout(w,1e3)),d({type:"success",text:"Profile updated successfully!"})}catch{d({type:"error",text:"Failed to update profile"})}finally{l(!1),setTimeout(()=>d({type:"",text:""}),3e3)}},y=[{id:"profile",label:"Profile",icon:"ðŸ‘¤"},{id:"vehicle",label:"Vehicle",icon:"ðŸš²"},{id:"documents",label:"Documents",icon:"ðŸ“„"},{id:"settings",label:"Settings",icon:"âš™ï¸"}],g=[{id:"bicycle",label:"Bicycle",icon:"ðŸš²"},{id:"motorbike",label:"Motorbike",icon:"ðŸï¸"},{id:"car",label:"Car",icon:"ðŸš—"},{id:"van",label:"Van",icon:"ðŸš"}];return e.jsxs("div",{className:"min-h-screen bg-gray-50",children:[e.jsx("div",{className:"bg-gradient-to-r from-purple-600 to-purple-800 text-white",children:e.jsxs("div",{className:"max-w-4xl mx-auto px-4 py-6",children:[e.jsx("button",{onClick:()=>t("/rider/dashboard"),className:"text-purple-200 hover:text-white mb-4",children:"â† Back to Dashboard"}),e.jsxs("div",{className:"flex items-center gap-6",children:[e.jsx("div",{className:"w-24 h-24 bg-white rounded-full flex items-center justify-center text-4xl",children:"ðŸ‘¤"}),e.jsxs("div",{children:[e.jsx("h1",{className:"text-2xl font-bold",children:h.name}),e.jsxs("div",{className:"flex items-center gap-4 mt-2",children:[e.jsxs("div",{className:"flex items-center gap-1",children:[e.jsx("span",{className:"text-yellow-400",children:"â˜…"}),e.jsx("span",{children:x.rating})]}),e.jsx("span",{className:"text-purple-200",children:"â€¢"}),e.jsxs("span",{children:[x.totalDeliveries," deliveries"]}),e.jsx("span",{className:"text-purple-200",children:"â€¢"}),e.jsxs("span",{children:[x.completionRate,"% completion"]})]}),e.jsxs("p",{className:"text-purple-200 text-sm mt-1",children:["Member since ",new Date(x.memberSince).toLocaleDateString("en-GB",{month:"long",year:"numeric"})]})]})]})]})}),e.jsxs("div",{className:"max-w-4xl mx-auto px-4 py-6",children:[c.text&&e.jsx("div",{className:`mb-6 p-4 rounded-lg ${c.type==="success"?"bg-green-100 text-green-800":"bg-red-100 text-red-800"}`,children:c.text}),e.jsxs("div",{className:"bg-white rounded-xl shadow-lg overflow-hidden",children:[e.jsx("div",{className:"flex border-b overflow-x-auto",children:y.map(b=>e.jsxs("button",{onClick:()=>n(b.id),className:`flex items-center gap-2 px-6 py-4 font-medium whitespace-nowrap transition-colors ${a===b.id?"text-purple-600 border-b-2 border-purple-600 bg-purple-50":"text-gray-500 hover:text-gray-700"}`,children:[e.jsx("span",{children:b.icon}),b.label]},b.id))}),e.jsxs("div",{className:"p-6",children:[a==="profile"&&e.jsxs("form",{onSubmit:m,className:"space-y-6",children:[e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Full Name"}),e.jsx("input",{type:"text",value:h.name,onChange:b=>u({...h,name:b.target.value}),className:"w-full px-4 py-3 border rounded-lg focus:ring-2 focus:ring-purple-500"})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Email"}),e.jsx("input",{type:"email",value:h.email,disabled:!0,className:"w-full px-4 py-3 border rounded-lg bg-gray-50 text-gray-500"})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Phone Number"}),e.jsx("input",{type:"tel",value:h.phone,onChange:b=>u({...h,phone:b.target.value}),className:"w-full px-4 py-3 border rounded-lg focus:ring-2 focus:ring-purple-500"})]}),e.jsx("button",{type:"submit",disabled:o,className:"px-6 py-3 bg-purple-600 text-white rounded-lg font-semibold hover:bg-purple-700 disabled:opacity-50",children:o?"Saving...":"Save Changes"})]}),a==="vehicle"&&e.jsxs("div",{className:"space-y-6",children:[e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Vehicle Type"}),e.jsx("div",{className:"grid grid-cols-2 md:grid-cols-4 gap-4",children:g.map(b=>e.jsxs("button",{onClick:()=>u({...h,vehicleType:b.id}),className:`p-4 rounded-xl border-2 text-center transition-all ${h.vehicleType===b.id?"border-purple-600 bg-purple-50":"border-gray-200 hover:border-gray-300"}`,children:[e.jsx("span",{className:"text-3xl",children:b.icon}),e.jsx("p",{className:"font-medium mt-2",children:b.label})]},b.id))})]}),["motorbike","car","van"].includes(h.vehicleType)&&e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"License Plate"}),e.jsx("input",{type:"text",value:h.licensePlate,onChange:b=>u({...h,licensePlate:b.target.value.toUpperCase()}),placeholder:"AB12 CDE",className:"w-full px-4 py-3 border rounded-lg focus:ring-2 focus:ring-purple-500"})]}),e.jsx("button",{className:"px-6 py-3 bg-purple-600 text-white rounded-lg font-semibold hover:bg-purple-700",children:"Update Vehicle"})]}),a==="documents"&&e.jsxs("div",{className:"space-y-4",children:[e.jsxs("div",{className:"p-4 border rounded-lg flex items-center justify-between",children:[e.jsxs("div",{className:"flex items-center gap-4",children:[e.jsx("span",{className:"text-2xl",children:"ðŸªª"}),e.jsxs("div",{children:[e.jsx("p",{className:"font-semibold",children:"ID Verification"}),e.jsx("p",{className:"text-sm text-green-600",children:"Verified"})]})]}),e.jsx("span",{className:"text-green-600",children:"âœ“"})]}),e.jsxs("div",{className:"p-4 border rounded-lg flex items-center justify-between",children:[e.jsxs("div",{className:"flex items-center gap-4",children:[e.jsx("span",{className:"text-2xl",children:"ðŸ“„"}),e.jsxs("div",{children:[e.jsx("p",{className:"font-semibold",children:"Right to Work"}),e.jsx("p",{className:"text-sm text-green-600",children:"Verified"})]})]}),e.jsx("span",{className:"text-green-600",children:"âœ“"})]}),e.jsxs("div",{className:"p-4 border rounded-lg flex items-center justify-between",children:[e.jsxs("div",{className:"flex items-center gap-4",children:[e.jsx("span",{className:"text-2xl",children:"ðŸš—"}),e.jsxs("div",{children:[e.jsx("p",{className:"font-semibold",children:"Driver's License"}),e.jsx("p",{className:"text-sm text-gray-500",children:"Not required for bicycle"})]})]}),e.jsx("span",{className:"text-gray-400",children:"â€”"})]}),e.jsxs("div",{className:"p-4 border rounded-lg flex items-center justify-between",children:[e.jsxs("div",{className:"flex items-center gap-4",children:[e.jsx("span",{className:"text-2xl",children:"ðŸ›¡ï¸"}),e.jsxs("div",{children:[e.jsx("p",{className:"font-semibold",children:"Insurance"}),e.jsx("p",{className:"text-sm text-yellow-600",children:"Expires in 30 days"})]})]}),e.jsx("button",{className:"text-purple-600 hover:underline",children:"Update"})]})]}),a==="settings"&&e.jsxs("div",{className:"space-y-4",children:[e.jsxs("div",{className:"flex items-center justify-between p-4 bg-gray-50 rounded-lg",children:[e.jsxs("div",{children:[e.jsx("p",{className:"font-semibold",children:"Push Notifications"}),e.jsx("p",{className:"text-sm text-gray-500",children:"Get notified of new orders"})]}),e.jsx("input",{type:"checkbox",defaultChecked:!0,className:"w-5 h-5 text-purple-600 rounded"})]}),e.jsxs("div",{className:"flex items-center justify-between p-4 bg-gray-50 rounded-lg",children:[e.jsxs("div",{children:[e.jsx("p",{className:"font-semibold",children:"Sound Alerts"}),e.jsx("p",{className:"text-sm text-gray-500",children:"Play sound for new orders"})]}),e.jsx("input",{type:"checkbox",defaultChecked:!0,className:"w-5 h-5 text-purple-600 rounded"})]}),e.jsxs("div",{className:"flex items-center justify-between p-4 bg-gray-50 rounded-lg",children:[e.jsxs("div",{children:[e.jsx("p",{className:"font-semibold",children:"Auto-Accept Orders"}),e.jsx("p",{className:"text-sm text-gray-500",children:"Automatically accept nearby orders"})]}),e.jsx("input",{type:"checkbox",className:"w-5 h-5 text-purple-600 rounded"})]}),e.jsx("div",{className:"pt-6 border-t",children:e.jsx("button",{onClick:r,className:"w-full py-3 bg-red-100 text-red-600 rounded-lg font-semibold hover:bg-red-200",children:"Sign Out"})})]})]})]})]})]})}function Zj(){var b;const t=Zt(),{user:s}=Ua(),[r,a]=J.useState({todayOrders:0,pendingOrders:0,completedOrders:0,accuracy:0,avgPickTime:0}),[n,o]=J.useState([]),[l,c]=J.useState(null),[d,h]=J.useState(!0);J.useEffect(()=>{u()},[]);const u=async()=>{try{setTimeout(()=>{a({todayOrders:24,pendingOrders:5,completedOrders:19,accuracy:99.2,avgPickTime:8.5}),c({id:"ORD001",orderNumber:"AFM-2024-001",customer:"Sarah Johnson",items:[{id:1,name:"Organic Tomatoes",quantity:2,unit:"kg",location:"A-3-2",picked:!0},{id:2,name:"Fresh Spinach",quantity:1,unit:"bunch",location:"A-5-1",picked:!0},{id:3,name:"Free Range Eggs",quantity:1,unit:"dozen",location:"B-2-4",picked:!1},{id:4,name:"Whole Milk",quantity:2,unit:"litres",location:"C-1-1",picked:!1}],priority:"high",timeRemaining:12}),o([{id:"ORD002",orderNumber:"AFM-2024-002",items:6,priority:"normal",eta:"15 min"},{id:"ORD003",orderNumber:"AFM-2024-003",items:3,priority:"high",eta:"10 min"},{id:"ORD004",orderNumber:"AFM-2024-004",items:8,priority:"normal",eta:"20 min"},{id:"ORD005",orderNumber:"AFM-2024-005",items:4,priority:"low",eta:"30 min"}]),h(!1)},500)}catch(w){console.error("Error fetching dashboard:",w),h(!1)}},x=w=>{l&&c(N=>({...N,items:N.items.map(j=>j.id===w?{...j,picked:!j.picked}:j)}))},p=()=>{if(alert("Order completed! Starting next order..."),n.length>0){const w=n[0];t(`/picker/order/${w.id}`)}else c(null)},m={high:"bg-red-100 text-red-700",normal:"bg-blue-100 text-blue-700",low:"bg-gray-100 text-gray-700"};if(d)return e.jsx("div",{className:"min-h-screen bg-gray-50 flex items-center justify-center",children:e.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-orange-500"})});const y=(l==null?void 0:l.items.filter(w=>w.picked).length)||0,g=(l==null?void 0:l.items.length)||0;return e.jsxs("div",{className:"min-h-screen bg-gray-50",children:[e.jsx("div",{className:"bg-gradient-to-r from-orange-500 to-orange-600 text-white",children:e.jsx("div",{className:"max-w-7xl mx-auto px-4 py-6",children:e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{children:[e.jsxs("h1",{className:"text-2xl font-bold",children:["Hello, ",((b=s==null?void 0:s.name)==null?void 0:b.split(" ")[0])||"Picker","!"]}),e.jsxs("p",{className:"text-orange-100",children:[r.pendingOrders," orders waiting to be picked"]})]}),e.jsxs("div",{className:"text-right",children:[e.jsxs("p",{className:"text-3xl font-bold",children:[r.accuracy,"%"]}),e.jsx("p",{className:"text-orange-100 text-sm",children:"Accuracy Rate"})]})]})})}),e.jsxs("div",{className:"max-w-7xl mx-auto px-4 py-6",children:[e.jsxs("div",{className:"grid grid-cols-2 md:grid-cols-4 gap-4 mb-8",children:[e.jsxs("div",{className:"bg-white rounded-xl shadow-lg p-4",children:[e.jsxs("div",{className:"flex items-center justify-between mb-2",children:[e.jsx("span",{className:"text-gray-500 text-sm",children:"Today's Orders"}),e.jsx("span",{className:"text-2xl",children:"ðŸ“¦"})]}),e.jsx("p",{className:"text-3xl font-bold text-gray-900",children:r.todayOrders})]}),e.jsxs("div",{className:"bg-white rounded-xl shadow-lg p-4",children:[e.jsxs("div",{className:"flex items-center justify-between mb-2",children:[e.jsx("span",{className:"text-gray-500 text-sm",children:"Pending"}),e.jsx("span",{className:"text-2xl",children:"â³"})]}),e.jsx("p",{className:"text-3xl font-bold text-orange-500",children:r.pendingOrders})]}),e.jsxs("div",{className:"bg-white rounded-xl shadow-lg p-4",children:[e.jsxs("div",{className:"flex items-center justify-between mb-2",children:[e.jsx("span",{className:"text-gray-500 text-sm",children:"Completed"}),e.jsx("span",{className:"text-2xl",children:"âœ“"})]}),e.jsx("p",{className:"text-3xl font-bold text-green-600",children:r.completedOrders})]}),e.jsxs("div",{className:"bg-white rounded-xl shadow-lg p-4",children:[e.jsxs("div",{className:"flex items-center justify-between mb-2",children:[e.jsx("span",{className:"text-gray-500 text-sm",children:"Avg Pick Time"}),e.jsx("span",{className:"text-2xl",children:"â±ï¸"})]}),e.jsxs("p",{className:"text-3xl font-bold text-blue-600",children:[r.avgPickTime,"m"]})]})]}),e.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-3 gap-6",children:[e.jsx("div",{className:"lg:col-span-2",children:l?e.jsxs("div",{className:"bg-white rounded-xl shadow-lg overflow-hidden",children:[e.jsxs("div",{className:"p-6 bg-gradient-to-r from-orange-500 to-orange-600 text-white",children:[e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{children:[e.jsx("h2",{className:"text-xl font-bold",children:"Current Order"}),e.jsx("p",{className:"text-orange-100",children:l.orderNumber})]}),e.jsxs("div",{className:"text-right",children:[e.jsx("span",{className:`px-3 py-1 rounded-full text-xs font-semibold ${l.priority==="high"?"bg-red-500":"bg-orange-400"}`,children:l.priority.toUpperCase()}),e.jsxs("p",{className:"text-orange-100 mt-1",children:[l.timeRemaining," min left"]})]})]}),e.jsxs("div",{className:"mt-4",children:[e.jsxs("div",{className:"flex justify-between text-sm mb-1",children:[e.jsx("span",{children:"Progress"}),e.jsxs("span",{children:[y,"/",g," items"]})]}),e.jsx("div",{className:"h-3 bg-orange-400 rounded-full overflow-hidden",children:e.jsx("div",{className:"h-full bg-white transition-all",style:{width:`${y/g*100}%`}})})]})]}),e.jsxs("div",{className:"p-6",children:[e.jsx("h3",{className:"font-bold text-gray-900 mb-4",children:"Items to Pick"}),e.jsx("div",{className:"space-y-3",children:l.items.map(w=>e.jsxs("div",{className:`flex items-center gap-4 p-4 rounded-lg border-2 cursor-pointer transition-all ${w.picked?"bg-green-50 border-green-300":"bg-white border-gray-200 hover:border-orange-300"}`,onClick:()=>x(w.id),children:[e.jsx("div",{className:`w-8 h-8 rounded-full flex items-center justify-center ${w.picked?"bg-green-500 text-white":"bg-gray-200 text-gray-500"}`,children:w.picked?"âœ“":"â—‹"}),e.jsxs("div",{className:"flex-1",children:[e.jsx("p",{className:`font-semibold ${w.picked?"line-through text-gray-400":"text-gray-900"}`,children:w.name}),e.jsxs("p",{className:"text-sm text-gray-500",children:[w.quantity," ",w.unit]})]}),e.jsx("div",{className:"text-right",children:e.jsx("span",{className:"px-3 py-1 bg-blue-100 text-blue-700 rounded-full text-sm font-mono",children:w.location})})]},w.id))}),y===g&&e.jsx("button",{onClick:p,className:"w-full mt-6 py-4 bg-green-600 text-white rounded-xl font-bold text-lg hover:bg-green-700",children:"âœ“ Complete & Ready for Delivery"})]})]}):e.jsxs("div",{className:"bg-white rounded-xl shadow-lg p-12 text-center",children:[e.jsx("span",{className:"text-8xl",children:"ðŸ“¦"}),e.jsx("h2",{className:"text-2xl font-bold text-gray-900 mt-6",children:"No active order"}),e.jsx("p",{className:"text-gray-500 mt-2",children:"Pick an order from the queue to start"})]})}),e.jsxs("div",{className:"lg:col-span-1",children:[e.jsxs("div",{className:"bg-white rounded-xl shadow-lg overflow-hidden",children:[e.jsx("div",{className:"p-4 border-b",children:e.jsxs("h2",{className:"text-lg font-bold text-gray-900",children:["Order Queue (",n.length,")"]})}),e.jsx("div",{className:"divide-y max-h-96 overflow-y-auto",children:n.map((w,N)=>e.jsxs("div",{className:"p-4 hover:bg-gray-50 cursor-pointer",onClick:()=>t(`/picker/order/${w.id}`),children:[e.jsxs("div",{className:"flex items-center justify-between mb-2",children:[e.jsx("span",{className:"font-semibold text-gray-900",children:w.orderNumber}),e.jsx("span",{className:`px-2 py-1 rounded-full text-xs font-semibold ${m[w.priority]}`,children:w.priority})]}),e.jsxs("div",{className:"flex items-center justify-between text-sm text-gray-500",children:[e.jsxs("span",{children:["ðŸ“¦ ",w.items," items"]}),e.jsxs("span",{children:["â±ï¸ ",w.eta]})]})]},w.id))}),n.length===0&&e.jsxs("div",{className:"p-8 text-center text-gray-500",children:[e.jsx("span",{className:"text-4xl",children:"âœ“"}),e.jsx("p",{className:"mt-2",children:"All caught up!"})]})]}),e.jsxs("div",{className:"mt-6 space-y-3",children:[e.jsxs("button",{onClick:()=>t("/picker/performance"),className:"w-full bg-white rounded-xl shadow-lg p-4 text-left hover:shadow-xl transition-shadow flex items-center gap-3",children:[e.jsx("span",{className:"text-2xl",children:"ðŸ“Š"}),e.jsxs("div",{children:[e.jsx("p",{className:"font-semibold text-gray-900",children:"View Performance"}),e.jsx("p",{className:"text-sm text-gray-500",children:"See your stats and metrics"})]})]}),e.jsxs("button",{onClick:()=>t("/picker/history"),className:"w-full bg-white rounded-xl shadow-lg p-4 text-left hover:shadow-xl transition-shadow flex items-center gap-3",children:[e.jsx("span",{className:"text-2xl",children:"ðŸ“‹"}),e.jsxs("div",{children:[e.jsx("p",{className:"font-semibold text-gray-900",children:"Order History"}),e.jsx("p",{className:"text-sm text-gray-500",children:"View completed orders"})]})]})]})]})]})]})]})}function e6(){const{orderId:t}=In(),s=Zt(),[r,a]=J.useState(null),[n,o]=J.useState(!0),[l,c]=J.useState(!1),[d,h]=J.useState(null);J.useEffect(()=>{u()},[t]);const u=async()=>{try{setTimeout(()=>{a({id:t,orderNumber:"AFM-2024-001",customer:"Sarah Johnson",vendor:"Fresh Valley Farms",priority:"high",createdAt:new Date().toISOString(),estimatedPickup:"10:45 AM",items:[{id:1,name:"Organic Tomatoes",quantity:2,unit:"kg",price:3.5,location:"A-3-2",picked:!1,image:"https://images.unsplash.com/photo-1546094096-0df4bcaaa337?w=100"},{id:2,name:"Fresh Spinach",quantity:1,unit:"bunch",price:1.99,location:"A-5-1",picked:!1,image:"https://images.unsplash.com/photo-1576045057995-568f588f82fb?w=100"},{id:3,name:"Free Range Eggs",quantity:1,unit:"dozen",price:4.5,location:"B-2-4",picked:!1,image:"https://images.unsplash.com/photo-1582722872445-44dc5f7e3c8f?w=100"},{id:4,name:"Whole Milk",quantity:2,unit:"litres",price:2.2,location:"C-1-1",picked:!1,image:"https://images.unsplash.com/photo-1563636619-e9143da7973b?w=100"},{id:5,name:"Sourdough Bread",quantity:1,unit:"loaf",price:3,location:"D-2-3",picked:!1,image:"https://images.unsplash.com/photo-1509440159596-0249088772ff?w=100"}],specialInstructions:"Please select the ripest tomatoes. Customer prefers whole milk, not skimmed."}),o(!1)},500)}catch(w){console.error("Error fetching order:",w),o(!1)}},x=w=>{a(N=>({...N,items:N.items.map(j=>j.id===w?{...j,picked:!j.picked}:j)}))},p=(w,N)=>{a(j=>({...j,items:j.items.map(k=>k.id===w.id?{...k,issue:N,picked:!0}:k)})),c(!1),h(null)},m=()=>{if(!r.items.every(N=>N.picked)){alert("Please pick or report issues for all items before completing");return}alert("Order completed and ready for delivery!"),s("/picker/dashboard")};if(n)return e.jsx("div",{className:"min-h-screen bg-gray-50 flex items-center justify-center",children:e.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-orange-500"})});if(!r)return e.jsx("div",{className:"min-h-screen bg-gray-50 flex items-center justify-center",children:e.jsxs("div",{className:"text-center",children:[e.jsx("span",{className:"text-6xl",children:"ðŸ”"}),e.jsx("h2",{className:"text-xl font-bold mt-4",children:"Order not found"}),e.jsx("button",{onClick:()=>s("/picker/dashboard"),className:"mt-4 px-6 py-3 bg-orange-500 text-white rounded-xl",children:"Back to Dashboard"})]})});const y=r.items.filter(w=>w.picked).length,g=r.items.length,b=y/g*100;return e.jsxs("div",{className:"min-h-screen bg-gray-50",children:[e.jsx("div",{className:"bg-gradient-to-r from-orange-500 to-orange-600 text-white sticky top-0 z-10",children:e.jsxs("div",{className:"max-w-2xl mx-auto px-4 py-4",children:[e.jsxs("div",{className:"flex items-center justify-between mb-3",children:[e.jsx("button",{onClick:()=>s("/picker/dashboard"),className:"text-orange-100 hover:text-white",children:"â† Back"}),e.jsxs("span",{className:`px-3 py-1 rounded-full text-xs font-semibold ${r.priority==="high"?"bg-red-500":"bg-orange-400"}`,children:[r.priority.toUpperCase()," PRIORITY"]})]}),e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{children:[e.jsx("h1",{className:"text-xl font-bold",children:r.orderNumber}),e.jsx("p",{className:"text-orange-100 text-sm",children:r.vendor})]}),e.jsxs("div",{className:"text-right",children:[e.jsxs("p",{className:"text-2xl font-bold",children:[y,"/",g]}),e.jsx("p",{className:"text-orange-100 text-sm",children:"items picked"})]})]}),e.jsx("div",{className:"mt-3 h-2 bg-orange-400 rounded-full overflow-hidden",children:e.jsx("div",{className:"h-full bg-white transition-all duration-300",style:{width:`${b}%`}})})]})}),e.jsxs("div",{className:"max-w-2xl mx-auto px-4 py-6",children:[r.specialInstructions&&e.jsx("div",{className:"bg-yellow-50 border border-yellow-200 rounded-xl p-4 mb-6",children:e.jsxs("div",{className:"flex items-start gap-3",children:[e.jsx("span",{className:"text-xl",children:"ðŸ“"}),e.jsxs("div",{children:[e.jsx("p",{className:"font-semibold text-yellow-800",children:"Special Instructions"}),e.jsx("p",{className:"text-sm text-yellow-700",children:r.specialInstructions})]})]})}),e.jsx("div",{className:"space-y-3",children:r.items.map((w,N)=>e.jsx("div",{className:`bg-white rounded-xl shadow-lg overflow-hidden transition-all ${w.picked?"opacity-75":""}`,children:e.jsxs("div",{className:"flex items-stretch",children:[e.jsx("div",{className:"w-24 h-24 flex-shrink-0",children:e.jsx("img",{src:w.image,alt:w.name,className:"w-full h-full object-cover"})}),e.jsxs("div",{className:"flex-1 p-4",children:[e.jsxs("div",{className:"flex items-start justify-between",children:[e.jsxs("div",{children:[e.jsx("h3",{className:`font-semibold ${w.picked?"line-through text-gray-400":"text-gray-900"}`,children:w.name}),e.jsxs("p",{className:"text-sm text-gray-500",children:[w.quantity," ",w.unit]})]}),e.jsxs("span",{className:"px-3 py-1 bg-blue-100 text-blue-700 rounded-full text-sm font-mono",children:["ðŸ“ ",w.location]})]}),w.issue&&e.jsxs("div",{className:"mt-2 px-2 py-1 bg-red-100 text-red-700 rounded text-xs",children:["âš ï¸ ",w.issue]})]}),e.jsxs("div",{className:"flex flex-col justify-center gap-2 p-2 border-l",children:[e.jsx("button",{onClick:()=>x(w.id),className:`w-12 h-12 rounded-lg flex items-center justify-center text-xl transition-all ${w.picked?"bg-green-500 text-white":"bg-gray-100 text-gray-400 hover:bg-green-100 hover:text-green-500"}`,children:w.picked?"âœ“":"â—‹"}),!w.picked&&e.jsx("button",{onClick:()=>{h(w),c(!0)},className:"w-12 h-12 rounded-lg bg-gray-100 text-gray-500 hover:bg-red-100 hover:text-red-500 flex items-center justify-center",children:"âš ï¸"})]})]})},w.id))}),e.jsx("div",{className:"mt-8 sticky bottom-4",children:e.jsx("button",{onClick:m,disabled:y<g,className:`w-full py-4 rounded-xl font-bold text-lg transition-all ${y===g?"bg-green-600 text-white hover:bg-green-700":"bg-gray-300 text-gray-500 cursor-not-allowed"}`,children:y===g?"âœ“ Complete Order":`Pick ${g-y} more items`})})]}),l&&d&&e.jsx("div",{className:"fixed inset-0 bg-black/50 flex items-center justify-center z-50 p-4",children:e.jsxs("div",{className:"bg-white rounded-2xl max-w-sm w-full p-6",children:[e.jsx("h2",{className:"text-xl font-bold text-gray-900 mb-2",children:"Report Issue"}),e.jsx("p",{className:"text-gray-500 mb-4",children:d.name}),e.jsxs("div",{className:"space-y-2",children:[e.jsxs("button",{onClick:()=>p(d,"Out of Stock"),className:"w-full p-4 text-left bg-gray-50 rounded-lg hover:bg-gray-100",children:[e.jsx("p",{className:"font-semibold",children:"Out of Stock"}),e.jsx("p",{className:"text-sm text-gray-500",children:"Item is not available"})]}),e.jsxs("button",{onClick:()=>p(d,"Quality Issue"),className:"w-full p-4 text-left bg-gray-50 rounded-lg hover:bg-gray-100",children:[e.jsx("p",{className:"font-semibold",children:"Quality Issue"}),e.jsx("p",{className:"text-sm text-gray-500",children:"Item doesn't meet quality standards"})]}),e.jsxs("button",{onClick:()=>p(d,"Wrong Item"),className:"w-full p-4 text-left bg-gray-50 rounded-lg hover:bg-gray-100",children:[e.jsx("p",{className:"font-semibold",children:"Wrong Item"}),e.jsx("p",{className:"text-sm text-gray-500",children:"Can't find the correct item"})]}),e.jsxs("button",{onClick:()=>p(d,"Partial Quantity"),className:"w-full p-4 text-left bg-gray-50 rounded-lg hover:bg-gray-100",children:[e.jsx("p",{className:"font-semibold",children:"Partial Quantity"}),e.jsx("p",{className:"text-sm text-gray-500",children:"Less stock than ordered"})]})]}),e.jsx("button",{onClick:()=>c(!1),className:"w-full mt-4 py-3 text-gray-500 hover:text-gray-700",children:"Cancel"})]})})]})}function t6(){const t=Zt(),[s,r]=J.useState("week"),[a,n]=J.useState(null),[o,l]=J.useState(!0);J.useEffect(()=>{c()},[s]);const c=async()=>{try{l(!0),setTimeout(()=>{n({week:{totalOrders:156,totalItems:842,accuracy:99.2,avgPickTime:8.5,issuesReported:7,onTimeRate:97,ranking:3,totalPickers:25},month:{totalOrders:624,totalItems:3368,accuracy:98.8,avgPickTime:9.1,issuesReported:32,onTimeRate:95,ranking:5,totalPickers:25}}[s]),l(!1)},500)}catch(u){console.error("Error fetching performance:",u),l(!1)}},d=[{id:"week",label:"This Week"},{id:"month",label:"This Month"}],h=u=>u>=99?"text-green-600":u>=97?"text-yellow-600":"text-red-600";return o?e.jsx("div",{className:"min-h-screen bg-gray-50 flex items-center justify-center",children:e.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-orange-500"})}):e.jsxs("div",{className:"min-h-screen bg-gray-50",children:[e.jsx("div",{className:"bg-gradient-to-r from-orange-500 to-orange-600 text-white py-6",children:e.jsxs("div",{className:"max-w-4xl mx-auto px-4",children:[e.jsx("button",{onClick:()=>t("/picker/dashboard"),className:"text-orange-100 hover:text-white mb-2",children:"â† Back to Dashboard"}),e.jsx("h1",{className:"text-2xl font-bold",children:"My Performance"})]})}),e.jsxs("div",{className:"max-w-4xl mx-auto px-4 py-6",children:[e.jsx("div",{className:"flex gap-2 mb-6",children:d.map(u=>e.jsx("button",{onClick:()=>r(u.id),className:`flex-1 py-3 rounded-xl font-semibold transition-all ${s===u.id?"bg-orange-500 text-white":"bg-white text-gray-700 hover:bg-gray-100"}`,children:u.label},u.id))}),e.jsxs("div",{className:"grid grid-cols-2 md:grid-cols-4 gap-4 mb-8",children:[e.jsxs("div",{className:"bg-white rounded-xl shadow-lg p-4 text-center",children:[e.jsx("span",{className:"text-3xl",children:"ðŸ“¦"}),e.jsx("p",{className:"text-3xl font-bold text-gray-900 mt-2",children:a.totalOrders}),e.jsx("p",{className:"text-sm text-gray-500",children:"Orders Picked"})]}),e.jsxs("div",{className:"bg-white rounded-xl shadow-lg p-4 text-center",children:[e.jsx("span",{className:"text-3xl",children:"ðŸ›’"}),e.jsx("p",{className:"text-3xl font-bold text-gray-900 mt-2",children:a.totalItems}),e.jsx("p",{className:"text-sm text-gray-500",children:"Items Picked"})]}),e.jsxs("div",{className:"bg-white rounded-xl shadow-lg p-4 text-center",children:[e.jsx("span",{className:"text-3xl",children:"ðŸŽ¯"}),e.jsxs("p",{className:`text-3xl font-bold mt-2 ${h(a.accuracy)}`,children:[a.accuracy,"%"]}),e.jsx("p",{className:"text-sm text-gray-500",children:"Accuracy Rate"})]}),e.jsxs("div",{className:"bg-white rounded-xl shadow-lg p-4 text-center",children:[e.jsx("span",{className:"text-3xl",children:"â±ï¸"}),e.jsxs("p",{className:"text-3xl font-bold text-blue-600 mt-2",children:[a.avgPickTime,"m"]}),e.jsx("p",{className:"text-sm text-gray-500",children:"Avg Pick Time"})]})]}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6 mb-8",children:[e.jsxs("div",{className:"bg-white rounded-xl shadow-lg p-6",children:[e.jsx("h2",{className:"text-lg font-bold text-gray-900 mb-4",children:"Accuracy Breakdown"}),e.jsxs("div",{className:"space-y-4",children:[e.jsxs("div",{children:[e.jsxs("div",{className:"flex justify-between text-sm mb-1",children:[e.jsx("span",{children:"Pick Accuracy"}),e.jsxs("span",{className:"font-semibold",children:[a.accuracy,"%"]})]}),e.jsx("div",{className:"h-3 bg-gray-200 rounded-full overflow-hidden",children:e.jsx("div",{className:"h-full bg-green-500 rounded-full",style:{width:`${a.accuracy}%`}})})]}),e.jsxs("div",{children:[e.jsxs("div",{className:"flex justify-between text-sm mb-1",children:[e.jsx("span",{children:"On-Time Rate"}),e.jsxs("span",{className:"font-semibold",children:[a.onTimeRate,"%"]})]}),e.jsx("div",{className:"h-3 bg-gray-200 rounded-full overflow-hidden",children:e.jsx("div",{className:"h-full bg-blue-500 rounded-full",style:{width:`${a.onTimeRate}%`}})})]}),e.jsx("div",{className:"pt-4 border-t",children:e.jsxs("div",{className:"flex justify-between",children:[e.jsx("span",{className:"text-gray-500",children:"Issues Reported"}),e.jsx("span",{className:"font-semibold text-orange-600",children:a.issuesReported})]})})]})]}),e.jsxs("div",{className:"bg-white rounded-xl shadow-lg p-6",children:[e.jsx("h2",{className:"text-lg font-bold text-gray-900 mb-4",children:"Team Ranking"}),e.jsxs("div",{className:"text-center py-6",children:[e.jsx("div",{className:"w-24 h-24 bg-gradient-to-r from-yellow-400 to-orange-500 rounded-full flex items-center justify-center mx-auto mb-4",children:e.jsxs("span",{className:"text-4xl font-bold text-white",children:["#",a.ranking]})}),e.jsxs("p",{className:"text-gray-500",children:["out of ",a.totalPickers," pickers"]}),e.jsx("p",{className:"text-sm text-gray-400 mt-1",children:a.ranking<=3?"ðŸ† Top Performer!":"Keep up the great work!"})]}),e.jsx("div",{className:"pt-4 border-t",children:e.jsxs("div",{className:"flex items-center justify-between text-sm",children:[e.jsx("span",{className:"text-gray-500",children:"Items per hour"}),e.jsx("span",{className:"font-semibold",children:Math.round(60/a.avgPickTime*5)})]})})]})]}),e.jsxs("div",{className:"bg-gradient-to-r from-orange-500 to-orange-600 rounded-xl p-6 text-white",children:[e.jsx("h2",{className:"text-lg font-bold mb-4",children:"ðŸ’¡ Tips to Improve"}),e.jsxs("div",{className:"space-y-3",children:[e.jsxs("div",{className:"flex items-start gap-3",children:[e.jsx("span",{className:"w-6 h-6 bg-white/20 rounded-full flex items-center justify-center text-sm flex-shrink-0",children:"1"}),e.jsx("p",{children:"Optimize your route by grouping items from the same aisle"})]}),e.jsxs("div",{className:"flex items-start gap-3",children:[e.jsx("span",{className:"w-6 h-6 bg-white/20 rounded-full flex items-center justify-center text-sm flex-shrink-0",children:"2"}),e.jsx("p",{children:"Check expiry dates before picking fresh produce"})]}),e.jsxs("div",{className:"flex items-start gap-3",children:[e.jsx("span",{className:"w-6 h-6 bg-white/20 rounded-full flex items-center justify-center text-sm flex-shrink-0",children:"3"}),e.jsx("p",{children:"Report stock issues immediately to help the team"})]})]})]}),e.jsxs("div",{className:"bg-white rounded-xl shadow-lg p-6 mt-6",children:[e.jsx("h2",{className:"text-lg font-bold text-gray-900 mb-4",children:"Daily Performance"}),e.jsx("div",{className:"h-48 flex items-end justify-between gap-2",children:["Mon","Tue","Wed","Thu","Fri","Sat","Sun"].map((u,x)=>{const p=40+Math.random()*50;return e.jsxs("div",{className:"flex-1 flex flex-col items-center gap-2",children:[e.jsx("div",{className:"w-full bg-orange-500 rounded-t",style:{height:`${p}%`}}),e.jsx("span",{className:"text-xs text-gray-500",children:u})]},u)})})]}),e.jsxs("div",{className:"bg-white rounded-xl shadow-lg p-6 mt-6",children:[e.jsx("h2",{className:"text-lg font-bold text-gray-900 mb-4",children:"Achievements"}),e.jsxs("div",{className:"grid grid-cols-2 md:grid-cols-4 gap-4",children:[e.jsxs("div",{className:"text-center p-4 bg-yellow-50 rounded-lg",children:[e.jsx("span",{className:"text-3xl",children:"ðŸ…"}),e.jsx("p",{className:"font-semibold text-sm mt-2",children:"Speed Demon"}),e.jsx("p",{className:"text-xs text-gray-500",children:"Picked 50 items in 1 hour"})]}),e.jsxs("div",{className:"text-center p-4 bg-green-50 rounded-lg",children:[e.jsx("span",{className:"text-3xl",children:"ðŸŽ¯"}),e.jsx("p",{className:"font-semibold text-sm mt-2",children:"Perfect Week"}),e.jsx("p",{className:"text-xs text-gray-500",children:"100% accuracy for 7 days"})]}),e.jsxs("div",{className:"text-center p-4 bg-blue-50 rounded-lg",children:[e.jsx("span",{className:"text-3xl",children:"â­"}),e.jsx("p",{className:"font-semibold text-sm mt-2",children:"Rising Star"}),e.jsx("p",{className:"text-xs text-gray-500",children:"Top 5 for 4 weeks"})]}),e.jsxs("div",{className:"text-center p-4 bg-gray-50 rounded-lg opacity-50",children:[e.jsx("span",{className:"text-3xl",children:"ðŸ”’"}),e.jsx("p",{className:"font-semibold text-sm mt-2",children:"Locked"}),e.jsx("p",{className:"text-xs text-gray-500",children:"Keep improving!"})]})]})]})]})]})}/**
 * @license lucide-react v0.562.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const r6=t=>t.replace(/([a-z0-9])([A-Z])/g,"$1-$2").toLowerCase(),s6=t=>t.replace(/^([A-Z])|[\s-_]+(\w)/g,(s,r,a)=>a?a.toUpperCase():r.toLowerCase()),mf=t=>{const s=s6(t);return s.charAt(0).toUpperCase()+s.slice(1)},Hx=(...t)=>t.filter((s,r,a)=>!!s&&s.trim()!==""&&a.indexOf(s)===r).join(" ").trim(),a6=t=>{for(const s in t)if(s.startsWith("aria-")||s==="role"||s==="title")return!0};/**
 * @license lucide-react v0.562.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */var n6={xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"};/**
 * @license lucide-react v0.562.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const i6=J.forwardRef(({color:t="currentColor",size:s=24,strokeWidth:r=2,absoluteStrokeWidth:a,className:n="",children:o,iconNode:l,...c},d)=>J.createElement("svg",{ref:d,...n6,width:s,height:s,stroke:t,strokeWidth:a?Number(r)*24/Number(s):r,className:Hx("lucide",n),...!o&&!a6(c)&&{"aria-hidden":"true"},...c},[...l.map(([h,u])=>J.createElement(h,u)),...Array.isArray(o)?o:[o]]));/**
 * @license lucide-react v0.562.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const bs=(t,s)=>{const r=J.forwardRef(({className:a,...n},o)=>J.createElement(i6,{ref:o,iconNode:s,className:Hx(`lucide-${r6(mf(t))}`,`lucide-${t}`,a),...n}));return r.displayName=mf(t),r};/**
 * @license lucide-react v0.562.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const o6=[["path",{d:"M8 2v4",key:"1cmpym"}],["path",{d:"M16 2v4",key:"4m81vk"}],["rect",{width:"18",height:"18",x:"3",y:"4",rx:"2",key:"1hopcy"}],["path",{d:"M3 10h18",key:"8toen8"}]],l6=bs("calendar",o6);/**
 * @license lucide-react v0.562.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const c6=[["path",{d:"M21.801 10A10 10 0 1 1 17 3.335",key:"yps3ct"}],["path",{d:"m9 11 3 3L22 4",key:"1pflzl"}]],M0=bs("circle-check-big",c6);/**
 * @license lucide-react v0.562.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const d6=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"m15 9-6 6",key:"1uzhvr"}],["path",{d:"m9 9 6 6",key:"z0biqf"}]],B0=bs("circle-x",d6);/**
 * @license lucide-react v0.562.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const h6=[["path",{d:"M12 6v6l4 2",key:"mmk7yg"}],["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}]],Wx=bs("clock",h6);/**
 * @license lucide-react v0.562.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const u6=[["line",{x1:"12",x2:"12",y1:"2",y2:"22",key:"7eqyqh"}],["path",{d:"M17 5H9.5a3.5 3.5 0 0 0 0 7h5a3.5 3.5 0 0 1 0 7H6",key:"1b0p4s"}]],xf=bs("dollar-sign",u6);/**
 * @license lucide-react v0.562.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const f6=[["path",{d:"M10 20a1 1 0 0 0 .553.895l2 1A1 1 0 0 0 14 21v-7a2 2 0 0 1 .517-1.341L21.74 4.67A1 1 0 0 0 21 3H3a1 1 0 0 0-.742 1.67l7.225 7.989A2 2 0 0 1 10 14z",key:"sc7q7i"}]],m6=bs("funnel",f6);/**
 * @license lucide-react v0.562.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const x6=[["path",{d:"m22 7-8.991 5.727a2 2 0 0 1-2.009 0L2 7",key:"132q7q"}],["rect",{x:"2",y:"4",width:"20",height:"16",rx:"2",key:"izxlao"}]],p6=bs("mail",x6);/**
 * @license lucide-react v0.562.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const g6=[["path",{d:"M20 10c0 4.993-5.539 10.193-7.399 11.799a1 1 0 0 1-1.202 0C9.539 20.193 4 14.993 4 10a8 8 0 0 1 16 0",key:"1r0f0z"}],["circle",{cx:"12",cy:"10",r:"3",key:"ilqhr7"}]],v6=bs("map-pin",g6);/**
 * @license lucide-react v0.562.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const y6=[["path",{d:"M11 21.73a2 2 0 0 0 2 0l7-4A2 2 0 0 0 21 16V8a2 2 0 0 0-1-1.73l-7-4a2 2 0 0 0-2 0l-7 4A2 2 0 0 0 3 8v8a2 2 0 0 0 1 1.73z",key:"1a0edw"}],["path",{d:"M12 22V12",key:"d0xqtd"}],["polyline",{points:"3.29 7 12 12 20.71 7",key:"ousv84"}],["path",{d:"m7.5 4.27 9 5.15",key:"1c824w"}]],b6=bs("package",y6);/**
 * @license lucide-react v0.562.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const w6=[["path",{d:"m21 21-4.34-4.34",key:"14j7rj"}],["circle",{cx:"11",cy:"11",r:"8",key:"4ej97u"}]],N6=bs("search",w6);/**
 * @license lucide-react v0.562.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const j6=[["path",{d:"M16 10a4 4 0 0 1-8 0",key:"1ltviw"}],["path",{d:"M3.103 6.034h17.794",key:"awc11p"}],["path",{d:"M3.4 5.467a2 2 0 0 0-.4 1.2V20a2 2 0 0 0 2 2h14a2 2 0 0 0 2-2V6.667a2 2 0 0 0-.4-1.2l-2-2.667A2 2 0 0 0 17 2H7a2 2 0 0 0-1.6.8z",key:"o988cm"}]],_c=bs("shopping-bag",j6);/**
 * @license lucide-react v0.562.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const S6=[["path",{d:"M15 21v-5a1 1 0 0 0-1-1h-4a1 1 0 0 0-1 1v5",key:"slp6dd"}],["path",{d:"M17.774 10.31a1.12 1.12 0 0 0-1.549 0 2.5 2.5 0 0 1-3.451 0 1.12 1.12 0 0 0-1.548 0 2.5 2.5 0 0 1-3.452 0 1.12 1.12 0 0 0-1.549 0 2.5 2.5 0 0 1-3.77-3.248l2.889-4.184A2 2 0 0 1 7 2h10a2 2 0 0 1 1.653.873l2.895 4.192a2.5 2.5 0 0 1-3.774 3.244",key:"o0xfot"}],["path",{d:"M4 10.95V19a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2v-8.05",key:"wn3emo"}]],Zi=bs("store",S6);/**
 * @license lucide-react v0.562.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const k6=[["path",{d:"M16 7h6v6",key:"box55l"}],["path",{d:"m22 7-8.5 8.5-5-5L2 17",key:"1t1m79"}]],A6=bs("trending-up",k6);/**
 * @license lucide-react v0.562.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const _6=[["path",{d:"m21.73 18-8-14a2 2 0 0 0-3.48 0l-8 14A2 2 0 0 0 4 21h16a2 2 0 0 0 1.73-3",key:"wmoenq"}],["path",{d:"M12 9v4",key:"juzpu7"}],["path",{d:"M12 17h.01",key:"p32p05"}]],pf=bs("triangle-alert",_6);/**
 * @license lucide-react v0.562.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const C6=[["path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2",key:"1yyitq"}],["path",{d:"M16 3.128a4 4 0 0 1 0 7.744",key:"16gr8j"}],["path",{d:"M22 21v-2a4 4 0 0 0-3-3.87",key:"kshegd"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}]],gf=bs("users",C6);function qx(t,s){return function(){return t.apply(s,arguments)}}const{toString:T6}=Object.prototype,{getPrototypeOf:xh}=Object,{iterator:ld,toStringTag:zx}=Symbol,cd=(t=>s=>{const r=T6.call(s);return t[r]||(t[r]=r.slice(8,-1).toLowerCase())})(Object.create(null)),Sa=t=>(t=t.toLowerCase(),s=>cd(s)===t),dd=t=>s=>typeof s===t,{isArray:oo}=Array,ro=dd("undefined");function pl(t){return t!==null&&!ro(t)&&t.constructor!==null&&!ro(t.constructor)&&Ts(t.constructor.isBuffer)&&t.constructor.isBuffer(t)}const Vx=Sa("ArrayBuffer");function E6(t){let s;return typeof ArrayBuffer<"u"&&ArrayBuffer.isView?s=ArrayBuffer.isView(t):s=t&&t.buffer&&Vx(t.buffer),s}const P6=dd("string"),Ts=dd("function"),$x=dd("number"),gl=t=>t!==null&&typeof t=="object",F6=t=>t===!0||t===!1,Tc=t=>{if(cd(t)!=="object")return!1;const s=xh(t);return(s===null||s===Object.prototype||Object.getPrototypeOf(s)===null)&&!(zx in t)&&!(ld in t)},L6=t=>{if(!gl(t)||pl(t))return!1;try{return Object.keys(t).length===0&&Object.getPrototypeOf(t)===Object.prototype}catch{return!1}},O6=Sa("Date"),D6=Sa("File"),I6=Sa("Blob"),R6=Sa("FileList"),M6=t=>gl(t)&&Ts(t.pipe),B6=t=>{let s;return t&&(typeof FormData=="function"&&t instanceof FormData||Ts(t.append)&&((s=cd(t))==="formdata"||s==="object"&&Ts(t.toString)&&t.toString()==="[object FormData]"))},U6=Sa("URLSearchParams"),[H6,W6,q6,z6]=["ReadableStream","Request","Response","Headers"].map(Sa),V6=t=>t.trim?t.trim():t.replace(/^[\s\uFEFF\xA0]+|[\s\uFEFF\xA0]+$/g,"");function vl(t,s,{allOwnKeys:r=!1}={}){if(t===null||typeof t>"u")return;let a,n;if(typeof t!="object"&&(t=[t]),oo(t))for(a=0,n=t.length;a<n;a++)s.call(null,t[a],a,t);else{if(pl(t))return;const o=r?Object.getOwnPropertyNames(t):Object.keys(t),l=o.length;let c;for(a=0;a<l;a++)c=o[a],s.call(null,t[c],c,t)}}function Gx(t,s){if(pl(t))return null;s=s.toLowerCase();const r=Object.keys(t);let a=r.length,n;for(;a-- >0;)if(n=r[a],s===n.toLowerCase())return n;return null}const Jn=typeof globalThis<"u"?globalThis:typeof self<"u"?self:typeof window<"u"?window:global,Yx=t=>!ro(t)&&t!==Jn;function U0(){const{caseless:t,skipUndefined:s}=Yx(this)&&this||{},r={},a=(n,o)=>{const l=t&&Gx(r,o)||o;Tc(r[l])&&Tc(n)?r[l]=U0(r[l],n):Tc(n)?r[l]=U0({},n):oo(n)?r[l]=n.slice():(!s||!ro(n))&&(r[l]=n)};for(let n=0,o=arguments.length;n<o;n++)arguments[n]&&vl(arguments[n],a);return r}const $6=(t,s,r,{allOwnKeys:a}={})=>(vl(s,(n,o)=>{r&&Ts(n)?t[o]=qx(n,r):t[o]=n},{allOwnKeys:a}),t),G6=t=>(t.charCodeAt(0)===65279&&(t=t.slice(1)),t),Y6=(t,s,r,a)=>{t.prototype=Object.create(s.prototype,a),t.prototype.constructor=t,Object.defineProperty(t,"super",{value:s.prototype}),r&&Object.assign(t.prototype,r)},K6=(t,s,r,a)=>{let n,o,l;const c={};if(s=s||{},t==null)return s;do{for(n=Object.getOwnPropertyNames(t),o=n.length;o-- >0;)l=n[o],(!a||a(l,t,s))&&!c[l]&&(s[l]=t[l],c[l]=!0);t=r!==!1&&xh(t)}while(t&&(!r||r(t,s))&&t!==Object.prototype);return s},X6=(t,s,r)=>{t=String(t),(r===void 0||r>t.length)&&(r=t.length),r-=s.length;const a=t.indexOf(s,r);return a!==-1&&a===r},J6=t=>{if(!t)return null;if(oo(t))return t;let s=t.length;if(!$x(s))return null;const r=new Array(s);for(;s-- >0;)r[s]=t[s];return r},Q6=(t=>s=>t&&s instanceof t)(typeof Uint8Array<"u"&&xh(Uint8Array)),Z6=(t,s)=>{const a=(t&&t[ld]).call(t);let n;for(;(n=a.next())&&!n.done;){const o=n.value;s.call(t,o[0],o[1])}},e8=(t,s)=>{let r;const a=[];for(;(r=t.exec(s))!==null;)a.push(r);return a},t8=Sa("HTMLFormElement"),r8=t=>t.toLowerCase().replace(/[-_\s]([a-z\d])(\w*)/g,function(r,a,n){return a.toUpperCase()+n}),vf=(({hasOwnProperty:t})=>(s,r)=>t.call(s,r))(Object.prototype),s8=Sa("RegExp"),Kx=(t,s)=>{const r=Object.getOwnPropertyDescriptors(t),a={};vl(r,(n,o)=>{let l;(l=s(n,o,t))!==!1&&(a[o]=l||n)}),Object.defineProperties(t,a)},a8=t=>{Kx(t,(s,r)=>{if(Ts(t)&&["arguments","caller","callee"].indexOf(r)!==-1)return!1;const a=t[r];if(Ts(a)){if(s.enumerable=!1,"writable"in s){s.writable=!1;return}s.set||(s.set=()=>{throw Error("Can not rewrite read-only method '"+r+"'")})}})},n8=(t,s)=>{const r={},a=n=>{n.forEach(o=>{r[o]=!0})};return oo(t)?a(t):a(String(t).split(s)),r},i8=()=>{},o8=(t,s)=>t!=null&&Number.isFinite(t=+t)?t:s;function l8(t){return!!(t&&Ts(t.append)&&t[zx]==="FormData"&&t[ld])}const c8=t=>{const s=new Array(10),r=(a,n)=>{if(gl(a)){if(s.indexOf(a)>=0)return;if(pl(a))return a;if(!("toJSON"in a)){s[n]=a;const o=oo(a)?[]:{};return vl(a,(l,c)=>{const d=r(l,n+1);!ro(d)&&(o[c]=d)}),s[n]=void 0,o}}return a};return r(t,0)},d8=Sa("AsyncFunction"),h8=t=>t&&(gl(t)||Ts(t))&&Ts(t.then)&&Ts(t.catch),Xx=((t,s)=>t?setImmediate:s?((r,a)=>(Jn.addEventListener("message",({source:n,data:o})=>{n===Jn&&o===r&&a.length&&a.shift()()},!1),n=>{a.push(n),Jn.postMessage(r,"*")}))(`axios@${Math.random()}`,[]):r=>setTimeout(r))(typeof setImmediate=="function",Ts(Jn.postMessage)),u8=typeof queueMicrotask<"u"?queueMicrotask.bind(Jn):typeof process<"u"&&process.nextTick||Xx,f8=t=>t!=null&&Ts(t[ld]),Pe={isArray:oo,isArrayBuffer:Vx,isBuffer:pl,isFormData:B6,isArrayBufferView:E6,isString:P6,isNumber:$x,isBoolean:F6,isObject:gl,isPlainObject:Tc,isEmptyObject:L6,isReadableStream:H6,isRequest:W6,isResponse:q6,isHeaders:z6,isUndefined:ro,isDate:O6,isFile:D6,isBlob:I6,isRegExp:s8,isFunction:Ts,isStream:M6,isURLSearchParams:U6,isTypedArray:Q6,isFileList:R6,forEach:vl,merge:U0,extend:$6,trim:V6,stripBOM:G6,inherits:Y6,toFlatObject:K6,kindOf:cd,kindOfTest:Sa,endsWith:X6,toArray:J6,forEachEntry:Z6,matchAll:e8,isHTMLForm:t8,hasOwnProperty:vf,hasOwnProp:vf,reduceDescriptors:Kx,freezeMethods:a8,toObjectSet:n8,toCamelCase:r8,noop:i8,toFiniteNumber:o8,findKey:Gx,global:Jn,isContextDefined:Yx,isSpecCompliantForm:l8,toJSONObject:c8,isAsyncFn:d8,isThenable:h8,setImmediate:Xx,asap:u8,isIterable:f8};function Pt(t,s,r,a,n){Error.call(this),Error.captureStackTrace?Error.captureStackTrace(this,this.constructor):this.stack=new Error().stack,this.message=t,this.name="AxiosError",s&&(this.code=s),r&&(this.config=r),a&&(this.request=a),n&&(this.response=n,this.status=n.status?n.status:null)}Pe.inherits(Pt,Error,{toJSON:function(){return{message:this.message,name:this.name,description:this.description,number:this.number,fileName:this.fileName,lineNumber:this.lineNumber,columnNumber:this.columnNumber,stack:this.stack,config:Pe.toJSONObject(this.config),code:this.code,status:this.status}}});const Jx=Pt.prototype,Qx={};["ERR_BAD_OPTION_VALUE","ERR_BAD_OPTION","ECONNABORTED","ETIMEDOUT","ERR_NETWORK","ERR_FR_TOO_MANY_REDIRECTS","ERR_DEPRECATED","ERR_BAD_RESPONSE","ERR_BAD_REQUEST","ERR_CANCELED","ERR_NOT_SUPPORT","ERR_INVALID_URL"].forEach(t=>{Qx[t]={value:t}});Object.defineProperties(Pt,Qx);Object.defineProperty(Jx,"isAxiosError",{value:!0});Pt.from=(t,s,r,a,n,o)=>{const l=Object.create(Jx);Pe.toFlatObject(t,l,function(u){return u!==Error.prototype},h=>h!=="isAxiosError");const c=t&&t.message?t.message:"Error",d=s==null&&t?t.code:s;return Pt.call(l,c,d,r,a,n),t&&l.cause==null&&Object.defineProperty(l,"cause",{value:t,configurable:!0}),l.name=t&&t.name||"Error",o&&Object.assign(l,o),l};const m8=null;function H0(t){return Pe.isPlainObject(t)||Pe.isArray(t)}function Zx(t){return Pe.endsWith(t,"[]")?t.slice(0,-2):t}function yf(t,s,r){return t?t.concat(s).map(function(n,o){return n=Zx(n),!r&&o?"["+n+"]":n}).join(r?".":""):s}function x8(t){return Pe.isArray(t)&&!t.some(H0)}const p8=Pe.toFlatObject(Pe,{},null,function(s){return/^is[A-Z]/.test(s)});function hd(t,s,r){if(!Pe.isObject(t))throw new TypeError("target must be an object");s=s||new FormData,r=Pe.toFlatObject(r,{metaTokens:!0,dots:!1,indexes:!1},!1,function(g,b){return!Pe.isUndefined(b[g])});const a=r.metaTokens,n=r.visitor||u,o=r.dots,l=r.indexes,d=(r.Blob||typeof Blob<"u"&&Blob)&&Pe.isSpecCompliantForm(s);if(!Pe.isFunction(n))throw new TypeError("visitor must be a function");function h(y){if(y===null)return"";if(Pe.isDate(y))return y.toISOString();if(Pe.isBoolean(y))return y.toString();if(!d&&Pe.isBlob(y))throw new Pt("Blob is not supported. Use a Buffer instead.");return Pe.isArrayBuffer(y)||Pe.isTypedArray(y)?d&&typeof Blob=="function"?new Blob([y]):Buffer.from(y):y}function u(y,g,b){let w=y;if(y&&!b&&typeof y=="object"){if(Pe.endsWith(g,"{}"))g=a?g:g.slice(0,-2),y=JSON.stringify(y);else if(Pe.isArray(y)&&x8(y)||(Pe.isFileList(y)||Pe.endsWith(g,"[]"))&&(w=Pe.toArray(y)))return g=Zx(g),w.forEach(function(j,k){!(Pe.isUndefined(j)||j===null)&&s.append(l===!0?yf([g],k,o):l===null?g:g+"[]",h(j))}),!1}return H0(y)?!0:(s.append(yf(b,g,o),h(y)),!1)}const x=[],p=Object.assign(p8,{defaultVisitor:u,convertValue:h,isVisitable:H0});function m(y,g){if(!Pe.isUndefined(y)){if(x.indexOf(y)!==-1)throw Error("Circular reference detected in "+g.join("."));x.push(y),Pe.forEach(y,function(w,N){(!(Pe.isUndefined(w)||w===null)&&n.call(s,w,Pe.isString(N)?N.trim():N,g,p))===!0&&m(w,g?g.concat(N):[N])}),x.pop()}}if(!Pe.isObject(t))throw new TypeError("data must be an object");return m(t),s}function bf(t){const s={"!":"%21","'":"%27","(":"%28",")":"%29","~":"%7E","%20":"+","%00":"\0"};return encodeURIComponent(t).replace(/[!'()~]|%20|%00/g,function(a){return s[a]})}function ph(t,s){this._pairs=[],t&&hd(t,this,s)}const ep=ph.prototype;ep.append=function(s,r){this._pairs.push([s,r])};ep.toString=function(s){const r=s?function(a){return s.call(this,a,bf)}:bf;return this._pairs.map(function(n){return r(n[0])+"="+r(n[1])},"").join("&")};function g8(t){return encodeURIComponent(t).replace(/%3A/gi,":").replace(/%24/g,"$").replace(/%2C/gi,",").replace(/%20/g,"+")}function tp(t,s,r){if(!s)return t;const a=r&&r.encode||g8;Pe.isFunction(r)&&(r={serialize:r});const n=r&&r.serialize;let o;if(n?o=n(s,r):o=Pe.isURLSearchParams(s)?s.toString():new ph(s,r).toString(a),o){const l=t.indexOf("#");l!==-1&&(t=t.slice(0,l)),t+=(t.indexOf("?")===-1?"?":"&")+o}return t}class wf{constructor(){this.handlers=[]}use(s,r,a){return this.handlers.push({fulfilled:s,rejected:r,synchronous:a?a.synchronous:!1,runWhen:a?a.runWhen:null}),this.handlers.length-1}eject(s){this.handlers[s]&&(this.handlers[s]=null)}clear(){this.handlers&&(this.handlers=[])}forEach(s){Pe.forEach(this.handlers,function(a){a!==null&&s(a)})}}const rp={silentJSONParsing:!0,forcedJSONParsing:!0,clarifyTimeoutError:!1},v8=typeof URLSearchParams<"u"?URLSearchParams:ph,y8=typeof FormData<"u"?FormData:null,b8=typeof Blob<"u"?Blob:null,w8={isBrowser:!0,classes:{URLSearchParams:v8,FormData:y8,Blob:b8},protocols:["http","https","file","blob","url","data"]},gh=typeof window<"u"&&typeof document<"u",W0=typeof navigator=="object"&&navigator||void 0,N8=gh&&(!W0||["ReactNative","NativeScript","NS"].indexOf(W0.product)<0),j8=typeof WorkerGlobalScope<"u"&&self instanceof WorkerGlobalScope&&typeof self.importScripts=="function",S8=gh&&window.location.href||"http://localhost",k8=Object.freeze(Object.defineProperty({__proto__:null,hasBrowserEnv:gh,hasStandardBrowserEnv:N8,hasStandardBrowserWebWorkerEnv:j8,navigator:W0,origin:S8},Symbol.toStringTag,{value:"Module"})),hs={...k8,...w8};function A8(t,s){return hd(t,new hs.classes.URLSearchParams,{visitor:function(r,a,n,o){return hs.isNode&&Pe.isBuffer(r)?(this.append(a,r.toString("base64")),!1):o.defaultVisitor.apply(this,arguments)},...s})}function _8(t){return Pe.matchAll(/\w+|\[(\w*)]/g,t).map(s=>s[0]==="[]"?"":s[1]||s[0])}function C8(t){const s={},r=Object.keys(t);let a;const n=r.length;let o;for(a=0;a<n;a++)o=r[a],s[o]=t[o];return s}function sp(t){function s(r,a,n,o){let l=r[o++];if(l==="__proto__")return!0;const c=Number.isFinite(+l),d=o>=r.length;return l=!l&&Pe.isArray(n)?n.length:l,d?(Pe.hasOwnProp(n,l)?n[l]=[n[l],a]:n[l]=a,!c):((!n[l]||!Pe.isObject(n[l]))&&(n[l]=[]),s(r,a,n[l],o)&&Pe.isArray(n[l])&&(n[l]=C8(n[l])),!c)}if(Pe.isFormData(t)&&Pe.isFunction(t.entries)){const r={};return Pe.forEachEntry(t,(a,n)=>{s(_8(a),n,r,0)}),r}return null}function T8(t,s,r){if(Pe.isString(t))try{return(s||JSON.parse)(t),Pe.trim(t)}catch(a){if(a.name!=="SyntaxError")throw a}return(r||JSON.stringify)(t)}const yl={transitional:rp,adapter:["xhr","http","fetch"],transformRequest:[function(s,r){const a=r.getContentType()||"",n=a.indexOf("application/json")>-1,o=Pe.isObject(s);if(o&&Pe.isHTMLForm(s)&&(s=new FormData(s)),Pe.isFormData(s))return n?JSON.stringify(sp(s)):s;if(Pe.isArrayBuffer(s)||Pe.isBuffer(s)||Pe.isStream(s)||Pe.isFile(s)||Pe.isBlob(s)||Pe.isReadableStream(s))return s;if(Pe.isArrayBufferView(s))return s.buffer;if(Pe.isURLSearchParams(s))return r.setContentType("application/x-www-form-urlencoded;charset=utf-8",!1),s.toString();let c;if(o){if(a.indexOf("application/x-www-form-urlencoded")>-1)return A8(s,this.formSerializer).toString();if((c=Pe.isFileList(s))||a.indexOf("multipart/form-data")>-1){const d=this.env&&this.env.FormData;return hd(c?{"files[]":s}:s,d&&new d,this.formSerializer)}}return o||n?(r.setContentType("application/json",!1),T8(s)):s}],transformResponse:[function(s){const r=this.transitional||yl.transitional,a=r&&r.forcedJSONParsing,n=this.responseType==="json";if(Pe.isResponse(s)||Pe.isReadableStream(s))return s;if(s&&Pe.isString(s)&&(a&&!this.responseType||n)){const l=!(r&&r.silentJSONParsing)&&n;try{return JSON.parse(s,this.parseReviver)}catch(c){if(l)throw c.name==="SyntaxError"?Pt.from(c,Pt.ERR_BAD_RESPONSE,this,null,this.response):c}}return s}],timeout:0,xsrfCookieName:"XSRF-TOKEN",xsrfHeaderName:"X-XSRF-TOKEN",maxContentLength:-1,maxBodyLength:-1,env:{FormData:hs.classes.FormData,Blob:hs.classes.Blob},validateStatus:function(s){return s>=200&&s<300},headers:{common:{Accept:"application/json, text/plain, */*","Content-Type":void 0}}};Pe.forEach(["delete","get","head","post","put","patch"],t=>{yl.headers[t]={}});const E8=Pe.toObjectSet(["age","authorization","content-length","content-type","etag","expires","from","host","if-modified-since","if-unmodified-since","last-modified","location","max-forwards","proxy-authorization","referer","retry-after","user-agent"]),P8=t=>{const s={};let r,a,n;return t&&t.split(`
`).forEach(function(l){n=l.indexOf(":"),r=l.substring(0,n).trim().toLowerCase(),a=l.substring(n+1).trim(),!(!r||s[r]&&E8[r])&&(r==="set-cookie"?s[r]?s[r].push(a):s[r]=[a]:s[r]=s[r]?s[r]+", "+a:a)}),s},Nf=Symbol("internals");function Wo(t){return t&&String(t).trim().toLowerCase()}function Ec(t){return t===!1||t==null?t:Pe.isArray(t)?t.map(Ec):String(t)}function F8(t){const s=Object.create(null),r=/([^\s,;=]+)\s*(?:=\s*([^,;]+))?/g;let a;for(;a=r.exec(t);)s[a[1]]=a[2];return s}const L8=t=>/^[-_a-zA-Z0-9^`|~,!#$%&'*+.]+$/.test(t.trim());function g0(t,s,r,a,n){if(Pe.isFunction(a))return a.call(this,s,r);if(n&&(s=r),!!Pe.isString(s)){if(Pe.isString(a))return s.indexOf(a)!==-1;if(Pe.isRegExp(a))return a.test(s)}}function O8(t){return t.trim().toLowerCase().replace(/([a-z\d])(\w*)/g,(s,r,a)=>r.toUpperCase()+a)}function D8(t,s){const r=Pe.toCamelCase(" "+s);["get","set","has"].forEach(a=>{Object.defineProperty(t,a+r,{value:function(n,o,l){return this[a].call(this,s,n,o,l)},configurable:!0})})}let Es=class{constructor(s){s&&this.set(s)}set(s,r,a){const n=this;function o(c,d,h){const u=Wo(d);if(!u)throw new Error("header name must be a non-empty string");const x=Pe.findKey(n,u);(!x||n[x]===void 0||h===!0||h===void 0&&n[x]!==!1)&&(n[x||d]=Ec(c))}const l=(c,d)=>Pe.forEach(c,(h,u)=>o(h,u,d));if(Pe.isPlainObject(s)||s instanceof this.constructor)l(s,r);else if(Pe.isString(s)&&(s=s.trim())&&!L8(s))l(P8(s),r);else if(Pe.isObject(s)&&Pe.isIterable(s)){let c={},d,h;for(const u of s){if(!Pe.isArray(u))throw TypeError("Object iterator must return a key-value pair");c[h=u[0]]=(d=c[h])?Pe.isArray(d)?[...d,u[1]]:[d,u[1]]:u[1]}l(c,r)}else s!=null&&o(r,s,a);return this}get(s,r){if(s=Wo(s),s){const a=Pe.findKey(this,s);if(a){const n=this[a];if(!r)return n;if(r===!0)return F8(n);if(Pe.isFunction(r))return r.call(this,n,a);if(Pe.isRegExp(r))return r.exec(n);throw new TypeError("parser must be boolean|regexp|function")}}}has(s,r){if(s=Wo(s),s){const a=Pe.findKey(this,s);return!!(a&&this[a]!==void 0&&(!r||g0(this,this[a],a,r)))}return!1}delete(s,r){const a=this;let n=!1;function o(l){if(l=Wo(l),l){const c=Pe.findKey(a,l);c&&(!r||g0(a,a[c],c,r))&&(delete a[c],n=!0)}}return Pe.isArray(s)?s.forEach(o):o(s),n}clear(s){const r=Object.keys(this);let a=r.length,n=!1;for(;a--;){const o=r[a];(!s||g0(this,this[o],o,s,!0))&&(delete this[o],n=!0)}return n}normalize(s){const r=this,a={};return Pe.forEach(this,(n,o)=>{const l=Pe.findKey(a,o);if(l){r[l]=Ec(n),delete r[o];return}const c=s?O8(o):String(o).trim();c!==o&&delete r[o],r[c]=Ec(n),a[c]=!0}),this}concat(...s){return this.constructor.concat(this,...s)}toJSON(s){const r=Object.create(null);return Pe.forEach(this,(a,n)=>{a!=null&&a!==!1&&(r[n]=s&&Pe.isArray(a)?a.join(", "):a)}),r}[Symbol.iterator](){return Object.entries(this.toJSON())[Symbol.iterator]()}toString(){return Object.entries(this.toJSON()).map(([s,r])=>s+": "+r).join(`
`)}getSetCookie(){return this.get("set-cookie")||[]}get[Symbol.toStringTag](){return"AxiosHeaders"}static from(s){return s instanceof this?s:new this(s)}static concat(s,...r){const a=new this(s);return r.forEach(n=>a.set(n)),a}static accessor(s){const a=(this[Nf]=this[Nf]={accessors:{}}).accessors,n=this.prototype;function o(l){const c=Wo(l);a[c]||(D8(n,l),a[c]=!0)}return Pe.isArray(s)?s.forEach(o):o(s),this}};Es.accessor(["Content-Type","Content-Length","Accept","Accept-Encoding","User-Agent","Authorization"]);Pe.reduceDescriptors(Es.prototype,({value:t},s)=>{let r=s[0].toUpperCase()+s.slice(1);return{get:()=>t,set(a){this[r]=a}}});Pe.freezeMethods(Es);function v0(t,s){const r=this||yl,a=s||r,n=Es.from(a.headers);let o=a.data;return Pe.forEach(t,function(c){o=c.call(r,o,n.normalize(),s?s.status:void 0)}),n.normalize(),o}function ap(t){return!!(t&&t.__CANCEL__)}function lo(t,s,r){Pt.call(this,t??"canceled",Pt.ERR_CANCELED,s,r),this.name="CanceledError"}Pe.inherits(lo,Pt,{__CANCEL__:!0});function np(t,s,r){const a=r.config.validateStatus;!r.status||!a||a(r.status)?t(r):s(new Pt("Request failed with status code "+r.status,[Pt.ERR_BAD_REQUEST,Pt.ERR_BAD_RESPONSE][Math.floor(r.status/100)-4],r.config,r.request,r))}function I8(t){const s=/^([-+\w]{1,25})(:?\/\/|:)/.exec(t);return s&&s[1]||""}function R8(t,s){t=t||10;const r=new Array(t),a=new Array(t);let n=0,o=0,l;return s=s!==void 0?s:1e3,function(d){const h=Date.now(),u=a[o];l||(l=h),r[n]=d,a[n]=h;let x=o,p=0;for(;x!==n;)p+=r[x++],x=x%t;if(n=(n+1)%t,n===o&&(o=(o+1)%t),h-l<s)return;const m=u&&h-u;return m?Math.round(p*1e3/m):void 0}}function M8(t,s){let r=0,a=1e3/s,n,o;const l=(h,u=Date.now())=>{r=u,n=null,o&&(clearTimeout(o),o=null),t(...h)};return[(...h)=>{const u=Date.now(),x=u-r;x>=a?l(h,u):(n=h,o||(o=setTimeout(()=>{o=null,l(n)},a-x)))},()=>n&&l(n)]}const Kc=(t,s,r=3)=>{let a=0;const n=R8(50,250);return M8(o=>{const l=o.loaded,c=o.lengthComputable?o.total:void 0,d=l-a,h=n(d),u=l<=c;a=l;const x={loaded:l,total:c,progress:c?l/c:void 0,bytes:d,rate:h||void 0,estimated:h&&c&&u?(c-l)/h:void 0,event:o,lengthComputable:c!=null,[s?"download":"upload"]:!0};t(x)},r)},jf=(t,s)=>{const r=t!=null;return[a=>s[0]({lengthComputable:r,total:t,loaded:a}),s[1]]},Sf=t=>(...s)=>Pe.asap(()=>t(...s)),B8=hs.hasStandardBrowserEnv?((t,s)=>r=>(r=new URL(r,hs.origin),t.protocol===r.protocol&&t.host===r.host&&(s||t.port===r.port)))(new URL(hs.origin),hs.navigator&&/(msie|trident)/i.test(hs.navigator.userAgent)):()=>!0,U8=hs.hasStandardBrowserEnv?{write(t,s,r,a,n,o,l){if(typeof document>"u")return;const c=[`${t}=${encodeURIComponent(s)}`];Pe.isNumber(r)&&c.push(`expires=${new Date(r).toUTCString()}`),Pe.isString(a)&&c.push(`path=${a}`),Pe.isString(n)&&c.push(`domain=${n}`),o===!0&&c.push("secure"),Pe.isString(l)&&c.push(`SameSite=${l}`),document.cookie=c.join("; ")},read(t){if(typeof document>"u")return null;const s=document.cookie.match(new RegExp("(?:^|; )"+t+"=([^;]*)"));return s?decodeURIComponent(s[1]):null},remove(t){this.write(t,"",Date.now()-864e5,"/")}}:{write(){},read(){return null},remove(){}};function H8(t){return/^([a-z][a-z\d+\-.]*:)?\/\//i.test(t)}function W8(t,s){return s?t.replace(/\/?\/$/,"")+"/"+s.replace(/^\/+/,""):t}function ip(t,s,r){let a=!H8(s);return t&&(a||r==!1)?W8(t,s):s}const kf=t=>t instanceof Es?{...t}:t;function oi(t,s){s=s||{};const r={};function a(h,u,x,p){return Pe.isPlainObject(h)&&Pe.isPlainObject(u)?Pe.merge.call({caseless:p},h,u):Pe.isPlainObject(u)?Pe.merge({},u):Pe.isArray(u)?u.slice():u}function n(h,u,x,p){if(Pe.isUndefined(u)){if(!Pe.isUndefined(h))return a(void 0,h,x,p)}else return a(h,u,x,p)}function o(h,u){if(!Pe.isUndefined(u))return a(void 0,u)}function l(h,u){if(Pe.isUndefined(u)){if(!Pe.isUndefined(h))return a(void 0,h)}else return a(void 0,u)}function c(h,u,x){if(x in s)return a(h,u);if(x in t)return a(void 0,h)}const d={url:o,method:o,data:o,baseURL:l,transformRequest:l,transformResponse:l,paramsSerializer:l,timeout:l,timeoutMessage:l,withCredentials:l,withXSRFToken:l,adapter:l,responseType:l,xsrfCookieName:l,xsrfHeaderName:l,onUploadProgress:l,onDownloadProgress:l,decompress:l,maxContentLength:l,maxBodyLength:l,beforeRedirect:l,transport:l,httpAgent:l,httpsAgent:l,cancelToken:l,socketPath:l,responseEncoding:l,validateStatus:c,headers:(h,u,x)=>n(kf(h),kf(u),x,!0)};return Pe.forEach(Object.keys({...t,...s}),function(u){const x=d[u]||n,p=x(t[u],s[u],u);Pe.isUndefined(p)&&x!==c||(r[u]=p)}),r}const op=t=>{const s=oi({},t);let{data:r,withXSRFToken:a,xsrfHeaderName:n,xsrfCookieName:o,headers:l,auth:c}=s;if(s.headers=l=Es.from(l),s.url=tp(ip(s.baseURL,s.url,s.allowAbsoluteUrls),t.params,t.paramsSerializer),c&&l.set("Authorization","Basic "+btoa((c.username||"")+":"+(c.password?unescape(encodeURIComponent(c.password)):""))),Pe.isFormData(r)){if(hs.hasStandardBrowserEnv||hs.hasStandardBrowserWebWorkerEnv)l.setContentType(void 0);else if(Pe.isFunction(r.getHeaders)){const d=r.getHeaders(),h=["content-type","content-length"];Object.entries(d).forEach(([u,x])=>{h.includes(u.toLowerCase())&&l.set(u,x)})}}if(hs.hasStandardBrowserEnv&&(a&&Pe.isFunction(a)&&(a=a(s)),a||a!==!1&&B8(s.url))){const d=n&&o&&U8.read(o);d&&l.set(n,d)}return s},q8=typeof XMLHttpRequest<"u",z8=q8&&function(t){return new Promise(function(r,a){const n=op(t);let o=n.data;const l=Es.from(n.headers).normalize();let{responseType:c,onUploadProgress:d,onDownloadProgress:h}=n,u,x,p,m,y;function g(){m&&m(),y&&y(),n.cancelToken&&n.cancelToken.unsubscribe(u),n.signal&&n.signal.removeEventListener("abort",u)}let b=new XMLHttpRequest;b.open(n.method.toUpperCase(),n.url,!0),b.timeout=n.timeout;function w(){if(!b)return;const j=Es.from("getAllResponseHeaders"in b&&b.getAllResponseHeaders()),L={data:!c||c==="text"||c==="json"?b.responseText:b.response,status:b.status,statusText:b.statusText,headers:j,config:t,request:b};np(function(T){r(T),g()},function(T){a(T),g()},L),b=null}"onloadend"in b?b.onloadend=w:b.onreadystatechange=function(){!b||b.readyState!==4||b.status===0&&!(b.responseURL&&b.responseURL.indexOf("file:")===0)||setTimeout(w)},b.onabort=function(){b&&(a(new Pt("Request aborted",Pt.ECONNABORTED,t,b)),b=null)},b.onerror=function(k){const L=k&&k.message?k.message:"Network Error",F=new Pt(L,Pt.ERR_NETWORK,t,b);F.event=k||null,a(F),b=null},b.ontimeout=function(){let k=n.timeout?"timeout of "+n.timeout+"ms exceeded":"timeout exceeded";const L=n.transitional||rp;n.timeoutErrorMessage&&(k=n.timeoutErrorMessage),a(new Pt(k,L.clarifyTimeoutError?Pt.ETIMEDOUT:Pt.ECONNABORTED,t,b)),b=null},o===void 0&&l.setContentType(null),"setRequestHeader"in b&&Pe.forEach(l.toJSON(),function(k,L){b.setRequestHeader(L,k)}),Pe.isUndefined(n.withCredentials)||(b.withCredentials=!!n.withCredentials),c&&c!=="json"&&(b.responseType=n.responseType),h&&([p,y]=Kc(h,!0),b.addEventListener("progress",p)),d&&b.upload&&([x,m]=Kc(d),b.upload.addEventListener("progress",x),b.upload.addEventListener("loadend",m)),(n.cancelToken||n.signal)&&(u=j=>{b&&(a(!j||j.type?new lo(null,t,b):j),b.abort(),b=null)},n.cancelToken&&n.cancelToken.subscribe(u),n.signal&&(n.signal.aborted?u():n.signal.addEventListener("abort",u)));const N=I8(n.url);if(N&&hs.protocols.indexOf(N)===-1){a(new Pt("Unsupported protocol "+N+":",Pt.ERR_BAD_REQUEST,t));return}b.send(o||null)})},V8=(t,s)=>{const{length:r}=t=t?t.filter(Boolean):[];if(s||r){let a=new AbortController,n;const o=function(h){if(!n){n=!0,c();const u=h instanceof Error?h:this.reason;a.abort(u instanceof Pt?u:new lo(u instanceof Error?u.message:u))}};let l=s&&setTimeout(()=>{l=null,o(new Pt(`timeout ${s} of ms exceeded`,Pt.ETIMEDOUT))},s);const c=()=>{t&&(l&&clearTimeout(l),l=null,t.forEach(h=>{h.unsubscribe?h.unsubscribe(o):h.removeEventListener("abort",o)}),t=null)};t.forEach(h=>h.addEventListener("abort",o));const{signal:d}=a;return d.unsubscribe=()=>Pe.asap(c),d}},$8=function*(t,s){let r=t.byteLength;if(r<s){yield t;return}let a=0,n;for(;a<r;)n=a+s,yield t.slice(a,n),a=n},G8=async function*(t,s){for await(const r of Y8(t))yield*$8(r,s)},Y8=async function*(t){if(t[Symbol.asyncIterator]){yield*t;return}const s=t.getReader();try{for(;;){const{done:r,value:a}=await s.read();if(r)break;yield a}}finally{await s.cancel()}},Af=(t,s,r,a)=>{const n=G8(t,s);let o=0,l,c=d=>{l||(l=!0,a&&a(d))};return new ReadableStream({async pull(d){try{const{done:h,value:u}=await n.next();if(h){c(),d.close();return}let x=u.byteLength;if(r){let p=o+=x;r(p)}d.enqueue(new Uint8Array(u))}catch(h){throw c(h),h}},cancel(d){return c(d),n.return()}},{highWaterMark:2})},_f=64*1024,{isFunction:Cc}=Pe,K8=(({Request:t,Response:s})=>({Request:t,Response:s}))(Pe.global),{ReadableStream:Cf,TextEncoder:Tf}=Pe.global,Ef=(t,...s)=>{try{return!!t(...s)}catch{return!1}},X8=t=>{t=Pe.merge.call({skipUndefined:!0},K8,t);const{fetch:s,Request:r,Response:a}=t,n=s?Cc(s):typeof fetch=="function",o=Cc(r),l=Cc(a);if(!n)return!1;const c=n&&Cc(Cf),d=n&&(typeof Tf=="function"?(y=>g=>y.encode(g))(new Tf):async y=>new Uint8Array(await new r(y).arrayBuffer())),h=o&&c&&Ef(()=>{let y=!1;const g=new r(hs.origin,{body:new Cf,method:"POST",get duplex(){return y=!0,"half"}}).headers.has("Content-Type");return y&&!g}),u=l&&c&&Ef(()=>Pe.isReadableStream(new a("").body)),x={stream:u&&(y=>y.body)};n&&["text","arrayBuffer","blob","formData","stream"].forEach(y=>{!x[y]&&(x[y]=(g,b)=>{let w=g&&g[y];if(w)return w.call(g);throw new Pt(`Response type '${y}' is not supported`,Pt.ERR_NOT_SUPPORT,b)})});const p=async y=>{if(y==null)return 0;if(Pe.isBlob(y))return y.size;if(Pe.isSpecCompliantForm(y))return(await new r(hs.origin,{method:"POST",body:y}).arrayBuffer()).byteLength;if(Pe.isArrayBufferView(y)||Pe.isArrayBuffer(y))return y.byteLength;if(Pe.isURLSearchParams(y)&&(y=y+""),Pe.isString(y))return(await d(y)).byteLength},m=async(y,g)=>{const b=Pe.toFiniteNumber(y.getContentLength());return b??p(g)};return async y=>{let{url:g,method:b,data:w,signal:N,cancelToken:j,timeout:k,onDownloadProgress:L,onUploadProgress:F,responseType:T,headers:C,withCredentials:I="same-origin",fetchOptions:D}=op(y),E=s||fetch;T=T?(T+"").toLowerCase():"text";let P=V8([N,j&&j.toAbortSignal()],k),W=null;const z=P&&P.unsubscribe&&(()=>{P.unsubscribe()});let ue;try{if(F&&h&&b!=="get"&&b!=="head"&&(ue=await m(C,w))!==0){let ye=new r(g,{method:"POST",body:w,duplex:"half"}),_;if(Pe.isFormData(w)&&(_=ye.headers.get("content-type"))&&C.setContentType(_),ye.body){const[R,M]=jf(ue,Kc(Sf(F)));w=Af(ye.body,_f,R,M)}}Pe.isString(I)||(I=I?"include":"omit");const Q=o&&"credentials"in r.prototype,ee={...D,signal:P,method:b.toUpperCase(),headers:C.normalize().toJSON(),body:w,duplex:"half",credentials:Q?I:void 0};W=o&&new r(g,ee);let ie=await(o?E(W,D):E(g,ee));const ne=u&&(T==="stream"||T==="response");if(u&&(L||ne&&z)){const ye={};["status","statusText","headers"].forEach(B=>{ye[B]=ie[B]});const _=Pe.toFiniteNumber(ie.headers.get("content-length")),[R,M]=L&&jf(_,Kc(Sf(L),!0))||[];ie=new a(Af(ie.body,_f,R,()=>{M&&M(),z&&z()}),ye)}T=T||"text";let pe=await x[Pe.findKey(x,T)||"text"](ie,y);return!ne&&z&&z(),await new Promise((ye,_)=>{np(ye,_,{data:pe,headers:Es.from(ie.headers),status:ie.status,statusText:ie.statusText,config:y,request:W})})}catch(Q){throw z&&z(),Q&&Q.name==="TypeError"&&/Load failed|fetch/i.test(Q.message)?Object.assign(new Pt("Network Error",Pt.ERR_NETWORK,y,W),{cause:Q.cause||Q}):Pt.from(Q,Q&&Q.code,y,W)}}},J8=new Map,lp=t=>{let s=t&&t.env||{};const{fetch:r,Request:a,Response:n}=s,o=[a,n,r];let l=o.length,c=l,d,h,u=J8;for(;c--;)d=o[c],h=u.get(d),h===void 0&&u.set(d,h=c?new Map:X8(s)),u=h;return h};lp();const vh={http:m8,xhr:z8,fetch:{get:lp}};Pe.forEach(vh,(t,s)=>{if(t){try{Object.defineProperty(t,"name",{value:s})}catch{}Object.defineProperty(t,"adapterName",{value:s})}});const Pf=t=>`- ${t}`,Q8=t=>Pe.isFunction(t)||t===null||t===!1;function Z8(t,s){t=Pe.isArray(t)?t:[t];const{length:r}=t;let a,n;const o={};for(let l=0;l<r;l++){a=t[l];let c;if(n=a,!Q8(a)&&(n=vh[(c=String(a)).toLowerCase()],n===void 0))throw new Pt(`Unknown adapter '${c}'`);if(n&&(Pe.isFunction(n)||(n=n.get(s))))break;o[c||"#"+l]=n}if(!n){const l=Object.entries(o).map(([d,h])=>`adapter ${d} `+(h===!1?"is not supported by the environment":"is not available in the build"));let c=r?l.length>1?`since :
`+l.map(Pf).join(`
`):" "+Pf(l[0]):"as no adapter specified";throw new Pt("There is no suitable adapter to dispatch the request "+c,"ERR_NOT_SUPPORT")}return n}const cp={getAdapter:Z8,adapters:vh};function y0(t){if(t.cancelToken&&t.cancelToken.throwIfRequested(),t.signal&&t.signal.aborted)throw new lo(null,t)}function Ff(t){return y0(t),t.headers=Es.from(t.headers),t.data=v0.call(t,t.transformRequest),["post","put","patch"].indexOf(t.method)!==-1&&t.headers.setContentType("application/x-www-form-urlencoded",!1),cp.getAdapter(t.adapter||yl.adapter,t)(t).then(function(a){return y0(t),a.data=v0.call(t,t.transformResponse,a),a.headers=Es.from(a.headers),a},function(a){return ap(a)||(y0(t),a&&a.response&&(a.response.data=v0.call(t,t.transformResponse,a.response),a.response.headers=Es.from(a.response.headers))),Promise.reject(a)})}const dp="1.13.1",ud={};["object","boolean","number","function","string","symbol"].forEach((t,s)=>{ud[t]=function(a){return typeof a===t||"a"+(s<1?"n ":" ")+t}});const Lf={};ud.transitional=function(s,r,a){function n(o,l){return"[Axios v"+dp+"] Transitional option '"+o+"'"+l+(a?". "+a:"")}return(o,l,c)=>{if(s===!1)throw new Pt(n(l," has been removed"+(r?" in "+r:"")),Pt.ERR_DEPRECATED);return r&&!Lf[l]&&(Lf[l]=!0,console.warn(n(l," has been deprecated since v"+r+" and will be removed in the near future"))),s?s(o,l,c):!0}};ud.spelling=function(s){return(r,a)=>(console.warn(`${a} is likely a misspelling of ${s}`),!0)};function eS(t,s,r){if(typeof t!="object")throw new Pt("options must be an object",Pt.ERR_BAD_OPTION_VALUE);const a=Object.keys(t);let n=a.length;for(;n-- >0;){const o=a[n],l=s[o];if(l){const c=t[o],d=c===void 0||l(c,o,t);if(d!==!0)throw new Pt("option "+o+" must be "+d,Pt.ERR_BAD_OPTION_VALUE);continue}if(r!==!0)throw new Pt("Unknown option "+o,Pt.ERR_BAD_OPTION)}}const Pc={assertOptions:eS,validators:ud},Fa=Pc.validators;let si=class{constructor(s){this.defaults=s||{},this.interceptors={request:new wf,response:new wf}}async request(s,r){try{return await this._request(s,r)}catch(a){if(a instanceof Error){let n={};Error.captureStackTrace?Error.captureStackTrace(n):n=new Error;const o=n.stack?n.stack.replace(/^.+\n/,""):"";try{a.stack?o&&!String(a.stack).endsWith(o.replace(/^.+\n.+\n/,""))&&(a.stack+=`
`+o):a.stack=o}catch{}}throw a}}_request(s,r){typeof s=="string"?(r=r||{},r.url=s):r=s||{},r=oi(this.defaults,r);const{transitional:a,paramsSerializer:n,headers:o}=r;a!==void 0&&Pc.assertOptions(a,{silentJSONParsing:Fa.transitional(Fa.boolean),forcedJSONParsing:Fa.transitional(Fa.boolean),clarifyTimeoutError:Fa.transitional(Fa.boolean)},!1),n!=null&&(Pe.isFunction(n)?r.paramsSerializer={serialize:n}:Pc.assertOptions(n,{encode:Fa.function,serialize:Fa.function},!0)),r.allowAbsoluteUrls!==void 0||(this.defaults.allowAbsoluteUrls!==void 0?r.allowAbsoluteUrls=this.defaults.allowAbsoluteUrls:r.allowAbsoluteUrls=!0),Pc.assertOptions(r,{baseUrl:Fa.spelling("baseURL"),withXsrfToken:Fa.spelling("withXSRFToken")},!0),r.method=(r.method||this.defaults.method||"get").toLowerCase();let l=o&&Pe.merge(o.common,o[r.method]);o&&Pe.forEach(["delete","get","head","post","put","patch","common"],y=>{delete o[y]}),r.headers=Es.concat(l,o);const c=[];let d=!0;this.interceptors.request.forEach(function(g){typeof g.runWhen=="function"&&g.runWhen(r)===!1||(d=d&&g.synchronous,c.unshift(g.fulfilled,g.rejected))});const h=[];this.interceptors.response.forEach(function(g){h.push(g.fulfilled,g.rejected)});let u,x=0,p;if(!d){const y=[Ff.bind(this),void 0];for(y.unshift(...c),y.push(...h),p=y.length,u=Promise.resolve(r);x<p;)u=u.then(y[x++],y[x++]);return u}p=c.length;let m=r;for(;x<p;){const y=c[x++],g=c[x++];try{m=y(m)}catch(b){g.call(this,b);break}}try{u=Ff.call(this,m)}catch(y){return Promise.reject(y)}for(x=0,p=h.length;x<p;)u=u.then(h[x++],h[x++]);return u}getUri(s){s=oi(this.defaults,s);const r=ip(s.baseURL,s.url,s.allowAbsoluteUrls);return tp(r,s.params,s.paramsSerializer)}};Pe.forEach(["delete","get","head","options"],function(s){si.prototype[s]=function(r,a){return this.request(oi(a||{},{method:s,url:r,data:(a||{}).data}))}});Pe.forEach(["post","put","patch"],function(s){function r(a){return function(o,l,c){return this.request(oi(c||{},{method:s,headers:a?{"Content-Type":"multipart/form-data"}:{},url:o,data:l}))}}si.prototype[s]=r(),si.prototype[s+"Form"]=r(!0)});let tS=class hp{constructor(s){if(typeof s!="function")throw new TypeError("executor must be a function.");let r;this.promise=new Promise(function(o){r=o});const a=this;this.promise.then(n=>{if(!a._listeners)return;let o=a._listeners.length;for(;o-- >0;)a._listeners[o](n);a._listeners=null}),this.promise.then=n=>{let o;const l=new Promise(c=>{a.subscribe(c),o=c}).then(n);return l.cancel=function(){a.unsubscribe(o)},l},s(function(o,l,c){a.reason||(a.reason=new lo(o,l,c),r(a.reason))})}throwIfRequested(){if(this.reason)throw this.reason}subscribe(s){if(this.reason){s(this.reason);return}this._listeners?this._listeners.push(s):this._listeners=[s]}unsubscribe(s){if(!this._listeners)return;const r=this._listeners.indexOf(s);r!==-1&&this._listeners.splice(r,1)}toAbortSignal(){const s=new AbortController,r=a=>{s.abort(a)};return this.subscribe(r),s.signal.unsubscribe=()=>this.unsubscribe(r),s.signal}static source(){let s;return{token:new hp(function(n){s=n}),cancel:s}}};function rS(t){return function(r){return t.apply(null,r)}}function sS(t){return Pe.isObject(t)&&t.isAxiosError===!0}const q0={Continue:100,SwitchingProtocols:101,Processing:102,EarlyHints:103,Ok:200,Created:201,Accepted:202,NonAuthoritativeInformation:203,NoContent:204,ResetContent:205,PartialContent:206,MultiStatus:207,AlreadyReported:208,ImUsed:226,MultipleChoices:300,MovedPermanently:301,Found:302,SeeOther:303,NotModified:304,UseProxy:305,Unused:306,TemporaryRedirect:307,PermanentRedirect:308,BadRequest:400,Unauthorized:401,PaymentRequired:402,Forbidden:403,NotFound:404,MethodNotAllowed:405,NotAcceptable:406,ProxyAuthenticationRequired:407,RequestTimeout:408,Conflict:409,Gone:410,LengthRequired:411,PreconditionFailed:412,PayloadTooLarge:413,UriTooLong:414,UnsupportedMediaType:415,RangeNotSatisfiable:416,ExpectationFailed:417,ImATeapot:418,MisdirectedRequest:421,UnprocessableEntity:422,Locked:423,FailedDependency:424,TooEarly:425,UpgradeRequired:426,PreconditionRequired:428,TooManyRequests:429,RequestHeaderFieldsTooLarge:431,UnavailableForLegalReasons:451,InternalServerError:500,NotImplemented:501,BadGateway:502,ServiceUnavailable:503,GatewayTimeout:504,HttpVersionNotSupported:505,VariantAlsoNegotiates:506,InsufficientStorage:507,LoopDetected:508,NotExtended:510,NetworkAuthenticationRequired:511,WebServerIsDown:521,ConnectionTimedOut:522,OriginIsUnreachable:523,TimeoutOccurred:524,SslHandshakeFailed:525,InvalidSslCertificate:526};Object.entries(q0).forEach(([t,s])=>{q0[s]=t});function up(t){const s=new si(t),r=qx(si.prototype.request,s);return Pe.extend(r,si.prototype,s,{allOwnKeys:!0}),Pe.extend(r,s,null,{allOwnKeys:!0}),r.create=function(n){return up(oi(t,n))},r}const pr=up(yl);pr.Axios=si;pr.CanceledError=lo;pr.CancelToken=tS;pr.isCancel=ap;pr.VERSION=dp;pr.toFormData=hd;pr.AxiosError=Pt;pr.Cancel=pr.CanceledError;pr.all=function(s){return Promise.all(s)};pr.spread=rS;pr.isAxiosError=sS;pr.mergeConfig=oi;pr.AxiosHeaders=Es;pr.formToJSON=t=>sp(Pe.isHTMLForm(t)?new FormData(t):t);pr.getAdapter=cp.getAdapter;pr.HttpStatusCode=q0;pr.default=pr;const{Axios:vS,AxiosError:yS,CanceledError:bS,isCancel:wS,CancelToken:NS,VERSION:jS,all:SS,Cancel:kS,isAxiosError:AS,spread:_S,toFormData:CS,AxiosHeaders:TS,HttpStatusCode:ES,formToJSON:PS,getAdapter:FS,mergeConfig:LS}=pr,aS="https://afrimercato-backend.onrender.com/api";function nS(){var d,h,u,x,p,m;const[t,s]=J.useState(null),[r,a]=J.useState(!0),[n,o]=J.useState(null);J.useEffect(()=>{l()},[]);const l=async()=>{var y,g;try{a(!0);const b=localStorage.getItem("token"),{data:w}=await pr.get(`${aS}/admin/stats`,{headers:{Authorization:`Bearer ${b}`}});s(w.data),o(null)}catch(b){console.error("Failed to fetch admin stats:",b),o(((g=(y=b.response)==null?void 0:y.data)==null?void 0:g.message)||"Failed to load statistics")}finally{a(!1)}};if(r)return e.jsx("div",{className:"min-h-screen flex items-center justify-center",children:e.jsxs("div",{className:"text-center",children:[e.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-afri-green mx-auto"}),e.jsx("p",{className:"mt-4 text-gray-600",children:"Loading dashboard..."})]})});if(n)return e.jsx("div",{className:"min-h-screen flex items-center justify-center",children:e.jsxs("div",{className:"bg-red-50 border border-red-200 rounded-lg p-6 max-w-md",children:[e.jsx("h3",{className:"text-red-800 font-semibold mb-2",children:"Error Loading Dashboard"}),e.jsx("p",{className:"text-red-600",children:n}),e.jsx("button",{onClick:l,className:"mt-4 bg-red-600 text-white px-4 py-2 rounded-lg hover:bg-red-700",children:"Retry"})]})});const c=[{title:"Total Users",value:(t==null?void 0:t.users)||0,icon:gf,color:"bg-blue-500",change:"+12%",changeType:"increase"},{title:"Active Vendors",value:((d=t==null?void 0:t.vendors)==null?void 0:d.approved)||0,icon:Zi,color:"bg-green-500",change:`${((h=t==null?void 0:t.vendors)==null?void 0:h.pending)||0} pending`,changeType:"neutral"},{title:"Total Orders",value:(t==null?void 0:t.orders)||0,icon:_c,color:"bg-purple-500",change:"+8%",changeType:"increase"},{title:"Revenue",value:`Â£${((t==null?void 0:t.revenue)||0).toFixed(2)}`,icon:xf,color:"bg-yellow-500",change:"+15%",changeType:"increase"}];return e.jsx("div",{className:"min-h-screen bg-gray-50 p-4 md:p-8",children:e.jsxs("div",{className:"max-w-7xl mx-auto",children:[e.jsxs("div",{className:"mb-8",children:[e.jsx("h1",{className:"text-3xl font-bold text-gray-900 mb-2",children:"Admin Dashboard"}),e.jsx("p",{className:"text-gray-600",children:"Platform overview and management"})]}),e.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-6 mb-8",children:c.map((y,g)=>e.jsx(Fe.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:g*.1},className:"bg-white rounded-xl shadow-lg overflow-hidden",children:e.jsxs("div",{className:"p-6",children:[e.jsxs("div",{className:"flex items-center justify-between mb-4",children:[e.jsx("div",{className:`${y.color} p-3 rounded-lg`,children:e.jsx(y.icon,{className:"w-6 h-6 text-white"})}),e.jsx("div",{className:`text-sm font-semibold ${y.changeType==="increase"?"text-green-600":y.changeType==="decrease"?"text-red-600":"text-gray-600"}`,children:y.change})]}),e.jsx("h3",{className:"text-gray-600 text-sm mb-1",children:y.title}),e.jsx("p",{className:"text-2xl font-bold text-gray-900",children:y.value})]})},y.title))}),e.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-6 mb-8",children:[e.jsxs(Fe.div,{initial:{opacity:0,x:-20},animate:{opacity:1,x:0},className:"bg-white rounded-xl shadow-lg p-6",children:[e.jsxs("h2",{className:"text-xl font-bold text-gray-900 mb-4 flex items-center",children:[e.jsx(Zi,{className:"w-5 h-5 mr-2 text-afri-green"}),"Vendor Status"]}),e.jsxs("div",{className:"space-y-4",children:[e.jsxs("div",{className:"flex items-center justify-between p-4 bg-green-50 rounded-lg",children:[e.jsxs("div",{className:"flex items-center",children:[e.jsx(M0,{className:"w-5 h-5 text-green-600 mr-3"}),e.jsx("span",{className:"font-semibold text-gray-900",children:"Approved"})]}),e.jsx("span",{className:"text-2xl font-bold text-green-600",children:((u=t==null?void 0:t.vendors)==null?void 0:u.approved)||0})]}),e.jsxs("div",{className:"flex items-center justify-between p-4 bg-yellow-50 rounded-lg",children:[e.jsxs("div",{className:"flex items-center",children:[e.jsx(Wx,{className:"w-5 h-5 text-yellow-600 mr-3"}),e.jsx("span",{className:"font-semibold text-gray-900",children:"Pending"})]}),e.jsx("span",{className:"text-2xl font-bold text-yellow-600",children:((x=t==null?void 0:t.vendors)==null?void 0:x.pending)||0})]}),e.jsxs("div",{className:"flex items-center justify-between p-4 bg-red-50 rounded-lg",children:[e.jsxs("div",{className:"flex items-center",children:[e.jsx(B0,{className:"w-5 h-5 text-red-600 mr-3"}),e.jsx("span",{className:"font-semibold text-gray-900",children:"Rejected"})]}),e.jsx("span",{className:"text-2xl font-bold text-red-600",children:((p=t==null?void 0:t.vendors)==null?void 0:p.rejected)||0})]})]})]}),e.jsxs(Fe.div,{initial:{opacity:0,x:20},animate:{opacity:1,x:0},className:"bg-white rounded-xl shadow-lg p-6",children:[e.jsxs("h2",{className:"text-xl font-bold text-gray-900 mb-4 flex items-center",children:[e.jsx(A6,{className:"w-5 h-5 mr-2 text-afri-green"}),"Platform Health"]}),e.jsxs("div",{className:"space-y-4",children:[e.jsxs("div",{className:"flex items-center justify-between p-4 bg-blue-50 rounded-lg",children:[e.jsxs("div",{className:"flex items-center",children:[e.jsx(b6,{className:"w-5 h-5 text-blue-600 mr-3"}),e.jsx("span",{className:"font-semibold text-gray-900",children:"Total Products"})]}),e.jsx("span",{className:"text-2xl font-bold text-blue-600",children:(t==null?void 0:t.products)||0})]}),e.jsxs("div",{className:"flex items-center justify-between p-4 bg-purple-50 rounded-lg",children:[e.jsxs("div",{className:"flex items-center",children:[e.jsx(_c,{className:"w-5 h-5 text-purple-600 mr-3"}),e.jsx("span",{className:"font-semibold text-gray-900",children:"Active Orders"})]}),e.jsx("span",{className:"text-2xl font-bold text-purple-600",children:(t==null?void 0:t.orders)||0})]}),e.jsxs("div",{className:"flex items-center justify-between p-4 bg-green-50 rounded-lg",children:[e.jsxs("div",{className:"flex items-center",children:[e.jsx(xf,{className:"w-5 h-5 text-green-600 mr-3"}),e.jsx("span",{className:"font-semibold text-gray-900",children:"Platform Revenue"})]}),e.jsxs("span",{className:"text-2xl font-bold text-green-600",children:["Â£",((t==null?void 0:t.revenue)||0).toFixed(2)]})]})]})]})]}),e.jsxs(Fe.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},className:"bg-white rounded-xl shadow-lg overflow-hidden",children:[e.jsx("div",{className:"p-6 border-b border-gray-200",children:e.jsxs("h2",{className:"text-xl font-bold text-gray-900 flex items-center",children:[e.jsx(_c,{className:"w-5 h-5 mr-2 text-afri-green"}),"Recent Orders"]})}),e.jsx("div",{className:"overflow-x-auto",children:e.jsxs("table",{className:"w-full",children:[e.jsx("thead",{className:"bg-gray-50",children:e.jsxs("tr",{children:[e.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Order ID"}),e.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Customer"}),e.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Vendor"}),e.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Total"}),e.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Status"})]})}),e.jsx("tbody",{className:"bg-white divide-y divide-gray-200",children:(m=t==null?void 0:t.recentOrders)==null?void 0:m.map(y=>{var g,b,w,N;return e.jsxs("tr",{className:"hover:bg-gray-50",children:[e.jsxs("td",{className:"px-6 py-4 whitespace-nowrap text-sm font-medium text-gray-900",children:["#",y.orderNumber||y._id.slice(-8)]}),e.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-700",children:((g=y.customer)==null?void 0:g.name)||"N/A"}),e.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-700",children:((b=y.vendor)==null?void 0:b.storeName)||"N/A"}),e.jsxs("td",{className:"px-6 py-4 whitespace-nowrap text-sm font-semibold text-gray-900",children:["Â£",((N=(w=y.pricing)==null?void 0:w.total)==null?void 0:N.toFixed(2))||"0.00"]}),e.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:e.jsx("span",{className:`px-2 py-1 text-xs font-semibold rounded-full ${y.status==="delivered"?"bg-green-100 text-green-800":y.status==="pending"?"bg-yellow-100 text-yellow-800":y.status==="confirmed"?"bg-blue-100 text-blue-800":"bg-gray-100 text-gray-800"}`,children:y.status})})]},y._id)})})]})})]}),e.jsxs("div",{className:"mt-8 grid grid-cols-1 md:grid-cols-3 gap-4",children:[e.jsxs("a",{href:"/admin/vendors",className:"bg-gradient-to-r from-afri-green to-afri-green-dark text-white p-6 rounded-xl shadow-lg hover:shadow-xl transition flex items-center justify-between",children:[e.jsxs("div",{children:[e.jsx("h3",{className:"font-bold text-lg mb-1",children:"Manage Vendors"}),e.jsx("p",{className:"text-sm text-white/80",children:"Approve, reject, or suspend vendors"})]}),e.jsx(Zi,{className:"w-8 h-8 text-white/80"})]}),e.jsxs("a",{href:"/admin/users",className:"bg-gradient-to-r from-blue-600 to-blue-800 text-white p-6 rounded-xl shadow-lg hover:shadow-xl transition flex items-center justify-between",children:[e.jsxs("div",{children:[e.jsx("h3",{className:"font-bold text-lg mb-1",children:"Manage Users"}),e.jsx("p",{className:"text-sm text-white/80",children:"View and manage platform users"})]}),e.jsx(gf,{className:"w-8 h-8 text-white/80"})]}),e.jsxs("a",{href:"/admin/orders",className:"bg-gradient-to-r from-purple-600 to-purple-800 text-white p-6 rounded-xl shadow-lg hover:shadow-xl transition flex items-center justify-between",children:[e.jsxs("div",{children:[e.jsx("h3",{className:"font-bold text-lg mb-1",children:"View Orders"}),e.jsx("p",{className:"text-sm text-white/80",children:"Monitor all platform orders"})]}),e.jsx(_c,{className:"w-8 h-8 text-white/80"})]})]})]})})}const Of="https://afrimercato-backend.onrender.com/api";function iS(){const[t,s]=J.useState([]),[r,a]=J.useState(!0),[n,o]=J.useState("all"),[l,c]=J.useState(""),[d,h]=J.useState(null),[u,x]=J.useState(!1),[p,m]=J.useState(""),[y,g]=J.useState(""),[b,w]=J.useState(!1);J.useEffect(()=>{N()},[n,l]);const N=async()=>{try{a(!0);const F=localStorage.getItem("token"),{data:T}=await pr.get(`${Of}/admin/vendors`,{params:{status:n,search:l},headers:{Authorization:`Bearer ${F}`}});s(T.data)}catch(F){console.error("Failed to fetch vendors:",F)}finally{a(!1)}},j=async()=>{var F,T;if(!(!d||!p))try{w(!0);const C=localStorage.getItem("token"),I=p==="approve"?"approve":p==="reject"?"reject":"suspend";await pr.put(`${Of}/admin/vendors/${d._id}/${I}`,{note:y,reason:y},{headers:{Authorization:`Bearer ${C}`}}),x(!1),g(""),h(null),N()}catch(C){console.error("Action failed:",C),alert(((T=(F=C.response)==null?void 0:F.data)==null?void 0:T.message)||"Action failed")}finally{w(!1)}},k=(F,T)=>{h(F),m(T),x(!0)},L=F=>{const T={approved:{bg:"bg-green-100",text:"text-green-800",icon:M0},pending:{bg:"bg-yellow-100",text:"text-yellow-800",icon:Wx},rejected:{bg:"bg-red-100",text:"text-red-800",icon:B0},suspended:{bg:"bg-gray-100",text:"text-gray-800",icon:pf}},C=T[F]||T.pending,I=C.icon;return e.jsxs("span",{className:`${C.bg} ${C.text} px-3 py-1 rounded-full text-sm font-semibold flex items-center gap-1 w-fit`,children:[e.jsx(I,{className:"w-4 h-4"}),F]})};return e.jsxs("div",{className:"min-h-screen bg-gray-50 p-4 md:p-8",children:[e.jsxs("div",{className:"max-w-7xl mx-auto",children:[e.jsxs("div",{className:"mb-8",children:[e.jsxs("h1",{className:"text-3xl font-bold text-gray-900 mb-2 flex items-center",children:[e.jsx(Zi,{className:"w-8 h-8 mr-3 text-afri-green"}),"Vendor Management"]}),e.jsx("p",{className:"text-gray-600",children:"Approve, reject, or manage vendor stores"})]}),e.jsx("div",{className:"bg-white rounded-xl shadow-lg p-6 mb-6",children:e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[e.jsxs("div",{className:"relative",children:[e.jsx(N6,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 text-gray-400 w-5 h-5"}),e.jsx("input",{type:"text",placeholder:"Search vendors...",value:l,onChange:F=>c(F.target.value),className:"w-full pl-10 pr-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-afri-green focus:border-transparent"})]}),e.jsxs("div",{className:"relative",children:[e.jsx(m6,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 text-gray-400 w-5 h-5"}),e.jsxs("select",{value:n,onChange:F=>o(F.target.value),className:"w-full pl-10 pr-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-afri-green focus:border-transparent appearance-none",children:[e.jsx("option",{value:"all",children:"All Statuses"}),e.jsx("option",{value:"pending",children:"Pending"}),e.jsx("option",{value:"approved",children:"Approved"}),e.jsx("option",{value:"rejected",children:"Rejected"}),e.jsx("option",{value:"suspended",children:"Suspended"})]})]})]})}),r?e.jsxs("div",{className:"text-center py-12",children:[e.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-afri-green mx-auto"}),e.jsx("p",{className:"mt-4 text-gray-600",children:"Loading vendors..."})]}):t.length===0?e.jsxs("div",{className:"bg-white rounded-xl shadow-lg p-12 text-center",children:[e.jsx(Zi,{className:"w-16 h-16 text-gray-300 mx-auto mb-4"}),e.jsx("h3",{className:"text-xl font-semibold text-gray-700 mb-2",children:"No vendors found"}),e.jsx("p",{className:"text-gray-500",children:"Try adjusting your filters"})]}):e.jsx("div",{className:"grid grid-cols-1 gap-6",children:t.map((F,T)=>{var C,I,D;return e.jsx(Fe.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:T*.05},className:"bg-white rounded-xl shadow-lg overflow-hidden hover:shadow-xl transition",children:e.jsx("div",{className:"p-6",children:e.jsxs("div",{className:"flex flex-col md:flex-row md:items-start md:justify-between gap-4",children:[e.jsxs("div",{className:"flex-1",children:[e.jsx("div",{className:"flex items-start justify-between mb-3",children:e.jsxs("div",{children:[e.jsx("h3",{className:"text-xl font-bold text-gray-900 mb-1",children:F.storeName||F.businessName}),L(F.approvalStatus)]})}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4 text-sm text-gray-600",children:[e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx(p6,{className:"w-4 h-4 text-gray-400"}),e.jsx("span",{children:(C=F.user)==null?void 0:C.email})]}),e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx(v6,{className:"w-4 h-4 text-gray-400"}),e.jsxs("span",{children:[(I=F.address)==null?void 0:I.city,", ",(D=F.address)==null?void 0:D.country]})]}),e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx(l6,{className:"w-4 h-4 text-gray-400"}),e.jsxs("span",{children:["Joined ",new Date(F.createdAt).toLocaleDateString()]})]}),e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx(Zi,{className:"w-4 h-4 text-gray-400"}),e.jsx("span",{children:F.category||"General"})]})]}),F.description&&e.jsx("p",{className:"mt-3 text-gray-700 text-sm",children:F.description}),F.approvalNote&&e.jsx("div",{className:"mt-3 p-3 bg-gray-50 rounded-lg",children:e.jsxs("p",{className:"text-sm text-gray-600",children:[e.jsx("strong",{children:"Note:"})," ",F.approvalNote]})})]}),e.jsxs("div",{className:"flex flex-col gap-2 md:min-w-[200px]",children:[F.approvalStatus==="pending"&&e.jsxs(e.Fragment,{children:[e.jsxs("button",{onClick:()=>k(F,"approve"),className:"bg-green-600 text-white px-4 py-2 rounded-lg font-semibold hover:bg-green-700 transition flex items-center justify-center gap-2",children:[e.jsx(M0,{className:"w-4 h-4"}),"Approve"]}),e.jsxs("button",{onClick:()=>k(F,"reject"),className:"bg-red-600 text-white px-4 py-2 rounded-lg font-semibold hover:bg-red-700 transition flex items-center justify-center gap-2",children:[e.jsx(B0,{className:"w-4 h-4"}),"Reject"]})]}),F.approvalStatus==="approved"&&e.jsxs("button",{onClick:()=>k(F,"suspend"),className:"bg-gray-600 text-white px-4 py-2 rounded-lg font-semibold hover:bg-gray-700 transition flex items-center justify-center gap-2",children:[e.jsx(pf,{className:"w-4 h-4"}),"Suspend"]})]})]})})},F._id)})})]}),e.jsx(eo,{children:u&&e.jsxs(e.Fragment,{children:[e.jsx(Fe.div,{initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},onClick:()=>x(!1),className:"fixed inset-0 bg-black/50 backdrop-blur-sm z-40"}),e.jsx(Fe.div,{initial:{opacity:0,scale:.95},animate:{opacity:1,scale:1},exit:{opacity:0,scale:.95},className:"fixed inset-0 z-50 flex items-center justify-center p-4",children:e.jsxs("div",{className:"bg-white rounded-2xl shadow-2xl max-w-md w-full p-6",children:[e.jsxs("h3",{className:"text-2xl font-bold text-gray-900 mb-4 capitalize",children:[p," Vendor"]}),e.jsxs("p",{className:"text-gray-600 mb-4",children:["Are you sure you want to ",p," ",d==null?void 0:d.storeName,"?"]}),e.jsxs("div",{className:"mb-6",children:[e.jsx("label",{className:"block text-sm font-semibold text-gray-700 mb-2",children:p==="approve"?"Approval Note (Optional)":"Reason *"}),e.jsx("textarea",{value:y,onChange:F=>g(F.target.value),placeholder:`Enter ${p} ${p==="approve"?"note":"reason"}...`,className:"w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-afri-green focus:border-transparent",rows:4})]}),e.jsxs("div",{className:"flex gap-3",children:[e.jsx("button",{onClick:j,disabled:b||p!=="approve"&&!y,className:`flex-1 py-3 rounded-lg font-semibold text-white transition ${p==="approve"?"bg-green-600 hover:bg-green-700":p==="reject"?"bg-red-600 hover:bg-red-700":"bg-gray-600 hover:bg-gray-700"} disabled:opacity-50 disabled:cursor-not-allowed`,children:b?"Processing...":`Confirm ${p}`}),e.jsx("button",{onClick:()=>x(!1),disabled:b,className:"flex-1 bg-gray-200 text-gray-700 py-3 rounded-lg font-semibold hover:bg-gray-300 transition",children:"Cancel"})]})]})})]})})]})}function oS(){const[t,s]=J.useState(!1),[r,a]=J.useState([]),[n,o]=J.useState(0),[l,c]=J.useState(!1),d=J.useRef(null);J.useEffect(()=>{h();const g=setInterval(()=>{h()},3e4);return()=>clearInterval(g)},[]),J.useEffect(()=>{t&&u()},[t]),J.useEffect(()=>{const g=b=>{d.current&&!d.current.contains(b.target)&&s(!1)};return document.addEventListener("mousedown",g),()=>document.removeEventListener("mousedown",g)},[]);const h=async()=>{try{const g=await dc.getUnreadCount();g.success&&o(g.data.count)}catch(g){console.error("Error fetching unread count:",g)}},u=async()=>{try{c(!0);const g=await dc.getNotifications({limit:10});g.success&&a(g.data.notifications)}catch(g){console.error("Error fetching notifications:",g)}finally{c(!1)}},x=async g=>{try{g.isRead||(await dc.markAsRead(g._id),o(b=>Math.max(0,b-1)),a(b=>b.map(w=>w._id===g._id?{...w,isRead:!0}:w))),g.actionUrl&&(window.location.href=g.actionUrl)}catch(b){console.error("Error marking notification as read:",b)}},p=async()=>{try{await dc.markAllAsRead(),o(0),a(g=>g.map(b=>({...b,isRead:!0})))}catch(g){console.error("Error marking all as read:",g)}},m=g=>({order_placed:"ðŸ›’",order_confirmed:"âœ…",order_shipped:"ðŸ“¦",order_delivered:"ðŸŽ‰",order_cancelled:"âŒ",payment_received:"ðŸ’°",low_stock:"âš ï¸",product_review:"â­",rider_assigned:"ðŸš´",system_alert:"ðŸ””",promotion:"ðŸŽ"})[g]||"ðŸ””",y=g=>{const b={urgent:"text-red-600 bg-red-50",high:"text-orange-600 bg-orange-50",normal:"text-blue-600 bg-blue-50",low:"text-gray-600 bg-gray-50"};return b[g]||b.normal};return e.jsxs("div",{className:"relative",ref:d,children:[e.jsxs("button",{onClick:()=>s(!t),className:"relative p-2 text-gray-400 hover:text-gray-600 rounded-full hover:bg-gray-100 transition-colors",children:[e.jsx("svg",{className:"w-6 h-6",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M15 17h5l-1.405-1.405A2.032 2.032 0 0118 14.158V11a6.002 6.002 0 00-4-5.659V5a2 2 0 10-4 0v.341C7.67 6.165 6 8.388 6 11v3.159c0 .538-.214 1.055-.595 1.436L4 17h5m6 0v1a3 3 0 11-6 0v-1m6 0H9"})}),n>0&&e.jsx("span",{className:"absolute top-0 right-0 flex items-center justify-center h-5 w-5 text-xs font-bold text-white bg-red-500 rounded-full animate-pulse",children:n>9?"9+":n})]}),t&&e.jsxs("div",{className:"absolute right-0 mt-2 w-96 bg-white rounded-xl shadow-2xl border border-gray-200 z-50 transform transition-all duration-200 ease-out animate-slideDown",children:[e.jsxs("div",{className:"flex items-center justify-between px-4 py-3 border-b border-gray-200",children:[e.jsx("h3",{className:"text-lg font-bold text-gray-900",children:"Notifications"}),n>0&&e.jsx("button",{onClick:p,className:"text-sm text-afri-green hover:text-afri-green-dark font-medium transition-colors",children:"Mark all read"})]}),e.jsx("div",{className:"max-h-96 overflow-y-auto",children:l?e.jsx("div",{className:"flex items-center justify-center py-12",children:e.jsx("div",{className:"animate-spin rounded-full h-8 w-8 border-t-2 border-b-2 border-afri-green"})}):r.length===0?e.jsxs("div",{className:"text-center py-12",children:[e.jsx("div",{className:"text-5xl mb-2",children:"ðŸ””"}),e.jsx("p",{className:"text-gray-500",children:"No notifications yet"})]}):e.jsx("div",{children:r.map(g=>e.jsxs("div",{onClick:()=>x(g),className:`px-4 py-3 border-b border-gray-100 cursor-pointer transition-colors ${g.isRead?"bg-white hover:bg-gray-50":"bg-blue-50 hover:bg-blue-100"}`,children:[e.jsxs("div",{className:"flex items-start space-x-3",children:[e.jsx("div",{className:`flex-shrink-0 w-10 h-10 rounded-full flex items-center justify-center text-xl ${y(g.priority)}`,children:g.icon||m(g.type)}),e.jsxs("div",{className:"flex-1 min-w-0",children:[e.jsx("p",{className:"text-sm font-semibold text-gray-900 truncate",children:g.title}),e.jsx("p",{className:"text-sm text-gray-600 line-clamp-2 mt-1",children:g.message}),e.jsx("p",{className:"text-xs text-gray-400 mt-1",children:g.timeAgo})]}),!g.isRead&&e.jsx("div",{className:"flex-shrink-0 w-2 h-2 bg-afri-green rounded-full"})]}),g.priority==="urgent"&&e.jsx("div",{className:"mt-2 inline-flex items-center px-2 py-1 rounded-full text-xs font-medium bg-red-100 text-red-800",children:"ðŸš¨ Urgent"})]},g._id))})}),r.length>0&&e.jsx("div",{className:"px-4 py-3 border-t border-gray-200 bg-gray-50 rounded-b-xl",children:e.jsx("button",{onClick:()=>{s(!1),window.location.href="/notifications"},className:"w-full text-center text-sm text-afri-green hover:text-afri-green-dark font-medium transition-colors",children:"View all notifications"})})]})]})}function Wi({children:t}){var u;const s=Qp(),r=Zt(),{user:a,logout:n}=Ua(),[o,l]=J.useState(!1),c=[{name:"Dashboard",path:"/dashboard",icon:"ðŸ“Š"},{name:"Products",path:"/products",icon:"ðŸ“¦"},{name:"Orders",path:"/orders",icon:"ðŸ›’"},{name:"Reports",path:"/reports",icon:"ðŸ“ˆ"},{name:"Subscription",path:"/subscription",icon:"ðŸ’³"},{name:"Settings",path:"/settings",icon:"âš™ï¸"}],d=()=>{n(),r("/login")},h=x=>s.pathname===x;return e.jsxs("div",{className:"min-h-screen bg-gray-50",children:[o&&e.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 z-40 lg:hidden",onClick:()=>l(!1)}),e.jsx("div",{className:`fixed inset-y-0 left-0 z-50 w-64 bg-white shadow-xl transform transition-transform duration-300 ease-in-out lg:translate-x-0 ${o?"translate-x-0":"-translate-x-full"}`,children:e.jsxs("div",{className:"flex flex-col h-full",children:[e.jsxs("div",{className:"flex items-center justify-between h-16 px-6 bg-gradient-to-r from-afri-green to-afri-green-dark",children:[e.jsx(Ie,{to:"/dashboard",className:"flex items-center",children:e.jsx("span",{className:"text-2xl font-bold text-white",children:"Afrimercato"})}),e.jsx("button",{onClick:()=>l(!1),className:"lg:hidden text-white hover:text-afri-yellow",children:e.jsx("svg",{className:"w-6 h-6",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M6 18L18 6M6 6l12 12"})})})]}),e.jsx("div",{className:"px-6 py-4 border-b border-gray-200",children:e.jsxs("div",{className:"flex items-center space-x-3",children:[e.jsx("div",{className:"flex-shrink-0",children:e.jsx("div",{className:"w-10 h-10 rounded-full bg-afri-green text-white flex items-center justify-center font-bold",children:((u=a==null?void 0:a.name)==null?void 0:u.charAt(0).toUpperCase())||"V"})}),e.jsxs("div",{className:"flex-1 min-w-0",children:[e.jsx("p",{className:"text-sm font-semibold text-gray-900 truncate",children:(a==null?void 0:a.name)||"Vendor"}),e.jsx("p",{className:"text-xs text-gray-500 truncate",children:(a==null?void 0:a.email)||""})]})]})}),e.jsx("nav",{className:"flex-1 px-4 py-4 space-y-1 overflow-y-auto",children:c.map(x=>e.jsxs(Ie,{to:x.path,className:`flex items-center space-x-3 px-4 py-3 rounded-lg transition-colors ${h(x.path)?"bg-afri-green text-white":"text-gray-700 hover:bg-gray-100"}`,children:[e.jsx("span",{className:"text-xl",children:x.icon}),e.jsx("span",{className:"font-medium",children:x.name})]},x.name))}),e.jsx("div",{className:"p-4 border-t border-gray-200",children:e.jsxs("button",{onClick:d,className:"w-full flex items-center space-x-3 px-4 py-3 text-red-600 hover:bg-red-50 rounded-lg transition-colors",children:[e.jsx("span",{className:"text-xl",children:"ðŸšª"}),e.jsx("span",{className:"font-medium",children:"Logout"})]})})]})}),e.jsxs("div",{className:"lg:ml-64",children:[e.jsx("div",{className:"sticky top-0 z-30 bg-white shadow-sm",children:e.jsxs("div",{className:"flex items-center justify-between h-16 px-4 sm:px-6 lg:px-8",children:[e.jsx("button",{onClick:()=>l(!0),className:"lg:hidden text-gray-500 hover:text-gray-700",children:e.jsx("svg",{className:"w-6 h-6",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M4 6h16M4 12h16M4 18h16"})})}),e.jsx("div",{className:"flex-1 lg:flex-none"}),e.jsxs("div",{className:"flex items-center space-x-4",children:[e.jsx(oS,{}),e.jsx("div",{className:"hidden lg:flex items-center space-x-2 text-sm",children:e.jsx("span",{className:"font-medium text-gray-700",children:a==null?void 0:a.name})})]})]})}),e.jsx("main",{className:"p-4 sm:p-6 lg:p-8",children:t})]})]})}function lS(){const[t,s]=J.useState(!1),[r,a]=J.useState(!1),[n,o]=J.useState({necessary:!0,analytics:!1,marketing:!1,functional:!1});J.useEffect(()=>{const x=localStorage.getItem("cookie_consent");if(x)try{const p=JSON.parse(x);o(p),l(p)}catch(p){console.error("Failed to parse cookie consent:",p)}else{const p=setTimeout(()=>{s(!0)},1e3);return()=>clearTimeout(p)}},[]);const l=x=>{x.analytics?window.gtag&&window.gtag("consent","update",{analytics_storage:"granted"}):window.gtag&&window.gtag("consent","update",{analytics_storage:"denied"}),x.marketing?window.gtag&&window.gtag("consent","update",{ad_storage:"granted"}):window.gtag&&window.gtag("consent","update",{ad_storage:"denied"})},c=()=>{const x={necessary:!0,analytics:!0,marketing:!0,functional:!0};o(x),localStorage.setItem("cookie_consent",JSON.stringify(x)),l(x),s(!1)},d=()=>{const x={necessary:!0,analytics:!1,marketing:!1,functional:!1};o(x),localStorage.setItem("cookie_consent",JSON.stringify(x)),l(x),s(!1)},h=()=>{localStorage.setItem("cookie_consent",JSON.stringify(n)),l(n),s(!1),a(!1)},u=x=>{x!=="necessary"&&o(p=>({...p,[x]:!p[x]}))};return e.jsx(eo,{children:t&&e.jsxs(e.Fragment,{children:[e.jsx(Fe.div,{initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},className:"fixed inset-0 bg-black/20 backdrop-blur-sm z-40",onClick:()=>s(!1)}),e.jsx(Fe.div,{initial:{y:100,opacity:0},animate:{y:0,opacity:1},exit:{y:100,opacity:0},transition:{type:"spring",damping:25,stiffness:300},className:"fixed bottom-0 left-0 right-0 z-50 p-4 sm:p-6",children:e.jsx("div",{className:"max-w-6xl mx-auto",children:e.jsx("div",{className:"bg-white rounded-2xl shadow-2xl border border-gray-200 overflow-hidden",children:r?e.jsxs("div",{className:"p-6 sm:p-8",children:[e.jsxs("div",{className:"flex items-start justify-between mb-6",children:[e.jsxs("div",{children:[e.jsx("h3",{className:"text-2xl font-bold text-gray-900 mb-2",children:"Cookie Preferences"}),e.jsx("p",{className:"text-sm text-gray-600",children:"Manage your cookie settings. You can enable or disable different types of cookies below."})]}),e.jsx("button",{onClick:()=>a(!1),className:"text-gray-400 hover:text-gray-600",children:e.jsx("svg",{className:"w-6 h-6",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M6 18L18 6M6 6l12 12"})})})]}),e.jsxs("div",{className:"space-y-4",children:[e.jsxs("div",{className:"flex items-start justify-between p-4 bg-gray-50 rounded-lg",children:[e.jsxs("div",{className:"flex-1",children:[e.jsxs("div",{className:"flex items-center gap-2 mb-1",children:[e.jsx("h4",{className:"font-semibold text-gray-900",children:"Necessary Cookies"}),e.jsx("span",{className:"text-xs bg-gray-200 text-gray-700 px-2 py-1 rounded",children:"Always Active"})]}),e.jsx("p",{className:"text-sm text-gray-600",children:"Essential for the website to function. Cannot be disabled."})]}),e.jsx("div",{className:"ml-4",children:e.jsx("div",{className:"w-12 h-6 bg-afri-green rounded-full relative",children:e.jsx("div",{className:"absolute right-1 top-1 w-4 h-4 bg-white rounded-full"})})})]}),e.jsxs("div",{className:"flex items-start justify-between p-4 bg-gray-50 rounded-lg",children:[e.jsxs("div",{className:"flex-1",children:[e.jsx("h4",{className:"font-semibold text-gray-900 mb-1",children:"Analytics Cookies"}),e.jsx("p",{className:"text-sm text-gray-600",children:"Help us understand how visitors interact with our website."})]}),e.jsx("button",{onClick:()=>u("analytics"),className:"ml-4",children:e.jsx("div",{className:`w-12 h-6 rounded-full relative transition-colors ${n.analytics?"bg-afri-green":"bg-gray-300"}`,children:e.jsx("div",{className:`absolute top-1 w-4 h-4 bg-white rounded-full transition-all ${n.analytics?"right-1":"left-1"}`})})})]}),e.jsxs("div",{className:"flex items-start justify-between p-4 bg-gray-50 rounded-lg",children:[e.jsxs("div",{className:"flex-1",children:[e.jsx("h4",{className:"font-semibold text-gray-900 mb-1",children:"Marketing Cookies"}),e.jsx("p",{className:"text-sm text-gray-600",children:"Used to deliver personalized advertisements."})]}),e.jsx("button",{onClick:()=>u("marketing"),className:"ml-4",children:e.jsx("div",{className:`w-12 h-6 rounded-full relative transition-colors ${n.marketing?"bg-afri-green":"bg-gray-300"}`,children:e.jsx("div",{className:`absolute top-1 w-4 h-4 bg-white rounded-full transition-all ${n.marketing?"right-1":"left-1"}`})})})]}),e.jsxs("div",{className:"flex items-start justify-between p-4 bg-gray-50 rounded-lg",children:[e.jsxs("div",{className:"flex-1",children:[e.jsx("h4",{className:"font-semibold text-gray-900 mb-1",children:"Functional Cookies"}),e.jsx("p",{className:"text-sm text-gray-600",children:"Enable enhanced functionality and personalization."})]}),e.jsx("button",{onClick:()=>u("functional"),className:"ml-4",children:e.jsx("div",{className:`w-12 h-6 rounded-full relative transition-colors ${n.functional?"bg-afri-green":"bg-gray-300"}`,children:e.jsx("div",{className:`absolute top-1 w-4 h-4 bg-white rounded-full transition-all ${n.functional?"right-1":"left-1"}`})})})]})]}),e.jsxs("div",{className:"mt-6 flex gap-3",children:[e.jsx("button",{onClick:h,className:"flex-1 bg-afri-green text-white px-6 py-3 rounded-lg font-semibold hover:bg-afri-green-dark transition",children:"Save Preferences"}),e.jsx("button",{onClick:()=>a(!1),className:"px-6 py-3 text-gray-700 hover:bg-gray-100 rounded-lg font-semibold transition",children:"Cancel"})]})]}):e.jsx("div",{className:"p-6 sm:p-8",children:e.jsxs("div",{className:"flex items-start gap-4",children:[e.jsx("div",{className:"hidden sm:block",children:e.jsx("div",{className:"w-12 h-12 bg-afri-green/10 rounded-full flex items-center justify-center",children:e.jsx("svg",{className:"w-6 h-6 text-afri-green",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M12 6v6m0 0v6m0-6h6m-6 0H6"})})})}),e.jsxs("div",{className:"flex-1",children:[e.jsx("h3",{className:"text-xl sm:text-2xl font-bold text-gray-900 mb-2",children:"We Value Your Privacy"}),e.jsxs("p",{className:"text-sm sm:text-base text-gray-600 mb-4",children:['We use cookies to enhance your browsing experience, serve personalized content, and analyze our traffic. By clicking "Accept All", you consent to our use of cookies.',e.jsx(Ie,{to:"/privacy-policy",className:"text-afri-green hover:text-afri-green-dark ml-1 underline",children:"Learn more"})]}),e.jsxs("div",{className:"flex flex-col sm:flex-row gap-3",children:[e.jsx("button",{onClick:c,className:"bg-afri-green text-white px-6 py-3 rounded-lg font-semibold hover:bg-afri-green-dark transition",children:"Accept All"}),e.jsx("button",{onClick:d,className:"bg-gray-200 text-gray-700 px-6 py-3 rounded-lg font-semibold hover:bg-gray-300 transition",children:"Reject All"}),e.jsx("button",{onClick:()=>a(!0),className:"border-2 border-gray-300 text-gray-700 px-6 py-3 rounded-lg font-semibold hover:border-gray-400 transition",children:"Customize"})]})]})]})})})})})]})})}function Sn(){const{user:t}=Ua();switch((t==null?void 0:t.role)||(t==null?void 0:t.primaryRole)||"customer"){case"vendor":return e.jsx(mr,{to:"/dashboard",replace:!0});case"rider":return e.jsx(mr,{to:"/rider/dashboard",replace:!0});case"picker":return e.jsx(mr,{to:"/picker/dashboard",replace:!0});case"customer":default:return e.jsx(mr,{to:"/",replace:!0})}}function cS(){const{isAuthenticated:t,user:s,loading:r}=Ua();return r?e.jsx("div",{className:"min-h-screen flex items-center justify-center bg-gradient-to-br from-afri-green to-afri-green-dark",children:e.jsxs("div",{className:"text-center",children:[e.jsx("div",{className:"animate-spin rounded-full h-16 w-16 border-t-4 border-b-4 border-white mx-auto"}),e.jsx("p",{className:"text-white mt-4 text-lg font-semibold",children:"Loading Afrimercato..."})]})}):e.jsxs(Zp,{children:[e.jsx(Ct,{path:"/",element:e.jsx(X3,{})}),e.jsx(Ct,{path:"/old-home",element:e.jsx(Y3,{})})," ",e.jsx(Ct,{path:"/partner",element:e.jsx(lj,{})}),e.jsx(Ct,{path:"/stores",element:e.jsx(cj,{})}),e.jsx(Ct,{path:"/store/:vendorId",element:e.jsx(gj,{})}),e.jsx(Ct,{path:"/about",element:e.jsx(dj,{})}),e.jsx(Ct,{path:"/delivery",element:e.jsx(hj,{})}),e.jsx(Ct,{path:"/contact",element:e.jsx(uj,{})}),e.jsx(Ct,{path:"/privacy-policy",element:e.jsx(fj,{})}),e.jsx(Ct,{path:"/terms-of-service",element:e.jsx(mj,{})}),e.jsx(Ct,{path:"/products",element:e.jsx(wj,{})}),e.jsx(Ct,{path:"/cart",element:e.jsx(Nj,{})}),e.jsx(Ct,{path:"/orders",element:e.jsx(Sj,{})}),e.jsx(Ct,{path:"/profile",element:e.jsx(kj,{})}),e.jsx(Ct,{path:"/wishlist",element:e.jsx(Aj,{})}),e.jsx(Ct,{path:"/product/:productId/reviews",element:e.jsx(Lj,{})}),e.jsx(Ct,{path:"/notifications",element:e.jsx(Rj,{})}),e.jsx(Ct,{path:"/discover",element:e.jsx(Uj,{})}),e.jsx(Ct,{path:"/recipes",element:e.jsx(zj,{})}),e.jsx(Ct,{path:"/product/:productId",element:e.jsx(Vj,{})}),e.jsx(Ct,{path:"/order/:orderId",element:e.jsx(Gj,{})}),e.jsx(Ct,{path:"/my-dashboard",element:t?e.jsx(vj,{}):e.jsx(mr,{to:"/login"})}),e.jsx(Ct,{path:"/checkout",element:e.jsx(Cj,{})}),e.jsx(Ct,{path:"/order-confirmation/:orderId",element:e.jsx(Ej,{})}),e.jsx(Ct,{path:"/track-order/:orderId",element:e.jsx(Fj,{})}),e.jsx(Ct,{path:"/rider/dashboard",element:t?e.jsx(Yj,{}):e.jsx(mr,{to:"/login"})}),e.jsx(Ct,{path:"/rider/deliveries",element:t?e.jsx(Kj,{}):e.jsx(mr,{to:"/login"})}),e.jsx(Ct,{path:"/rider/delivery/:deliveryId",element:t?e.jsx(Xj,{}):e.jsx(mr,{to:"/login"})}),e.jsx(Ct,{path:"/rider/earnings",element:t?e.jsx(Jj,{}):e.jsx(mr,{to:"/login"})}),e.jsx(Ct,{path:"/rider/profile",element:t?e.jsx(Qj,{}):e.jsx(mr,{to:"/login"})}),e.jsx(Ct,{path:"/picker/dashboard",element:t?e.jsx(Zj,{}):e.jsx(mr,{to:"/login"})}),e.jsx(Ct,{path:"/picker/order/:orderId",element:t?e.jsx(e6,{}):e.jsx(mr,{to:"/login"})}),e.jsx(Ct,{path:"/picker/performance",element:t?e.jsx(t6,{}):e.jsx(mr,{to:"/login"})}),e.jsx(Ct,{path:"/login",element:t?e.jsx(Sn,{}):e.jsx(p1,{})}),e.jsx(Ct,{path:"/register",element:t?e.jsx(Sn,{}):e.jsx(v1,{})}),e.jsx(Ct,{path:"/dashboard",element:t?(s==null?void 0:s.role)==="vendor"?e.jsx(Wi,{children:e.jsx(N1,{})}):e.jsx(Sn,{}):e.jsx(mr,{to:"/login"})}),e.jsx(Ct,{path:"/products",element:t?(s==null?void 0:s.role)==="vendor"?e.jsx(Wi,{children:e.jsx(C1,{})}):e.jsx(Sn,{}):e.jsx(mr,{to:"/login"})}),e.jsx(Ct,{path:"/orders",element:t?(s==null?void 0:s.role)==="vendor"?e.jsx(Wi,{children:e.jsx(M1,{})}):e.jsx(Sn,{}):e.jsx(mr,{to:"/login"})}),e.jsx(Ct,{path:"/reports",element:t?(s==null?void 0:s.role)==="vendor"?e.jsx(Wi,{children:e.jsx(F3,{})}):e.jsx(Sn,{}):e.jsx(mr,{to:"/login"})}),e.jsx(Ct,{path:"/subscription",element:t?(s==null?void 0:s.role)==="vendor"?e.jsx(Wi,{children:e.jsx(B3,{})}):e.jsx(Sn,{}):e.jsx(mr,{to:"/login"})}),e.jsx(Ct,{path:"/settings",element:t?(s==null?void 0:s.role)==="vendor"?e.jsx(Wi,{children:e.jsx(M3,{})}):e.jsx(Sn,{}):e.jsx(mr,{to:"/login"})}),e.jsx(Ct,{path:"/admin/dashboard",element:t?(s==null?void 0:s.role)==="admin"?e.jsx(nS,{}):e.jsx(mr,{to:"/"}):e.jsx(mr,{to:"/login"})}),e.jsx(Ct,{path:"/admin/vendors",element:t?(s==null?void 0:s.role)==="admin"?e.jsx(iS,{}):e.jsx(mr,{to:"/"}):e.jsx(mr,{to:"/login"})})]})}function dS(){return e.jsxs(x1,{children:[e.jsx(cS,{}),e.jsx(lS,{})]})}class hS extends Df.Component{constructor(s){super(s),this.state={hasError:!1,error:null,errorInfo:null}}static getDerivedStateFromError(s){return{hasError:!0}}componentDidCatch(s,r){this.setState({error:s,errorInfo:r}),console.error("ErrorBoundary caught an error:",s,r)}render(){return this.state.hasError?e.jsx("div",{className:"min-h-screen bg-gray-100 flex items-center justify-center px-4",children:e.jsxs("div",{className:"max-w-lg w-full bg-white rounded-lg shadow-xl p-8",children:[e.jsx("div",{className:"flex items-center justify-center w-16 h-16 bg-red-100 rounded-full mx-auto mb-4",children:e.jsx("svg",{className:"w-8 h-8 text-red-600",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M12 9v2m0 4h.01m-6.938 4h13.856c1.54 0 2.502-1.667 1.732-3L13.732 4c-.77-1.333-2.694-1.333-3.464 0L3.34 16c-.77 1.333.192 3 1.732 3z"})})}),e.jsx("h1",{className:"text-2xl font-bold text-center text-gray-900 mb-4",children:"Oops! Something went wrong"}),e.jsx("p",{className:"text-gray-600 text-center mb-6",children:"We're sorry for the inconvenience. Please try refreshing the page."}),e.jsxs("div",{className:"flex justify-center space-x-4",children:[e.jsx("button",{onClick:()=>window.location.reload(),className:"bg-green-600 text-white px-6 py-2 rounded-lg font-medium hover:bg-green-700",children:"Refresh Page"}),e.jsx("a",{href:"/",className:"bg-gray-200 text-gray-800 px-6 py-2 rounded-lg font-medium hover:bg-gray-300",children:"Go Home"})]}),!1]})}):this.props.children}}b0.createRoot(document.getElementById("root")).render(e.jsx(Df.StrictMode,{children:e.jsxs(eg,{children:["  ",e.jsx(hS,{children:e.jsx(dS,{})})]})}));
